{"ID_DEFECT":"7441","DESCRIPTION":"RUNNING APACHE 2.0.28 SERVER ON REDHAT LINUXSET UP MACHINE, OS AND APACHE FOR IPV6 NETWORKINGTRIED TO DOWNLOAD HTTP CONTENT BY SPECIFYING THE IPV6 NUMERICAL IP ADDRESSTHE APACHE SERVER IS NOT FULLY HTTP 1.1 COMPLIANT.  THE SERVER INCORRECTLY EXPECTS A NON-EMPTY HOST HEADER EVEN WHEN THE SERVER IS SPECIFIED BY A NUMERIC IP ADDRESS E.G. 10.158.7.52. THE HOST HEADER SHOULD BE EMPTY WHEN THE SERVER IP ADDRESS IS SPECIFIED USING A NUMERICAL ADDRESS.SERVER INCORRECTLY RETURNS AND 400 HTTP SERVER CODE.RFC2616 - HYPERTEXT TRANSFER PROTOCOL -- HTTP1.1SECTION 14.23 HOSTIPV6 BROWSERS WILL NOT WORK ON APACHE IF THIS IS NOT FIXED.","SUMMARY":"RFC 2616 - APACHE INCORRECTLY EXPECTS A NON-EMPTY HOST HEADER","CLASS":1}
{"ID_DEFECT":"8014","DESCRIPTION":"FOR TESTING, I HAVE AN ALIAS CALLED C THAT POINTS TO C:DOCUMENTS AND SETTINGS. I KEEP MY PROFILE DIRECTORY ON A SEPARATE DISK THAT IS MOUNTED UNDER C:DOCUMENTS AND SETTINGSSAM. HOWEVER, THE SAM FOLDER DOES NOT APPEAR IN APACHES DIRECTORY LISTING. ADDITIONALLY, WHILE THE DIRECTORY LISTING IS BEING GENERATED, THIS APPEARS IN THE ERROR.LOG:[FRI APR 12 14:33:05 2002] [ERROR] [CLIENT 127.0.0.1] SYMLINK DOESNT POINT TO A FILE OR DIRECTORY: C:DOCUMENTS AND SETTINGSSAMASKING FOR ANYTHING UNDER HTTP:LOCALHOSTCDOCUMENTS AND SETTINGSSAM MANUALLY THROWS A 403 BACK TO THE CLIENT, WITH THE SAME ERROR IN THE EVENT LOG.IF I REMOVE THE FOLLOWSYMLINKS OPTION FOR THE DIRECTORY THEN THE ERROR MESSAGE IS INSTEAD:[FRI APR 12 14:41:29 2002] [ERROR] [CLIENT 127.0.0.1] SYMBOLIC LINK NOT ALLOWED: C:DOCUMENTS AND SETTINGSSAMAND A 403 IS STILL RETURNED TO THE BROWSER.","SUMMARY":"APACHE CANNOT HANDLE NTFS JUNCTIONS (SYMLINKS)","CLASS":1}
{"ID_DEFECT":"8234","DESCRIPTION":"ACCEPTPATHINFO SET TO ON OR DEFAULT DOES NOT APPEAR TO WORK AS EXPECTED (AT ALL) ON WIN322KXP THIS IS ON A DEFAULT WIN32 BINARY INSTALL WITH STANDARD CONFIGWHEREVER HOWEVER IT IS USED IT IS IGNORED A 404 IS GENERATED RATHER THAN THE EXPECTED LOOKBACK IN THE REQUEST_URI I.E.SOMEHOST.COMTHIS.HTMVAR1VAR2 RESULTS IN A 404 RATHER THAN THIS.HTM+PATH_INFO","SUMMARY":"ACCEPTPATHINFO IGNORED","CLASS":1}
{"ID_DEFECT":"8253","DESCRIPTION":"R->CONNECTION->ABORTED DOES NOT APPEAR TO BE SET TO 1 WHEN A CONNECTION IS ABORTED ON WIN32 (WORKS FINE ON LINUX AND SOLARIS).  IM TRYING TO CHECK FOR THIS IN A CUSTOM MODULE, BUT ALSO TESTED USING THE %X LOG FORMAT DIRECTIVE.  I RAN THE SAME TEST AGAINST APACHE 1.3.24 ON WIN32 (WITH THE %C LOG FORMAT DIRECTIVE), AND IT WORKS CORRECTLY IN APACHE 1.3.24 ON WIN32.","SUMMARY":"R->CONNECTION->ABORTED NOT SET ON WIN32, BREAKS %X LOG FORMAT","CLASS":1}
{"ID_DEFECT":"8760","DESCRIPTION":"THERE SEEMS TO BE AN ERROR IN THE HANDLING OF IF-MODIFIED-SINCE.STEPS TO REPRODUCE:1. SEND THE FOLLOWING REQUEST TO WWW.DAWNORCHID.COM:GET  HTTP1.1HOST: WWW.DAWNORCHID.COMRESULTING HEADER ISHTTP1.1 200 OKDATE: SAT, 04 MAY 2002 02:07:27 GMTSERVER: APACHE2.0.35 (WIN32) PHP4.2.0LAST-MODIFIED: MON, 29 APR 2002 07:58:14 GMT2. SEND ANOTHER REQUEST FOR THE SAME PAGE, USING THE ABOVE TIMESTAMP IN AN IF-MODIFIED-SINCE FIELD.GET  HTTP1.1HOST: WWW.DAWNORCHID.COMIF-MODIFIED-SINCE: MON, 29 APR 2002 07:58:14 GMTEXPECTED RESULT: A 304 NOT MODIFIED RESPONSE.ACTUAL RESULT: A 200 OK RESPONSE WITH THE FULL HTML PAGE.IF I CHANGE THE TIME IN THE IF-MODIFIED-SINCE FIELD TO ONE SECOND LATER (07:58:15 INSTEAD OF 07:58:14), THE EXPECTED 304 NOT MODIFIED RESPONSE IS RETURNED.","SUMMARY":"IF-MODIFIED-SINCE FIELD IN REQUEST NOT HANDLED CORRECTLY","CLASS":1}
{"ID_DEFECT":"9185","DESCRIPTION":"WHEN A BINARY FILE IS HOSTED BY APACHE 2.0.36 OR 1.3.24 COMPILED BY CYGWIN, THE DOWNLOADED FILE IS ALWAYS CORRUPTED. THE PRECOMPILED VERSION DOES NOT HAVE THE SAME PROBLEM BUT IT DOES NOT RESPOND WHEN A CLIENT TRIES TO DOWNLOAD A BIG FILE AFTER (SAY) HALF AN HOUR.","SUMMARY":"DOWNLOADED FILES ALWAYS CORRUPT ON CYGWIN","CLASS":1}
{"ID_DEFECT":"9673","DESCRIPTION":"APACHE2 DOES NOT PAY ATTENTION TO DYNAMIC PHP SCRIPTS CONFIGURED BY  SETINPUTFILTERSETOUTPUTFILTER PHP, AS IT STILL CHECKS THE MODIFICATION  DATE OF THE PLAIN .PHP FILE.    THIS LEADS TO CACHING PROBLEMS, WHEN THE USERS BROWSER SENDS A  IF-LAST-MODIFIED REQUEST. APACHE RETURNS 304 NOT MODIFIED, AS THE PHP FILE ITSELF HAS NOT CHANGED, ALTHOUGH THE DYNAMIC CONTENT MAY HAVE CHANGED!  THE PROBLEM IS IN MODULESHTTPHTTP_PROTOCOL.C, LINE 386+ HOTFIX: I HAVE COMMENTED OUT LINE 393 (RETURN HTTP_NOT_MODIFIED), SO THAT THIS FEATURE IS TOTALLY DISABLED.  IS THERE A CHANCE TO CHECK FOR AN INPUTOUTPUTFILTER SET? THAT WAY, WE COULD DEACTIVATE THE FEATURE FOR PHP PAGES ONLY.","SUMMARY":"CONDITIONAL GET REQUESTS NOT HANDLED PROPERLY WITH FILTERED CONTENT","CLASS":1}
{"ID_DEFECT":"9873","DESCRIPTION":"WHEN CONFIGURING WITH --WITH-PROGRAM-NAME= TO ANOTHER PROCESSNAME,APACHECTL CANNOT STOP THE SERVER, BECAUSE IT DOESNT FIND THE PID FILE.E.G.:   .CONFIGURE --WITH-PROGRAM-NAME=HTTPD-PROXY ...   APACHECTL  START     # WORKS, APACHE CREATES  ...LOGSHTTPD.PID   APACHECTL  STOP      # FAILS, BECAUSE SEEKING  ...LOGSHTTPD-PROXY.PID","SUMMARY":"PID FILE SEEMS TO DIFFER IN APACHECTL UND APACHE PROCESS","CLASS":1}
{"ID_DEFECT":"10095","DESCRIPTION":"IRIX APPEARS TO BE BRAIN DEAD IN ITS RESPONSES TO GETPWNAM_R CALLS.WITHIN USERINFO.C YOU ARE EXPECTING A NON-ZERO RETURN CODE IF IT FAILS.THIS IS A REASONABLE ASSUMPTION.  HOWEVER, UNDER IRIX YOU ALWAYS GETA ZERO RETURN CODE.  YOU NEED TO EXAMINE THE RETURNED VALUE OF PWPTRAND IF IT IS NULL, THEN THE CALL FAILED.  THE IRIX MAN PAGE ACTUALLYSAYS THAT YOU NEED TO CHECK THE POINTER - WHAT THEY DONT SAY IS THATTHE RETURNED VALUE IS ALWAYS ZERO.ALTERNATIVELY, YOU CAN TEST ERRNO.  IRIX APPEARS TO SET THIS CORRECTLY.I HAVE WORKED AROUND IT, BY ADDING THE TEST FOR A NULL POINTER RETURN.IT COULD ALSO BE HACKED BY UNDEFINING HAVE_GETPWNAM_R FOR IRIX BUILDS.","SUMMARY":"WITHIN USERINFO.C, GETPWNAM_R DOES NOT WORK AS EXPECTED ON IRIX","CLASS":1}
{"ID_DEFECT":"10146","DESCRIPTION":"HELLO.SOME TIME AGO IN DIFFERENT MAILLIST WAS POST:------------------------------------------------------DATE: WED, 19 JUN 2002 12:45:24 -0700FROM: GOBBLES@HUSHMAIL.COMTO: VULNDEV@VULNDEV.ORG, SUBMISSIONS@PACKETSTORMSECURITY.ORG,     BUGS@SECURITYTRACKER.NET, BUGTRAQ@SECURITYFOCUS.COM,     VULN-DEV@SECURITYFOCUS.COMSUBJECT: REMOTE APACHE 1.3.X EXPLOIT----------------------------------------------------------------MAIL HAS ATTACHMENT, WHICH EXPLOIT FOR OPENBSD CODE.BUT EXPLOIT HAS ONE SIDE EFFECT  - FOR APACHE 2.0.39IT MAKE DOS. CHILD EAT ALL MEMORY, SWAP AND DIE WITH DIAGNOSTIC.JUN 20 11:16:39 SOLO KERNEL: PID 49564 (HTTPD), UID 65534, WAS KILLED: OUT OFSWAP SPACEIN GDB WE CAN SEE, THAT CHILD LOOP IN MODULESHTTPHTTP_PROTOCOL.C IN FUNCTION:AP_DISCARD_REQUEST_BODY():1962         WHILE (!SEEN_EOS);(GDB) N1920            RV = AP_GET_BRIGADE(R->INPUT_FILTERS, BB, AP_MODE_READBYTES,(GDB) N1923            IF (RV != APR_SUCCESS) (GDB) N1939            APR_BRIGADE_FOREACH(BUCKET, BB) (GDB) N1961            APR_BRIGADE_CLEANUP(BB);(GDB) AND 2.0.40-DEV FROM CVS DOS-ED TOO.P.S. OS: FREEBSD 4.5 AND 4.6 RELEASESB.R. KOZIN MAXIM","SUMMARY":"2.0.39 DOS","CLASS":1}
{"ID_DEFECT":"10678","DESCRIPTION":"HELLO,I AM USING APACHE 2.0.39, BUT UNFORTUNATELY THE REMOTE_USER ENVIRONMENT VARIABLE GETS LOST, WHEN LIMITING ACCESS BY MEANS OF .HTACCESS. IN CONTRAST TO THIS IT IS POSSIBLE TO LIMIT THE ACCESS IN THE HTTPD.CONF FILE.WORKS:  VIRTUAL HOST CONFIG:    <LOCATION DIR>        AUTHTYPE BASIC        AUTHNAME TEST        AUTHUSERFILE PATHTOFILE        REQUIRE VALID-USER    <LOCATION>DOESNT WORK:  .HTACCESS:        AUTHTYPE BASIC        AUTHNAME TEST        AUTHUSERFILE PATHTOFILE        REQUIRE VALID-USERIS THERE A SPECIAL REASON, WHY THE REMOTE_USER VARIABLE IS DROPPED INTHE SECOND CASE AND HOW CAN I AVOID THIS BEHAVIOUR? WHEN TRYING TO ACCESSA DOCUMENT IN DIR ONE IS ASKED FOR PASSWORD AS USUAL, BUT EVEN A SIMPLESHELL-SCRIPT JUST WRITING THE ENVIRONMENT TO A FILE, DOES NOT SHOW THEREMOTE_USER VARIABLE. THE SCRIPT WAS CONFIGURED USING ADDHANDLER ANDACTION.ADDHANDLER TESTHANDLER .TESTACTION TESTHANDLER CGI-BINTESTSCRIPTTESTSCRIPT CONTAINS: #!BINSHECHO -E CONTENT-TYPE: TEXTPLAINHELLO WORLD;SET > TMPTESTSCRIPT-OUTPUTTHANKS IN ADVANCE!CIAO,THOMAS","SUMMARY":"SEVERAL .HTACCESS FILES ARE CONSULTED, REMOTE_USER GETS DROPPED","CLASS":1}
{"ID_DEFECT":"10946","DESCRIPTION":"TRYING TO RETRIEVE HTTP:FOO.XIMIAN.COMBAR.HTML WILL WORK, BUT TRYING TORETRIEVE HTTP:FOO.XIMIAN.COMBAR.HTML (NOTE THE REDUNDANT SLASHES) FAILS WITHA 403.  FOR WHAT ITS WORTH, HTTP:FOO.XIMIAN.COMBAZBAZ.HTML WORKS OK.  AS A WORKAROUND, I USED MOD_REWRITE IN A MANNER SIMILAR TO THIS:    REWRITEENGINE ON    REWRITERULE ^(.*$) PATHTODOCROOT$1THIS WORKS, AND THE PERFORMANCE HIT DOESNT SEEM TO BE ESPECIALLY GREAT, BUT ITISNT IDEAL.","SUMMARY":"REDUNDANT SLASHES IN URLS CAUSE 403 FORBIDDEN ERRORS","CLASS":1}
{"ID_DEFECT":"11030","DESCRIPTION":"`LISTEN IPADDR WORKS FINE; `LISTEN HOSTNAME NOT. IT SEEMS APACHE TRIES TO BIND TWICE IN THIS LAST CASE, AND CRASHES WITHOUT EVEN WRITING SOMETHING TO THE ERRORLOG (IT SEEMT TO TRY TO WRITE TO STDERR, THOUGH).SEE THE ATTACHED OUTPUT OF `TRUSS -F -A -E -VALL -RALL -WALL BINAPACHECTL START > TMPOUT.TXT 2>&1. LINE 1774 AND LINE 2989 TRY THE SAME BIND; THE SECOND ONE FAILS OF COURSE.WE USE SOLARIS 2.8 (IT ALSO OCCURRED FOR 2.0.36 IN SOLARIS 2.6); ETCNSSWITCH.CONF CONTAINS `HOSTS: FILES DNS AND THE PROBLEM OCCURS BOTH WHEN THE HOSTNAME APLUX11-A IS IN ETCHOSTS AND WHEN IT IS NOT (IT IS ALWAYS IN DNS).","SUMMARY":"LISTEN <HOSTNAME>: DOUBLE BIND","CLASS":1}
{"ID_DEFECT":"11213","DESCRIPTION":"THE VERSION NUMBER MESSAGE WHEN A MODULE IS REJECTED DUETO INCOMPATIBILITY SHOULD PRINT THE ACTUAL VERSION NUMBEROF THE FAILED MODULE AND THE SERVER.A PATCH WILL BE ATTACHED TO THIS BUG NUMBER.","SUMMARY":"INADEQUATE MESSAGE WHEN MODULE IS REJECTED. FIX ATTACHE; PLEASE COMMIT","CLASS":1}
{"ID_DEFECT":"11467","DESCRIPTION":"THE (DUTCH?) CONTENT IS INCORRECTLY ENCODED IN THE HTDOCSINDEX.HTML.VAR FILE ASURI: INDEX.HTML.NLCONTENT-LANGUAGE: NLCONTENTY-TYPE: TEXTHTMLTHE LAST LINE SHOULD, OF COURSE, BEGIN WITH CONTENT-TYPE:","SUMMARY":"TYPO IN HTDOCSINDEX.HTML.VAR","CLASS":1}
{"ID_DEFECT":"11601","DESCRIPTION":"IF I SEND A REQUEST FOR A NONEXISTENT FILE AS FOLLOWS:TGET NOSUCHFILEASTHIS HTTP1.0TRANGE: BYTES=122-240THOST: PERL.PLOVER.COMI SHOULD GET A 404 FILE NOT FOUND RESPONSE.  INSTEAD, HOWEVER, I GET THEFOLLOWING ERRONEOUS RESPONSE:THTTP1.1 206 PARTIAL CONTENTTDATE: SAT, 10 AUG 2002 01:13:53 GMTTSERVER: APACHE2.0.39 (UNIX)TCONTENT-RANGE: BYTES 122-240288TCONTENT-LENGTH: 119TCONTENT-TYPE: TEXTHTML; CHARSET=ISO-8859-1TH1>T<P>THE REQUESTED URL NOSUCHFILEASTHIS WAS NOT FOUND ON THIS SERVER.<P>T<HR >T<ADDRESS>APACHE2.0.39 SERVER AT PERFC2616 SAYS THAT THE 206 RESPONSE IS TO BE USED ONLY WHEN THE SERVER HASFULFILLED THE PARTIAL GET REQUEST.  AS YOU CAN SEE, THE BEHAVIOR HERE IS BIZARRE IN ANY CASE; WE SEEM TO HAVE BEEN GIVEN BYTES 122-240 OF THEINTERNALLY-GENERATED ERROR DOCUMENT.THE ERROR APPEARS IN 2.0.36 ALSO.","SUMMARY":"FAILED REQUEST WITH RANGE HEADER DOES NOT RETURN AN ERROR REPLY","CLASS":1}
{"ID_DEFECT":"11854","DESCRIPTION":"IM UNABLE TO START APACHE2 - IT EXISTS IN 12 SECOND AFTER I START IT !AND THIS IS WHAT IVE FOUND IN THE LOG :[TUE AUG 20 15:54:39 2002] [CRIT] (22)INVALID ARGUMENT: PARENT: FAILED TO CREATE THE CHILD PROCESS.[TUE AUG 20 15:54:39 2002] [CRIT] (22506)THE HANDLE IS INVALID.  : MASTER_MAIN: CREATE CHILD PROCESS FAILED. EXITING.[TUE AUG 20 15:54:39 2002] [NOTICE] PARENT: FORCING TERMINATION OF CHILD PROCESS 3121056 MY BOX IS A 950MHZ ATHLON W256MB RAM, RUNNING WIN2K.PROF WSP3 - AND NOT ANY FIREWALL.IF YOU NEED MY HTTPD.CONF OR ANY OTHER INFO. - JUST ASK !P.S. : APACHE2 (WITH THE CURRENT CONFIG.) USED TO RUN ON MY SYSTEM JUST 2 DAYS AGO !","SUMMARY":"UNABLE TO START APACHE2 (EXITS IN 12 SECOND AFTER START, LEAVING [CRIT] ERRORS IN LOG)","CLASS":1}
{"ID_DEFECT":"12207","DESCRIPTION":"IF APACHE HAS THE FILEETAG DIRECTIVE SET TO NONE AND AN IF-NONE-MATCH HEADER IS SENT IN A REQUEST, APACHE ALWAYS SENDS BACK A 304 NOT MODIFIED RESPONSE, REGARDLESS OF THE CONTENT OF THE ETAG(S) SENT IN THE IF-NONE-MATCH HEADER.THIS BUG IS PRETTY HIGH PRIORITY, BECAUSE IT MEANS THAT IF A SITE RUNNING APACHE NORMALLY SERVES ETAGS BUT THEN STOPS SERVING THEM BY SETTING FILEETAG NONE, ANY DOWNSTREAM CACHES WHICH UNDERSTAND ETAGS AND SEND IF-NONE-MATCH REQUESTS WILL STOP GETTING UPDATED CONTENT.HOW TO REPRODUCE:    1. MAKE A REGULAR HTTP REQUEST TO APACHE FOR ANY STATIC FILE,       AND NOTE ITS ETAG.    2. MAKE ANOTHER HTTP REQUEST FOR THAT FILE, SENDING AN IF-NONE-MATCH       HEADER (FOR EXAMPLE, IF THE ETAG FROM STEP 1 IS ABCDEF, SEND       THE HEADER IF-NONE-MATCH: ABCDEF). APACHE SHOULD CORRECTLY       RETURN A 304 NOT MODIFIED RESPONSE.    3. MAKE A NEW IF-NONE-MATCH REQUEST WITH A BOGUS ETAG, FOR EXAMPLE       BY SENDING IF-NONE-MATCH: XXX. APACHE SHOULD CORRECTLY RETURN       A 200 OK AND INCLUDE AN ENTITY BODY.    4. ADD A FILEETAG NONE DIRECTIVE TO THE APACHE CONFIGURATION,       AND RESTART APACHE.    5. MAKE THE SAME IF-NONE-MATCH REQUEST AS IN STEP 2. AGAIN, APACHE       SHOULD CORRECTLY RETURN A 304 NOT MODIFIED RESPONSE.    6. MAKE THE SAME BOGUS IF-NONE-MATCH REQUEST AS IN STEP 3 (OR ANY       OTHER IF-NONE-MATCH REQUEST WITH A BOGUS ETAG). APACHE WILL       INCORRECTLY RETURN A 304 NOT MODIFIED RESPONSE.STEPS 4 AND 6 ARE ENOUGH TO REPRODUCE THE BUG BUT THE OTHER STEPS GIVE A LITTLE CONTEXT BY SHOWING THE CORRECT BEHAVIOR.I HAVE REPRODUCED THIS BUG WITH APACHE 2.0.40 ON SOLARIS X86. I STRONGLY SUSPECT THE BUG TO BE PLATFORM INDEPENDENT, AS IT IS A SIMPLE MISSING CHECK IN HTTP_PROTOCOL.C FOR AN EMPTY ETAG. APACHE 1.3 HAS AN IDENTICAL BUG, FOR WHICH DETAILS CAN BE FOUND IN BUG 12202.","SUMMARY":"IF-NONE-MATCH REQUESTS ALWAYS RETURN 304 WITH FILEETAG NONE DIRECTIVE","CLASS":1}
{"ID_DEFECT":"12779","DESCRIPTION":"WHEN I TRIED TO BUILD MOD_FASTCGI FOR APACHE 2 I GOT A LINK ERRORCOULD NOT FIND SYMBOL _AP_LOAD_DLL_FUNC.I COULD SOLVE THIS PROBLEM BY CHANGING THE DECLARATION  FARPROC AP_LOAD_DLL_FUNC(...) TO:  AP_DECLARE(FARPROC) AP_LOAD_DLL_FUNC(...)IN UTIL_WIN32.C AND OS.HAS FAR AS I COULD SEE THIS DID NOT HURT THE REST OF APACHE,SO COULD YOU PLEASE MAKE THIS CHANGE IN THE NEXT RELEASE.","SUMMARY":"LINK ERROR FOR _AP_LOAD_DLL_FUNC","CLASS":1}
{"ID_DEFECT":"12893","DESCRIPTION":"I MAKE A SYMBOL LINK TO NTFS DIRECTORY,AND THEN REQUEST FILE UNDER THAT DIRECTORY.WHEN THE FILE SIZE SMALLER THAN 7169 BYTE,IT SUCCESSWHEN THE FILE SIZE LAGER   THAN 7788 BYTE,IT FAIL AND I GET AN LOG MESSAGE BELOW[SAT SEP 21 20:04:32 2002] [INFO] (22)INVALID ARGUMENT: CORE_OUTPUT_FILTER: WRITING DATA TO THE NETWORKIT WAS PRODUCE BY FUNCTION CORE_OUTPUT_FILTER() IN FILE SERVERCORE.C","SUMMARY":"INVALID ARGUMENT IN CORE WHEN ACCESS LARGE FILE IN NTFS PARTITION","CLASS":1}
{"ID_DEFECT":"14147","DESCRIPTION":"APACHE WILL, IN SOME CASES, TRUNCATE THE LAST CHARACTER OF A FILENAME CAUSINGIT TO EITHER NOT FIND THE FILE OR SERVE THE WRONG FILE.  BELOW ARE STEPS TOREPRODUCE THE BUG, PART OF A GDB DEBUGGING SESSION SHOWING THE CODE THATCAUSES THE BUG, AND A SMALL PATCH TO FIX THE BUG.THIS IS PROBABLY THE CAUSE FOR THE SYMPTOMS SEEN IN BUG #10687.  I FIRSTENCOUNTERED THE PROBLEM WHEN A CUSTOMER WAS TRYING TO DO A VIRTUAL INCLUDEOF A FILE VIA MOD_INCLUDE SSI.  THE ERROR LOG CONSISTENTLY SHOWED APACHEFAILING TO FIND A FILE WHOSE NAME WAS ONE CHARACTER SHORTER THAN THEDESIRED FILE.  HERE IS AN EXAMPLE.    $ CD ~USER04    $ CAT HTML1INDEX.SHTML    <HTML>    <BODY>    TEST<BR>    <!--#INCLUDE VIRTUAL=..2IN.HTML -->    <BODY>    <HTML>    $ CAT HTML2IN.HTML    THIS IS IN.HTML    $ WGET -Q -O - HTTP:SF1000.REGISTEREDSITE.COM~USER041    <HTML>    <BODY>    TEST<BR>    [AN ERROR OCCURRED WHILE PROCESSING THIS DIRECTIVE]    <BODY>    <HTML>    $ CAT USRAPACHELOGSERROR.LOG.1036095600     [THU OCT 31 15:20:12 2002] [USER04] [ERROR] [CLIENT 209.35.187.200]     (2)NO SUCH FILE OR DIRECTORY: FILE PERMISSIONS DENY SERVER ACCESS:     HOMERTUSER04HTML2IN.HTM    [THU OCT 31 15:20:12 2002] [USER04] [ERROR] [CLIENT 209.35.187.200]     UNABLE TO INCLUDE ..2IN.HTML IN PARSED FILE     HOMERTUSER04HTML1INDEX.SHTML    HERE IS PART OF A DEBUGGING SESSION WHERE THE CODE CAUSING THE BUG CANBE SEEN IN ACTION.  STARTING WITH LINE 1066 FROM SERVERREQUEST.C INAP_DIRECTORY_WALK, THE CODE REACHES A GOTO AT LINE 1100.  THIS JUMPSBACK INTO A LOOP THAT SPANS LINES 731-1057.  THE CODE PROCEEDS TOLINES 920 AND 921 WHERE THE LAST CHARACTER OF THE FILNAME IS TRUNCATED.LINES 920 AND 921 ORIGINALLY SERVED TO TAKE OFF A TEMPORARY SLASH ADDEDIN LINES 740-744 IN AN EARLIER PASS THROUGH THE LOOP, BUT THE BOOLEANVARIABLE TEMP_SLASH IS STILL TRUE WHEN THE GOTO JUMPS BACK INTO THE LOOP.(GDB) N1066            IF (SAVE_PATH_INFO) (GDB)1080            FOR (; SEC_IDX < NUM_SEC; ++SEC_IDX) (GDB)1083                ENTRY_CORE = AP_GET_MODULE_CONFIG(SEC_ENT[SEC_IDX],&CORE_MODULE);(GDB)1085                IF (!ENTRY_CORE->R) (GDB)1089                IF (AP_REGEXEC(ENTRY_CORE->R, R->FILENAME, 0, NULL,REG_NOTEOL)) (GDB)1095                IF (MATCHES) (GDB)1096                    IF (LAST_WALK->MATCHED == SEC_ENT[SEC_IDX]) (GDB)1097                        NOW_MERGED = LAST_WALK->MERGED;(GDB)1098                        ++LAST_WALK;(GDB)1099                        --MATCHES;(GDB)1100                        GOTO MINIMERGE;(GDB)813                     THIS_DIR = AP_GET_MODULE_CONFIG(SEC_ENT[SEC_IDX],&CORE_MODULE);(GDB)815                     IF (!THIS_DIR) (GDB)819                     IF (THIS_DIR->OPTS & OPT_UNSET) (GDB)827                         OPTS = THIS_DIR->OPTS;(GDB)828                         OPTS_ADD = THIS_DIR->OPTS_ADD;(GDB)829                         OPTS_REMOVE = THIS_DIR->OPTS_REMOVE;(GDB)832                     IF (!(THIS_DIR->OVERRIDE & OR_UNSET)) (GDB)835                 (GDB)751                     AP_CONF_VECTOR_T *ENTRY_CONFIG = SEC_ENT[SEC_IDX];(GDB)753                     ENTRY_CORE = AP_GET_MODULE_CONFIG(ENTRY_CONFIG,&CORE_MODULE);(GDB)758                     IF (ENTRY_CORE->R || ENTRY_CORE->D_COMPONENTS > SEG) (GDB)840                 IF (SEG >= STARTSEG && OVERRIDE) (GDB)841                     AP_CONF_VECTOR_T *HTACCESS_CONF = NULL;(GDB)843                     RES = AP_PARSE_HTACCESS(&HTACCESS_CONF, R, OVERRIDE,(GDB)846                     IF (RES) (GDB)850                     IF (HTACCESS_CONF) (GDB)920                 IF (TEMP_SLASH) (GDB)921                     R->FILENAME[--FILENAME_LEN] = 0;THE PATCH BELOW ENSURES THE BOOLEAN IS SET BACK TO FALSE WHEN ITHAS SERVED ITS PURPOSE, AND AS AN ADDED PRECAUTION, CHECKS THATTHE CHARACTER ABOUT TO BE TRUNCATED IS A SLASH.--- REQUEST.C.BAK       TUE OCT 22 10:20:09 2002+++ REQUEST.C   TUE OCT 22 10:20:11 2002@@ -918,6 +918,8 @@             * THAT TEMPORARY TRAILING SLASH WAS USEFUL, NOW DROP IT.              *             IF (TEMP_SLASH) +                TEMP_SLASH = 0;+                IF (R->FILENAME[FILENAME_LEN-1] == )                 R->FILENAME[--FILENAME_LEN] = 0;             ","SUMMARY":"PATCH FOR FILENAME TRUNCATION BUG IN AP_DIRECTORY_WALK","CLASS":1}
{"ID_DEFECT":"14376","DESCRIPTION":"IT APPEARS THAT MOD_PROXY OVERWRITES THE DATE HEADER WITH THE LOCAL DATE.MINE IS CONFIGURED AS A REVERSE PROXY (HAVE NOT TRIED THE OTHER WAY).THE DATE HEADER IS IN THE PROPER FORMAT (COMES FROM AN APACHE 1.3 SERVER).THIS SHOULD NOT HAPPEN BECAUSE THIS WAY THE CLIENT LOSES THE REFERENCE FORTHE EXPIRES HEADER (WHICH PASSES THROUGH UNMODIFIED).BELOW ARE TWO SETS OF RESPONSE HEADERS I TESTED WITH. THE FIRST ONE ISTHE BACKEND SERVER ACCESSED DIRECTLY, THE SECOND IS VIA THE PROXY, ATABOUT 20 SECONDS TIME DIFFERENCE. THE TIME ON THE PROXY IS 2-3 MINUTESBEHIND THE BACKENDS. THE FRONTEND ALWAYS SETS THE EXPIRATION DATE TO SAME VALUE AS DATE.HTTP1.1 200 OKDATE: THU, 07 NOV 2002 21:41:15 GMTSERVER: APACHE1.3.27 (UNIX)CACHE-CONTROL: NO-CACHECONTENT-LENGTH: 1924CONNECTION: CLOSECONTENT-TYPE: TEXTHTML; CHARSET=UTF-8EXPIRES: THU, 07 NOV 2002 21:41:15 GMTHTTP1.0 200 OKDATE: THU, 07 NOV 2002 21:38:31 GMTSERVER: APACHE1.3.27 (UNIX)CACHE-CONTROL: NO-CACHECONTENT-TYPE: TEXTHTML; CHARSET=UTF-8EXPIRES: THU, 07 NOV 2002 21:41:37 GMTVIA: 1.1 <PROXYHOSTNAME>CONNECTION: CLOSE","SUMMARY":"DATE HEADER OVERWRITTEN IN PROXIED REQUESTS","CLASS":1}
{"ID_DEFECT":"14861","DESCRIPTION":"WE ARE USING AN APACHE 2.0.43 AS A REVERSE PROXY WITH MANY VIRTUAL HOSTS AND WEARE USING MOD_SSL FOR SOME OF THEM. IT SEEMS TO WORK FINE, BUT ON EACH HTTPS REQUEST, WE HAVE THIS ERROR IN THEERROR LOG :[TUE NOV 26 15:19:43 2002] [ERROR] (20014)ERROR STRING NOT SPECIFIED YET: CANNOTSTORE SSL SESSION TO DBM FILE `VARLOGWWWPROTORUNSSL_SCACHETHE DIRECTORY VARLOGWWWPROTORUN EXISTS AND HAVE THE CORRECT RIGHTS, ITCANT FIGURE WHAT IS THIS ERROR ABOUT...HERE IS OUR CONFIGURATION FILE (ALMOST A STANDARD ONE) :ADDTYPE APPLICATIONX-X509-CA-CERT .CRTADDTYPE APPLICATIONX-PKCS7-CRL    .CRLSSLPASSPHRASEDIALOG  BUILTINSSLSESSIONCACHE         DBM:VARLOGWWWPROTORUNSSL_SCACHESSLSESSIONCACHETIMEOUT  300SSLMUTEX  FILE:VARLOGWWWPROTORUNSSL_MUTEXSSLRANDOMSEED STARTUP BUILTINSSLRANDOMSEED CONNECT BUILTINSSLCIPHERSUITE ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLV2:+EXP:+ENULLSSLCERTIFICATEFILE USRLOCALWWWPROTOCONFSSL.CRTSERVER.CRTSSLCERTIFICATEKEYFILE USRLOCALWWWPROTOCONFSSL.KEYSERVER.KEYSSLCERTIFICATECHAINFILE USRLOCALWWWPROTOCONFSSL.CRTVERISIGN.CRTCUSTOMLOG VARLOGWWWPROTOLOGSSSL_REQUEST.LOG           %T %H %SSL_PROTOCOLX %SSL_CIPHERX %R %BTHANK YOU FOR HELPING !THOMAS.","SUMMARY":"ERROR STRING NOT SPECIFIED YET ON EACH HTTPS REQUEST","CLASS":1}
{"ID_DEFECT":"15981","DESCRIPTION":"APACHE DOES NOT LIST OR SERVE THE FOLLOWING LARGE FILE THAT I HAVE ON MY HARD DISK. -RW-R--R--    1 AK       USERS    4552859648 NOV  9 12:10 TEMP.VOBWHEN TRYING TO ACCESS IT DIRECTLY, A 403 FORBIDDEN ERROR RESULTS, ALONG WITH THEFOLLOWING ENTRY IN THE ERROR LOG:[SAT JAN 11 00:03:30 2003] [ERROR] [CLIENT 127.0.0.1] (75)VALUE TOO LARGE FOR DEFINED DATA TYPE: ACCESS TO ~AKTEMP.VOB FAILEDFURTHER, WHEN LISTING THE DIRECTORY CONTAINING THE BIG FILE, THE LISTING STOPSAT THAT ENTRY, REGARDLESS OF FURTHER AVAILABLE ENTRIES.","SUMMARY":"LARGE FILE HANDLING","CLASS":1}
{"ID_DEFECT":"16533","DESCRIPTION":"APOLOGIES IF THIS HAS ALREADY BEEN REPORTED  FIXED.[WED JAN 29 15:11:09 2003] [NOTICE] CHILD PID 44946 EXIT SIGNAL SEGMENTATIONFAULT (11)[WED JAN 29 15:11:12 2003] [NOTICE] CHILD PID 52174 EXIT SIGNAL SEGMENTATIONFAULT (11)(DBX) WHEREAPR_POOL_CLEANUP_KILL(P = 0X3C68746D6C3E0A3C, DATA = 0X00000001102E5880,CLEANUP_FN = 0X09001000A02074C8), LINE 1926 IN APR_POOLS.CMMAP_BUCKET_DESTROY(DATA = 0X00000001102E5880), LINE 99 IN APR_BUCKETS_MMAP.CMMAP_BUCKET_SETASIDE(B = 0X00000001102DEA18, P = 0X00000001102EA8B8), LINE 167IN APR_BUCKETS_MMAP.CAP_SAVE_BRIGADE(F = 0X00000001102DCFE8, SAVETO = 0X00000001102DD058, B =0X0FFFFFFFFFFFF1D8, P = 0X00000001102EA8B8), LINE 560 IN UTIL_FILTER.CUNNAMED BLOCK $B319, LINE 3932 IN CORE.CCORE_OUTPUT_FILTER(F = 0X00000001102DCFE8, B = 0X00000001102EA920), LINE 3932 INCORE.CUNNAMED BLOCK $B263, LINE 540 IN UTIL_FILTER.CAP_PASS_BRIGADE(NEXT = 0X00000001102DCFE8, BB = 0X00000001102E54B8), LINE 540 INUTIL_FILTER.CAP_HTTP_HEADER_FILTER(F = 0X00000001102E1BC8, B = 0X00000001102E54B8), LINE 1716IN HTTP_PROTOCOL.CUNNAMED BLOCK $B263, LINE 540 IN UTIL_FILTER.CAP_PASS_BRIGADE(NEXT = 0X00000001102E1BC8, BB = 0X00000001102E54B8), LINE 540 INUTIL_FILTER.CAP_CONTENT_LENGTH_FILTER(0X1, 0X78280), LINE 1299 IN PROTOCOL.CUNNAMED BLOCK $B263, LINE 540 IN UTIL_FILTER.CAP_PASS_BRIGADE(NEXT = 0X00000001102E1BA0, BB = 0X00000001102E54B8), LINE 540 INUTIL_FILTER.CUNNAMED BLOCK $B125, LINE 2881 IN HTTP_PROTOCOL.CAP_BYTERANGE_FILTER(F = 0X00000001102E1B78, BB = 0X00000001102E54B8), LINE 2881IN HTTP_PROTOCOL.CUNNAMED BLOCK $B263, LINE 540 IN UTIL_FILTER.CAP_PASS_BRIGADE(NEXT = 0X00000001102E1B78, BB = 0X00000001102E54B8), LINE 540 INUTIL_FILTER.CDEFAULT_HANDLER(R = 0X00000001102E0880), LINE 3384 IN CORE.CAP_RUN_HANDLER(0X0), LINE 194 IN CONFIG.CAP_INVOKE_HANDLER(0X0), LINE 401 IN CONFIG.CAP_PROCESS_REQUEST(0X0), LINE 288 IN HTTP_REQUEST.CAP_PROCESS_HTTP_CONNECTION(0X1), LINE 293 IN HTTP_CORE.CAP_RUN_PROCESS_CONNECTION(0X1), LINE 85 IN CONNECTION.CAP_PROCESS_CONNECTION(0X0, 0X0), LINE 207 IN CONNECTION.CCHILD_MAIN(CHILD_NUM_ARG = 2), LINE 696 IN PREFORK.CMAKE_CHILD(S = 0X000000011022A168, SLOT = 2), LINE 790 IN PREFORK.CPERFORM_IDLE_SERVER_MAINTENANCE(P = 0X00000001102263B8), LINE 925 IN PREFORK.CAP_MPM_RUN(_PCONF = 0X00000001102263B8, PLOG = 0X0000000110252678, S =0X000000011022A168), LINE 1120 IN PREFORK.CMAIN(ARGC = 3, ARGV = 0X00000000200FE8D0), LINE 651 IN MAIN.C(DBX)INTERESTING ARGUMENT P = 0X3C68746D6C3E0A3C = <HTML>< :-)I MANAGED TO FIX THE COREDUMPS BY PATCHING LIKE SO, BUT IT DOES SEEM A LITTLETOO SIMPLE TO BE CORRECT.*** APR_BUCKETS_MMAP.C  WED JAN 29 17:59:09 2003--- APR_BUCKETS_MMAP.C.ORIG     WED JAN 29 17:58:50 2003****************** 164,170 ****            * DECREMENT REFCOUNT ON OLD APR_BUCKET_MMAP *!     MMAP_BUCKET_DESTROY(M);      * CREATE NEW APR_BUCKET_MMAP POINTING TO NEW APR_MMAP_T *      APR_BUCKET_MMAP_MAKE(B, NEW_MM, B->START, B->LENGTH);--- 164,170 ----            * DECREMENT REFCOUNT ON OLD APR_BUCKET_MMAP *!     MMAP_BUCKET_DESTROY(MM);      * CREATE NEW APR_BUCKET_MMAP POINTING TO NEW APR_MMAP_T *      APR_BUCKET_MMAP_MAKE(B, NEW_MM, B->START, B->LENGTH);","SUMMARY":"CHILD SEGFAULTS WHEN SERVICING A REQUEST, IN APR_POOL_CLEANUP_KILL","CLASS":1}
{"ID_DEFECT":"17093","DESCRIPTION":"I HAVE AN INCLUDED VHOST.CONF FILE, AND WHEN I LEFT OFF A <VIRTUALHOST> ENTRY NEAR THE END, BOTH APACHECTL AND HTTPD SEGFAULTED, EVEN ON APACHECTL CONFIGTEST. THIS IS HTTPD 2.0.44 (WITH MOD_PHP) ON FREEBSD 4.7-STABLE. ADDING THE MISSING <VIRTUALHOST> LINE CLEARED THE PROBLEM. HTTPD SHOULD PROVIDE AN ERROR MESSAGE IN THIS SITUATION.WWW# APACHECTL CONFIGTESTFATAL PROCESS EXCEPTION: PAGE FAULT, FAULT VA = 0X18SEGMENTATION FAULT (CORE DUMPED)DMESG SHOWS: PID 227 (HTTPD), UID 0: EXITED ON SIGNAL 11 (CORE DUMPED).HERES THE RELEVANT BIT OF VHOST.CONF (INCLUDED FROM HTTPD.CONF).NAMEVIRTUALHOST 66.92.104.200:80<VIRTUALHOST 66.92.104.200:80>    SERVERADMIN WEBMASTER@REPPEP.COM#   DOCUMENTROOT HOMEHTTPDHTML    DOCUMENTROOT HOMEAMYWWW    SERVERNAME WWW.REPPEP.COM:80    SERVERALIAS REPPEP.COM WWW    CUSTOMLOG |USRLOCALSBINCRONOLOG VARLOGHTTPDREPPEP-%Y-%M-ACCESS_LOG COMBINED    USERDIR DISABLED ROOT    REDIRECT PERMANENT MAIL HTTPS:WWW.REPPEP.COMMAIL<VIRTUALHOST>[SNIP]<VIRTUALHOST 66.92.104.200:80>    SERVERADMIN RACHEL@REPPEP.COM    DOCUMENTROOT HOMERACHELPUBLIC_HTML    SERVERNAME WWW.XANNY.NET:80    SERVERALIAS XANNY.NET    CUSTOMLOG |USRLOCALSBINCRONOLOG VARLOGHTTPDXANNY-%Y-%M-ACCESS_LOG COMBINED<VIRTUALHOST 66.92.104.200:80>    SERVERADMIN BJORN@REPPEP.COM    DOCUMENTROOT HOMEBJORNPUBLIC_HTML    SERVERNAME WWW.XOAUDIO.COM:80    SERVERALIAS XOAUDIO.COM WWW.XOXOAUDIO.COM XOXOAUDIO.COM    CUSTOMLOG |USRLOCALSBINCRONOLOG VARLOGHTTPDXOAUDIO-%Y-%M-ACCESS_LOG COMBINED<VIRTUALHOST>","SUMMARY":"MISSING <VIRTUALHOST> IN INCLUDED FILE CAUSES SEGFAULT","CLASS":1}
{"ID_DEFECT":"17206","DESCRIPTION":"WE UPDATED ONE OF OUR SERVERS FROM APACHE-2.0.39 TO APACHE-2.0.44 AND NOTICED THAT 2.0.44 FAILS TO CLOSE THE FILE HANDLES OF THE LOGFILES BEFORE EXECUTING CGI SCRIPTS.WE TEST BY RUNNING A PHP SCRIPT VIA THE CGI INTERFACE AND USING LSOF TO LIST THE OPEN FILE HANDLES. (SEE BELOW)THIS ENABLES CGIS TO ACCESS THE LOGS OF OTHER VIRTUAL HOSTS.WE CAN REPRODUCE THIS UNDER FREEBSD 4-STBALE AND 5.0 RELEASEUSING THE PREFORKED MPM AND APACHE-2.0.40, 2.0.43 AND 2.0.44.THE PROBLEM DOES NOT OCCUR ON APACHE-2.0.39.  WE THINK THIS BUG MIGHT BE RELATED TO BUG 12774 WHICH WAS CLOSEDDUE TO LACK OF RESPONSE FROM THE ORIGINAL POSTER.  THIS WAS ALSO OING FROM 2.0.39 TO 2.0.40.THIS COULD ALSO BE RELATED TO THE CHANGES IN APRFILE_IOSRCUNIXFILE_DUP.CFROM 1.48 TO 1.49 AND THE INTRODUCTION OF APR_FILE_SETASIDE().   THESE CHANGES WERE AFTER 2.0.39 AND BEFORE 2.0.40.GREETINGSCHRISTIAN KRATZERCK SOFTWARE GMBH--SNIPP--COMMAND  PID    USER   FD   TYPE     DEVICE SIZEOFF    NODE NAMEPHP     3308 WEBMAIL  CWD   VDIR 151,131079      512 1474242U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAILHTDOCSPHP     3308 WEBMAIL  RTD   VDIR 151,131079      512 1291924 U1JAILSJAIL-WEBMAILPHP     3308 WEBMAIL  TXT   VREG 151,131079  1343042 1473554U1JAILSJAIL-WEBMAILWWWCGI-PHPPHPPHP     3308 WEBMAIL  TXT   VREG 151,131079    80080 1293805U1JAILSJAIL-WEBMAILUSRLIBEXECLD-ELF.SO.1PHP     3308 WEBMAIL  TXT   VREG 151,131079   749398 1473486U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBC-CLIENT4.SO.8PHP     3308 WEBMAIL  TXT   VREG 151,131079   126427 1452224U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBEXPAT.SO.4PHP     3308 WEBMAIL  TXT   VREG 151,131079    19544 1292898U1JAILSJAIL-WEBMAILUSRLIBLIBHISTORY.SO.4PHP     3308 WEBMAIL  TXT   VREG 151,131079   147000 1292903U1JAILSJAIL-WEBMAILUSRLIBLIBREADLINE.SO.4PHP     3308 WEBMAIL  TXT   VREG 151,131079   258872 1292446U1JAILSJAIL-WEBMAILUSRLIBLIBNCURSES.SO.5PHP     3308 WEBMAIL  TXT   VREG 151,131079    85712 1473115U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBPQ.SO.3PHP     3308 WEBMAIL  TXT   VREG 151,131079   132379 1473270U1JAILSJAIL-WEBMAILUSRLOCALLIBMYSQLLIBMYSQLCLIENT.SO.10PHP     3308 WEBMAIL  TXT   VREG 151,131079    51156 1292749U1JAILSJAIL-WEBMAILUSRLIBLIBZ.SO.2PHP     3308 WEBMAIL  TXT   VREG 151,131079    28480 1292428U1JAILSJAIL-WEBMAILUSRLIBLIBCRYPT.SO.2PHP     3308 WEBMAIL  TXT   VREG 151,131079   192724 1452773U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBLDAP.SO.2PHP     3308 WEBMAIL  TXT   VREG 151,131079    47937 1452770U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBLBER.SO.2PHP     3308 WEBMAIL  TXT   VREG 151,131079    38500 1292702U1JAILSJAIL-WEBMAILUSRLIBLIBPAM.SO.1PHP     3308 WEBMAIL  TXT   VREG 151,131079   908698 1473181U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBICONV.SO.3PHP     3308 WEBMAIL  TXT   VREG 151,131079   211156 1473420U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBGD.SO.4PHP     3308 WEBMAIL  TXT   VREG 151,131079   340310 1473287U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBFREETYPE.SO.9PHP     3308 WEBMAIL  TXT   VREG 151,131079   139364 1472995U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBPNG.SO.5PHP     3308 WEBMAIL  TXT   VREG 151,131079   135696 1473155U1JAILSJAIL-WEBMAILUSRLOCALLIBLIBJPEG.SO.9PHP     3308 WEBMAIL  TXT   VREG 151,131079   117736 1292433U1JAILSJAIL-WEBMAILUSRLIBLIBM.SO.2PHP     3308 WEBMAIL  TXT   VREG 151,131079   762896 1293883U1JAILSJAIL-WEBMAILUSRLIBLIBCRYPTO.SO.2PHP     3308 WEBMAIL  TXT   VREG 151,131079   181720 1293903U1JAILSJAIL-WEBMAILUSRLIBLIBSSL.SO.2PHP     3308 WEBMAIL  TXT   VREG 151,131079   575584 1292596U1JAILSJAIL-WEBMAILUSRLIBLIBC.SO.4PHP     3308 WEBMAIL    0U  PIPE 0XF08BB4E0    16384PHP     3308 WEBMAIL    1U  PIPE 0XEBA05BC0    16384         ->0XF08BB760PHP     3308 WEBMAIL    2U  PIPE 0XEBCB63A0    16384         ->0XEBA03960PHP     3308 WEBMAIL    4U  PIPE 0XEBA03A00    16384         ->0XEB666A00PHP     3308 WEBMAIL    5U  PIPE 0XEB666A00    16384         ->0XEBA03A00PHP     3308 WEBMAIL    6U  VREG 151,131079     4519 1474234U1JAILSJAIL-WEBMAILWWWLOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL    7U  VREG 151,131079        0 1474628U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL109LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL    8U  VREG 151,131079        0 1474629U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL108LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL    9U  VREG 151,131079        0 1474630U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL107LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   10U  VREG 151,131079        0 1474631U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL106LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   11U  VREG 151,131079        0 1474632U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL105LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   12U  VREG 151,131079        0 1474633U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL104LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   13U  VREG 151,131079        0 1474634U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL103LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   14U  VREG 151,131079        0 1474635U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL102LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   15U  VREG 151,131079        0 1474636U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL101LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   16U  VREG 151,131079        0 1474637U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL100LOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   17U  VREG 151,131079     2109 1474254U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAILLOGSHTTPD-ERROR.LOGPHP     3308 WEBMAIL   18W  VREG 151,131079      675 1474236U1JAILSJAIL-WEBMAILWWWLOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   19W  VREG 151,131079        0 1474638U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL109LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   20W  VREG 151,131079        0 1474639U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL108LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   21W  VREG 151,131079        0 1474640U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL107LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   22W  VREG 151,131079        0 1474641U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL106LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   23W  VREG 151,131079        0 1474642U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL105LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   24W  VREG 151,131079        0 1474643U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL104LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   25W  VREG 151,131079        0 1474644U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL103LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   26W  VREG 151,131079        0 1474645U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL102LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   27W  VREG 151,131079        0 1474646U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL101LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   28W  VREG 151,131079        0 1474647U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAIL100LOGSHTTPD-ACCESS.LOGPHP     3308 WEBMAIL   29W  VREG 151,131079     7821 1474255U1JAILSJAIL-WEBMAILWWWSERVERSWEBMAILLOGSHTTPD-ACCESS.LOG--SNIPP--","SUMMARY":"FILEHANDLES OF LOGS NOT CLOSED BEFORE EXEC OF CGI SCRIPTS","CLASS":1}
{"ID_DEFECT":"18170","DESCRIPTION":"THIS ERROR IS IN HTTPD-2.0.44SERVERPROTOCOL.C, IN AP_GET_MIME_HEADERS_CORE().IT APPEARS TO BE NON-PLATFORM AND NON-OS SPECIFIC.WHEN SENDING A REQUEST OF THE FORMGET EXAMPLESSERVLETREQUESTHEADEREXAMPLE HTTP1.0CONTENT-TYPE: MULTIPARTRELATED; TYPE=TEXTXML;        BOUNDARY=----=_PART_9_24374438.1048047839137SOAPACTION: EBXMLHOST: CHMEEE...WHERE THE HEADER IS WRAPPED, AND IS A MULTIPLE OF EIGHT BYTES LONG WHENUNWRAPPED (AS IN THE CONTENT-TYPE HEADER HERE, WHICH HAS A TRAILING SPACE ON THEFIRST LINE AND A LEADING TAB ON THE SECOND LINE), THE CODE APPENDS THE SECONDLINE TO THE FIRST LINE. HOWEVER, THE MEMORY ALLOCATION DOES NOT ALLOW FOR THETRAILING 0 IN THE NEW STRING, SO ONE LESS BYTE IS ALLOCATED THAN SHOULD BE.WHEN THE NEXT HEADER IS READ, AND MEMORY IS ALLOCATED FOR IT, IT THEREFOREOVERWRITES THE 0 AT THE END OF THE CONTENT-TYPE VALUE, MAKING IT BECOMEMULTIPARTRELATED; TYPE=TEXTXML;     BOUNDARY=----=_PART_9_24374438.1048047839137SOAPACTIONBECAUSE APR_PALLOC ALLOCATES MEMORY IN SIZES OF MULTIPLES OF 8 (SEEAPR_ALIGN_DEFAULT), THIS BUG DOES NOT SHOW UP IF THE WRAPPED VALUE IS NOT AMULTIPLE OF 8, SINCE THE PADDING PROVIDES SPACE FOR THE TRAILING 0.THIS BUG CANNOT BE WORKED AROUND, SINCE THE HEADERS IN THIS CASE ARE GENERATEDBY SUNS SAAJ CLASSES AND CANNOT BE MODIFIED TO AVOID TRIGGERING THIS BUG, HENCETHE BLOCKER SEVERITY.TESTED PATCH:$ DIFF ORIGINAL-PROTOCOL.C HTTPD-2.0.44SERVERPROTOCOL.C807,808C807,808<                     IF (LAST_LEN + LEN > ALLOC_LEN) <                         ALLOC_LEN = LAST_LEN + LEN;--->                     IF (LAST_LEN + LEN + 1 > ALLOC_LEN) >                         ALLOC_LEN = LAST_LEN + LEN + 1;","SUMMARY":"MEMORY ALLOCATION FOR WRAPPED HTTP HEADER IS INCORRECT","CLASS":1}
{"ID_DEFECT":"19175","DESCRIPTION":"MINOR TYPO FOUND IN HTTPD.CONFERRORCODES 415 AND 503 POINTS TO SAME FILE.#    ERRORDOCUMENT 415 ERRORHTTP_SERVICE_UNAVAILABLE.HTML.VAR#    ERRORDOCUMENT 503 ERRORHTTP_SERVICE_UNAVAILABLE.HTML.VAR","SUMMARY":"TWO ERRORCODES POINT TO SAME ERRORDOCUMENT","CLASS":1}
{"ID_DEFECT":"19207","DESCRIPTION":"HTTP:[3FFE:B00:4041:ACE0:260:F8FF:FE03:BC9]RESOURCES SHOULD REDIRECT TOHTTP:[3FFE:B00:4041:ACE0:260:F8FF:FE03:BC9]RESOURCES  (ADD SLASH).INTSTEAD IT SEEMS TO REDIRECT TO:HTTP:3FFE:B00:4041:ACE0:260:F8FF:FE03:BC9RESOURCES  (REMOVE SQUARE BRACKETSAND ADD SLASH).THIS, OF COURSE, DOES NOT RESOLVE.","SUMMARY":"REDIRECTION BROKEN UNDER IPV6","CLASS":1}
{"ID_DEFECT":"19611","DESCRIPTION":"THE GENERATED SSL.CONF AND HTTPD.CONF FILES EACH DEFINE DOCUMENTROOT,BUT THEY DO IT DIFFERENTLY, AND UNLESS THE INSTALLATION IS BUILTTO MAKE THE DOCUMENTROOT BE SERVERROOTHTDOCS, THEY WILL NOT MATCH.UNTIL ONE OF THEM IS HAND-EDITED.APPARENT FIXES WOULD BE TO EITHER GENERATE DOCUMENTROOT IN SSL.CONFTO BE THE SAME AS IN HTTPD.CONF, OR PERHAPS BETTER, TO OMIT THEDOCUMENTROOT LINE ENTIRELY FROM SSL-STD.CONF.CRIS@CRISP4 HTTPD-2.0.45]$ GREP DOCUMENTROOT DOCSCONFSSL-STD.CONFDOCUMENTROOT @@SERVERROOT@@HTDOCS[CRIS@CRISP4 HTTPD-2.0.45]$ GREP DOCUMENTROOT DOCSCONFHTTPD-STD.CONF.INDOCUMENTROOT @EXP_HTDOCSDIR@","SUMMARY":"SSL.CONF DOCUMENTROOT DOES NOT MATCH HTTPD.CONF","CLASS":1}
{"ID_DEFECT":"24884","DESCRIPTION":"I MADE A LOT OF TEST WITH APACHE 2.0.48 COMPILED ON HP-UX 11.00 AND WITH THEAPACHE INCLUDED IN MANDRAKELINUX 9.1.WHEN I DO A GET AND OBTAIN A 200 IN THE REPLY THERE ARE THE CACHE HEADERS, BUTWHEN THE REPLY IS 304 THERE IS NO WAY HAVE THEESE HEADERS. SO WHEN THE BROWSERSCACHE EXPIRES, THE EXPIRE-DATE IS NOT UPDATED MORE. FOR EACH PAGE I OBTAIN A 304FOR EACH ELEMENT FOR EVER...EXAMPLE:THE REQUEST:GET TEST.HTML HTTP1.1ACCEPT: **ACCEPT-LANGUAGE: ITACCEPT-ENCODING: GZIP, DEFLATEIF-MODIFIED-SINCE: THU, 20 NOV 2003 11:54:42 GMTIF-NONE-MATCH: 12A-A0006480USER-AGENT: MOZILLA4.0 (COMPATIBLE; MSIE 6.0)HOST: 10.254.3.20CONNECTION: KEEP-ALIVETHE 304 (EXPIRE-DATE IS NOT UPDATED):HTTP1.1 304 NOT MODIFIEDDATE: FRI, 21 NOV 2003 09:40:43 GMTSERVER: APACHECONNECTION: KEEP-ALIVEKEEP-ALIVE: TIMEOUT=10, MAX=8ETAG: 12A-A0006480THE 200 (THE CACHE IS UPDATED):HTTP1.1 200 OKDATE: FRI, 21 NOV 2003 09:40:43 GMTSERVER: APACHELAST-MODIFIED: THU, 20 NOV 2003 11:54:42 GMTETAG: 12A-A0006480ACCEPT-RANGES: BYTESCONTENT-LENGTH: 298CACHE-CONTROL: MAX-AGE=86400EXPIRES: SAT, 22 NOV 2003 09:40:33 GMTKEEP-ALIVE: TIMEOUT=10, MAX=10CONNECTION: KEEP-ALIVECONTENT-TYPE: TEXTHTML; CHARSET=ISO-8859-1DATA (298 BYTES)I THINK THERE IS A PROBLEM IN MOD_EXPIRES...THANKSFABIO","SUMMARY":"WHEN THE RESPONSE IS 304 APACHE DOESNT INCLUDE CACHE HEADERS","CLASS":1}
{"ID_DEFECT":"25414","DESCRIPTION":"<LIMIT> AND <LIMITEXCEPT> DO NOT REQUIRE A CLOSING > IN THE INITIAL CONTAINER. THAT IS<LIMIT GET POST...<LIMIT>IS CURRENTLY ACCEPTED AS VALID.  PATCHAVAILABLE.INDEX: SERVERCORE.C===================================================================RCS FILE: HOMECVSPUBLICHTTPD-2.0SERVERCORE.C,VRETRIEVING REVISION 1.252DIFF -U -R1.252 CORE.C--- SERVERCORE.C       21 NOV 2003 15:02:04 -0000      1.252+++ SERVERCORE.C       10 DEC 2003 17:16:59 -0000@@ -1552,11 +1552,21 @@     RETURN NULL;   +*+ * REPORT A MISSING-> SYNTAX ERROR.+ *+STATIC CHAR *UNCLOSED_DIRECTIVE(CMD_PARMS *CMD)++    RETURN APR_PSTRCAT(CMD->POOL, CMD->CMD->NAME,+                       > DIRECTIVE MISSING CLOSING >, NULL);++ AP_CORE_DECLARE_NONSTD(CONST CHAR *) AP_LIMIT_SECTION(CMD_PARMS *CMD,                                                       VOID *DUMMY,                                                       CONST CHAR *ARG) -    CONST CHAR *LIMITED_METHODS = AP_GETWORD(CMD->POOL, &ARG, >);+    CONST CHAR *ENDP = AP_STRRCHR_C(ARG, >);+    CONST CHAR *LIMITED_METHODS;     VOID *TOG = CMD->CMD->CMD_DATA;     APR_INT64_T LIMITED = 0;     CONST CHAR *ERRMSG;@@ -1566,6 +1576,12 @@         RETURN ERR;       +    IF (ENDP == NULL) +        RETURN UNCLOSED_DIRECTIVE(CMD);+    ++    LIMITED_METHODS = APR_PSTRNDUP(CMD->POOL, ARG, ENDP - ARG);+     WHILE (LIMITED_METHODS[0])          CHAR *METHOD = AP_GETWORD_CONF(CMD->POOL, &LIMITED_METHODS);         INT METHNUM;@@ -1609,15 +1625,6 @@ #ELSE #DEFINE USE_ICASE 0 #ENDIF--*- * REPORT A MISSING-> SYNTAX ERROR.- *-STATIC CHAR *UNCLOSED_DIRECTIVE(CMD_PARMS *CMD)--    RETURN APR_PSTRCAT(CMD->POOL, CMD->CMD->NAME,-                       > DIRECTIVE MISSING CLOSING >, NULL);-   STATIC CONST CHAR *DIRSECTION(CMD_PARMS *CMD, VOID *MCONFIG, CONST CHAR *ARG) ","SUMMARY":"CAPTURE MALFORMED <LIMIT DIRECTIVES","CLASS":1}
{"ID_DEFECT":"25460","DESCRIPTION":"THIS WAS FIRST POSTED ON HTTPD-DEVHTTP:MARC.THEAIMSGROUP.COM?T=107089936600004&R=1&W=2CURRENTLY, ALL CORE CONTAINER DIRECTIVES HAVE AN ISSUE (ALBEIT A MINOR ONE)- THEY REQUIRE AN ARGUMENT IN PRACTICE BUT ARE ALLOWED TO PROCEED WITHOUTONE DURING CONFIGURATION.FOR EXAMPLE<IFMODULE >DOES NOT CURRENTLY THROW AN ERROR.  INSTEAD, THE CONFIG IS ALLOWED TOPROCEED, SOAKING UP THE CONTAINER.  MORE DETAILS ARE AVAILABLE WITHIN THE THREAD.THERE HAS BEEN DISCUSSION ON HTTPD-DEV WHETHER <IFDEFINE > SHOULD BE ALLOWED,EQUALLY SPLIT BETWEEN THE TWO PEOPLE WHO VOICED THEIR OPINION.THIS PATCH ATTEMPTS TO BRIDGE THE GAP, REQUIRING THAT CORE CONTAINERS SPECIFYARGUMENTS, WHILE <IFDEFINE 0> IS GUARANTEED TO NEVER BE TRUE (-D0 BECOMESINVALID, SIMILAR TO -D), THUS PROVIDING A MIGRATION PATH AWAY FROM <IFDEFINE >.","SUMMARY":"<IFDEFINE >, <IFMODULE > ARE VALID SYNTAX","CLASS":1}
{"ID_DEFECT":"27189","DESCRIPTION":"SPECIFYING A SCOREBOARDFILE CAUSES APACHE TO EXIT WITH THE FOLLOWING IN THEERROR_LOG:[TUE FEB 24 09:09:01 2004] [CRIT] (17)FILE EXISTS: UNABLE TO CREATE SCOREBOARDUSRLOCALAPACHE2LOGSAPACHE_RUNTIME_STATUS (NAME-BASED SHARED MEMORY FAILURE)THE RELEVANT SECTION FROM MY HTTPD.CONF:  <IFMODULE !PERCHILD.C>    SCOREBOARDFILE LOGSAPACHE_RUNTIME_STATUS  <IFMODULE>LOOKING AT SERVERSCOREBOARD.C, THERES A COMMENT:    * THE SHARED MEMORY FILE MUST NOT EXIST BEFORE WE CREATE THE     * SEGMENT. *THE SCOREBOARD FILE HAS DEFINITELY BEEN CREATED AT THIS POINT THOUGH -- I TRIEDDELETING IT JUST BEFORE STARTING THE SERVER, AND THE CRASH STILL OCCURS, WITH ANEW SCOREBOARD IN LOGSAPACHE_RUNTIME_STATUS.IF I COMMENT OUT THE SCOREBOARDFILE DIRECTIVE, THE SERVER STARTS FINE, AND NOSCOREBOARD FILE IS CREATED (AS EXPECTED).INFO FROM MY BUILD:# CD USRLOCALAPACHE2# .BINHTTPD -VSERVER VERSION: APACHE2.0.48SERVER BUILT:   FEB 19 2004 11:07:53SERVERS MODULE MAGIC NUMBER: 20020903:4ARCHITECTURE:   32-BITSERVER COMPILED WITH.... -D APACHE_MPM_DIR=SERVERMPMPREFORK -D APR_HAS_SENDFILE -D APR_HAS_MMAP -D APR_HAVE_IPV6 (IPV4-MAPPED ADDRESSES ENABLED) -D APR_USE_SYSVSEM_SERIALIZE -D APR_USE_PTHREAD_SERIALIZE -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT -D APR_HAS_OTHER_CHILD -D AP_HAVE_RELIABLE_PIPED_LOGS -D HTTPD_ROOT=USRLOCALAPACHE2 -D SUEXEC_BIN=USRLOCALAPACHE2BINSUEXEC -D DEFAULT_PIDLOG=LOGSHTTPD.PID -D DEFAULT_SCOREBOARD=LOGSAPACHE_RUNTIME_STATUS -D DEFAULT_LOCKFILE=LOGSACCEPT.LOCK -D DEFAULT_ERRORLOG=LOGSERROR_LOG -D AP_TYPES_CONFIG_FILE=CONFMIME.TYPES -D SERVER_CONFIG_FILE=CONFHTTPD.CONF# .BINHTTPD -LCOMPILED IN MODULES:  CORE.C  MOD_ACCESS.C  MOD_AUTH.C  MOD_AUTH_DIGEST.C  MOD_INCLUDE.C  MOD_LOG_CONFIG.C  MOD_ENV.C  MOD_SETENVIF.C  MOD_SSL.C  PREFORK.C  HTTP_CORE.C  MOD_MIME.C  MOD_DAV.C  MOD_STATUS.C  MOD_AUTOINDEX.C  MOD_ASIS.C  MOD_CGI.C  MOD_DAV_FS.C  MOD_DIR.C  MOD_ACTIONS.C  MOD_USERDIR.C  MOD_ALIAS.C  MOD_REWRITE.C  MOD_SO.C","SUMMARY":"SPECIFYING SCOREBOARDFILE CAUSES EXIT IN 2.0.48","CLASS":1}
{"ID_DEFECT":"27649","DESCRIPTION":"WHEN REQUESTING A BYTE RANGE WHICH STARTS AT A BIGGER OFFSET THAN 2GB ITS DENIED WITH 403.ERROR.LOG STATES:[<DATE>] [ERROR] [CLIENT <IP>] (75)VALUE TOO LARGE FOR DEFINED DATA TYPE: ACCESS TO <FILENAME> FAILEDPROBABLY AN INT32 NEEDS TO CONVERTED TO INT64.","SUMMARY":"NO RESUME AFTER 2GB","CLASS":1}
{"ID_DEFECT":"27927","DESCRIPTION":"WHEN MULTIPLE FILE BUCKETS EXIST IN A BRIGADE THAT IS TO BE SENT OUT ANDEMULATE_SENDFILE() IS USED TO DO IT, SOME BUCKETS MAY BE MISALIGNED (I.E. THEOUTPUT WILL APPEAR GARBLED). THE ISSUE IS RELATED TO A MISSING APR_FILE_SEEK()CALL WHEN OFFSET IS 0 (I.E. EMULATE_SENDFILE() INCORRECTLY ASSUMES THAT IT IS ATTHE BEGINNING OF THE FILE).THE PATCH THAT FIXES THAT PROBLEM IS ATTACHED.","SUMMARY":"MULTIPLE FILE BUCKETS DELIVERED INCORRECTLY BY EMULATE_SENDFILE","CLASS":1}
{"ID_DEFECT":"28063","DESCRIPTION":"* KILL REMAINING THREADS OFF THE HARD WAY *    IF (THREADS_CREATED)         AP_LOG_ERROR(APLOG_MARK,APLOG_NOTICE, APR_SUCCESS, AP_SERVER_CONF,                      CHILD %D: TERMINATING %D THREADS THAT FAILED TO EXIT.,MY_PID);SHOULD BE ==>>>      CHILD %D: TERMINATING %D THREADS THAT FAILED TO EXIT.,MY_PID, THREADS_CREATED);        FOR (I = 0; I < THREADS_CREATED; I++)         INT *SCORE_IDX;        TERMINATETHREAD(CHILD_HANDLES[I], 1);        CLOSEHANDLE(CHILD_HANDLES[I]);        * RESET THE SCOREBOARD ENTRY FOR THE THREAD WE JUST WHACKED *        SCORE_IDX = APR_HASH_GET(HT, &CHILD_HANDLES[I], SIZEOF(HANDLE));SHOULD INSERT ===> IF (SCORE_IDX != NULL)        AP_UPDATE_CHILD_STATUS_FROM_INDEXES(0, *SCORE_IDX, SERVER_DEAD, NULL);           ","SUMMARY":"MISSING PARAMETER IN AP_LOG_ERROR AND LACK OF NULL CHECKING IN CHILD.C:1051","CLASS":1}
{"ID_DEFECT":"28459","DESCRIPTION":"FIRST I MUST ADMIT THAT ITS VERY SURPRISING TO ME, CONSIDERING THERE ARE MORETHAN 400 MILLION POTENTIONAL USERS, THAT NOBODY HAS REPORTED THIS ISSUE.NONE OF MOZILLA 1.5, MOZILLA 1.6, AND KONQUEROR 3.1.3 (WHICH TO MY KNOWLEDGE ISNOT GECKO BASED AND THUS MAKES ME BELIEVE THAT THIS ACTUALLY IS AN ERROR INAPACHE) DO RENDER &EXCL; AS !. SEE TITLE OF SPANISH (ES) TRANSLATIONS. IS &EXCL; REALLY AN ACKNOWLEDGED NAME FOR REPRESENTING A ! (I.E. &#033;)?OTHER LANGUAGES USE THE EXCLAMATION MARK ! EXPLICITLY IN THEIR TRANSLATIONS,E.G. GERMAN, FRENCH, SWEDISH, ETC.THEREFORE AN EXPLICIT EXCLAMATION MARK ! SHOULD BE FINE FOR SPANISH TOO.BEST REGARDS,ROLF SPONSEL","SUMMARY":"CUSTOMIZABLE ERROR DOCUMENTS; SPANISH TRANSLATIONS USE &EXCL; INSTEAD OF ! TO REPRESENT AN EXCLAMATION MARK.","CLASS":1}
{"ID_DEFECT":"28523","DESCRIPTION":"THE CORE FUNCTION AP_SET_SUB_REQ_PROTOCOL IS NOT EXPORTED FOR WIN32 BUILDS OFAPACHE 2, BUT IS ON UNIX BUILDS.AP_DECLARE SHOULD BE WRAPPED AROUND THE VOID ON LINE 983 OF SERVERPROTOCOL.C-AP_SET_SUB_REQ_PROTOCOL(REQUEST_REC *RNEW, CONSTREQUEST_REC *R)+AP_DECLARE(VOID) AP_SET_SUB_REQ_PROTOCOL(REQUEST_REC *RNEW, CONSTREQUEST_REC *R)I AM USING THIS FUNCTION IN MY MOD_FTPD MODULE AT THE URL IN THE BUG REPORT. SVNREPOSITORY IS HERE.. HTTP:SVN.OUTOFORDER.CCSVNMOD_FTPDTRUNK WHERE I HAVEMY *QUICK HACK* TO GET IT COMPILING ON WIN32 BY INCLUDING THAT FUNCTION IN ASEPARATE FILE (WIN32.C).","SUMMARY":"AP_SET_SUB_REQ_PROTOCOL NOT EXPORTED ON WIN32","CLASS":1}
{"ID_DEFECT":"29106","DESCRIPTION":"HI.IM USING APACHE 2.0.49 WITH MOD_PHP 4.3.4 ON GENTOO LINUX (X86).MY CONFMODULES.D70_MOD_PHP.CONF DEFINES LIMITREQUESTBODY AS FOLLOWS:--- CUT HERE ---    # FIX SOME BUGS    <FILES *.PHP>          LIMITREQUESTBODY 524288        REQUESTHEADER UNSET IF-MODIFIED-SINCE    <FILES>    <FILES *.PHP3>          LIMITREQUESTBODY 524288        REQUESTHEADER UNSET IF-MODIFIED-SINCE    <FILES>    <FILES *.PHP4>          LIMITREQUESTBODY 524288        REQUESTHEADER UNSET IF-MODIFIED-SINCE    <FILES>    <FILES *.PHPS>          LIMITREQUESTBODY 524288        REQUESTHEADER UNSET IF-MODIFIED-SINCE    <FILES>    <FILES *.PHTML>          LIMITREQUESTBODY 524288        REQUESTHEADER UNSET IF-MODIFIED-SINCE    <FILES>--- CUT HERE ---IT IS NOT SET ELSEWHERE. NOW I WANT TO ALLOW UPLOAD OF ARBITRARILY LARGE FILESIN ONE DIRECTORY ON ONE VIRTUAL HOST (THERE IS A PHP APPLICATION (EGROUPWARE)RUNNING IN THIS DIRECTORY) BUT SETTING LIMITREQUESTBODY TO 0 JUST DOESNT WORK.ASTRID KEU00DFLER TOLD ME ON USERS-DE@HTTPD.APACHE.ORG [1] THAT THIS IS A BUG IN APACHE.[1] HTTP:MARC.THEAIMSGROUP.COM?L=APACHE-HTTPD-USERS-DE&M=108500058222033&W=2","SUMMARY":"RESETTING LIMITREQUESTBODY TO 0 (NO LIMIT) DOESNT WORK","CLASS":1}
{"ID_DEFECT":"29503","DESCRIPTION":"HTTPD 2.0.49 WILL SEGFAULT IF YOU DO NOT SPECIFY A LISTEN DIRECTIVE IN THE CONFIGURATION FILE.  IN PREVIOUS VERSIONS THERE WAS A NICE ERROR MESSAGE THAT WARNED YOU OF THIS AND THEN EXITED.  THE SEGFAULT OCCURS IN THE FUNCTION AP_LISTEN_OPEN IN SERVERLISTEN.C, LINE 338.  IF THERE IS NO LISTEN STATEMENT IN THE CONFIG FILE, THEN AP_LISTEN_OPEN TRIES TO WALK THRU THE LINKED LIST OF LISTENERS ANYWAYS.  PLEASE ADD ERROR HANDLING FOR THE CASE THAT THIS DIRECTIVE ISNT SPECIFIED AND ADD AN ASSERT TO THE FUNCTION OR CHANGE LINE 338 TO IF (AP_LISTENERS && AP_LISTENERS->NEXT) ","SUMMARY":"HTTPD SEGFAULT DUE TO BAD CONFIG FILE ERROR HANDLING","CLASS":1}
{"ID_DEFECT":"30732","DESCRIPTION":"IF YOU RUN ANY OF THE DEFAULT ERROR PAGES THROUGH THE W3CS VALIDATOR YOU WILLFIND THEY ARE NOT VALID.","SUMMARY":"DEFAULT ERROR PAGES ARE NOT VALID HTML","CLASS":1}
{"ID_DEFECT":"31226","DESCRIPTION":"I USE APACHE 2.0 TO HAVE A REVERSE PROXY WEB SERVER THATCOMPRESS WITH MOD_DEFLATE THE WEB PAGES IN DIRECTION OF THE USERS.APPLICATIONS BEHIND (ON APPLICATION PROXIFIED SERVER) GENERATE :- TEXTHTML DOCUMENT- APPLICATIONPDF OR OTHERS LIKE JPG DOCUMENT BOTH USING AN URL SUCH AS HTTP:MYREVERSEPROXYAPPLICATIONAPPLICATION.EXEOR APPLICATION.PHP WHATEVER LIKE THIS.THE URL IS ALWAYS THE SAME FOR ONE APPLICATION, ONLY THE CONTEXT (SESSION)IMPLIES THE ANSWEAR (HTML OR PDF DOCUMENT).WE WANT TO COMPRESS DOCUMENT WITH TYPE MIME = TEXT, BUT NOT THOSEWITH JPG OR PDF TYPE MIME.BUT HERE IS THE PROBLEM, WITH PROXYPASS AND PROXYPASSREVERSE :1) USING SETOUTPUTFILTER DEFLATE IMPLIES THAT EVERYTHING IS COMPRESSEDEVEN IF THE MIME TYPE IS A PDF OR JPG SINCE THE EXCLUSION CAN BE BASED ONLY ON URL, WHICH IS NOT POSSIBLE HERE.WE CAN EXCLUDE FILES LIKE HTTP:MYREVERSEPROXYAPPLICATIONIMAGE.JPGBUT NOT THE SAME JPG CREATE DYNAMICALLY BY HTTP:MYREVERSEPROXYAPPLICATIONAPPLICATION.EXE2) USING ADDOUTPUTFILTERBYTYPE DEFLATE TEXTHTML TEXTPLAINCOMPRESSED NOTHING AT ALL, NEITHER HTML NEITHER PDF OR JPG.AND ACCORDINGLY TO THE DOCUMENTATION AND SOURCES ON THE WEB,THIS SECOND SOLUTION SHOULD BE THE CORRECT ONE.EVERY MIME TYPES ARE DEFINED AND OK, THE RETURNED DOCUMENTSARE USING THE CORRECT MIME TYPE (TEXTHTML, APPLICATIONPDF, ...).I FOUND NOT MUCH INFORMATION ON THE WEB ON A REVERSE PROXY WITHCOMPRESSION AT THE SAME TIME.IT IS QUITE A BIG PROBLEM FOR US SINCE WE CANNOT USETHE WEB COMPRESSION IN THIS CONDITIONS.HAS SOMEONE HAVE THIS PROBLEM TOO ?WHAT CAN I DO TO CORRECT THIS ?THANK YOU FOR YOUR HELP","SUMMARY":"ADDOUTPUTFILTERBYTYPE DEFLATE NOT ACTIVE WITH MOD_PROXY","CLASS":1}
{"ID_DEFECT":"33454","DESCRIPTION":"AP_LOG_ERROR NOW ESCAPES ESCAPE SEQUENCES SUCH AS NEWLINE AND TAB SO THAT THEYAPPEAR AS THE TWO-CHARACTER STRINGS T OR  IN ERROR_LOG (UNLESS HTTPD WASBUILT WITH -DAP_UNSAFE_ERROR_LOG_UNESCAPED).SOME CALLERS THROUGHOUT THE CODE STILL SEND  WITHIN THE STRING ARGUMENT SENTTO AP_LOG_ERROR, TRIVIAL PATCH ATTACHED REMOVES THE FORMATTING FROM THESE CALLS(ESCAPED FORMATTING WOULD OBSCURE THINGS VS. MAKE THEM STAND OUT AS I PRESUMETHE FORMATTING WAS INTENDED FOR)","SUMMARY":"ESCAPE SEQUENCES PASSED TO AP_LOG_ERROR","CLASS":1}
{"ID_DEFECT":"8174","DESCRIPTION":"NOT SURE IF THIS IS OPERATOR ERROR OR A BUG, BUT IT APPEARS TO BE A BUG. UNDER 1.3, USING PROXYPASS AND PROXYREVERSE WITHIN AN SSL VIRTUALHOST, ONE COULDADD AN SSL FRONT-END TO A SECOND SERVER THAT MAY NOT SUPPORT SSL. THISCONFIGURATION DOESNT SEEM TO WORK UNDER 2.0.35.ON MY CONFIGURATION, SSL VIRTUAL HOSTS WORK FINE, AND BOTH FORWARD AND REVERSEPROXY VIRTUAL HOSTS WORK FINE WHEN THEY ARE NOT SSL. AN SSL VIRTUAL HOST WITH AREVERSE PROXY, HOWEVER, CONNECTS (VERIFIED USING OPENSSLS S_CLIENT COMMAND),BUT NEVER RESPONDS. COMMENTING OUT THE REVERSE PROXY LINES ON THAT EXACT VIRTUALHOST CAUSES THE DEFAULT APACHE HTML PAGES TO COME UP, SO THE SSL ISNT THE PROBLEM.ALSO, THE REMOTE SERVER DOES SEE THE SOCKET OPENED BY THE PROXY, BUT DOES NOTRECEIVE ANY DATA. (VERIFIED BY POINTING THE REVERSE PROXY AT A DUMMY JAVA HTTPSERVER -- PROXY CONNECTS, NO DATA COMES THROUGH)","SUMMARY":"USING MOD_PROXY REVERSE PROXY WITH MOD_SSL CAUSES HANG","CLASS":1}
{"ID_DEFECT":"8597","DESCRIPTION":"THE HTTP INPUT FILTER IN HTTP_PROTOCOL.C DOESNT CORRECTLY HANDLE RESPONSES USING THE CHUNKED TRANSFER ENCODING. IT DOESNT READ THE CRLF AFTER THE 0 CHUNK THAT TERMINATED THE RESPONSE. THIS IS NOT A PROBLEM EXCEPT WHEN A KEEPALIVE CONNECTION IS BEING USED. THAT LAST CRLF IS READ AS THE FIRST LINE OF THE NEXT RESPONSE WHICH CAUSED ALL KINDS OF PROBLEMS FOR MOD_PROXY.ON THE FIRST REQUEST OF A PAGE THROUGH MOD_PROXY THE PAGE WILL RETURN PROPERLY, ON THE NEXT (IF A KEEPALIVE CONNECTION IS IN USE) IT WILL READ THE CRLF AS THE FIRST LINE OF THE RESPONSE AND FAIL. THE NEXT LOAD AFTER THAT WILL RECONNECT AND IT WILL THEN WORK AGAIN. SO RESPONSES USING CHUNKED TRANSFER ENCODING END UP WORKING THROUGH MOD_PROXY EVERY OTHER TIME.","SUMMARY":"HTTP_PROTOCOL.C DOESNT HANDLE CHUNKED TRANSFER ENCODING RIGHT","CLASS":1}
{"ID_DEFECT":"8903","DESCRIPTION":"I HAVE INSTALED THE PRECOMPILED VERSION OF APACHE WEB SERVER 2.0.36. THE ONLY CONFIGURATION MODIFICATIONS MADE ARE:- UNCOMMENT USE OF PROXY MODULESLOADMODULE PROXY_MODULE MODULESMOD_PROXY.SOLOADMODULE PROXY_CONNECT_MODULE MODULESMOD_PROXY_CONNECT.SOLOADMODULE PROXY_HTTP_MODULE MODULESMOD_PROXY_HTTP.SO- USE OF PROXY DIRECTIVES## PROXY SERVER DIRECTIVES. UNCOMMENT THE FOLLOWING LINES TO# ENABLE THE PROXY SERVER:#<IFMODULE MOD_PROXY.C>PROXYREQUESTS ONALLOWCONNECT  443 4081<PROXY *>    ORDER DENY,ALLOW#    DENY FROM ALL#    ALLOW FROM .TID    ALLOW FROM ALL<PROXY>## ENABLEDISABLE THE HANDLING OF HTTP1.1 VIA: HEADERS.# (FULL ADDS THE SERVER VERSION; BLOCK REMOVES ALL OUTGOING VIA: HEADERS)# SET TO ONE OF: OFF | ON | FULL | BLOCK#PROXYVIA ON## TO ENABLE THE CACHE AS WELL, EDIT AND UNCOMMENT THE FOLLOWING LINES:# (NO CACHEING WITHOUT CACHEROOT)##CACHEROOT C:ARCHIVOS DE PROGRAMAAPACHE GROUPAPACHE2PROXY#CACHESIZE 5#CACHEGCINTERVAL 4#CACHEMAXEXPIRE 24#CACHELASTMODIFIEDFACTOR 0.1#CACHEDEFAULTEXPIRE 1#NOCACHE A-DOMAIN.COM ANOTHER-DOMAIN.EDU JOES.GARAGE-SALE.COM<IFMODULE># END OF PROXY DIRECTIVES.HTTP PROXY WORKS FINE, BUT I SEEM UNABLE TO ACCESS HTTPS PAGES VIA PROXY. WHEN ACCESING A VALID HTTPS URL INSIDE MY DOMAIN (HTTPS:BRISA.TID:4081) THE WEB BROWSER (NETSCAPE 4.7 OR IE 5.5) HANGS FOR A WHILE BEFORE INFORMING THAT THE DOCUMENT ACCESED IS EMPTY.ACCESS LOG SHOWS:1.0.25.254 - - [08MAY2002:10:29:49 +0100] CONNECT BRISA.TID:4081 HTTP1.0 200 -1.0.25.254 - - [08MAY2002:10:40:53 +0100] CONNECT BRISA.TID:4081 HTTP1.0 200 -1.0.25.254 - - [08MAY2002:11:22:12 +0100] CONNECT BRISA.TID:443 HTTP1.0 200 -","SUMMARY":"CONNECT PROXY NOT WORKING","CLASS":1}
{"ID_DEFECT":"12911","DESCRIPTION":"WITH PROXYERROROVERRIDE ON, MOD_PROXY INCORRECTLY FAILS TO PASS THE WWW-AUTHENTICATE HEADER THROUGH TO THE CLIENT ON 401 RESPONSES FROM THE ORIGIN SERVER.IT SEEMS THE PROBLEM IS THAT AP_SEND_ERROR_RESPONSE() CLEARS R->HEADERS_OUT, WHILE AP_PROXY_HTTP_PROCESS_RESPONSE() DOES NOT COPY THE WWW-AUTHENTICATE HEADER INTO R->ERR_HEADERS_OUT.A PATCH WHICH FIXES THIS FOLLOWS.(NOTE RE THE SECOND PASSAGE OF THE PATCH: IF WE DONT DISCARD THE REQUEST BODY THAT ACCOMPANIED THE 401 RESPONSE, IT IS STILL THERE ON THE SOCKET WHEN AUTH SUCCEEDS... AND IS THEREFORE PREPENDED, IN ITS RAW CHUNKED GLORY, WHEN THE ACTUAL CONTENT PAGE FROM THE ORIGIN SERVER IS SERVED TO THE CLIENT.  THUS WE MUST DISCARD THE REQUEST BODY PRIOR TO EXITING FROM AP_PROXY_HTTP_PROCESS_RESPONSE() ON 401 RESPONSES WITH PROXYERROROVERRIDE ON.NOTE THAT THIS PATCH APPEARS TO CORRECT THE PROBLEM, BUT HAS NOT YET RECEIVED EXTENSIVE TESTING.*** MODULESPROXYPROXY_HTTP.C.ORIG     THU SEP 19 14:47:51 2002--- MODULESPROXYPROXY_HTTP.C  THU SEP 19 17:38:36 2002****************** 863,868 ****--- 863,879 ----                          +       IF ((R->STATUS == 401) && (CONF->ERROR_OVERRIDE != 0)) +           CONST CHAR *BUF;+           CONST CHAR *WA = WWW-AUTHENTICATE;+           IF (BUF = APR_TABLE_GET(R->HEADERS_OUT, WA)) +               APR_TABLE_SET(R->ERR_HEADERS_OUT, WA, BUF);+            ELSE +               AP_LOG_ERROR(APLOG_MARK, APLOG_DEBUG, 0, R->SERVER,+                            PROXY: ORIGIN SERVER SENT 401 WITHOUT W-A HEADER);+           +       +           R->SENT_BODYCT = 1;          * IS IT AN HTTP0.9 RESPONSE? IF SO, SEND THE EXTRA DATA *          IF (BACKASSWARDS) ****************** 969,974 ****--- 980,986 ----               *              INT STATUS = R->STATUS;              R->STATUS = HTTP_OK;+           AP_DISCARD_REQUEST_BODY(RP);              RETURN STATUS;                 ELSE","SUMMARY":"WWW-AUTHENTICATE HEADER LOST WHEN REVERSE-PROXYING WITH PROXYERROROVERRIDE ON","CLASS":1}
{"ID_DEFECT":"13945","DESCRIPTION":"TARGET:  IBM-HTTP-SERVER (APACHE 1.3.XX) FLOW:1- BROWSER SENDS REQUEST TO PROXY2- PROXY PASSES REQUEST FOR PDF DOC TO IBM3- IBM WS STARTS RETURNING THE DATA TO THE PROXY USING CONTENT-LENGTH HEADERS (HTTP1.1)4- WHEN THE COMPLETE DOCUMENT IS RETRIEVED TO THE PROXY (THIS IS ALSO A BIT CONFUSING BUT NEVER MIND) THE 200 OK REPLY FROM THE PROXY TO THE BROWSER IS RETURNED WITH THE FOLLOWING HEADERS:HTTP1.1 200 OKDATE: (CORRECT DATE)SERVER: IBM_HTTP_SERVER1.3.19.2 APACHE1.3.20 (UNIX)LAST-MODIFIED: (LAST MODIFIED DATE)ETAG: 21ACA-49.........ACCEPT-RANGES: BYTESCONTENT-TYPE: APPLICATIONPDFCONNECTION: CLOSEDATA....NOW IE EITHER CLOSES THE CONNECTION AND RE-TRIES (USER STILL DONT HAVE THE DOCUMENT) THE GET, OR SENDS A (RESET) ON TCP LEVEL AND RETRIES THE GET.MY GUESS IS THAT IE 5 DOES NOT UNDERSTAND THAT IT IS A CHUNCKED ENCODING APACHE WANTS TO PERFORM BECAUSE THE TRANSFER-ENCODING: CHUNKED HEADER IS MISSING.I WILL SEND THE COMPLETE SNIFFER FILE IN ANY FORMAT (ETHEREAL  TCPDUMP SNOOP ..) ON REQUEST FOR FURTHER ANALYSIS.REGARDS,DARIO.","SUMMARY":"MISSING TRANSFER-ENCODING: CHUNKED HEADER FROM PROXY.","CLASS":1}
{"ID_DEFECT":"14385","DESCRIPTION":"TO BE REALLY CLEAR, HERE IS OUR ARCHITECTURE :         +---------+   +---------+   +---------+         |MOD_PROXY|   |MOD_PROXY|   |         |CLIENT---|  2.0.43 |---|MOD_CACHE|---|   IIS   |         |         |   |  2.0.43 |   |         |         +---------+   +---------+   +---------+                A             B             CWITH MOD_CACHE DISABLED ON B---------------------------- 1) WHEN B REQUESTS A FILE ON THE IIS SERVER, IIS SPECIFIES IN THE RESPONSE THE ACCEPT-RANGE: BYTES DIRECTIVE AND THE CONTENT-LENGTH.2) WHEN B SENDS THE RESPONSE TO A, ACCORDING TO THE RFC 2616, IT REMOVES THE CONTENT-LENGTH FROM HEADER AND ADD A TRANSFER-ENCODING: CHUNKED DIRECTIVE.3) THEN, A DELIVERS THE SAME RESPONSE TO THE CLIENT.4) EVERYTHING SEEMS OK IN THIS CASE.WITH MOD_CACHE ENABLED ON B---------------------------1) FIRST REQUEST, THE FILE IS NOT ON THE CACHE. SO B REQUESTS A FILE ON THE IIS SERVER, IIS SPECIFIES IN THE RESPONSE THE ACCEPT-RANGE: BYTES DIRECTIVE AND THE CONTENT-LENGTH.2) ON B, MOD_PROXY REMOVES THE CONTENT-LENGTH HEADER AS SAID BEFORE, AND PASS THE RESPONSE TO MOD_CACHE.3) ON B, MOD_CACHE DOESNT SEE ANY CONTENT-LENGTH, SO IT CONSIDERS THE RESPONSE AS A STREAM (SEE BUG 14364). IT CACHES THE RESPONSE ON THE DISK, AND LET MOD_PROXY DELIVER THE RESPONSE, AS BEFORE.4) A DELIVERS TO THE CLIENT AS RECEIVED FROM B.5) SECOND REQUEST, THE FILE IS ON THE CACHE. SO ON B, MOD_CACHE DELIVERS IT TO A WITH A TRANSFER-ENCODING: CHUNKED DIRECTIVE BUT ALSO ADD THE INITIAL CONTENT-LENGTH. WHY ?6) WHEN A RESPONDS TO THE CLIENT, IT PUTS THE CONTENT-LENGTH VALUE TO ZERO, REMOVES THE TRANSFER-ENCODING: CHUNKED DIRECTIVE AND DOESNT DELIVER THE FILE.7) IF, IN THE SAME HTTP1.1 SESSION, THE CLIENT ASK ONCE MORE FOR THE FILE, THEN AFTER A LONG TIME (15 SECONDS !) A DELIVERS A 2-CHUNKS RESPONSE, THE SECOND ONE CONTAINING THE RESPONSE (HEADER+FILE) RECEIVED FROM B.NETWORK TRACES TO ILLUSTRATE----------------------------REQUEST:GET IMAGESLOGOGFA.GIF HTTP1.1HOST: WWW.LEA.GENERALI.FR1) RECEIVED BY B FROM IISHTTP1.1 200 OKSERVER: MICROSOFT-IIS5.0DATE: FRI, 08 NOV 2002 11:53:10 GMTCONTENT-TYPE: IMAGEGIFACCEPT-RANGES: BYTESLAST-MODIFIED: THU, 04 APR 2002 11:53:18 GMTETAG: 0CB674FCFDBC11:ABFCONTENT-LENGTH: 2011...(DATA)2-3) RECEIVE BY A FROM B (DELIVERED BY MOD_PROXY BECAUSE IMAGE IS NOT IN THE CACHE)HTTP1.1 200 OKDATE: FRI, 08 NOV 2002 12:00:12 GMTSERVER: MICROSOFT-IIS5.0CONTENT-TYPE: IMAGEGIFACCEPT-RANGES: BYTESLAST-MODIFIED: THU, 04 APR 2002 11:53:18 GMTETAG: 0CB674FCFDBC11:ABFTRANSFER-ENCODING: CHUNKED...(DATA)  4) SAME RESPONSE AS 2-3) DELIVERED BY A TO THE CLIENT5) SECOND REQUEST FOR THIS FILE. RECEIVED BY A FROM B (DELIVERED BY MOD_CACHE BECAUSE IT IS IN THE CACHE)HTTP1.1 200 OKDATE: FRI, 08 NOV 2002 12:02:33 GMTSERVER: APACHEACCEPT-RANGES: BYTESETAG: 0CB674FCFDBC11:ABFLAST-MODIFIED: THU, 04 APR 2002 11:53:18 GMTTRANSFER-ENCODING: CHUNKEDCONTENT-TYPE: IMAGEGIFAGE: 147959900CONTENT-LENGTH: 2011X-PAD: AVOID BROWSER BUG...(DATA)6) RECEIVED BY THE CLIENT FROM A (ONLY HEADER, NO DATA)HTTP1.1 200 OKDATE: FRI, 08 NOV 2002 12:04:48 GMTSERVER: APACHEACCEPT-RANGES: BYTESETAG: 0CB674FCFDBC11:ABFLAST-MODIFIED: THU, 04 APR 2002 11:53:18 GMTCONTENT-TYPE: IMAGEGIFAGE: 282918407X-PAD: AVOID BROWSER BUGCONTENT-LENGTH: 07) RECEIVED BY THE CLIENT FROM A, AFTER A NEW REQUEST FOR THE SAME FILE IN THE SAME HTTP1.1 SESSION THAN 6). IT TAKES 15 SECONDS FOR THE RESPONSE TO BE DELIVERED BY A.HTTP1.1 200 OKDATE: FRI, 08 NOV 2002 12:08:24 GMTSERVER: APACHETRANSFER-ENCODING: CHUNKEDCONTENT-TYPE: IMAGEGIF734 (1ST CHUNK SIZE)...(1ST CHUNK DATA)5B4 (2ND CHUNK SIZE FOLLOWED BY 2ND CHUNK DATA)HTTP1.1 200 OKDATE: FRI, 08 NOV 2002 12:08:30 GMTSERVER: APACHEACCEPT-RANGES: BYTESETAG: 0CB674FCFDBC11:ABFLAST-MODIFIED: THU, 04 APR 2002 11:53:18 GMTTRANSFER-ENCODING: CHUNKEDCONTENT-TYPE: IMAGEGIFAGE: 498052908CONTENT-LENGTH: 2011X-PAD: AVOID BROWSER BUG...(DATA)0 (LAST CHUNK)","SUMMARY":"MOD_PROXY DOESNT DELIVER FILES COMING FROM A REMOTE MOD_CACHE PROXY","CLASS":1}
{"ID_DEFECT":"16812","DESCRIPTION":"AP_PROXY_LOCATION_REVERSE_MAP() IS DOING A CASE SENSITIVE COMPARISION.HOWEVER, ACCORDING TO RFC2396 SECTION 6:...THE HOST NAMES USED IN URL ARE ACTUALLY CASE INSENSITIVE...SO, AP_PROXY_LOCATION_REVERSE_MAP() SHOULD BE DOING A CASE INSENSITIVE COMPARISON.  AT LEAST ON THE HOSTNAME PART.","SUMMARY":"REVERSEPROXY NOT REWRITING LOCATION HEADER DUE DO CASE SENSITIVITY","CLASS":1}
{"ID_DEFECT":"17928","DESCRIPTION":"WHEN WORKING IN REVERSE PROXY MODE, APACHE DOES RETURN A 304 CODE TO THE FRONTEND CLIENT *ONLY WHEN* THE BACKEND CONNECTION CLOSES.CONDITIONS:- APACHE 2.0.44- MOD_PROXY CONFIGURED IN REVERSE PROXY MODE- HTTP1.1 ON FRONTEND AND BACKEND- KEEPALIVE ON FOR BOTH FRONTEND AND BACKEND CONNECTION- PROXYERROROVERRIDE ON- BACKEND SERVER SENDS A 304 NOT MODIFIED CODE.WHEN THE CLIENT REFRESHES THE PAGE, THE BACKEND RESPONDS WITH 304 NOT MODIFIED, AND KEEPS THE CONNECTION ALIVE (THATU2019S NORMAL BEHAVIOR). INSTEAD OF SENDING THE RESPONDS FRONT TO THE CLIENT, MOD_PROXY WAITS UNTIL KEEPALIVETIMEOUT OF THE BACKEND CONNECTION EXPIRES, THE SEND THE RESPONSE TO THE FRONT CLIENT.  NOTE: YOU CAN MAKE THE PROBLEM WORST BY INCREASING KEEPALIVETIMEOUT ON THE BACKEND WEBSERVER.A WORKAROUND IS TO SET KEEPALIVE OFF ON THE BACKEND. HOWEVER, IT DOESNU2019T ADDRESS THE PROBLEM ON MOD_PROXY BOX.THE ISSUE MANIFESTS WHEN YOU SET PROXYERROROVERRIDE ON.","SUMMARY":"MOD_PROXY HANGS WHEN BACKEND SERVER RETURNS A 304","CLASS":1}
{"ID_DEFECT":"18573","DESCRIPTION":"YAHOOGROUPS RETURN RESPONSE LINES AS  HTTP1.1 200THAT MAKE THE PROXY FAIL, THE PATCH BELOW FAKES A REASON PHRASEBYE,  - SALVA--- PROXY_HTTP.C~       FRI NOV  8 10:24:00 2002+++ PROXY_HTTP.C        TUE APR  1 18:10:14 2003@@ -766,7 +766,13 @@             R->STATUS = ATOI(&BUFFER[9]);              BUFFER[12] = KEEPCHAR;-            R->STATUS_LINE = APR_PSTRDUP(P, &BUFFER[9]);+            +            IF (KEEPCHAR) +               R->STATUS_LINE = APR_PSTRDUP(P, &BUFFER[9]);+            +            ELSE +               R->STATUS_LINE = APR_PSTRCAT(P, &BUFFER[9],  UNKNOW REASON, NULL);+                                       * READ THE HEADERS. *","SUMMARY":"HTTP PROXY DOESNT HANDLE RESPONSES WO REASON PHRASE","CLASS":1}
{"ID_DEFECT":"19023","DESCRIPTION":"SET UP APACHE 2.0.45 OR EARLIER TO FUNCTION AS A PROXY SERVER.BLOCK MORE THAN ONE SITE WITH THE NOPROXY DIRECTIVE.MAKE THE PROXY SERVE A URL WHICH DOES NOT MATCH THE BLOCKED SITES.OBSERVE APACHE DIE.THE PROBLEM WAS IDENTIFIED TO ROUTINE AP_PROXY_CHECKPROXYBLOCK. IT HAS 3 NESTEDLOOPS. IF THE INNERMOST LOOP IS RUN TO COMPLETION, URI_ADDR IS SET TO NULL,WHICH IS THEN USED ON THE NEXT ITERATION OF THE OUTER LOOP. THE PATCH BELOWFIXES THE PROBLEM.--- PROXY_UTIL.CT14 APR 2003 09:49:53 -0000T1.3+++ PROXY_UTIL.CT14 APR 2003 14:21:42 -0000T1.4@@ -1015,10 +1015,12 @@                              APR_SOCKADDR_T *URI_ADDR)      INT J;+TAPR_SOCKADDR_T * SRC_URI_ADDR = URI_ADDR;     * XXX FIXME: CONF->NOPROXIES->ELTS IS PART OF AN OPAQUE STRUCTURE *     FOR (J = 0; J < CONF->NOPROXIES->NELTS; J++)          STRUCT NOPROXY_ENTRY *NPENT = (STRUCT NOPROXY_ENTRY *)CONF->NOPROXIES->ELTS;         STRUCT APR_SOCKADDR_T *CONF_ADDR = NPENT[J].ADDR;+TTURI_ADDR = SRC_URI_ADDR;         AP_LOG_ERROR(APLOG_MARK, APLOG_DEBUG, 0, R->SERVER,                      PROXY: CHECKING REMOTE MACHINE [%S] AGAINST [%S],URI_ADDR->HOSTNAME, NPENT[J].NAME);         IF ((NPENT[J].NAME && AP_STRSTR_C(URI_ADDR->HOSTNAME, NPENT[J].NAME))","SUMMARY":"MULTIPLE PROXYBLOCK ENTRIES WILL CRASH APACHE","CLASS":1}
{"ID_DEFECT":"19317","DESCRIPTION":"CONFIGURE MOZILLA TO USE APACHE AS A PROXY. ACCESS THE URL. MOZILLA MAKESREPEATED REQUESTS AND FINALLY POPS UP A DIALOG SAYING: REDIRECTION LIMIT FORTHIS URL EXCEEDED. UNABLE TO LOAD THE REQUESTED PAGE.I SUSPECT THE PROBLEM IS CAUSED BY MOD_PROXY ENCODING THE TILDE CHARACTERS INTHE URL. WATCHING THE HTTP TRAFFIC WITH AND WITHOUT THE PROXY REVEALS THATMOZILLA SENDS THE TILDE UNENCODED AND APACHE ENCODES IT WITH THE CORRESPONDINGPERCENT SEQUENCE, WHICH THE REMOTE WEBSITE SEEMS TO FIND CONFUSING. THE WEBSITEKEEPS SENDING REDIRECTIONS TO THE BROWSER UNTIL THE BROWSER GIVES UP.I BELIEVE APACHE PROXY SHOULD SEND THE URL IN EXACTLY THE SAME FORMAT ITRECEIVED IT. THIS MIGHT VIOLATE THE RFC, BUT IT WOULD MINIMIZE INTEROPERABILITYPROBLEMS LIKE THIS.","SUMMARY":"PROXY MAKES BROWSER REPORT REDIRECTION LIMIT EXCEEDED","CLASS":1}
{"ID_DEFECT":"19405","DESCRIPTION":"LOOKS LIKE A POSSIBLE RFC 2616 MUST VIOLATION.  A MULTILINERESPONSE HEADER IS GETTING CORRUPTED BY THE PROXY WHENFORWARDED TO THE CLIENT. THE HEADER IS USING CRLF SP ORCRLF HT LWS SEQUENCES TO MARK THE START OF THE NEXT LINE.SEE X-MULTILINE RESPONSE HEADER IN THE ATTACHED TRACE.FWIW, SIMILAR REQUEST HEADERS ARE HANDLED CORRECTLY, ONLYRESPONSE HEADERS SEEM TO BE CORRUPTED. ALSO, RESPONSEHEADERS WITH JUST TWO LINES ARE HANDLED CORRECTLY, ONLY LONGHEADERS ARE CORRUPTED.SEE ATTACHED TRACE(S) FOR DETAILS AND WAYS TO REPRODUCETHE VIOLATION MENTIONED ABOVE.TEST CASE IDS IN THE TRACE LINK TO HUMAN-ORIENTED TEST CASEDESCRIPTION AND RFC QUOTES, IF AVAILABLE.","SUMMARY":"CORRUPTION OF MULTILINE RESPONSE HEADERS","CLASS":1}
{"ID_DEFECT":"20183","DESCRIPTION":"HI!IN MY PROJECT WE USE APACHE 2.0.45 AS FRONT-END TO PROXY CERTAIN REQUESTS TO A BACKEND HTTP SERVER. WE ALSO USE THE ERRORDOCUMENT FEATURE OF APACHE FOR PREDEFINED ERROR PAGES. WHEN USING RANGE REQUESTS AND ERRORDOCUMENT IN CONJUNCTION WE SEE SOME STRANGE BEHAVIOUR, ALL 20* RESPONSES FROM THE BACKEND HTTP SERVER OTHER THAN 200 OK ARE HANDLED AS ERRORS BY APACHE. WHEN THE BACKEND HTTP SERVER FOR EXAMPLE RETURNS A 206 PARTIAL CONTENT THE APACHE RETURNS THE ERRORDOCUMENT TO THE USER.THIS BEHAVIOUR HAS BEEN VERIFIED BY RUNNING TELNET TO PORT 80 ON BOTH APACHE AND THE HTTP BACKEND SERVER.I HAD A QUICK PEEK IN THE CODE FOR PROXY_HTTP.C AND I THINK I FOUND WHATS CAUSING THIS PROBLEM:(LINE 984-987)..IF ( CONF->ERROR_OVERRIDE )     * THE CODE ABOVE THIS CHECKS FOR OK WHICH IS WHAT THE HOOK EXPECTS *    IF ( R->STATUS == HTTP_OK)        RETURN OK;..I CHANGED THE R->STATUS == HTTP_OK TO CHECK FOR 200-206 HTTP RESPONSES, COMPILED AND IT SEEMS TO WORK NOW. CHEERSMARCUS JANSON<-- TRE.SE -->","SUMMARY":"ERRORDOCUMENT SCREWS UP PROXIED RESPONSES OTHER THAN 200 OK","CLASS":1}
{"ID_DEFECT":"23998","DESCRIPTION":"SITUATION:CLIENT REQUESTS JSP PAGE TO LOCAL APACHE SERVER (2.0.47). LOCAL APACHE SERVER FORWARDS MOD_PROXY) THIS REQUEST TO A CENTRAL APACHE SERVER (2.0.47) WHICH IS CONNECTED BY MOD_JK2 (2.0.2) TO TOMCAT 4.1.24.WHEN THE LOCAL APACHE SERVER RECEIVES ITS RESPONSE, THE REQUEST-RESPONSE STATUS LINE IS MALFORMED AND A WARNING IS GENERATED IN THE APACHE ERROR LOG FILE. THE JSP APPLICATION WORKS FINE, BUT OUR LOG FILES ARE CLOGGED WITH THESE WARNINGS AS EVERY JSP REQUEST GENERATES ONE. WE ARE TALKING ABOUT A MAJOR ENTERPRISE-WIDE GLOBAL SYSTEM.EXAMINING THIS PROBLEM SHOWED THAT THE ERROR IS CAUSED BY THE FACT THAT MOD_PROXY IS CLEANING UPIGNORING THE TRAILING SPACE IN THE STATUS LINE:HTTP1.1 200 . IT ONLY SEEMS TO SEE OR EVALUATE HTTP1.1 200. I READ THAT MOD_JK OMITS THE REPONSE-PHRASE (OK IN THIS CASE) BUT THIS SHOULD (ACCORDING TO STANDARDS) NOT BE A PROBLEM WHEN AT LEAST A TRAILING SPACE IS ADDED. BY TRACING THE CONNACTIONS I CAN SEE THE SPACE IN THE RESPONSE STATUS LINE BEFORE IT ENTERS APACHE.EITHER MOD_PROXY FILTERS OUT THE SPACE OR THE INCOMING STATUS LINE IS INCORRECTLY EVALUATED.THE ERROR MESSAGE IS GENERATED IN HTTPD-2.0.47MODULESPROXYPROXY_HTTP.C   LINE 761FOR MORE INFORMATION, PLEASE CHECK HTTP:ARTICLE.GMANE.ORGGMANE.COMP.APACHE.MOD-PROXY561","SUMMARY":"MOD_PROXY TRUNCATES STATUS LINE HEADER CAUSING WARNING IN LOG FILES","CLASS":1}
{"ID_DEFECT":"24922","DESCRIPTION":"HELLO.IM TRYING TO FORWARD REQUESTS TO REMOTE FTP-SERVER WITH SIMPLE HTACCESS(LOCATED IN FTP DIR):REWRITEENGINE ONREWRITERULE (.*).TXT$ FTP:123.123.123.123$1.TXT [P]BUT APACHE (2.0.48) RETURNS SUCH ERROR:PROXY ERRORTHE PROXY SERVER RECEIVED AN INVALID RESPONSE FROM AN UPSTREAM SERVER.THE PROXY SERVER COULD NOT HANDLE THE REQUEST GET FTPFILE.TXT.REASON: COULD NOT CONNECT TO REMOTE MACHINE: (NULL) PORT 80IVE TESTED SAME HTACCESS WITH HTTP FORWARD AND IT JUST WORKS FINE. INERROR.LOG (DEBUG MODE) IM GETTING SUCH MESSAGES:PROXY_FTP.C(824): PROXY: FTP: SERVING URL FTP:123.123.123.123PROXY_FTP.C(917): PROXY: FTP: CONNECTING FTP:123.123.123.123 TO (NULL):80PROXY_FTP.C(995): PROXY: FTP: FAM 2 SOCKET CREATED, TRYING TO CONNECT TO0.0.0.0:80 ((NULL))...(OS 10049)THE REQUESTED ADDRESS IS NOT VALID IN ITS CONTEXT.  : PROXY: FTP:ATTEMPT TO CONNECT TO 0.0.0.0:80 ((NULL)) FAILEDSOME MORE INFO: IVE TESTED IT UNDER FREEBSD AND WINXP, GOT SAME RESULT,ALSO IF THERES LOCAL FTP-SERVER RUNNING (LISTENING TO 0.0.0.0, NOT127.0.0.1), THEN APACHE CONNECTS TO IT SUCCESSFULLY.ALSO, IVE TRIED DIFFERENT URI SCHEMES, BECAUSE I THINK THAT MODULE JUST CANT PARSE IT CORRECTLY, BUT NO WAY..FTP:123.123.123.123FTP:123.123.123.123FTP:123.123.123.123:21FTP:123.123.123.123:21FTP:ANONYMOUS:PASSWORD@123.123.123.123ETC, ALL FAILED.ALSO, IVE TRIED TO BIND REMOTE FTP WITH PROXYPASS DIRECTIVE -- SAME RESULT (AND AGAIN -- BINDING HTTP SERVER WAS SUCCESSFUL)PLEASE HELP, I DONT LIKE SQUID FOR SOME REASONS AND REALLY WOULD LIKE TO HAVE FTP-PROXY WITH APACHE RUNNING.THANKS A LOT IN ADVANCE.","SUMMARY":"FTP PROXY CONNECTS TO 0.0.0.0","CLASS":1}
{"ID_DEFECT":"25198","DESCRIPTION":"I CONFIGURED HTTPD-2.0.48 WITH MOD_PROXY AS INTRANET PROXY SERVER. WHENCONNECTING TO HTTP:WWW.MYDRIVE.NETAPP-WEB.COM HTTPD CHILD COREDUMPS ON EVERYGRAPHIC LOAD ATTEMPT. GRAPHICS FROM OTHER SITES ARE WORKING.IM USING SUNOS 5.9 (SOLARIS9) ON AN E2SPARC.GCC -V:READING SPECS FROM USRLOCALLIBGCC-LIBSPARC-SUN-SOLARIS2.93.2.2SPECSCONFIGURED WITH: ..CONFIGURE --DISABLE-NLS --WITH-LD=USRCCSBINLD--WITH-AS=USRCCSBINASTHREAD MODEL: POSIXGCC VERSION 3.2.2HTTPD CONFIGURE COMMAND:.CONFIGURE --ENABLE-MODS-SHARED=ALL --ENABLE-FILE-CACHE=SHARED--ENABLE-CACHE=SHARED --ENABLE-DISK-CACHE=SHARED --ENABLE-MEM-CACHE=SHARED--ENABLE-EXT-FILTER=SHARED --ENABLE-DEFLATE=SHARED --ENABLE-LOGIO=SHARED--ENABLE-UNIQUE-ID=SHARED --ENABLE-PROXY=SHARED --ENABLE-PROXY-CONNECT=SHARED--ENABLE-PROXY-FTP=SHARED --ENABLE-PROXY-HTTP=SHARED --ENABLE-SSL=SHARED--ENABLE-CGI=SHARED --ENABLE-DAV-FS=SHARED --ENABLE-VHOST-ALIAS=SHARED--ENABLE-REWRITE=SHARED --WITH-MPM=WORKER GDB BACKTRACE:TLIN@SHGATE: $ GDB USRLOCALAPACHE2BINHTTPD CORE GNU GDB 5.0[..]THIS GDB WAS CONFIGURED AS SPARC-SUN-SOLARIS2.8...CORE WAS GENERATED BY `USRLOCALAPACHE2BINHTTPD -F HOMETLIN.AP2PROXY.CONF.PROGRAM TERMINATED WITH SIGNAL 9, KILLED.[..]#0  0XFECF1934 IN MEMCMP () FROM USRPLATFORMSUNW,ULTRA-2LIBLIBC_PSR.SO.1(GDB) BT#0  0XFECF1934 IN MEMCMP () FROM USRPLATFORMSUNW,ULTRA-2LIBLIBC_PSR.SO.1#1  0XFEB8279C IN PROXY_FIXUP (R=0X173250) AT MOD_PROXY.C:279#2  0X4966C IN AP_RUN_FIXUPS (R=0X173250) AT REQUEST.C:114#3  0X49E74 IN AP_PROCESS_REQUEST_INTERNAL (R=0X173250) AT REQUEST.C:286#4  0X2F378 IN AP_PROCESS_REQUEST (R=0X173250) AT HTTP_REQUEST.C:286#5  0X2A844 IN AP_PROCESS_HTTP_CONNECTION (C=0X14F548) AT HTTP_CORE.C:293#6  0X3DEB4 IN AP_RUN_PROCESS_CONNECTION (C=0X14F548) AT CONNECTION.C:85#7  0X30690 IN PROCESS_SOCKET (P=0X14F420, SOCK=0X14F458, MY_CHILD_NUM=0,MY_THREAD_NUM=8, BUCKET_ALLOC=0X171210) AT WORKER.C:632#8  0X30DD4 IN WORKER_THREAD (THD=0X11ADA0, DUMMY=0X14F420) AT WORKER.C:946#9  0XFF0546B8 IN DUMMY_WORKER (OPAQUE=0X11ADA0) AT THREAD.C:127ERROR_LOG:[THU DEC 04 12:12:14 2003] [NOTICE] CHILD PID 2943 EXIT SIGNAL SEGMENTATIONFAULT (11)[THU DEC 04 12:12:14 2003] [NOTICE] CHILD PID 2942 EXIT SIGNAL SEGMENTATIONFAULT (11)[THU DEC 04 12:12:15 2003] [NOTICE] CHILD PID 2945 EXIT SIGNAL SEGMENTATIONFAULT (11)[THU DEC 04 12:12:15 2003] [NOTICE] CHILD PID 2944 EXIT SIGNAL SEGMENTATIONFAULT (11)THERE ARE NO CORRESPONDIG ACCESS LOG ENTRIES.KIND REGARDS, TOM","SUMMARY":"MOD_PROXY COREDUMPS IN PROXY_FIXUP(), MOD_PROXY.C:279","CLASS":1}
{"ID_DEFECT":"34512","DESCRIPTION":"FILE: PROXY_FTP.C +90STATIC INT FTP_CHECK_GLOBBINGCHARS(CONST CHAR *PATH)    FOR ( ; *PATH; ++PATH)         IF (*PATH == )        ++PATH; * BUG, SHOULD BE *PATH *  !!!!  IF (PATH != 0 && STRCHR(FTP_GLOBBING_CHARS, *PATH) != NULL)            RETURN TRUE;        RETURN FALSE;SHOULD BE IF ( *PATH != 0 ...","SUMMARY":"COMPARISON ERROR","CLASS":1}
{"ID_DEFECT":"8004","DESCRIPTION":"SERVER ERROR!ERROR MESSAGE: COULDNT CREATE CHILD PROCESS: 22502: C:SERVERHTDOCSINDEX.PL IF YOU THINK THIS IS A SERVER ERROR, PLEASE CONTACT THE WEBMASTER ERROR 500LOCALHOST 041202 03:28:12 APACHE2.0.35 (WIN32)","SUMMARY":"CGI NOT WORKING PROPERLY.","CLASS":1}
{"ID_DEFECT":"8387","DESCRIPTION":"INVOKING A CGI SCRIPT (SUCH AS A PERL SCRIPT) CAUSES A BLANK COMMAND WINDOW TO POPUP ON THE WIN2K CONSOLE.  THIS BEHAVIOR IS DIFFERENT FROM THAT OF 1.3 ON WIN2K, BUT IS SIMILAR TO 1.3 ON WIN98.  SINCE OUR APPLICATION IS BASED ON CGI SCRIPTS, HAVING BLANK WINDOWS POPPING UP FOR EACH CLICK IN THE BROWSER MAKES THE APPLICATION UNUSABLE.","SUMMARY":"INVOKING CGI SCRIPT CAUSES A CONSOLE WINDOW TO OPEN","CLASS":1}
{"ID_DEFECT":"8388","DESCRIPTION":"WHEN A CGI SCRIPT RUNS FOR A LONG TIME AND THE USER CLICKS THE STOP OR BACK BUTTON IN THE BROWSER BEFORE IT ENDS, THE SERVER FAILS TO TERMINATE THE CGI PROCESS ON THE SERVER, EVEN IF THE CGI SCRIPT IS FREQUENTLY WRITING BACK LINES.  HERES A SAMPLE PARTIAL CGI SCRIPT:$| = 1;PRINT <PRE>:FOREACH (1 .. 50)    PRINT LINE $_;    SLEEP (1);THIS SCRIPT CONTINUES TO RUN EVEN IF THE USER HAS CLICKED STOP IN THE BROWSER 5 SECONDS INTO THE PROCESS.I REMEMBER FIXING THIS PROBLEM IN APACHE 1.3 BY CLOSING THE RIGHT PROCESS HANDLE.  BUT SINCE 1.3 WAS NOT ABLE TO HAVE UNBUFFERED IO TO WRITE BACK TO THE HTTP SERVER PROCESS IMMEDIATELY, THE FIX WAS NOT USEFUL FOR 1.3 ANYWAY.  NOW THAT 2.0 SEEMS TO BE ABLE TO HAVE UNBUFFERED IO FOR CGI OUTPUT (FINALLY!), FIXING THIS BUG WOULD BE EXTREMELY HELPFUL, ESPECIALLY IN DEFEATING MS.  THIS IS A KILLER SHORTCOMING OF IIS WHERE A RUN-AWAY CGI SCRIPT CAN NEVER BE TERMINATED EXCEPT THE PRE-DEFINED CUT-OFF TIME FOR ALL SCRIPTS.","SUMMARY":"LONG RUNNING CGI SCRIPT CANNOT TERMINATED BY BROWSER","CLASS":1}
{"ID_DEFECT":"8482","DESCRIPTION":"IM USING A NPH- CGI, WHICH ISNT WORKING PROPERLY WITH APACHE 2.0.35, ALTHOUGH THE CHANGELOG SAYS, THAT NPH- IS WORKING AGAIN!DESCRIPTION:AFTER STARTING THE NPH- CGI, ANY BROWSER RECEIVES SOME DATA (NO PROB SO FAR)BUT AFTER A CERTAIN (ALMOST EVERYTIME THE SAME) AMOUNT, THE BROWERS STOPS GETTING DATA.THE MORE STRANGE THING IS .. THE CGI (CGI-IRC) STILL WORKS!AND AFTER QUITING THAT CGI, THE BROWERS RECEIVES THE REST OF THE DATA-PACKETS.SO I ASSUME, THAT THE SERVER-PUSHED METHOD GETS A KIND OF OVERFLOW ..","SUMMARY":"NPH- CGIS ANDOR SERVER-PUSHED METHODES NOT WORKING PROPERLY","CLASS":1}
{"ID_DEFECT":"9223","DESCRIPTION":"ON WINDOWS PLATFORM  HTTP:WIN2K-HOSTCGI-BINPRINTENV.PL?%82%D9%82%B0DOES NOT WORK.ERROR.LOG CLAIMS (22)INVALID ARGUMENT: COULDNT SPAWN CHILD PROCESS: C:PROGRAM   FILESAPACHE GROUPAPACHE2CGI-BINPRINTENV.PLWHILE APACHE 1.3.24 ON MY LINUX BOX RETURNS EXPECTED RESULT LIKE,QUERY_STRING=%82%D9%82%B0IT COMES TO PROBLEM WITH WIKI(HTTP:C2.COMCGIWIKI) LIKE SYSTEMS,WITH MULTIBYTE(IE. JAPANESE) WIKI-NAME.","SUMMARY":"EXECUTION OF CGI WITH MULTIBYTE QUERY STRING FAILS WITH 500.","CLASS":1}
{"ID_DEFECT":"10573","DESCRIPTION":"THE SERVER SEND THE NEXT MESSAGE WHEN I TRY TO CALL A CGI WITH A PARAM WITH SPECIAL CARACTERS (U00E1).EXAMPLE:  HTTP:AA.BB.CCINDEX.ACT?B=U00E1RESULT:SERVER ERROR!EL SERVIDOR ENCONTRO UN ERROR INTERNO Y FUE IMPOSIBLE COMPLETAR SU SOLICITUD. MENSAJE DE ERROR: COULDNT CREATE CHILD PROCESS: 20508: C:VARWWWUDEPORTESHTMLINDEX.ACT FAVOR DE CONTACTAR AL WEBMASTER EN CASO DE QUE USTED CREA QUE EXISTE UN ERROR EN EL SERVIDOR. ERROR 500","SUMMARY":"COULDNT CREATE CHILD PROCESS ERROR WHEN PASS SPECIAL CARACTERS.","CLASS":1}
{"ID_DEFECT":"11178","DESCRIPTION":"THESE ARE POINTS NOT YET SEEN IN THE FEW BUG REPORTS ON THIS SUBJECT.MOD_CGID DOES NOT SEEM TO FLUSH BUFFERS UNTIL THE CGI PROGRAM ENDS, AND MOD_CGI FOLLOWS SOME UNHELPFUL RULES IN FLUSHING BUFFERS.  THIS STRONGLY AFFECTS TABULAR DATA SENT FROM CGI PROGRAMS.  MOD_CGI SEEMS TO FLUSH BUFFERS WHEN AN HTML <BR> LINE BREAK IS DETECTED, BUT NOT NECESSARILY A LINE TERMINATOR , AND POSSIBLY WHEN THE CHARACTER COUNT REACHES 80.  A <BR> CHARACTER IS NOT THE ONLY DISPLAY LINE ENDING, SO ARE <TR> IN A TABLE, AND <LI> IN LIST ITEMS.  IT WOULD BE VERY MUCH BETTER IF THE MODULE ONLY DETECTED CONTROL CHARACTERS, WHICH ARE NOT DISPLAYED IN A PAGE, AND DID NOT DEPEND ON PAGE CONTENT TO DETERMINE TRANSMISSION CONTROLS.THE EFFECTS ARE SUCH THAT NOTHING IS DISPLAYED IN A BROWSER UNTIL A COMPLETE PAGE IS GENERATED BY A CGI PROGRAM, MEANING THE USER CANNOT SEE PUSHED MATERIAL UNTIL HIS SESSION ENDS.  MOD_CGI AND MOD_CGID SHOULD DISPLAY THE SAME BEHAVIOURS REGARDING DATA HANDLING.  THEIR DIFFERENCE IS IN THREADING, NOT AS ALTERNATE PAGE DISPLAY METHODS.  TO HAVE THEM DISSIMILAR WOULD FORCE A GOOD DEAL OF SOFTWARE TO BECOME UTTERLY UNPORTABLE.  ALREADY I HAVE HAD TO DERIVE 3 VERSIONS OF SOME CGI PROGRAMS TO ALLOW THEM TO WORK (HOPEFULLY) ON MOD_CGI, MOD_CGID, AND APACHE 1.3.  ONE HAS NOT BEEN PORTABLE AT ALL TO MOD_CGID SO FAR.","SUMMARY":"MOD_CGI AND MOD_CGID DO NOT HANDLE BUFFER FLUSHING WELL","CLASS":1}
{"ID_DEFECT":"13914","DESCRIPTION":"CGI SCRIPT COMMAND LINE IS BROKEN IN 2.0.40, THE QUERY STRING IS *ALWAYS* PASSEDTO ALL CGI SCRIPTS AS THE FIRST ARGUMENT, WHETHER IT CONTAINS = OR NOT.I TOOK A LOOK AND THE PATCH IM ATTACHING TO THIS REPORT SEEMS OBVIOUSLY CORRECTTO ME (ITS AGAINST CVS HEAD), BUT I HAVENT TESTED IT.  PLEASE TAKE A LOOKASAP, THIS PREVENTS RUNNING EG. THE W3C CHECKLINK,<HTTP:VALIDATOR.W3.ORGCHECKLINK>.FOR MORE INFO, SEE THE CGI SPEC AT<HTTP:CGI-SPEC.GOLUX.COMDRAFT-COAR-CGI-V11-03-CLEAN.HTML#5.0>.","SUMMARY":"CGI SCRIPT COMMAND LINE BROKEN","CLASS":1}
{"ID_DEFECT":"14550","DESCRIPTION":"WHILE SENDING PARAMTERS OF CALLED CGI SCRIPT FROM WORKING THRAD TO CGID SERWERBY SOCKET  CHAR IS USED TO SEPARATE EACH PART. IF IN SENDING ENVIROMENT CHAR WILL BE USED, ALL PARAMETERS WILL BE SEND BAD, SOME ENVIROMENT ELEMENTS AND- WHAT WORST - EVERY PUT VARIABLE WILL BE LOST. THIS BUG MAKING CGI SCRIPTSWHICH ARE WORKING IN SSL ENVIROMEND AND WHICH NEED SSL INFORMATION UNUSABLE. MAYBE THIS PATCH TO MOD-CGID.C WILL HELP:284,287D283<     RC = READ(FD, &J, SIZEOF(INT));<     IF (RC != SIZEOF(INT)) <         RETURN 1;<     303A300,303>     RC = READ(FD, &J, SIZEOF(INT));>     IF (RC != SIZEOF(INT)) >         RETURN 1;>     305,307C305,313<     I = 0; <     FOR (I = 0; I < J; I++)  <         ENVIRON[I] = AP_GETWORD(R->POOL, (CONST CHAR **)&DATA, ); --->     FOR(I=0;I<J;I++)>     TRC = READ(FD, &LEN, SIZEOF(INT));>     TIF (RC != SIZEOF(INT)) > T    RETURN 1;> T> TENVIRON[I] = APR_PCALLOC(R->POOL,LEN+1);> TRC = READ(FD,ENVIRON[I],LEN);> TIF (RC != LEN)> T    RETURN 1;308A315,316>     > 310C318,331<     R->ARGS = AP_GETWORD(R->POOL, (CONST CHAR **)&DATA, ); ---> >     RC = READ(FD, &LEN, SIZEOF(INT));>     IF (RC != SIZEOF(INT)) > TRETURN 1;>     >     IF(RC!=0)>     TR->ARGS = APR_PCALLOC(R->POOL,LEN+1);>     TRC = READ(FD,R->ARGS,LEN);>     TIF (RC != LEN)> T     TRETURN 1;>     T>      ELSE >     TR->ARGS=NULL;>     T399A421,425>     * WRITE THE REQUEST TYPE (SSI EXEC CMD OR CGI). *>     IF (WRITE(FD, &R_TYPE, SIZEOF(INT)) < 0) > TAP_LOG_RERROR(APLOG_MARK, APLOG_ERR, ERRNO, R,> TT     WRITE TO CGI DAEMON PROCESS);>     403,404C429,432<     FOR (I =0; ENV[I]; I++)  <         CONTINUE; --->     LEN=STRLEN(DATA);>     IF (WRITE(FD, &LEN, SIZEOF(INT))<0)>         AP_LOG_RERROR(APLOG_MARK, APLOG_ERR, ERRNO, R,> TT     WRITE TO CGI DAEMON PROCESS);407,408C435<     * WRITE THE REQUEST TYPE (SSI EXEC CMD OR CGI). *<     IF (WRITE(FD, &R_TYPE, SIZEOF(INT)) < 0) --->     IF(WRITE(FD,DATA,LEN)<0)412A440,444>    FOR (I =0; ENV[I]; I++)  > TCONTINUE; >      > > 420C452,465<         DATA = APR_PSTRCAT(R->POOL, DATA, ENV[I], , NULL); --->         LEN=STRLEN(ENV[I]); > TIF(WRITE(FD,&LEN,SIZEOF(INT)) < 0) > TTAP_LOG_RERROR(APLOG_MARK, APLOG_ERR, ERRNO, R,> TTT      WRITE TO CGI DAEMON PROCESS);> T> TIF(WRITE(FD,ENV[I],LEN) < 0)> TTAP_LOG_RERROR(APLOG_MARK, APLOG_ERR, ERRNO, R,> TT             WRITE TO CGI DAEMON PROCESS);> TTT>     >     IF(R->ARGS!=NULL) >     TLEN=STRLEN(R->ARGS);>      ELSE > TLEN=0;422,424C467<     DATA = APR_PSTRCAT(R->POOL, DATA, R->ARGS, NULL); <     LEN = STRLEN(DATA); <     * WRITE THE LENGTH OF THE CONCATENATED ENV STRING. *---> 429,430C472,473<     * WRITE THE CONCATTED ENV STRING. *     <     IF (WRITE(FD, DATA, LEN) < 0) --->     IF( LEN!=0)>    TIF (WRITE(FD,R->ARGS,LEN)<0)433A477,478>     >","SUMMARY":"BUG IN SERVER-CLIENT COMUNICATION WHILE SENDING ENVIROMENT VARIABLES","CLASS":1}
{"ID_DEFECT":"16687","DESCRIPTION":"WHEN SAVING A FILE AS UTF-8 WITH NOTEPAD UNDER XP, NOTEPAD WILL INSERT A BYTEORDER MARK BEFORE THE FIRST CHARACTER OF THE FIRST LINE.APACHE THEN CANT SERVE THE SCRIPT AS IT CANT PARSE THE MAGIC FIRST LINE, ANDCANT FIND PERL (OR WHATEVER)WORKAROUND IS NOT TO SAVE IN UTF-8, OR NOT TO USE NOTEPAD, BUT APACHE SHOULD BEABLE TO RECOGNIZE BYTE ORDER MARKS.(RELATED BUG #11847, BUT THAT SEEMS TO BE CONCERED WITH XML)","SUMMARY":"APACHE SHOULD RECOGNIZE UTF BYTE ORDER MARK (BOM) IN CGI SCRIPTS","CLASS":1}
{"ID_DEFECT":"18348","DESCRIPTION":"NON PARSED HEADER SCRIPTS ARE NOT ABLE TO LOG ANY ERRORS OR WARNINGS TO THE ERRORLOG, WHILE (ALMOST) THE SAME NON-NPH SCRIPT WILL GENERATE ERRORS AND WARNINGS FOR THE SAME SCRIPT.EXAMPLE:#!USRBINPERL -WUSE STRICT;$|=1;WARN ME;PRINT $ENVSERVER_PROTOCOL 204 NO CONTENT;PRINT SERVER: $ENVSERVER_SOFTWARE;PRINT DATE: $DATE;EXIT;WILL NOT LOG ANYTHING, WHILE IT SHOULD DUE TO THE WARN IN LINE 4.","SUMMARY":"ERRORLOGGING  STDERR FROM NPH-CGI-SCRIPTS BROKEN","CLASS":1}
{"ID_DEFECT":"19849","DESCRIPTION":"SYSTEM, SUN NETRA T1, SOLARIS 7, APACHE 2.0.45 WITH WORKER MPM.WHEN STRESS TESTING A BINARY CGI THE MOD_CGID DAEMON WOULD DIE.AFTER IT HAD DIED APACHE WOULD DETECT AND LOG THAT IT HAD DIED WITHTHIS MESSAGE IN THE ERROR_LOG,NO SUCH PROCESS: CGID DAEMON IS GONE; IS APACHE TERMINATING?.IT DOES NOT ATTEMPT TO RESTART THE CGI DAEMON PROCESS AGAIN SO ALLSUBSEQUENT CGI REQUESTS FAIL.APACHE 2 WITH THE WORKER MPM FOR CGI WOULD BE MORE ROBUST IF MOD_CGIDCOULD RESTART ITS CHILD DAEMON PROCESS IF IT DIES.","SUMMARY":"IF THE MOD_CGID DAEMON PROCESS DIES IT IS NEVER RESTARTED","CLASS":1}
{"ID_DEFECT":"27886","DESCRIPTION":"I JUST NOTICED FOR APACHE 2.0.49, RUNNING ON SPARCSOLARIS, THAT IF I CHANGE THESERVERROOT DIRECTIVE OF MY DEFAULT SERVER IN HTTPD.CONF, WHILEST LEAVING THEDEFAULT (I.E. COMMENTED OUT) FOR THE SCRIPTSOCK DIRECTIVE UNCHANGED, THE HTTPDDAEMON CONTINUES TO CREATE A CGISOCK SOCKET IN THE DEFAULT APACHE2LOGSDIRECTORY, EVEN THOUGH ALL OTHER ENTRIES (LIKE LOGFILES, ETC) ARE CREATEDRELATIVE TO THE NEW DEFINITION OF SERVERROOT.I HAVE VERIFIED THIS WITH TO A MINIMUM A MODIFIED HTTPD.CONF FILE THAT I STARTMANUALLY WITH USRLOCALAPACHE2BINHTTPD -FPATHTOALTERNATECONFHTTPD.CONF -K START.ALTHOUGH THIS CAN EASILY BE SOLVED BY EXPLICITLY ADDING THE DIRECTIVESCRIPTSOCK PATHTOALTERNATELOGSCGISOCK TO THE HTTPD.CONF FILE, IMHO ICONSIDER THIS BEING A BUG.","SUMMARY":"DEFAULT FOR CONFIG DIRECTIVE SCRIPTSOCK DOESNT SEEM OBEY SERVERROOT SETTINGS","CLASS":1}
{"ID_DEFECT":"8122","DESCRIPTION":"WITH THE SSLMUTEX OPTION THE USER COULD (IN 1.3.X) ASK FOR FILE BASED ORSEMAPHORE BASED LOCKING. NOW MOD_SSL ASKS APR FOR THE DEFAULT MECHANISM. WHICHIS NOT A BAD THING, BUT THE OPTION VALUES SHOULD REFLECT WHAT IS PROVIDED.I SUGGEST USING THE SAME OPTIONS AS FOR THE ACCEPTMUTEX OPTION OR USING ABACKWARD COMPATIBLE STYLE:SEM = SYSVSEMFILE: = FLOCK | FCNTL (WHATEVER IS PREFERRED ON THE PLATFORM)","SUMMARY":"SSLMUTEX OPTION SETTINGS NOT HONOURED","CLASS":1}
{"ID_DEFECT":"8124","DESCRIPTION":"ON MY LINUX (REDHAT 7.2) MOD_SSL LOGS AN ERROR WHENEVER IT TRIES TO ACCESS ASYSTEM V SEMAPHORE BASED MUTEX. FOR WHATEVER REASON, IT DOES NOT COMPLAIN WHENCREATING THE MUTEX. IT LOOKS LIKE A PERMISSION PROBLEM TO ME (I ADDED ERRORNUMBER REPORTING TO MOD_SSL), BUT I DONT KNOW WHY. APACHE ITSELF CREATES THESHARED MEM AND THE SEMAPHORES AS ROOT AND NOBODY WITH THE PERMISSIONS SET TO 600.AFTER FORCING FILE BASED LOCKING BY HACKING(SEE BUG #8122) THE ERRORS DISAPPEARED.","SUMMARY":"MOD_SSL FAILS TO GET AND RELEASE SEMAPHORE MUTEX","CLASS":1}
{"ID_DEFECT":"8165","DESCRIPTION":"THIS IS WEIRD. APACHE-2.0.35 COMPILED WITH SSL AND --WITH-MPM=WORKER ON LINUX.STARTING IT WITH SSL WORKS FINE, BOTH PORT 80 AND 443 ARE OPEN AND SERVINGREQUESTS. THE FUNNY THING IS THAT IF I MAKE A HTTPS: REQUEST WITH LYNX,EVERYTHING WORKS JUST FINE, THE PAGE IS SERVED VIA SSL. BUT IF I MAKE THE SAMEREQUEST WITH CURL (CURL HTTPS:LOCALHOST, IT JUST SENDS BACK MY SMALLINDEX.HTML FILE), HTTPD GOES UP TO 100% CPU USAGE, EVEN *AFTER* THE REQUEST HASBEEN SERVED. THAT IS, THERE ARE NO MORE ESTABLISHED CONNECTIONS TO THE WEBSERVER. BTW, CURL DOWNLOADS AND DISPLAYS THE INDEX.HTML FILE WITHOUT PROBLEMS,JUST THE SERVER GETS REALLY SLOW AFTER THIS SINGLE CONNECTION.IM USING A SELF-SIGNED CERTIFICATE.MOZILLA DOESNT PROMPT THIS BEHAVIOUR IN THE WEB SERVER. THIS IS WEIRD, I HOPEIM DOING SOMETHING WRONG.I ALSO TRIED CURL AND LYNX FROM ANOTHER MACHINE (NOT LOCALHOST), AND IT HAPPENEDAGAIN.","SUMMARY":"WEIRD: 100% CPU USAGE AFTER A SIMPLE SINGLE SSL CONNECTION","CLASS":1}
{"ID_DEFECT":"8389","DESCRIPTION":"WHENEVER SOMEBODY VISITS A PAGE IN HTTPS REGION OF MY SERVER, (USINGBASIC PASSWORD AUTHENTICATION), ONE OF THE HTTPD PROCESSES ON THE SERVERGOES INTO AN INFINITE LOOP, PEGGED AT 100% CPU.  IVE TRACKED THE PROBLEM DOWNTO THE LOOP IN SSL_IO_INPUT_GETLINE AT ABOUT LINE 704 IN SSL_ENGINE_IO.C.IT APPEARS THAT THERE ARE CIRCUMSTANCES IN WHICH SSL_READ ON AN SSL STREAMCAN PERSISTENLY RETURN 0.  THE CODE IN SSL_IO_INPUT_GETLINE DOESNT RECOGNIZE0 AS AN ERROR, SO IT JUST KEEPS TRYING, FOREVER, IN AN INFINITE LOOP.IM USING OPENSSL 0.9.6C.  THE MAN PAGE FOR SSL_READ IS--SHALL WE SAY--CHALLENGING, SO IM NOT SURE WHETHER THIS PERSISTENT 0 BEHAVIOR IS A BUG ORA FEATURE, BUT IT IS QUITE REPEATABLE IN MY SETUP.  WHEN IT OCCURS,SSL_GET_ERROR RETURNS SSL_ERROR_ZERO_RETURN.FORTUNATELY, THERES A ONE-LINE FIX TO SSL_IO_INPUT_GETLINE:    WHILE (TMPLEN > 0)         STATUS = SSL_IO_INPUT_READ(CTX, BUF + OFFSET, &TMPLEN);        IF (STATUS != APR_SUCCESS)             RETURN STATUS;                IF (TMPLEN == 0) BREAK;  * <---- ADD THIS LINE *        *LEN += TMPLEN;I CANT BE SURE THIS ISNT SIMPLY PLASTERING OVER SOME MORE SERIOUS PROBLEM,BUT IT SEEMS TO WORK FOR ME.IF YOU NEED ANY ADDITIONAL INFO (VERSION OF SOLARIS, HTTPD.CONF FILE, PHASEOF THE MOON ...) JUST ASK.","SUMMARY":"SERVER GOES INTO INFINITE LOOP","CLASS":1}
{"ID_DEFECT":"8572","DESCRIPTION":"THIS IS THE SESSION CONTEXTID TOO LONG PROBLEM WHICH APPARENTLY HAS ALREADY BEEN FIXED BY THE MOD_SSL FOLKS.  IM FIXING IT TEMPORARILY BY SUMMARILY TRUNCATING THE NAME SINCE MY UNDERSTANDING IS THAT THE KEY JUST NEEDS TO BE UNIQUE AND DOES NOT HAVE TO MATCH THE NAME OF THE WEBSITE.  MOD_SSL HAS A MORE ELEGANT SOLUTION USING AN MD5 HASH.  IM REQUESTING THAT YOU INCORPORATE THEIR CURRENT VERSION OF MOD_SSL WITH APACHE 2.0.35 OR 2.0.36 OR WHATEVER OR PLEASE EXPLAIN WHY IT ISNT THERE ALREADY.THANKS!","SUMMARY":"THIS URL IS TOO LONG FOR MOD_SSL TO HAVE AS THE NAME OF A WEBSITE","CLASS":1}
{"ID_DEFECT":"8601","DESCRIPTION":"HI!,I HAVE DISCOVERED (OR AT LEAST I THINK I HAVE) THAT WHENEVER A HYPHEN IS PRESENT IN THE SERVER NAME DIRECTIVE LOCATED IN THE SSL.CONF FILE, THE SSL CONNECTION WILL BOMB OUT AFTER THE FIRST SSL REQUEST.THE ERROR REPORTED IN THE SSL ENGINE FILE IS:[ERROR] MOD_SSL: UNABLE TO SET THE SESSION ID CONTEXT TO `MACHINENAME-1:443 (OPENSSL LIBARY ERROR FOLLOWS)[ERROR] OPENSSL: ERROR:140DA111:LIB(20):FUNC(218):REASON(273)I HAVE CHECKED THIS AGAINST, OPENSSL 0.96B,0.96C,0.96D (BETA).  THE PROBLEM APPEARS IN THE RECENT RELEASES OF OPENSSL, HOWEVER THE SYSTEM WORKS FINE IF I REMOVE THE HYPHEN FROM THE SERVERNAME DIRECTIVE.I SUSPECT THERE MAY BE ISSUES WITH SOMETHING SEEING THE HYPEN AND THINKING THERE ARE OPTIONS THERE TO PROCESS, RATHER THAN THE ENTIRE SERVER NAME.","SUMMARY":"MOD_SSL INABILITY TO HANDLE HYPHENS","CLASS":1}
{"ID_DEFECT":"9234","DESCRIPTION":"SETTING:MY TEST HTTP.CONF HAS 3 VIRTUAL HOST ENTRIES:<VIRTUALHOST *>SERVERNAME SSL.HOST.COM:443SSLENGINE ON<VIRTUALHOST *><VIRTUALHOST *>SERVERNAME OLDBOX.HOST.COMREDIRECT  HTTP:NEWBOX.HOST.COM<VIRTUALHOST *><VIRTUALHOST *>SERVERNAME NEWBOX.HOST.COM...<VIRTUALHOST *>PROBLEM 1:WHEN I TRY TO HIT IT LIKE THIS:# TELNET 127.0.0.1 80TRYING 127.0.0.1...CONNECTED TO LOCALHOST (127.0.0.1).ESCAPE CHARACTER IS ^].GET  HTTP1.0HOST: OLDBOX.HOST.COMI GET THIS RESPONSE (NOTE THE INCORRECT URL IN THE LOCATION FIELD):HTTP1.1 302 FOUNDDATE: SUN, 19 MAY 2002 12:28:11 GMTSERVER: APACHE2.0.36 (UNIX) MOD_SSL2.0.36 OPENSSL0.9.6B DAV2LOCATION: HTTP:NEWBOX.HOST.COMMOD_SSL:ERROR:HTTP-REQUESTCONTENT-LENGTH: 321CONTENT-TYPE: TEXTHTML; CHARSET=ISO-8859-1...PROBLEM 2:IF I CHANGE THE REDIRECT DIRECTIVE TO THIS:REDIRECT TEST.HTML HTTP:NEWBOX.HOST.COMTEST.HTMLI GET A DIFFERENT RESPONSE:HTTP1.1 400 BAD REQUESTDATE: SUN, 19 MAY 2002 12:36:33 GMTSERVER: APACHE2.0.36 (UNIX) MOD_SSL2.0.36 OPENSSL0.9.6B DAV2VARY: ACCEPT-LANGUAGEACCEPT-RANGES: BYTESCONTENT-LENGTH: 725CONNECTION: CLOSECONTENT-TYPE: TEXTHTML; CHARSET=ISO-8859-1EXPIRES: SUN, 19 MAY 2002 12:36:33 GMTAND THE ERROR-LOG HAS THESE ENTRIES:[SUN MAY 19 08:36:33 2002] [ERROR] MOD_SSL: SSL HANDSHAKE FAILED: HTTP SPOKEN ON HTTPS PORT; TRYING TO SEND HTML ERROR PAGE (OPENSSL LIBRARY ERROR FOLLOWS)[SUN MAY 19 08:36:33 2002] [ERROR] OPENSSL: ERROR:1407609C:LIB(20):FUNC(118):REASON(156)PROBLEM 3:HOWEVER, IF I CHANGE THE ORDER OF THE VIRTUAL HOST SECTIONS IN THE HTTP.CONF AND MOVE THE FIRST VIRTUAL HOST (SSL) TO BE THE LAST OF THE THREE, THEN THE REDIRECT WORKS PERFECTLY.I TRIED ISSUING SSLENGINE OFF FOR THE OTHER VIRTUAL HOSTS, BUT THAT DOES NOT FIX THE PROBLEM.-LAWRENCE","SUMMARY":"REDIRECT URL INCORRECTLY CONTAINS EXTRA CHARACTERS WHEN THERE IS A SSL VIRTUAL HOST","CLASS":1}
{"ID_DEFECT":"9488","DESCRIPTION":"IF A SOFTWARE SEND THE COMMAND GET TO THE SERVER, APACHE MAKES A FATAL ERROR.I HAVE THE MESSAGE :THE INSTRUCTION TO 0X6FED2BD0 USES THE MEMORY ADRESS 0X00000000X. THE MEMORY ADRESS CANT BE READ.WHEN I CHOOSE OK, APACHE IS RESTARTED.","SUMMARY":"HTTP0.9 REQUESTS SPOKEN ON HTTPS PORT RETURNS HTTP1.0 RESPONSE","CLASS":1}
{"ID_DEFECT":"9689","DESCRIPTION":"APACHE 2.0.36 CORE DUMPS ON CERTAIN CONFIGURATION ERRORS.PLATFORM:    SUNOS CONCEPT 5.7 GENERIC_106541-14 SUN4U SPARC SUNW,ULTRA-60CONFIGURED WITH    .CONFIGURE --ENABLE-SSLIN SSL.CONF, I MISTAKENLY HAD TWO SSLCERTIFICATEFILE LINES.    SSLCERTIFICATEFILE USRLOCALAPACHE2CONFWWW.CRT    SSLCERTIFICATEFILE USRLOCALAPACHE2CONFWWW.KEY(THE SECOND ONE WAS SUPPOSED TO BE SSLCERTIFICATEKEYFILE).I STARTED IT FROM APACHECTL VIA STARTSSL WHICH INVOKES HTTPD WITH -DSSLAND IT CORE-DUMPED.HERES THE STACK TRACE:#0  APR_FILE_WRITE (THEFILE=0X0, BUF=0X1427C8, NBYTES=0XFFBED71C)    AT READWRITE.C:225#1  0XFF33FB14 IN APR_FILE_PUTS (    STR=0X1427C8 APACHE:MOD_SSL:ERROR: PRIVATE KEY NOT FOUND., THEFILE=0X0)    AT READWRITE.C:340#2  0XFF33FC94 IN APR_FILE_PRINTF (FPTR=0X0,     FORMAT=0X2D <ADDRESS 0X2D OUT OF BOUNDS>) AT READWRITE.C:409#3  0X3C9E0 IN SSL_PPHRASE_HANDLE (S=0XB76D0, P=0XEE110)    AT SSL_ENGINE_PPHRASE.C:442#4  0X36AA8 IN SSL_INIT_MODULE (P=0XB4028, PLOG=0XEC108, PTEMP=0XEE110,     BASE_SERVER=0XB76D0) AT SSL_ENGINE_INIT.C:281#5  0X5DD24 IN AP_RUN_POST_CONFIG (PCONF=0XB4028, PLOG=0XEC108, PTEMP=0XEE110,     S=0XB76D0) AT CONFIG.C:129#6  0X62918 IN MAIN (ARGC=2, ARGV=0XFFBEFA24) AT MAIN.C:579IGNORE THE <ADDRESS 0X2D OUT OF BOUNDS>, WHICH APPEARS TO BE GDB CONFUSED BYVARARGS.  THE KEY POINT IS THE CALL AT SSL_ENGINE_PPHRASE.C:442:    APR_FILE_PRINTF(WRITETTY,        APACHE:MOD_SSL:ERROR: PASS PHRASE INCORRECT.);AT THIS PONIT, WRITETTY IS NULL.  THE ONLY ASSIGNMENT TO WRITETTY IS AT LINE581 IN SSL_PIPE_CHILD_CREATE, AND THIS FUNCTION HAS NEVER BEEN CALLED.THE ONLY CALL TO SSL_PIPE_CHILD_CREATE IS IN SSL_PPHRASE_HANDLE_CB.THERE ARE NO DIRECT CALLS TO THIS FUNCTION, BUT ITS PASSED AS AN ARGUMENTTO SSL_READ_PRIVATEKEY AND THENCE TO MODSSL_PEM_READ_BIO_PRIVATEKEYWHICH IS A MACRO FOR PEM_READ_BIO_PRIVATEKEY, WHICH IS ALSO A MACRO (IN SSL)FOR PEM_ASN1_READ_BIO.  BURRIED DEEP IN THE FILE SSLEAY.TXT, WHICH IS INCLUDEDWITH THE OPENSSL SOURCES, I FOUND THIS:    IF THE DATA IS ENCRYPTED, CB WILL BE CALLED TO PROMPT FOR A PASSWORD.APPARENTLY, IN MY CASE, THE DATA IS NOT ENCRYPTED, SO CB (IN THIS CASESSL_PPHRASE_HANDLE_CB) IS NEVER CALLED, SO WRITETTY IS NEVER INITIALIZED.FIX:  IM NOT EXACTLY SURE.  THIS LOGIC IS TOO CONVOLUTED FOR ME TO FOLLOW.WORK-AROUND:  DONT MAKE MISTAKES IN THE .CONF FILES :-).","SUMMARY":"HTTPD CORE DUMPS ON CERTAIN CONFIGURATION ERRORS.","CLASS":1}
{"ID_DEFECT":"10216","DESCRIPTION":"WHEN I USE ISAPI EXTENSTION AND SSL, APACHE ATTACH AFTER CORRECT ISAPI REPLY PAGE WITH TITLE: 200 OK------------------------------------------------------------------------OKTHE SERVER ENCOUNTERED AN INTERNAL ERROR OR MISCONFIGURATION AND WAS UNABLE TO COMPLETE YOUR REQUEST.PLEASE CONTACT THE SERVER ADMINISTRATOR, JIRA.NOVAK@GECAPITAL.COM AND INFORM THEM OF THE TIME THE ERROR OCCURRED, AND ANYTHING YOU MIGHT HAVE DONE THAT MAY HAVE CAUSED THE ERROR.MORE INFORMATION ABOUT THIS ERROR MAY BE AVAILABLE IN THE SERVER ERROR LOG.APACHE2.0.39 SERVER AT SSL666CGCFGE PORT 443------------------------------------------------------------------------THIS IS MESSAGE FOR STATUS 500, BUT IT IS STATUS 200!ANY IDEA?THANXJIRI","SUMMARY":"ISAPI + SSL = STATUS 200 AS 500 AFTER CORRECT REPLY","CLASS":1}
{"ID_DEFECT":"10324","DESCRIPTION":"--- HOMEAUSRCLDAPHTTPD-LDAPLDAP-CACHEUTIL_LDAP.C TUE MAY 28 21:32:30 2002+++ UTIL_LDAP.C FRI JUN 28 17:14:02 2002@@ -274,7 +274,7 @@  #IFDEF APU_HAS_LDAP_NETSCAPE_SSL         IF (LDC->NETSCAPESSL) -            IF (!LDC->CERTDB) +            IF (!LDC->CERTTDB)                 * SECURE LDAP REQUESTED, BUT NO CA CERT DEFINED *                 LDC->REASON = SECURE LDAP REQUESTED, BUT NO CA CERT DEFINED;                 RETURN -1;","SUMMARY":"TYPO PREVENTS 2.0.39 W CVS LDAP MODULES TO BUILD","CLASS":1}
{"ID_DEFECT":"11310","DESCRIPTION":"THE VC6 MOD_SSL BUILD DOESNT WORK UNLESS I DO ONE OF TWO THINGS:1) PLACE BOTH D:CODE3RDPARTYOPENSSL-0.9.6CINCLUDE ANDD:CODE3RDPARTYOPENSSL-0.9.6CINCLUDEOPENSSL IN MY INCLUDE PATH.OR 2) UPDATE MOD_SSL.H AS FOLLOWS:* OPENSSL HEADERS *#INCLUDE <OPENSSLSSL.H>#INCLUDE <OPENSSLERR.H>#INCLUDE <OPENSSLX509.H>#INCLUDE <OPENSSLPEM.H>#INCLUDE <OPENSSLCRYPTO.H>#INCLUDE <OPENSSLEVP.H>#INCLUDE <OPENSSLRAND.H>#IFDEF SSL_EXPERIMENTAL_ENGINE#INCLUDE <ENGINE.H>   * NOT SURE, <OPENSSLENGINE.H>?#ENDIF#INCLUDE SSL_TOOLKIT_COMPAT.H#IFDEF HAVE_SSL_X509V3_H#INCLUDE <OPENSSLX509V3.H>#ENDIFRECOMMEND THE LATTER (#2) AS THIS IS THE CONVENTION USED BY OPENSSL ITSELF AND, THEREFORE, MOST OPENSSL APPS.THANKS,CHARLIE","SUMMARY":"#INCLUDE <SSL.H> SB #INCLUDE <OPENSSLSSL.H>","CLASS":1}
{"ID_DEFECT":"12705","DESCRIPTION":"MOD_SSL APPEARS TO BE STUCK FOREVER INSIDE APR_POOL_CLEANUP_KILL WHEN CLOSINGTHE SESSION CACHE (I HAVE A SSLMUTEX SEM IN THE CONFIG). BACKTRACE (FULL DUMP AVAILABLE ON REQUEST):LIBAPR!APR_POOL_CLEANUP_KILL+0X24 [.MEMORYUNIXAPR_POOLS.C @ 1920]LIBAPR!APR_FILE_CLOSE+0X2D [.FILE_IOWIN32OPEN.C @ 420]LIBAPRUTIL!DATABASE_CLEANUP+0X31 [.DBMSDBMSDBM.C @ 122]LIBAPR!APR_POOL_CLEANUP_RUN+0X1B [.MEMORYUNIXAPR_POOLS.C @ 1959]LIBAPRUTIL!APR_SDBM_CLOSE+0X18 [.DBMSDBMSDBM.C @ 225]LIBAPRUTIL!VT_SDBM_CLOSE+0XF [.DBMAPR_DBM_SDBM.C @ 171]LIBAPRUTIL!APR_DBM_CLOSE+0X10 [.DBMAPR_DBM.C @ 121]WARNING: STACK UNWIND INFORMATION NOT AVAILABLE. FOLLOWING FRAMES MAY BE WRONG.MOD_SSL+0XF837MOD_SSL+0XF154MOD_SSL+0X924DSSLEAY32!SSL_SESSION_NEW+0X609","SUMMARY":"MOD_SSL STUCK IN INFINITE LOOP","CLASS":1}
{"ID_DEFECT":"14560","DESCRIPTION":"I FOUND THAT THE SSLCERTIFICATECHAINFILE DIRECTIVE WAS NOT BEHAVING THE SAME ASIT HAS IN APACHE V1.3.ACCORDING TO THE VERISIGN, WHEN USING A GLOBAL CERTIFICATE, YOU NEED TO USE THEABOVE DIRECTIVE TO PROVIDE THE CLIENT WITH THE INTERMEDIATE CA.  SO, IN MY OLDV1.3 CONFIGURATION I HAD THE FOLLOWING 3 DIRECTIVES:SSLCERTIFICATECHAINFILE SSL.CRTCA.CRTSSLCERTIFICATEFILE SSL.CRTSERVER.CRTSSLCERTIFICATEKEYFILE SSL.KEYSERVER.KEYTHIS DOESNT WORK UNDER APACHE2 HOWEVER.  THE CERTIFICATE IN THE CHAINFILE NEVERSEEMS TO BE PRESENTED TO THE CLIENT.  CLIENTS WERE GETTING PRESENTED WITH THEUNRECOGNIZED SIGNING AUTHORITY ERROR.ACCORDING TO THE COMMENTS IN THE SSL.CONF SAMPLE CONFIG FILE, YOU CAN ALSO POINTIT TO THE SSLCERTIFICATEFILE IF THE INTERMEDIATE CA IS DIRECTLY APPENDED TO THEBOTTOM OF THE FILE. THIS DID FIX THE PROBLEM.HERES MY SPECS:RH V7.3OPENSSL-0.9.6B-28.CONFIGURE --PREFIX=A01APPDPXDEMOAPACHE_2.0.43 --ENABLE-MODS-SHARED=ALL--ENABLE-SSLTHANKS,JOHN","SUMMARY":"SSLCERTIFICATECHAINFILE BEHAVIOUR DIFFERENT OR BROKEN VS. APACHE V1.3.X","CLASS":1}
{"ID_DEFECT":"15057","DESCRIPTION":"WHILE WORKING ON AN APACHE 2.0 CONNECTION HANDLER TO IMPLEMENT EPP WITHIN APACHE(SEE HTTPS:SOURCEFORGE.NETPROJECTSAEPPS) I NOTICED THE FOLLOWING:IF I TURN ON STDENVVARS HTTPD WILL DUMP CORE IN SSL_VAR_LOOKUP_SSL ASSSL_GET_SESSION RETURNS A NULL POINTER. AFTER SPENDING AN AFTERNOON WITH GDB,ETHERREAL AND SSL-TELNET I HAVE NO CLUE WHY CONNECTING WITH SSL-TELNET TO AN SSLHTTP PORT GIVES ME A NON-NULL SESSION VARIABLE WHEREAS USING THE SAMECLIENT TO CONNECT TO MY CONNECTION-HANDLER RETURNS A NULL VALUE.IM USING OPENSSL 0.9.6G.TO WORK AROUND THE ISSUE UNTIL I EVENTUALLY FIND THE REAL CAUSE, I APPLIEDTHE FOLLLOWING PATCH TO MY 2.0.43 SOURCE-TREE:--- SSL_ENGINE_VARS.C   20021204 11:27:14     1.1+++ SSL_ENGINE_VARS.C   20021204 11:27:34@@ -280,7 +280,8 @@     ELSE IF (SSL != NULL && STRCEQ(VAR, SESSION_ID))          CHAR BUF[SSL_SESSION_ID_STRING_LEN];         SSL_SESSION *PSESSION = SSL_GET_SESSION(SSL);-        RESULT = APR_PSTRDUP(P, SSL_SESSION_ID2SZ(+       IF (PSESSION)+               RESULT = APR_PSTRDUP(P, SSL_SESSION_ID2SZ(                                 SSL_SESSION_GET_SESSION_ID(PSESSION),                                 SSL_SESSION_GET_SESSION_ID_LENGTH(PSESSION),                                 BUF, SIZEOF(BUF)));IM NOT SURE WHETHER THIS IS AN ISSUE WITH MOD_SSL, MY CONNECTION-HANDLER OROPENSSL. AS THE PATCH IS SIMPLE ENOUGH, I WOULD RECOMMEND TO APPLY IT TOTHE OFFCIAL TREE IN ANY CASE.CHEERS,OL","SUMMARY":"SSL_VAR_LOOKUP_SSL DOES NOT HANDLE SSL_GET_SESSION RETURNING NULL","CLASS":1}
{"ID_DEFECT":"16275","DESCRIPTION":"WHILE TRYING TO TRACK DOWN A PROBLEM IM HAVING USING SSL, I ENABLE ERROR LOGGING AT THE DEBUG LEVEL.  THE LOG SHOWED:[MON JAN 20 16:07:03 2003] [DEBUG] SSL_ENGINE_IO.C(1027): OPENSSL: READ 132132 BYTES FROM BIO#BOGUS %P[MEM: BOGUS %P                                      K@U00A9I@[MON JAN 20 16:07:03 2003] [DEBUG] SSL_ENGINE_IO.C(974): +-------------------------------------------------------------------------THE BOGUS %P MESSAGES ARE CAUSED BY THE FACT THAT APR_SNPRINTF ENHANCES THE PRINTF STANDARD IN THAT IT REQUIRES A MODIFIER OF P, A, OR I AFTER A %P.SSL_ENGINE_IO.C(1027) SHOULD BE MODIFIED TO CHANGE %P TO %PP IN TWO PLACES, I BELIEVE.","SUMMARY":"ERROR IN LOGGING CODE IN SSL_ENGINE_IO.C LINE 1027","CLASS":1}
{"ID_DEFECT":"17864","DESCRIPTION":"MOD_SSLS TABLE_CLEAR() CLEARS ONE BUCKET PAST THE BUCKET ARRAY.THIS IS CAUSES BY AN INCORRECT LOOP CONDITION ( <= INSTEAD OF < ).SURPRISINGLY, THIS BUG DOES NOT EXIST IN 1.3.27.CORRECT (AS IN 1.3.27)   FOR (BUCKET_P = TABLE_P->TA_BUCKETS; BUCKET_P < BOUNDS_P; BUCKET_P++) WRONG ( 2.0.44)  FOR (BUCKET_P = TABLE_P->TA_BUCKETS; BUCKET_P <= BOUNDS_P; BUCKET_P++) ","SUMMARY":"TABLE_CLEAR() CORRUPTS MEMORY","CLASS":1}
{"ID_DEFECT":"18339","DESCRIPTION":"IM DEVELOPING AN APACHE 2.0 MODULE FOR EPP (SEEHTTP:SOURCEFORGE.NETPROJECTSAEPPS), WHICH ALSO UTILIZES MOD_SSL. THE CALLINGPATTERS THUS ARE LIKELY TO BE DIFFERENT THAN WITH HTTP. PROBLEM DESCRIPTION: WHEN THE SSL-NEGOTIATION FAILS (MISSING CLIENT CERT, SERVERCONFIG ERROR, ...), THE CONNECTION IS CLOSED TCP-WISE, BUT THIS IS NOTCOMMUNICATED TO THE CONNECTION HANDLER, AND ANY FURTHER READS (I.E.AP_GET_BRIGADE) WILL CAUSE A CORE DUMP.IVE NAILED THE PROBLEM DOWN TO THE STATE-HANDLING OF AN ABANDONED CONNECTION.IN SSL_IO_FILTER_INPUT THERE IS THE FOLLOWING CODE-FRAGMENT:    IF (F->C->ABORTED)         * XXX: OK, IF WE ABORTED, WE ARE AT THE EOS.  WE ALSO HAVE         * ABORTED.  THIS DOUBLE PROTECTION IS PROBABLY REDUNDANT,         * BUT ALSO EFFECTIVE AGAINST JUST ABOUT ANYTHING.         *WHICH MAKES A LOT OF SENSE. I SEEM TO RUN INTO A CASE WHERE C->ABORTED IS NOTSET EVEN THOUGH THE CONNECTION HAS BEEN ABORTED. THE ERROR SEEMS TO BE WITHINSSL_FILTER_IO_SHUTDOWN, WHERE C->ABORTED IS *NOT* TOUCHED (IN MY CASE, NOBODY ISSETTING C->ABORTED TO TRUE). THE FOLLOWING PATCH SEEMS TO FIX THE PROBLEM FOR ME:--- HTTPD-2.0.44MODULESSSLSSL_ENGINE_IO.C    MON JAN 13 18:35:22 2003+++ HTTPD-2.0.44MODULESSSLSSL_ENGINE_IO.C.NEW        TUE MAR 25 21:07:47 2003@@ -997,6 +997,7 @@     SSL_FREE(SSL);     SSLCONN->SSL = NULL;     FILTER_CTX->PSSL = NULL; * SO FILTERS KNOW WEVE BEEN SHUTDOWN *+    C->ABORTED = 1;     RETURN APR_SUCCESS; PLEASE APPLY IT (OR ANYTHING YOU THINK IS MORE APPROPRIATE) AGAINST THE CVS.THANKS.OL","SUMMARY":"[PATCH] HANDLING OF SSL ERRORS ON NON-HTTP CONNECTIONS","CLASS":1}
{"ID_DEFECT":"20166","DESCRIPTION":"MODULESSSLMOD_SSL.MAK NEEDS TO BE FIXED TO WORK WITH THE LATEST OPENSSL SOURCES.   COMPILE OPTIONS NEED TO BE CHANGED FROM:D NO_IDEA D NO_RC5 D NO_MDC2TO:D OPENSSL_NO_IDEA D OPENSSL_NO_RC5 D OPENSSL_NO_MDC2SUPPORTABS.MAK NEEDS TO HAVE THE SAME CHANGES MADE TO THE COMPILE OPTIONS.","SUMMARY":"WIN32 COMPILATION PROBLEM WITH OPENSSL 0.9.7X","CLASS":1}
{"ID_DEFECT":"20852","DESCRIPTION":"WHEN INVOKING SSL_VAR_LOOKUP THROUGH APR_RETRIEVE_OPTIONAL_FN(SSL_VAR_LOOKUP),IT CRASHES WHEN THE CONNECTION IS NOT AN SSL CONNECTION, AND THE VARIABLE ISSSL_CLIENT_S_DN. IN THAT CASE, SSL_VAR_LOOKUP_SSL RETRIEVES MYCONNCONFIG(C),WHICH RETURNS NULL, AND THEN ACCESSES SSL = SSLCONN->SSL; WHICH CRASHES.THERE IS APPARENTLY NO WAY FOR THE CALLER TO FIND OUT WHETHER THE CURRENTCONNECTION IS AN SSL CONNECTION (E.G. QUERYING FOR HTTPS CAUSES THE SAMECRASH). THEREFORE, I THINK MOD_SSL SHOULD HANDLE SUCH CALLS GRACEFULLY,RETURNING NULL IF AN SSL_ VARIABLE IS REQUESTED BUT NO SSL CONNECTION ISESTABLISHED.","SUMMARY":"SSL_VAR_LOOKUP NEEDS TO CHECK FOR SSLCONN","CLASS":1}
{"ID_DEFECT":"21370","DESCRIPTION":"DESCRIPTION: IF SSLVERIFYCLIENT IS CONFIGURED FOR SOME LOCATION, MOD_SSL IS STARTING ARE-NEGOTIATION OF THE SSLCONNECTION IN THE FUNCTION SSL_IO_FILTER_CONNECT(..)A MSIE INTERNET EXPLORER IS HANDLING THAT KIND OF RE-NEGOTIATION IN THE FOLLOWING WAY:A) HE IS FINISHING THE CURRENT HANDSHAKE (SEE LOGFILE)B) AFTERWARDS HE IS STARTING A NEW HANDSHAKE, NOW PRESENTING A    CLIENT CERTIFICATESO THE WHOLE SITUATION IS HANDELD BY MOD_SSL IN THE FOLLOWING WAY:1) MOD_SSL IS STARTING A RE-NEGOTIATION2) THE CLIENT DOES NOT FINISH THE HANDSHAKE (SEE A) )3) MOD_SSL IS FREEING THE SSL STRUCT USING SSLFREE(..)   (BY THAT ALSO THE ALLOCATED BIOS WILL BE FREED)4) THE BROWSER IS STARTING A NEW HANDSHAKE (SEE B) ), USING THE SAME   TCP CONNECTION (KEEP-ALIVE IS ENABLED) AND SO THE ALREADY    FREED SSL STRUCT AND BIOS WILL BE USED BY MOD_SSL   (DUE TO THE FACT THAT IT IS BOUND TO THE CONN_REC STRUCT)I.E. MOD_SSL IS READING ALREADY FREED MEMORY. WE HAVE PROVEN IS USING A (PURIFY VERSION 2002A.06.00 AN SOLARIS 2.8)FIX:IF THE HANDSHAKE IS FAILING IN SSL_IO_FILTER_CONNECT(..) THE CONNECTION WILL BE ABORTED. DUE TO STABILITY THE POINTERS TO THE BIOS WILL BE RESET IN IN SSL_FILTER_IO_SHUTDOWN(..) AND CHECK IN SSL_FILTER_WRITE(..)WE HAVE TESTED THE FIX AGAIN WITH THE SAME MEMORY ACCESS CHECKER.LOG-MESSAGE:[WED JUL 02 19:07:21 2003] [INFO] REQUESTING CONNECTION RE-NEGOTIATION[WED JUL 02 19:07:21 2003] [INFO] AWAITING RE-NEGOTIATION HANDSHAKE[WED JUL 02 19:07:21 2003] [ERROR] RE-NEGOTIATION HANDSHAKE FAILED: NOT ACCEPTEDBY CLIENT!?DIFF:DIFF -C -R1.2 -R1.3*** SSL_ENGINE_IO.C     20030416 14:14:39     1.2--- SSL_ENGINE_IO.C     20030703 11:36:24     1.3****************** 780,789 ****                                       APR_SIZE_T LEN)        SSL_FILTER_CTX_T *FILTER_CTX = F->CTX;!     BIO_FILTER_OUT_CTX_T *OUTCTX = !            (BIO_FILTER_OUT_CTX_T *)(FILTER_CTX->PBIOWRITE->PTR);!     INT RES;        * WRITE SSL *      IF (FILTER_CTX->PSSL == NULL)           RETURN APR_EGENERAL;--- 780,795 ----                                       APR_SIZE_T LEN)        SSL_FILTER_CTX_T *FILTER_CTX = F->CTX;!       BIO_FILTER_OUT_CTX_T *OUTCTX = NULL;!       INT RES;  +       * 2.7.2003HK,MV: BIOS HAS BEEN FREED*+       IF (FILTER_CTX->PBIOWRITE == NULL) +               RETURN APR_EGENERAL;+       + +     OUTCTX = (BIO_FILTER_OUT_CTX_T *)(FILTER_CTX->PBIOWRITE->PTR);+       * WRITE SSL *      IF (FILTER_CTX->PSSL == NULL)           RETURN APR_EGENERAL;****************** 999,1004 ****--- 1005,1014 ----      SSLCONN->SSL = NULL;      FILTER_CTX->PSSL = NULL; * SO FILTERS KNOW WEVE BEEN SHUTDOWN *  +       * 2.7.2003HK,MV: BIOS IS FREED RESET THE POINTERS*+       FILTER_CTX->PBIOREAD = NULL;+       FILTER_CTX->PBIOWRITE = NULL;+       RETURN APR_SUCCESS;    ****************** 1112,1117 ****--- 1122,1129 ----              INCTX->RC = APR_EGENERAL;            +               * 2.7.2003HK,MV: HANDSHAKE FAILED, CLOSE THE CONNECTION *+               C->ABORTED=1;          RETURN SSL_FILTER_IO_SHUTDOWN(FILTER_CTX, C, 1);        ****************** 1153,1158 ****--- 1165,1172 ----                           ERROR ? ERROR : UNKNOWN);              SSL_LOG_SSL_ERROR(APLOG_MARK, APLOG_INFO, C->BASE_SERVER);  +                       * 2.7.2003HK,MV: NO CLIENT CERT, CLOSE THE CONNECTION*+                       C->ABORTED=1;              RETURN SSL_FILTER_IO_SHUTDOWN(FILTER_CTX, C, 1);                ","SUMMARY":"IF SSLVERIFYCLIENT IS CONFIGURED A FREEMEMORYREAD OCCURS IN THE CASE OF A MSI5.0 BROWSER AND ENABLED KEEP-ALIVE","CLASS":1}
{"ID_DEFECT":"21371","DESCRIPTION":"I HAVE BEEN WORKING ON A SITE THAT ENFORCES MUTUALLY AUTHENTICATED SSLUSING APACHE 2.0.46. I HAVE COMPILED IT FROM SOURCE USING THE FOLLOWINGCOMMANDS PASSED TO THE .CONFIGURE SCRIPT:.CONFIGURE --ENABLE-SO --ENABLE-SSL --WITH-SSL=USRLOCALSSLUSRLOCALSSL CONTAINS OPENSSL VERSION 0.9.7B WHICH I COMPILED FROMSOURCE USING THE DEFAULT BUILD CONFIGURATION.I HAVE TRIED BOTH SERVLETS AND CGI AND ALL I CAN GET IS THE USERCERTIFICATE, NOT THE CERTIFICATE CHAIN.  I HAVE TRIED LOOKING AT THEMOD_SSL CODE, AND CANNOT FIGURE OUT WHY THE +EXPORTCERTDATA DIRECTIVEWILL ONLY TELL APACHE TO FORWARD ON THE USER CERTIFICATE, NOT THE CHAIN.","SUMMARY":"APACHE NOT PASSING CERTIFICATE CHAIN TO SERVLET OR CGI","CLASS":1}
{"ID_DEFECT":"21944","DESCRIPTION":"IVE GOT TROUBLE TO GET CGI:IRC RUNNING WITH SSL. WITHOUT SSL IT WORKS FINE, BUTIF I USE HTTPS: THE STREAMING IS BROKEN.FOR NORMAL HTTP: (WITHOUT SSL) THIS WAS FIXED IN #8482(HTTP:NAGOYA.APACHE.ORGBUGZILLASHOW_BUG.CGI?ID=8482)MAYBE ITS THE SAME KIND OF PROBLEM IN A DIFFERENT PART OF THE CODE?  HTTP:WWW.SCHOKO.ORGCGI-BINCGIIRCIRC.CGI --> WORKS  HTTPS:WWW.SCHOKO.ORGCGI-BINCGIIRCIRC.CGI --> DOESNT WORKWITH APACHE 1.3X BOTH WORKED FINE.","SUMMARY":"NPH- STREAMING NOT WORKING PROPERLY WITH SSL","CLASS":1}
{"ID_DEFECT":"22741","DESCRIPTION":"I GET A SEG FAULT IN SSL_ENGINE_VARS.C LINE 658.HERE IS PART OF THE GDB BACK TRACE:(GDB) RUN -XSTARTING PROGRAM: U3LOCALAPACHE2BINHTTPD -X[NEW THREAD 16384 (LWP 1777)]PROGRAM RECEIVED SIGNAL SIGSEGV, SEGMENTATION FAULT.[SWITCHING TO THREAD 16384 (LWP 1777)]SSL_VAR_LOG_HANDLER_C (R=0X83ED8D0, A=0X8274400 VERSION) AT SSL_ENGINE_VARS.C:658658         IF (SSLCONN->SSL == NULL)(GDB) BT#0  SSL_VAR_LOG_HANDLER_C (R=0X83ED8D0, A=0X8274400 VERSION) ATSSL_ENGINE_VARS.C:658#1  0X08085046 IN PROCESS_ITEM (R=0X83ED8D0, ORIG=0X83ED8D0, ITEM=0X82741C8)    AT MOD_LOG_CONFIG.C:856#2  0X080851C6 IN CONFIG_LOG_TRANSACTION (R=0X83ED8D0, CLS=0X8274D98,DEFAULT_FORMAT=0X8214CC8)    AT MOD_LOG_CONFIG.C:919THE FIX IS SIMPLE IN SSL_ENGINE_VARS.C:  STATIC CONST CHAR *SSL_VAR_LOG_HANDLER_C(REQUEST_REC *R, CHAR *A)        SSLCONNREC *SSLCONN = MYCONNCONFIG(R->CONNECTION);      CHAR *RESULT;+     IF (SSLCONN == NULL)  CHECK FOR BAD RETURN+        RETURN NULL;             IF (SSLCONN->SSL == NULL)         RETURN NULL;","SUMMARY":"SEG FAULT AT SSL_ENGINE_VARS.C LINE 658","CLASS":1}
{"ID_DEFECT":"23956","DESCRIPTION":"MOD_SSL (BOTH 1.3.X AND 2.X) CURRENTLY USES THE SSL_LIBRARY_TEXT DEFINE INSTEAD OF THE SSLEAY_VERSION() FUNCTION TO DETERMINE THE VERSION NUMBER OF OPENSSL WHICH IT IS USING.THIS IS BAD BECAUSE HERE THE MOD_SSL BINARY IS CARRYING THE OPENSSL VERSION NUMBER INSTEAD OF QUERYING THE VERSION OF OPENSSL ITS USING.  THIS CAN LEAD TO CONFUSION (ESPECAILLY SECURITY RELATED), IF FOR EXAMPLE AN ADMINISTRATOR PATCHES OPENSSL TO BE 3.4.D INSTEAD OF 3.4.A, TO WORK AROUND KNOWN MOD_SSL RELATED VULNERABILITIES IN OPENSSL.EVEN THOUGH THE SYSTEM HAS BEEN PROPERLY PATCHED, IT WILL STILL REPORT THE OLD (MOD_SSL COMPILED IN) VERSION NUMBER TO SCANNING SOFTWARE ETC.OUR CUSTOMERS COMPLAINED, AND WE HAVE FIXED THE FOLLOWING IN OUR VERSION OF APACHE... HOWEVER I FEEL THIS CHANGE WOULD MAKE SENSE UP-STREAM AS WELL.IVE ATTACHED A DIFF AGAINST 1.3.28:THE 2.1.X DIFF IS NEARLY IDENTICAL, ONLY DIFFERENT LINE NUMBERS.  SIMPLY REPLACE THE ONE INSTANCE OF SSL_LIBRARY_TEXT IN SSL_ENGINE_VARS.C  WITH SSLEAY_VERSION(SSLEAY_VERSION).THANKS FOR YOUR TIME.RCS FILE: CVSROOTAPACHE_MOD_SSLMOD_SSLPKG.SSLMODSSL_ENGINE_VARS.C,VRETRIEVING REVISION 1.1.1.8DIFF -U -R1.1.1.8 SSL_ENGINE_VARS.C--- SSL_ENGINE_VARS.C   20030725 02:32:10     1.1.1.8+++ SSL_ENGINE_VARS.C   20031020 20:36:34@@ -617,7 +617,7 @@         RESULT = AP_PSPRINTF(P, MOD_SSL%S, MOD_SSL_VERSION);          ELSE IF (STREQ(VAR, LIBRARY)) -        RESULT = AP_PSTRDUP(P, SSL_LIBRARY_TEXT);+        RESULT = AP_PSTRDUP(P, SSLEAY_VERSION(SSLEAY_VERSION));         IF ((CP = STRCHR(RESULT,  )) != NULL)              *CP = ;             IF ((CP2 = STRCHR(CP,  )) != NULL)CVS SERVER: DIFFING MOD_SSLPKG.SSLSUP","SUMMARY":"MOD_SSL SHOULD REPORT ACTUAL OPENSSL VERSION","CLASS":1}
{"ID_DEFECT":"24030","DESCRIPTION":"WHEN FIRING A REQUEST, THE REVERSE PROXY CHILD PROCESS SEGFAULTS.THE SEGFAULT OCCURS IN THE SSL_CALLBACK_PROXY_CERT() FUNCTION(SSL_ENGINE_KERNEL.C) WHEN CALLING THE MODSSL_SET_CERT_INFO() MACRO.THIS MACRO IS DEFINED AS FOLLOWS:   #DEFINE MODSSL_SET_CERT_INFO(INFO, CERT, PKEY)        *CERT = INFO->X509;        X509_REFERENCE_INC(*CERT);        *PKEY = INFO->X_PKEY->DEC_PKEY;        EVP_PKEY_REFERENCE_INC(*PKEY)WHEN TRACING TROUGH THE CODE WITH GDB THE FOLLOWING VALUES AREPRESENT IN THE LOCAL VARIABLES:   (GDB) P INFO   $4 = (STRUCT X509_INFO_ST *) 0X8236688   (GDB) P CERT   NO SYMBOL CERT IN CURRENT CONTEXT.   (GDB) P PKEY   $5 = (STRUCT EVP_PKEY_ST **) 0XBFFFF26C   (GDB) P *INFO   $6 = X509 = 0X8236BF0, CRL = 0X0, X_PKEY = 0X0, ENC_CIPHER = CIPHER = 0X0,       IV = U00FA024KJH207U00A7, ENC_LEN = 0, ENC_DATA = 0X0, REFERENCES = 1   (GDB) C   CONTINUING.   PROGRAM RECEIVED SIGNAL SIGSEGV, SEGMENTATION FAULT.   0X08095B9D IN SSL_CALLBACK_PROXY_CERT (SSL=0X0, X509=0XBFFFF268,       PKEY=0XBFFFF26C) AT SSL_ENGINE_KERNEL.C:1592   1592                    MODSSL_SET_CERT_INFO(INFO, X509, PKEY);THE PROBLEM IS THAT THE X_PKEY FIELD IN THE INFO STRUCTURE IS NULL(THE THIRD LINE IN THE MACRO TRIES TO ACCESS A FIELD IN THIS X_PKEYSTRUCTURE).MOD_PROXYMOD_SSL SHOULD ENSURE THAT THERE IS A PRIVATE KEY FOR EVERYCERTIFICATE IN SSLPROXYMACHINECERTIFICATEFILE (AND VICE VERSA).(SEE ALSO THE FOLLOWING THREAD:HTTP:MARC.THEAIMSGROUP.COM?L=APACHE-HTTPD-DEV&M=106629032008685&W=2)(RELATED TO BUG 24029)","SUMMARY":"MISSING PRIVATE KEY IN SSLPROXYMACHINECERTIFICATEFILE CAUSES SEGV","CLASS":1}
{"ID_DEFECT":"27428","DESCRIPTION":"THE SSL SHUTDOWN IS HANDELD IN SSL_FILTER_IO_SHUTDOWN(..),WICH WILL BE INVOKED AS A CLEANUP HANDLER. BUT THE CLEANUP HANDLERSWILL BY INVOKED _AFTER_ SHUTDOWN() IS CALLED FOR THE SOCKET, DISABLING ANY FURTHER WRITE OPERATION. SO THE CLIENT DOES NOT RECIEVE ANY SSL SHUTDOWN MESSAGE.(THE MOD_SSL DEFAULT IS SSL_RECEIVED_SHUTDOWN)THAT BEHAVIOUR CAN BE VERIFIED USING SSLDUMP.","SUMMARY":"SSL SHUTDOWN DOES NOT WORK","CLASS":1}
{"ID_DEFECT":"27945","DESCRIPTION":"SITUATIONREPRODUCING:A CLIENT IS SENDING A REQUEST OVER SSL. BEFORE THE FIRST BYTE OF THE RESPONSE IS WRITEN THE CLIENT IS CLOSING THE CONNECTION (STOP BUTTONPRESSED).(ERROR_LOG: [INFO] (32)BROKEN PIPE: CORE_OUTPUT_FILTER: WRITING DATA TO THENETWORK)IF IN THAT SITUATION THE SSL_IO_FILTER_CLEANUP HANDLER WILL BE INVOKED, HE IS TRYING TO SEND A SSL SHUTDOWN MESSAGE. BY THAT A MEMORY VIOLATIONS OCCURS. SEETHE FOLLOWING STACK:   DUMMY_WORKER(OPAQUE = 0X170FC0)   WORKER_THREAD(THD = 0X170FC0, DUMMY = 0X1B1110)   APR_POOL_CLEAR(POOL = 0X255CC0)   RUN_CLEANUPS(CREF = 0X255CD0)   SSL_IO_FILTER_CLEANUP(DATA = 0X256148)   SSL_FILTER_IO_SHUTDOWN(FILTER_CTX = 0X256148, C = 0X255DE8, ABORTIVE = 0)   SSL_SMART_SHUTDOWN(SSL = 0X279268)   SSL3_SHUTDOWN(0X279268, 0X0, 0XFE3562E0, 0XFDBF8000, 0XFFFFFFF8, 0X274B50)   SSL3_SEND_ALERT(0X279268, 0X279BA8, 0X1, 0X3, 0X0, 0X2)   SSL3_WRITE_PENDING(0X279268, 0X15, 0X15, 0X2, 0X0, 0X279CF4)   BIO_WRITE(0X260070, 0X27F790, 0X17, 0XFF33AC84, 0XFF1F655C, 0X0)   BIO_FILTER_OUT_WRITE(BIO = 0X260070, IN = 0X27F790 ^U^C^A, INL = 23)   BIO_FILTER_OUT_FLUSH(BIO = 0X260070)   AP_PASS_BRIGADE(NEXT = 0X25C118, BB = 0X25F098)   CORE_OUTPUT_FILTER(F = 0X25C118, B = 0X260108)   APR_POOL_CLEAR(POOL = 0X2600D0)   ALLOCATOR_FREE(ALLOCATOR = 0X1B3E50, NODE = (NIL)) <-!!!!!!!!!                                        FIXES:THERE ARE TWO POSSIBLE FIXES: A) POINT FIX IN SSL_IO_FILTER_CLEANUP:    FREE ONLY THE SSL STRUCT, BUT DO NOT SEND ANY SSL SHUTDOWN.B) GENEREL FIX IN ALLOCATOR_FREE:   CHECK IF THE PARAMETER APR_MEMNODE_T *NODE IS NULL  PATCHES:A)INDEX: MODULESSSLSSL_ENGINE_IO.C===================================================================RCS FILE:OPTPROJECTSCVSROOTNAVAJOSRCORGAPACHEHTTPD-2.XMODULESSSLSSL_ENGINE_IO.C,VRETRIEVING REVISION 1.8DIFF -R1.8 SSL_ENGINE_IO.C1080,1084C1080,1081<     C = (CONN_REC *)SSL_GET_APP_DATA(FILTER_CTX->PSSL);<     IF ((RET = SSL_FILTER_IO_SHUTDOWN(FILTER_CTX, C, 0)) != APR_SUCCESS) <         AP_LOG_ERROR(APLOG_MARK, APLOG_INFO, RET, NULL,<                      SSL FILTER ERROR SHUTTING DOWN IO);<     --->       SSL_FREE(FILTER_CTX->PSSL);>       FILTER_CTX->PSSL = NULL;1086C1083<     RETURN RET;--->     RETURN APR_SUCCESS;B) INDEX: SRCLIBAPRMEMORYUNIXAPR_POOLS.C===================================================================RCS FILE:OPTPROJECTSCVSROOTNAVAJOSRCORGAPACHEHTTPD-2.XSRCLIBAPRMEMORYUNIXAPR_POOLS.C,VRETRIEVING REVISION 1.3DIFF -R1.3 APR_POOLS.C309A310,312>       IF(!NODE)>               RETURN;>","SUMMARY":"MEMORY VIOLATIONS IN SSL_IO_FILTER_CLEANUP(..) CRASHES THE SERVER","CLASS":1}
{"ID_DEFECT":"28665","DESCRIPTION":"THIS HAS BEEN KICKING AROUND THE NET FOR YEARS, SO I HAVE A PATCH TO FIX IT. THIS PATCH NEEDS TO BE APPLIED IN THE MODULESSSL DIRECTORY, AND IT CREATES ANEW CONFIGURATION DIRECTIVE - SSLHONORCIPHERORDER, WHICH TAKES A BOOLEANVALUE.  IF SSLHONORCIPHERORDER IS TRUE, THE SERVER PREFERS ITS OWN ORDERINGFOR CIPHER SELECTION (AS SET BY THE SSLCIPHERSUITE DIRECTIVE).  IF ITS SET TOFALSE (OR ABSENT), THE HISTORICAL BEHAVIOR OF PREFERING THE CLIENT CIPHERORDERING IS USED.  NOTE THAT THE PATCH CHECKS FOR THE AVAILABILITY OF THESSL_OP_CIPHER_SERVER_PREFERENCE DEFINE, SO ITS SAFE TO USE (BUT IGNORED) EVENIF   YOURE USING AN ANCIENT VERSION OF OPENSSL THAT DOESNT SUPPORT THIS.PATCH FOLLOWS:--<CUT HERE>--INDEX: MODULESSSLMOD_SSL.C===================================================================--- MODULESSSLMOD_SSL.C       20030410 19:09:56     1.1.1.2+++ MODULESSSLMOD_SSL.C       20040428 15:57:20@@ -167,6 +167,10 @@     SSL_CMD_SRV(PROTOCOL, RAW_ARGS,                 ENABLE OR DISABLE VARIOUS SSL PROTOCOLS                 (`[+-][SSLV2|SSLV3|TLSV1] ... - SEE MANUAL))+    SSL_CMD_SRV(HONORCIPHERORDER, FLAG,+                USE THE SERVERS CIPHER ORDERING PREFERENCE)     *      * PROXY CONFIGURATION FOR REMOTE SSL CONNECTIONSINDEX: MODULESSSLMOD_SSL.H===================================================================--- MODULESSSLMOD_SSL.H       20030605 20:51:17     1.1.1.3+++ MODULESSSLMOD_SSL.H       20040428 15:57:21@@ -514,6 +514,9 @@     SSLMODCONFIGREC *MC;     BOOL             ENABLED;     BOOL             PROXY_ENABLED;+#IFDEF SSL_OP_CIPHER_SERVER_PREFERENCE+    BOOL             BHONORCIPHERORDER;+#ENDIF     CONST CHAR      *VHOST_ID;     INT              VHOST_ID_LEN;     INT              SESSION_CACHE_TIMEOUT;@@ -574,6 +577,9 @@ CONST CHAR  *SSL_CMD_SSLVERIFYDEPTH(CMD_PARMS *, VOID *, CONST CHAR *); CONST CHAR  *SSL_CMD_SSLSESSIONCACHE(CMD_PARMS *, VOID *, CONST CHAR *); CONST CHAR  *SSL_CMD_SSLSESSIONCACHETIMEOUT(CMD_PARMS *, VOID *, CONST CHAR *);+CONST CHAR  *SSL_CMD_SSLHONORCIPHERORDER(CMD_PARMS *, VOID *, INT); CONST CHAR  *SSL_CMD_SSLPROTOCOL(CMD_PARMS *, VOID *, CONST CHAR *); CONST CHAR  *SSL_CMD_SSLOPTIONS(CMD_PARMS *, VOID *, CONST CHAR *); CONST CHAR  *SSL_CMD_SSLREQUIRESSL(CMD_PARMS *, VOID *);INDEX: MODULESSSLSSL_ENGINE_CONFIG.C===================================================================--- MODULESSSLSSL_ENGINE_CONFIG.C     20030410 19:09:56     1.1.1.2+++ MODULESSSLSSL_ENGINE_CONFIG.C     20040428 15:57:21@@ -212,7 +212,9 @@     SC->VHOST_ID               = NULL;  * SET DURING MODULE INIT *     SC->VHOST_ID_LEN           = 0;     * SET DURING MODULE INIT *     SC->SESSION_CACHE_TIMEOUT  = UNSET;-+#IFDEF SSL_OP_CIPHER_SERVER_PREFERENCE+    SC->BHONORCIPHERORDER      = UNSET;+#ENDIF     MODSSL_CTX_INIT_PROXY(SC, P);     MODSSL_CTX_INIT_SERVER(SC, P);@@ -296,6 +298,9 @@     CFGMERGEBOOL(ENABLED);     CFGMERGEBOOL(PROXY_ENABLED);     CFGMERGEINT(SESSION_CACHE_TIMEOUT);+#IFDEF SSL_OP_CIPHER_SERVER_PREFERENCE+    CFGMERGEBOOL(BHONORCIPHERORDER);+#ENDIF     MODSSL_CTX_CFG_MERGE_PROXY(BASE->PROXY, ADD->PROXY, MRG->PROXY);@@ -662,6 +667,18 @@     RETURN NULL; ++CONST CHAR *SSL_CMD_SSLHONORCIPHERORDER(CMD_PARMS *CMD, VOID *DCFG, INT FLAG)++#IFDEF SSL_OP_CIPHER_SERVER_PREFERENCE+    SSLSRVCONFIGREC *SC = MYSRVCONFIG(CMD->SERVER);+    AP_LOG_ERROR(APLOG_MARK, APLOG_DEBUG, 0, CMD->SERVER,+        SSL_CMD_SSLHONORCIPHERORDER: SETTING BHONORCIPHERORDER TO %S,+       FLAG?TRUE:FALSE);+    SC->BHONORCIPHERORDER = FLAG?TRUE:FALSE;+#ENDIF+    RETURN NULL;+ CONST CHAR *SSL_CMD_SSLCIPHERSUITE(CMD_PARMS *CMD,                                    VOID *DCFG,INDEX: MODULESSSLSSL_ENGINE_INIT.C===================================================================--- MODULESSSLSSL_ENGINE_INIT.C       20030605 20:51:17     1.1.1.3+++ MODULESSSLSSL_ENGINE_INIT.C       20040428 15:57:21@@ -416,6 +416,9 @@     SSL_METHOD *METHOD = NULL;     CHAR *CP;     INT PROTOCOL = MCTX->PROTOCOL;+#IFDEF SSL_OP_CIPHER_SERVER_PREFERENCE+    SSLSRVCONFIGREC *SC = MYSRVCONFIG(S);+#ENDIF     *      *  CREATE THE NEW PER-SERVER SSL CONTEXT@@ -464,6 +467,11 @@     IF (!(PROTOCOL & SSL_PROTOCOL_TLSV1))          SSL_CTX_SET_OPTIONS(CTX, SSL_OP_NO_TLSV1);     +#IFDEF SSL_OP_CIPHER_SERVER_PREFERENCE+    IF(TRUE == SC->BHONORCIPHERORDER) +        SSL_CTX_SET_OPTIONS(CTX, SSL_OP_CIPHER_SERVER_PREFERENCE);+    +#ENDIF     SSL_CTX_SET_APP_DATA(CTX, S);--<CUT HERE>--","SUMMARY":"MOD_SSL IGNORES SERVER CIPHER PREFERENCES","CLASS":1}
{"ID_DEFECT":"29964","DESCRIPTION":"IM SEEING A NON-TERMINATING LOOP IN SSL_IO_INPUT_GETLINE().WE USED A 3RD PARTY TOOL TO SEND A REQUEST TO OUR APACHE SERVER. THE TOOL TRIED TO PRESENT AN EXPIRED CERTIFICATE TO A SSL ENABLED VHOST AND APACHE CORRECTLY REFUSED THE CORRECTION. BUT, IT SET APACHE TO SPIN OUT OF CONTROL.IM A COMPLETE OUTSIDER OF THE APACHEMOD_SSL CODE. BUT THIS IS WHAT I FOUND. AS MENTIONED, APACHE DID SHUTDOWN THE FILTERS SSL CONNECTION. HOWEVER, IT CONTINUED TO READ IN GETLINEBLOCKING MODE THE REST OF THE REQUEST. HERE COMES THE PROBLEM. SSL_IO_INPUT_GETLINE() CALLS SSL_IO_INPUT_READ() TO READ TO A LF OR THE MAX. OF THE BUFFER CAN HANDLE, WHICHEVER COMES FIRST. BUT, SSL_IO_INPUT_READ() REALIZES THE FILTERS SSL CONNECTION HAS BEEN SHUTDOWN, IT RETURNS WITH THE LAST KNOWN STATUS OF THE BIO WHICH WAS CREATED TO READ FROM THIS SSL CONNECTION. IT ALSO SET THE RETURNED LENGTH TO 0. UNFORTUNATELY, THE CALLER GET APR_SUCCESS RETURN CODE AND BECAUSE THE RETURNED LENGTH IS 0, THE REMAINING BUFFER LENGTH DOES NOT GET CHANGED AT ALL. BECAUSE THE RETURN CODE IS ALWAYS APR_SUCCESS AND BECAUSE THE RETURNED LENGTH IS ALWAYS 0 AND THE BUFFER IS NOT FULL, SSL_IO_INPUT_GETLINE() KEEPS CALLING SSL_IO_INPUT_READ(). IT GOES ON FOREVER!","SUMMARY":"NON-TERMINATING IO","CLASS":1}
{"ID_DEFECT":"30134","DESCRIPTION":"OVERVIEW DESCRIPTION:INTERMITTENT SEGMENTATION FAULTS OCCUR IN CHAR_BUFFER_READ ATSSL_ENGINE_IO.C:348 WHEN USING A REWRITERULE TO DO REVERSE PROXYING TO AN SSLORIGIN SERVER RUNNING IIS.    STEPS TO REPRODUCE:1) SET UP AN IIS SERVER USING SSL AND RUNNING EROOM 6.2) ADD THE FOLLOWING DIRECTIVES TO HTTPD.CONF:LISTEN 47290SSLPROXYENGINE ONREWRITEENGINE ONREWRITERULE (.*) HTTPS:SOME.EROOM6.IIS.SERVER.COM$1 [P]3) VISIT A URL SIMILAR TO THE FOLLOWING:HTTP:REVERSE.PROXY.COM:47290EROOMASPCOOKIETEST.ASP?FACILITY=FACILITY&URL=%2FEROOM%2FFACILITY%2FROOM%2F0_4242IF THAT DOESNT CAUSE THE SEGFAULT, CLICK AROUND FOR A WHILE.(YES, REVERSE PROXYING FROM NON-SSL TO SSL IS NOT A GOOD IDEA, BUT IT KEEPS THEEXAMPLE SIMPLER.)    ACTUAL RESULTS:SEGMENTATION FAULT IN ERROR_LOG:[THU JUL 15 19:38:36 2004] [NOTICE] CHILD PID 42 EXIT SIGNAL SEGMENTATION FAULT(11), POSSIBLE COREDUMP IN USRLOCALHTTPD-2.0.50    BUILD DATE & PLATFORM:2004-07-14 BUILD ON SUNOS 5.8 SUNW,ULTRAAX-I2    ADDITIONAL INFORMATION:HERE IS A STACK TRACE FROM GDB:#0  0XFEF5060C IN MEMCPY ()   FROM USRPLATFORMSUNW,ULTRAAX-I2LIBLIBC_PSR.SO.1#1  0XFEAFEF54 IN CHAR_BUFFER_READ (BUFFER=0X1649AC,    IN=0X2000 <ADDRESS 0X2000 OUT OF BOUNDS>, INL=8192) AT SSL_ENGINE_IO.C:348#2  0XFEAFF388 IN SSL_IO_INPUT_READ (INCTX=0X164990,    BUF=0X1649B8 CONTENT-LENGTH: 121CORTMARTONIA0_2615CONTENT-LENGTH:121CENT-LENGTH: 121CMEPORTMARTONIA0_2615CONTENT-LENGTH:121CMEPORTMARTONIA0_2615CONTENT-LENGTH:121CRTONIA0_2615CONTENT-LE..., LEN=0XFFBEA8CC) AT SSL_ENGINE_IO.C:561#3  0XFEAFF624 IN SSL_IO_INPUT_GETLINE (INCTX=0X164990,    BUF=0X1649B8 CONTENT-LENGTH: 121CORTMARTONIA0_2615CONTENT-LENGTH:121CENT-LENGTH: 121CMEPORTMARTONIA0_2615CONTENT-LENGTH:121CMEPORTMARTONIA0_2615CONTENT-LENGTH:121CRTONIA0_2615CONTENT-LE..., LEN=0XFFBEA944) AT SSL_ENGINE_IO.C:712#4  0XFEB00118 IN SSL_IO_FILTER_INPUT (F=0X1669C0, BB=0X158F98,    MODE=4290685252, BLOCK=APR_BLOCK_READ, READBYTES=0) AT SSL_ENGINE_IO.C:1226#5  0X42978 IN AP_GET_BRIGADE (NEXT=0X1669C0, BB=0X158F98,    MODE=AP_MODE_GETLINE, BLOCK=APR_BLOCK_READ, READBYTES=0)    AT UTIL_FILTER.C:474#6  0X4AAB4 IN NET_TIME_FILTER (F=0X158E20, B=0X158F98, MODE=AP_MODE_GETLINE,    BLOCK=APR_BLOCK_READ, READBYTES=0) AT CORE.C:3600#7  0X42978 IN AP_GET_BRIGADE (NEXT=0X158E20, BB=0X158F98,    MODE=AP_MODE_GETLINE, BLOCK=APR_BLOCK_READ, READBYTES=0)    AT UTIL_FILTER.C:474#8  0X43E0C IN AP_RGETLINE_CORE (S=0XFFBEAB94, N=8192, READ=0XFFBEAB90,    R=0X1671B8, FOLD=1, BB=0X158F98) AT PROTOCOL.C:214#9  0X441A4 IN AP_GETLINE (S=0XFFBECCD8 CONTENT-LENGTH, N=8192, R=0X1671B8,    FOLD=1) AT PROTOCOL.C:478#10 0XFE8552D4 IN AP_PROXY_READ_HEADERS (R=0X1821D0, RR=0X1671B8,    BUFFER=0XFFBECCD8 CONTENT-LENGTH, SIZE=8192, C=0X1671B8)    AT PROXY_UTIL.C:457#11 0XFE833014 IN AP_PROXY_HTTP_PROCESS_RESPONSE (P=0X157960, R=0X1821D0,    P_CONN=0X157EE8, ORIGIN=0X158168, BACKEND=0X157F00, CONF=0XF0268,    BB=0X157E98, SERVER_PORTSTR=0XFFBEED68 :47290) AT PROXY_HTTP.C:755#12 0XFE833BA4 IN AP_PROXY_HTTP_HANDLER (R=0X1821D0, CONF=0XF0268,    URL=0X158038EROOMASPCOOKIETEST.ASP?FACILITY=MEMEPORT&URL=%2FEROOM%2FMEMEPORT%2FMARTONIA%2F0_2615,PROXYNAME=0X0, PROXYPORT=60776) AT PROXY_HTTP.C:1121#13 0XFE85435C IN PROXY_RUN_SCHEME_HANDLER (R=0X1821D0, CONF=0XF0268,    URL=0X1839CEHTTPS:EROOMHOST.AAA.BBB.COMEROOMASPCOOKIETEST.ASP?FACILITY=MEMEPORT&URL=%2FEROOM%2FMEMEPORT%2FMARTONIA%2F0_2615,PROXYHOST=0X0,    PROXYPORT=0) AT MOD_PROXY.C:1113#14 0XFE852ED8 IN PROXY_HANDLER (R=0X1821D0) AT MOD_PROXY.C:418#15 0X359A8 IN AP_RUN_HANDLER (R=0X1821D0) AT CONFIG.C:151#16 0X35FA4 IN AP_INVOKE_HANDLER (R=0X1821D0) AT CONFIG.C:358#17 0X32C44 IN AP_PROCESS_REQUEST (R=0X1821D0) AT HTTP_REQUEST.C:246#18 0X2DF14 IN AP_PROCESS_HTTP_CONNECTION (C=0X157A70) AT HTTP_CORE.C:250#19 0X40090 IN AP_RUN_PROCESS_CONNECTION (C=0X157A70) AT CONNECTION.C:42#20 0X403A4 IN AP_PROCESS_CONNECTION (C=0X157A70, CSD=0X157998)    AT CONNECTION.C:175#21 0X3422C IN CHILD_MAIN (CHILD_NUM_ARG=5) AT PREFORK.C:609#22 0X343AC IN MAKE_CHILD (S=0X8EDB0, SLOT=5) AT PREFORK.C:703#23 0X345FC IN PERFORM_IDLE_SERVER_MAINTENANCE (P=0X8C690) AT PREFORK.C:838#24 0X34A34 IN AP_MPM_RUN (_PCONF=0X0, PLOG=0X63400, S=0X83000)    AT PREFORK.C:1039#25 0X3AD44 IN MAIN (ARGC=3, ARGV=0XFFBEF4AC) AT MAIN.C:617","SUMMARY":"SEGMENTATION FAULT IN CHAR_BUFFER_READ WHEN REVERSE PROXYING SSL","CLASS":1}
{"ID_DEFECT":"30585","DESCRIPTION":"(INITIALLY REPORTED AS SITIC VULNERABILITY ADVISORY SA04-001, REDEFINED AS BUG AFTER DISCUSSION WITH ASF HTTPD SECURITY TEAM)APACHES MOD_SSL MODULE SUFFERS FROM A FORMAT STRING BUG WHEN LOGGINGINFORMATION ABOUT CRLS. IF AN ADMINISTRATOR INSTALLS A MALICIOUS CRL FILE,THIS BUG CAN LEAD TO THE EXECUTION OF ARBITRARY CODE.THE FUNCTION SSL_CALLBACK_SSLVERIFY_CRL() IN MODULESSSLSSL_ENGINE_KERNEL.CCALLS AP_LOG_ERROR() WITH DATA FROM THE CRL AS THE FORMAT STRING INSTEAD OFUSING THE DATA AS PARAMETERS, LEADING TO A SECURITY BREACH.THIS BUG WAS DISCOVERED BY ULF HARNHAMMAR FOR SITIC, SWEDISH IT INCIDENT CENTRE.THE INCLUDED PATCH ISSUE1.PATCH IS OUR ATTEMPT AT CORRECTING THIS ISSUE:--- MODULESSSLSSL_ENGINE_KERNEL.CT2004-06-07 12:18:37.000000000 +0200+++ MODULESSSLSSL_ENGINE_KERNEL.C.ULFT2004-08-02 12:49:18.000000000 +0200@@ -1372,7 +1372,7 @@              BIO_FREE(BIO); -            AP_LOG_ERROR(APLOG_MARK, APLOG_DEBUG, 0, S, BUFF);+            AP_LOG_ERROR(APLOG_MARK, APLOG_DEBUG, 0, S, %S, BUFF);                   *","SUMMARY":"APACHE MOD_SSL CRL FORMAT STRING BUG","CLASS":1}
{"ID_DEFECT":"31083","DESCRIPTION":"SSL_ENGINE_IO.C LINE 1029WHEN HTTP1.0 HTTPS PROXY REQUEST (NOT HTTP1.1 CONNECT),AND SSL_CONNECTFAIL(BECAUSE OF INVALID CERT ETC.), SSL_IO_FILTER_CONNECT RETURNS SUCCESS.THEN NEXT PHASE,APACHE SEND REQUEST FAIL,AND HTTP STAUS INTERNAL SERVER ERROR.IN THIS CASE,SSL_IO_FILTER_CONNECT MIGHT RETURNS HTTP_BAD_GATEWAY.","SUMMARY":"INTERNAL SERVER ERROR WHEN HTTP1.0 PROXY REQUEST AND SERVER RETURNS INVALID CERT","CLASS":1}
{"ID_DEFECT":"31505","DESCRIPTION":"OVERVIEW: FOR A LOCATION A SSL CIPHERSUITE IS CONFIGURED, LETS SAY DES-CBC3-SHA.AND THAT CIPHERSUITE IS NOT CONTAINED IN THE CIPHERSUITES CONFIGURED FOR THE SERVER OR VIRTUAL HOST, LETS SAY RC4-MD5:DES-CBC3-SHA.IF THAT LOCATION WILL BE ACCESSED A RENEGOTIATION IS TRIGGERED IN SSL_ENGINE_KERNEL.C LINE 283 FF ABOUT THE CHANGED CIPHERSUITE.BUT IF THE CLIENT WANTS TO RESUME THE PREVIOUS SESSION THE SERVER I.E WILL ACCEPT THAT. THAT MEANS A REDUCED HANDSHAKE WILL BE MADE, AND THE CURRENT CIPHER REMAINS UNCHANGED!FROM A OPENSSL POINT OF VIEW IT IS CORRECT, BECAUSE OPENSSL CAN NOTKNOW THE REASON FOR THAT RENEGOTIATION. (SEE ALSO THE SSL SPEC.)BUT AWARE OF THAT IN OPENSSL 0.9.7 A NEW FLAGSSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION HAS BEEN INTRODUCED.STEPS TO REPRODUCE:O SETUP A APACHE AS DESCRIPED ABOVE:  SSL CACHING ENABLED, AND FOR EXAMPLE RC4-MD5,DES-CBC3-SHA  CONFIGURED FOR THE VIRTUAL HOST, AND DES-CBC3-SHA CONFIGURED  FOR THE  LOCATIONO CONNECT WITH A JAVA CLIENT USING JSSE 1.4O IN THE ERROR_LOG CAN BE SEEN THAT THERE IS STILL THE INITIAL  CIPHER RC4-MD5 USED AFTER THE RENEGOTIATION.(A SSLDUMP IS ATTACHED BELLOW)THAT SCENARIO HAS BEEN TESTED WITH DIFFERENT NON-JAVA CLIENTS(MSIE, MOZILLA). THE DESCRIBED PROBLEM DOES NOT ARISE, BECAUSE THESE CLIENT ARE NOT TRYING TO RESUME DURING THE RENEGOTIATION.PATCH:*** SSL_ENGINE_INIT.C.PATCHED   FRI OCT  1 14:15:46 2004--- SSL_ENGINE_INIT.C   MON JUN  7 12:18:37 2004****************** 439,450 ****       * CONFIGURE ADDITIONAL CONTEXT INGREDIENTS       *      SSL_CTX_SET_OPTIONS(CTX, SSL_OP_SINGLE_DH_USE);--     * NO RESUMTION FOR A ACTIVE RENEGOTIATION *- #IF (OPENSSL_VERSION_NUMBER >= 0X00907000)-       SSL_CTX_SET_OPTIONS(CTX, SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION);- #ENDIF-    STATIC VOID SSL_INIT_CTX_SESSION_CACHE(SERVER_REC *S,--- 439,444 ----SSLDUMP:NEW TCP CONNECTION #1: ADNPOOL01.ZH.ADNOVUM.CH(36320) <-> DOUG.ADNOVUM.CH(44300)1 1  0.0119 (0.0119)  C>S SSLV2 COMPATIBLE CLIENT HELLO  VERSION 3.1  CIPHER SUITES  TLS_RSA_WITH_RC4_128_MD5  SSL2_CK_RC4  TLS_RSA_WITH_RC4_128_SHA  UNKNOWN VALUE 0X2F  UNKNOWN VALUE 0X33  UNKNOWN VALUE 0X32  TLS_RSA_WITH_3DES_EDE_CBC_SHA  SSL2_CK_3DES  TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA  TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA  TLS_RSA_WITH_DES_CBC_SHA  SSL2_CK_DES  TLS_DHE_RSA_WITH_DES_CBC_SHA  TLS_DHE_DSS_WITH_DES_CBC_SHA  TLS_RSA_EXPORT_WITH_RC4_40_MD5  SSL2_CK_RC4_EXPORT40  TLS_RSA_EXPORT_WITH_DES40_CBC_SHA  TLS_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA  TLS_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA1 2  0.0153 (0.0034)  S>C  HANDSHAKE      SERVERHELLO        VERSION 3.1        SESSION_ID[32]=          0E 5E DE 9D 66 47 36 ED 52 AD 43 E5 3F E8 4B 65          96 D4 47 F2 E7 00 F0 0F 81 4F 91 54 3C 55 97 F4        CIPHERSUITE         TLS_RSA_WITH_RC4_128_MD5        COMPRESSIONMETHOD                   NULL1 3  0.0153 (0.0000)  S>C  HANDSHAKE      CERTIFICATE1 4  0.0153 (0.0000)  S>C  HANDSHAKE      SERVERHELLODONE1 5  0.1112 (0.0959)  C>S  HANDSHAKE      CLIENTKEYEXCHANGE1 6  0.1175 (0.0062)  C>S  CHANGECIPHERSPEC1 7  0.1252 (0.0076)  C>S  HANDSHAKE      FINISHED1 8  0.1905 (0.0653)  S>C  CHANGECIPHERSPEC1 9  0.1905 (0.0000)  S>C  HANDSHAKE      FINISHED1 10 0.2025 (0.0120)  C>S  APPLICATION_DATA    ---------------------------------------------------------------    GET INDEX.HTML HTTP1.1    USER-AGENT: HTTPUNIT-CLIENT    ACCEPT-ENCODING: GZIP    CACHE-CONTROL: NO-CACHE    PRAGMA: NO-CACHE    HOST: DOUG.ADNOVUM.CH:44300    ACCEPT: TEXTHTML, IMAGEGIF, IMAGEJPEG, *; Q=.2, **; Q=.2    CONNECTION: KEEP-ALIVE    ---------------------------------------------------------------1 11 0.2051 (0.0025)  S>C  HANDSHAKE      HELLOREQUEST1 12 0.2071 (0.0019)  C>S  HANDSHAKE      CLIENTHELLO        VERSION 3.1        RESUME [32]=          0E 5E DE 9D 66 47 36 ED 52 AD 43 E5 3F E8 4B 65          96 D4 47 F2 E7 00 F0 0F 81 4F 91 54 3C 55 97 F4        CIPHER SUITES        TLS_RSA_WITH_RC4_128_MD5        TLS_RSA_WITH_RC4_128_SHA        UNKNOWN VALUE 0X2F        UNKNOWN VALUE 0X33        UNKNOWN VALUE 0X32        TLS_RSA_WITH_3DES_EDE_CBC_SHA        TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA        TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA        TLS_RSA_WITH_DES_CBC_SHA        TLS_DHE_RSA_WITH_DES_CBC_SHA        TLS_DHE_DSS_WITH_DES_CBC_SHA        TLS_RSA_EXPORT_WITH_RC4_40_MD5        TLS_RSA_EXPORT_WITH_DES40_CBC_SHA        TLS_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA        TLS_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA        COMPRESSION METHODS                  NULL1 13 0.2113 (0.0042)  S>C  HANDSHAKE      SERVERHELLO        VERSION 3.1        SESSION_ID[32]=          0E 5E DE 9D 66 47 36 ED 52 AD 43 E5 3F E8 4B 65          96 D4 47 F2 E7 00 F0 0F 81 4F 91 54 3C 55 97 F4        CIPHERSUITE         TLS_RSA_WITH_RC4_128_MD5        COMPRESSIONMETHOD                   NULL1 14 0.2113 (0.0000)  S>C  CHANGECIPHERSPEC1 15 0.2113 (0.0000)  S>C  HANDSHAKE      FINISHED1 16 0.2190 (0.0076)  C>S  CHANGECIPHERSPEC1 17 0.2195 (0.0005)  C>S  HANDSHAKE      FINISHED1 18 0.3120 (0.0925)  S>C  APPLICATION_DATA    ---------------------------------------------------------------    HTTP1.1 200 OK    DATE: FRI, 01 OCT 2004 12:27:19 GMT    SERVER: APACHE    CONTENT-TYPE: TEXTHTML    CONTENT-LENGTH: 383    CONNECTION: CLOSE    ---------------------------------------------------------------1 19 0.3120 (0.0000)  S>C  APPLICATION_DATA    ---------------------------------------------------------------    <!DOCTYPE HTML PUBLIC -W3CDTD HTML 4.0 TRANSITIONALENHTTP:WWW.W3.ORGTRREC-HTML40LOOSE.DTD>    <HTML>    <HEAD>    <TITLE>WELCOME<TITLE>    <LINK REL=STYLESHEET HREF=CSSSTYLES.CSS TYPE=TEXTCSS><HEAD>    <BODY BGCOLOR=#FFFFFF>    <CENTER><H2>    <DIV ALIGN=RIGHT><IMG SRC=IMGNEVIS_F2.GIF BORDER=0 ><DIV>    WELCOME TO THE NEVISWEB REVERSE PROXY    <H2><CENTER>    <BODY><HTML>    ---------------------------------------------------------------1 20 0.3134 (0.0014)  S>C  ALERT    LEVEL           WARNING    VALUE           CLOSE_NOTIFY1    0.3142 (0.0007)  S>C  TCP FIN1 21 0.3173 (0.0031)  C>S  ALERT    LEVEL           WARNING    VALUE           CLOSE_NOTIFY1    0.3176 (0.0003)  C>S  TCP FIN","SUMMARY":"SSLCIPHERSUITE CAN BE BYPASSED DURING RENEGOTIATION","CLASS":1}
{"ID_DEFECT":"31848","DESCRIPTION":"APACHE 2 (SELF-COMPILED) ON OPENBSD 3.5THE CHILD PROCESS CRASHES WHEN I TRY TO ACCESS A PASSWORD-PROTECTED (AUTHTYPE DIGEST, REQUIRE VALID-USER) AREA ON A VIRTUAL HOST WHICH ALSO HAS SSLENGINE ON. THE REQUEST THAT CAUSES THE CRASH NEED NOT BE OVER SSL. AFTER THE REQUEST, I GET TONS OF THE FOLLOWING MESSAGES IN MY ERROR_LOG:[WED OCT 20 23:33:02 2004] [NOTICE] CHILD PID 748 EXIT SIGNAL SEGMENTATION FAULT (11)[WED OCT 20 23:33:02 2004] [NOTICE] CHILD PID 21686 EXIT SIGNAL SEGMENTATION FAULT (11)[WED OCT 20 23:33:02 2004] [NOTICE] CHILD PID 11754 EXIT SIGNAL SEGMENTATION FAULT (11)[WED OCT 20 23:33:02 2004] [NOTICE] CHILD PID 25724 EXIT SIGNAL SEGMENTATION FAULT (11)...I STARTED APACHE UNDER GDB IN -X MODE AND GOT THE FOLLOWING BACK TRACE:PROGRAM RECEIVED SIGNAL SIGSEGV, SEGMENTATION FAULT.0X1C0441D0 IN SSL_HOOK_USERCHECK (R=0X3C19C050) AT SSL_ENGINE_KERNEL.C:848848         IF (!(SC->ENABLED && SSLCONN->SSL && SSLCONN->CLIENT_CERT) ||(GDB) BT#0  0X1C0441D0 IN SSL_HOOK_USERCHECK (R=0X3C19C050) AT SSL_ENGINE_KERNEL.C:848#1  0X1C099C5B IN AP_RUN_CHECK_USER_ID (R=0X3C19C050) AT REQUEST.C:69#2  0X1C09A5ED IN AP_PROCESS_REQUEST_INTERNAL (R=0X3C19C050) AT REQUEST.C:192#3  0X1C056D0F IN AP_PROCESS_REQUEST (R=0X3C19C050) AT HTTP_REQUEST.C:244#4  0X1C051C3C IN AP_PROCESS_HTTP_CONNECTION (C=0X3C196128) AT HTTP_CORE.C:250#5  0X1C08DE1B IN AP_RUN_PROCESS_CONNECTION (C=0X3C196128) AT CONNECTION.C:42#6  0X1C08E18D IN AP_PROCESS_CONNECTION (C=0X3C196128, CSD=0X3C196050)    AT CONNECTION.C:175#7  0X1C081084 IN CHILD_MAIN (CHILD_NUM_ARG=0) AT PREFORK.C:609#8  0X1C081148 IN MAKE_CHILD (S=0X3C0469E8, SLOT=0) AT PREFORK.C:649#9  0X1C081257 IN STARTUP_CHILDREN (NUMBER_TO_START=5) AT PREFORK.C:721#10 0X1C0815D2 IN AP_MPM_RUN (_PCONF=0X3C042018, PLOG=0X3C088018, S=0X3C0469E8)    AT PREFORK.C:940#11 0X1C087E81 IN MAIN (ARGC=3, ARGV=0XCFBF7DE8) AT MAIN.C:617#12 0X1C022671 IN ___START ()#13 0X1C0225E7 IN __START ()#14 0XCFBF7F5C IN ?? ()APACHE WAS CONFIGURED LIKE THIS:.CONFIGURE --PREFIX=USRLOCALAPACHE2 --ENABLE-EXT-FILTER --ENABLE-EXP --ENABLE-HEADERS --ENABLE-UNIQUE-ID --ENABLE-SSL --ENABLE-DAV --ENABLE-SPELING --ENABLE-REWRITE --ENABLE-INFO --ENABLE-AUTH-DIGEST --ENABLE-DEFLATE --ENABLE-PROXY --ENABLE-EXPIRES --ENABLE-SO","SUMMARY":"SEGV SSL_HOOK_USERCHECK (R=0X3C19C050) AT SSL_ENGINE_KERNEL.C:848","CLASS":1}
{"ID_DEFECT":"34520","DESCRIPTION":"CONFIGURE:==========CONFIGURE_OPTIONS=--PREFIX=$(DIR_PROD) --ENABLE-SSL--WITH-SSL=$(OPENSSL_DIRECTORY)                     --ENABLE-MODS-SHARED=MOST --WITH-MPM=WORKER--WITHOUT-BERKELEY-DB                    --WITH-EXPAT=$(DIR_SRC)$(CURRENT_DISTRO)SRCLIBAPR-UTILXMLEXPAT   ENVIRONMENT:============OSLEVEL -R5200-02OROSLEVEL -R4330-11BOTH ENVIRONMENTS USING VISUAL AGE CC++ AT V6 WITH FEBRUARY 2005 PTFS APPLIED(IE. FAIRLY UP-TO-DATE ...).LSLPP -L VAC*  FILESET                      LEVEL  STATE  TYPE  DESCRIPTION (UNINSTALLER)  ----------------------------------------------------------------------------  VAC.C                     6.0.0.11    A     F    C FOR AIX COMPILER  VAC.C.README.IBM           6.0.0.1    A     F    C FOR AIX IFORLS INFORMATION  VAC.DT.COMMON              6.0.0.0    C     F    C FOR AIX DESKTOP INTEGRATION                                                   COMMON FILES  VAC.DT.HELP                6.0.0.0    C     F    C FOR AIX HELP DESKTOP                                                   INTEGRATION  VAC.HTML.DBCS.SEARCH       6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION SEARCH DOUBLE                                                   BYTE COMMON FILES  VAC.HTML.EN_US             6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION (HTML)--U.S.                                                   ENGLISH UTF  VAC.HTML.JA_JP             6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION (HTML)--JAPANESE                                                   UTF  VAC.HTML.JA_JP.C           6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION (HTML)--JAPANESE  VAC.HTML.JA_JP.SEARCH      6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION SEARCH--JAPANESE  VAC.HTML.SBCS.SEARCH       6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION SEARCH SINGLE                                                   BYTE COMMON FILES  VAC.HTML.ZH_CN             6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION                                                   (HTML)--SIMPLIFIED CHINESE UTF  VAC.HTML.COMMON.SEARCH     6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION SEARCH COMMON                                                   FILES  VAC.HTML.EN_US.C           6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION (HTML)--U.S.                                                   ENGLISH  VAC.HTML.EN_US.SEARCH      6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION SEARCH--U.S.                                                   ENGLISH  VAC.HTML.JA_JP             6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION (HTML)--JAPANESE                                                   IBM-EUCJP  VAC.HTML.ZH_CN.C           6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION                                                   (HTML)--SIMPLIFIED CHINESE  VAC.HTML.ZH_CN.SEARCH      6.0.0.0    C     F    C FOR AIX COMPILER                                                   DOCUMENTATION                                                   SEARCH--SIMPLIFIED CHINESE  VAC.LIC                    6.0.0.0    C     F    C FOR AIX LICENCE FILES  VAC.MSG.EN_US.C            6.0.0.2    A     F    C FOR AIX COMPILER MESSAGES -                                                   EN_US  VAC.NDI                    6.0.0.7    A     F    C FOR AIX NON-DEFAULT                                                   INSTALLATION SCRIPT  VAC.PDF.EN_US.C            6.0.0.0    C     F    C FOR AIX DOCUMENTATION                                                   (PDF)--U.S. ENGLISH  VACPP.DT.COMMON            6.0.0.0    C     F    VISUALAGE C++ DESKTOP                                                   INTEGRATION COMMON FILES  VACPP.DT.HELP              6.0.0.0    C     F    VISUALAGE C++ HELP DESKTOP                                                   INTEGRATION  VACPP.CMP.AIX50.LIB       6.0.0.10    A     F    VISUALAGE C++ LIBRARIES FOR                                                   AIX 5.0  VACPP.CMP.AIX50.TOOLS      6.0.0.1    A     F    VISUALAGE C++ TOOLS FOR AIX                                                   5.0  VACPP.CMP.CORE            6.0.0.12    A     F    VISUALAGE C++ COMPILER  VACPP.CMP.INCLUDE         6.0.0.10    A     F    VISUALAGE C++ COMPILER INCLUDE                                                   FILES  VACPP.CMP.LIB              6.0.0.0    C     F    VISUALAGE C++ LIBRARIES  VACPP.CMP.RTE              6.0.0.0    C     F    VISUALAGE C++ COMPILER                                                   APPLICATION RUNTIME  VACPP.CMP.TOOLS           6.0.0.10    A     F    VISUALAGE C++ TOOLS  VACPP.HTML.DBCS            6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--DOUBLE BYTE COMMON                                                   FILES  VACPP.HTML.EN_US           6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--U.S. ENGLISH UTF  VACPP.HTML.JA_JP           6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--JAPANESE UTF  VACPP.HTML.JA_JP           6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--JAPANESE  VACPP.HTML.SBCS            6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--SINGLE BYTE COMMON                                                   FILES  VACPP.HTML.ZH_CN           6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--SIMPLIFIED CHINESE UTF  VACPP.HTML.COMMON          6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--COMMON FILES  VACPP.HTML.EN_US           6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--U.S. ENGLISH  VACPP.HTML.HELP            6.0.0.0    C     F    VISUALAGE C++ HTML HELP ENGINE  VACPP.HTML.JA_JP           6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--JAPANESE IBM-EUCJP  VACPP.HTML.ZH_CN           6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (HTML)--SIMPLIFIED CHINESE  VACPP.LIC                  6.0.0.0    C     F    VISUALAGE C++ LICENCE FILES  VACPP.MEMDBG.AIX50.LIB     6.0.0.7    A     F    VA C++ USER HEAPMEMORY DEBUG                                                   AIX 5.0 LIBRARIES  VACPP.MEMDBG.AIX50.RTE    6.0.0.10    A     F    VA C++ USER HEAPMEMORY DEBUG                                                   AIX 5.0 RUNTIME  VACPP.MEMDBG.LIB           6.0.0.0    C     F    VISUALAGE C++ USER HEAP AND                                                   MEMORY DEBUG STATIC LIBRARIES  VACPP.MEMDBG.RTE           6.0.0.0    C     F    VISUALAGE C++ USER HEAP AND                                                   MEMORY DEBUG RUNTIME  VACPP.MSG.EN_US.CMP.CORE   6.0.0.7    A     F    VISUALAGE COMPILER C++                                                   MESSAGES--U.S. ENGLISH  VACPP.MSG.EN_US.CMP.TOOLS  6.0.0.0    C     F    VISUALAGE C++ TOOLS                                                   MESSAGES--U.S. ENGLISH  VACPP.MSG.EN_US.HTML.HELP  6.0.0.0    C     F    VISUALAGE C++ HELP ENGINE                                                   MESSAGES--U.S. ENGLISH  VACPP.NDI                  6.0.0.7    A     F    VISUALAGE C++ NON-DEFAULT                                                   INSTALLATION SCRIPT  VACPP.PDF.JA_JP            6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (PDF)--JAPANESE  VACPP.PDF.COMMON           6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (PDF)--COMMON FILES  VACPP.PDF.EN_US            6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (PDF)--U.S. ENGLISH  VACPP.PDF.ZH_CN            6.0.0.0    C     F    VISUALAGE C++ DOCUMENTATION                                                   (PDF)--SIMPLIFIED CHINESE  VACPP.SAMPLES.ANSICL       6.0.0.6    A     F    ANSI CLASS LIBRARY SAMPLESCAUSE:======  SIGNATURE:  VOBSOPENSSLPRODINCLUDEOPENSSLSSL2.H:  SSL_SESSION *D2I_SSL_SESSION(SSL_SESSION **A,CONST UNSIGNED CHAR * CONST *PP,TTT     LONG LENGTH);  CODE:    PSESSION = D2I_SSL_SESSION(NULL, &PTR, SSL_SESSION_MAX_DER);  PRE-PROCESSED:  UNSIGNED CHAR *PTR;  ...  PSESSION = D2I_SSL_SESSION(0, &PTR, 1024*10);                  CC=XLC_RBUG:====GMAKE[4]: ENTERING DIRECTORY `VOBSAPACHESRCHTTPD-2.0.54MODULESSSLVOBSAPACHESRCHTTPD-2.0.54SRCLIBAPRLIBTOOL --SILENT --MODE=COMPILE XLC_R -G -QHALT=E    -U__STR__ -D_THREAD_SAFE -D_USE_IRS   -IVOBSAPACHESRCHTTPD-2.0.54SRCLIBAPRINCLUDE-IVOBSAPACHESRCHTTPD-2.0.54SRCLIBAPR-UTILINCLUDE-IVOBSAPACHESRCHTTPD-2.0.54SRCLIBAPR-UTILXMLEXPATLIB -I.-IVOBSAPACHESRCHTTPD-2.0.54OSUNIX-IVOBSAPACHESRCHTTPD-2.0.54SERVERMPMWORKER-IVOBSAPACHESRCHTTPD-2.0.54MODULESHTTP-IVOBSAPACHESRCHTTPD-2.0.54MODULESFILTERS-IVOBSAPACHESRCHTTPD-2.0.54MODULESPROXY-IVOBSAPACHESRCHTTPD-2.0.54INCLUDE-IVOBSAPACHESRCHTTPD-2.0.54MODULESGENERATORS-IVOBSOPENSSLPRODINCLUDEOPENSSL -IVOBSOPENSSLPRODINCLUDE-IVOBSAPACHESRCHTTPD-2.0.54MODULESDAVMAIN -PREFER-PIC -CSSL_SCACHE_SHMCB.C && TOUCH SSL_SCACHE_SHMCB.SLOSSL_SCACHE_SHMCB.C, LINE 1248.46: 1506-280 (E) FUNCTION ARGUMENT ASSIGNMENTBETWEEN TYPES CONST UNSIGNED CHAR* CONST* AND UNSIGNED CHAR** IS NOT ALLOWED.SSL_SCACHE_SHMCB.C, LINE 1327.46: 1506-280 (E) FUNCTION ARGUMENT ASSIGNMENTBETWEEN TYPES CONST UNSIGNED CHAR* CONST* AND UNSIGNED CHAR** IS NOT ALLOWED.GMAKE[4]: *** [SSL_SCACHE_SHMCB.SLO] ERROR 1GMAKE[4]: LEAVING DIRECTORY `VOBSAPACHESRCHTTPD-2.0.54MODULESSSLGMAKE[3]: *** [SHARED-BUILD-RECURSIVE] ERROR 1GMAKE[3]: LEAVING DIRECTORY `VOBSAPACHESRCHTTPD-2.0.54MODULESSSLGMAKE[2]: *** [SHARED-BUILD-RECURSIVE] ERROR 1GMAKE[2]: LEAVING DIRECTORY `VOBSAPACHESRCHTTPD-2.0.54MODULESGMAKE[1]: *** [SHARED-BUILD-RECURSIVE] ERROR 1GMAKE[1]: LEAVING DIRECTORY `VOBSAPACHESRCHTTPD-2.0.54GMAKE: *** [ALL-RECURSIVE] ERROR 1","SUMMARY":"COPE WITH OPENSSL 0.9.7G API CHANGES","CLASS":1}
{"ID_DEFECT":"35081","DESCRIPTION":"I FOUND A BUFFER OVERRUN IN SSL_CALLBACK_SSLVERIFY_CRL( ) - SSL_ENGINE_KERNEL.C: CHAR BUFF[512]; * SHOULD BE PLENTY *[...]N = BIO_READ(BIO, BUFF, SIZEOF(BUFF));BUFF[N] = 0; IF THERE ARE MORE THAN 512 BYTES, N=512, THUS WE WRITE IN BUFF[512].WE SHOULD USE    N = BIO_READ(BIO, BUFF, SIZEOF(BUFF) - 1);THIS COULD LEAD TO A SYSTEM CRASH.","SUMMARY":"BUFFER OVERRUN IN SSL_CALLBACK_SSLVERIFY_CRL( ) (SSL_ENGINE_KERNEL.C)","CLASS":1}
{"ID_DEFECT":"35469","DESCRIPTION":"THIS MIGHT BE RELATED TO BUG# 34520I WAS ABLE TO BUILD APACHE 2.0.54 WITH MOD_SSL ON SOLAIS 9 USING OPENSSL 0.9.7G.HTTPD WILL START WITH ANY CLEAR TEXT KEY CREATED USING:OPENSSL GENRSA -OUT CLR.RSA 1024 OROPENSSL PKCS8 -NOCRYPT -TOPK8 -IN CLR.RSA -OUT CLR.PKCS8ALSO STARTS FINE, PROMPTING FOR PASS PHRASE, IF KEY WAS CREATED WITH:OPENSSL RSA -IN CLR.RSA -DES -OUT ENC.RSAHOWEVER, IT WILL NOT ACCEPT THE PASS PHRASE FOR ANY KEY CREATED USING:OPENSSL PKCS8 -V1 PBE-MD5-DES -IN CLR.RSA -TOPK8 -OUT ENC.DES.V1.PKCS8 OROPENSSL PKCS8 -V2 DES -IN CLR.RSA -TOPK8 -OUT ENC.DES.V2.PKCS8 OROPENSSL PKCS8 -V2 DES3 -IN CLR.RSA -TOPK8 -OUT ENC.DES3.V2.PKCS8ALL OF THE CREATED KEYS ARE READABLE AND RESULTS IDENTICAL WHEN THE COMMAND:OPENSSL RSA -IN <KEYFILE> -NOOUT -TEXTIS ISSUED AGAINST THEM.ONE OF THE CORE OPENSSL DEVELOPERS SUGGESTS THAT:THEY MAY BE MISSING SOME CALLS TO ADD THE PBE ALGORITHMS. THIS IS AUTOMATIC IFYOU CALL OPENSSL_ADD_ALL_ALGORITHMS() BUT NEEDS TO BE HANDLED IF ALGORITHMSARE BEING ADDED MANUALLY.ADDITIONAL INFORMATION:MOD_JK AND MPM_WORKER ARE ALSO BUILT-IN. WHEN STARTED WITH A CLEAR TEXT KEY OR AENCRYPTED KEY IN THE OLD FORMAT, THE SERVER RUNS FLAWLESSLY.","SUMMARY":"FAILS TO DECRYPT PKCS#8 KEYFILE","CLASS":1}
{"ID_DEFECT":"35757","DESCRIPTION":"I HAVE UPDATED THE BRAND NEW OPENSSL 0.9.8 FROM SOURCES AS I DO USUALLY :.CONFIGURE --PREFIX=OPTOPENSSL-0.9.8 LINUX-ELFMAKE && MAKE INSTALLTHEN IVE TRIED TO UPDATE MY APACHE :.CONFIGURE --PREFIX=OPTAPACHE --MANDIR=USRSHAREMAN --ENABLE-SSL--ENABLE-DAV --ENABLE-DAV-FS U2013-ENABLE-SO --ENABLE-REWRITE--WITH-SSL=OPTOPENSSL-0.9.8HOMEKERMITA_SAUVERHTTPD-2.0.54SRCLIBAPRLIBTOOL --SILENT--MODE=COMPILE GCC  -G -O2 -PTHREAD    -DLINUX=2 -D_REENTRANT-D_XOPEN_SOURCE=500 -D_BSD_SOURCE -D_SVID_SOURCE -D_GNU_SOURCE-DAP_HAVE_DESIGNATED_INITIALIZER-IHOMEKERMITA_SAUVERHTTPD-2.0.54SRCLIBAPRINCLUDE-IHOMEKERMITA_SAUVERHTTPD-2.0.54SRCLIBAPR-UTILINCLUDE-IHOMEKERMITA_SAUVERHTTPD-2.0.54SRCLIBAPR-UTILXMLEXPATLIB -I.-IHOMEKERMITA_SAUVERHTTPD-2.0.54OSUNIX-IHOMEKERMITA_SAUVERHTTPD-2.0.54SERVERMPMPREFORK-IHOMEKERMITA_SAUVERHTTPD-2.0.54MODULESHTTP-IHOMEKERMITA_SAUVERHTTPD-2.0.54MODULESFILTERS-IHOMEKERMITA_SAUVERHTTPD-2.0.54MODULESPROXY-IHOMEKERMITA_SAUVERHTTPD-2.0.54INCLUDE-IHOMEKERMITA_SAUVERHTTPD-2.0.54MODULESGENERATORS-IOPTOPENSSL-0.9.8INCLUDEOPENSSL -IOPTOPENSSL-0.9.8INCLUDE-IHOMEKERMITA_SAUVERHTTPD-2.0.54MODULESDAVMAIN -PREFER-NON-PIC-STATIC -C SSL_ENGINE_PPHRASE.C && TOUCH SSL_ENGINE_PPHRASE.LOSSL_ENGINE_PPHRASE.C: IN FUNCTION `SSL_PPHRASE_HANDLE_CB:SSL_ENGINE_PPHRASE.C:684: `PEM_F_DEF_CALLBACK UNDECLARED (FIRST USE INTHIS FUNCTION)SSL_ENGINE_PPHRASE.C:684: (EACH UNDECLARED IDENTIFIER IS REPORTED ONLY ONCESSL_ENGINE_PPHRASE.C:684: FOR EACH FUNCTION IT APPEARS IN.)MAKE[3]: *** [SSL_ENGINE_PPHRASE.LO] ERREUR 1MAKE[3]: LEAVING DIRECTORY `HOMEKERMITA_SAUVERHTTPD-2.0.54MODULESSSLMAKE[2]: *** [ALL-RECURSIVE] ERREUR 1MAKE[2]: LEAVING DIRECTORY `HOMEKERMITA_SAUVERHTTPD-2.0.54MODULESSSLMAKE[1]: *** [ALL-RECURSIVE] ERREUR 1MAKE[1]: LEAVING DIRECTORY `HOMEKERMITA_SAUVERHTTPD-2.0.54MODULESMAKE: *** [ALL-RECURSIVE] ERREUR 1APACHE COMPILES FINE WITH OPENSSL 0.9.7E OR EVEN 0.9.7G BUT FAILS WHEN I SWITCHTO THE 0.9.8.THIS BUG SEEMS TO HAVE A SOLUTION :HTTP:MAIL-ARCHIVES.APACHE.ORGMOD_MBOXHTTPD-DEV200507.MBOX%3C20050705123248.GE23007@2SCALE.NET%3E","SUMMARY":"DOESNT COMPILE WITH OPENSSL 0.9.8 (WORKS WITH OLDERS)","CLASS":1}
{"ID_DEFECT":"37051","DESCRIPTION":"I AM BUILDING 64BIT APACHE 2.0.54, WITH SHARED LIBRARIES, AND SSL ENABLED, THE APPLICATION BUILDS WITHOUT ANY PROBLEMS, BUT WHEN RUNNING THE SERVER THE FOLLOWING ERRORS APPEAR IN THE ERROR LOG.MY OPENSSL IS 0.9.8, BUT I HAVE APPLIED THE PATCH TO MOD_SSL WHICH ALLOWS THIS VERSION OF OPENSSL TO WORK.[WED OCT 12 16:24:19 2005] [WARN] INIT: SSL SERVER IPPORT CONFLICT: WWW.PHILIPMORRIS.UK.COM:443 (ETCHTTPDCONFSSL.CONF:280) VS. WWW.QUEENSWOOD.CO.UK:443 (ETCHTTPDCONFSSL.CONF:306)[WED OCT 12 16:24:19 2005] [WARN] INIT: SSL SERVER IPPORT CONFLICT: WWW.CROWSFEET.NET:443 (ETCHTTPDCONFSSL.CONF:254) VS. WWW.QUEENSWOOD.CO.UK:443 (ETCHTTPDCONFSSL.CONF:306)[WED OCT 12 16:24:19 2005] [WARN] INIT: YOU SHOULD NOT USE NAME-BASED VIRTUAL HOSTS IN CONJUNCTION WITH SSL!![WED OCT 12 16:24:19 2005] [NOTICE] APACHE2.0.54 (UNIX) PHP5.0.5 MOD_SSL2.0.54 OPENSSL0.9.8 DAV2 CONFIGURED -- RESUMING NORMAL OPERATIONSI HAVE COMPILED APACHE UNDER SOLARIS 9, WITH GCC 3.4.2, AND ALSO IN SOLARIS 10 WITH GCC 3.4.2, AND WITH SUN STUDIO 10, AND IN EVERY INSTANCE IVE HAD THE ERRORS IN THE LOG. (SYSTEM IS A NETRA T1AC200 WITH A 500MHZ ULTRASPARC III CPU)ITS A MINOR PROBLEM, AS THE SERVER CONTINUES, AND IT CORRECTLY LINKS MY IP VIRTUAL SSL SITES TO THEIR CORRECT CERTIFICATES WITHOUT ANY PROBLEMS, IT APPEARS TO JUST BE A LOGGING ISSUE.IF I SWITCH TO A 32BIT BUILD, THEN THERE IS NO PROBLEM, THE SSL WARNING IS GONE, AND EVERYTHING WORKS FINE, BUT I WISH TO USE THE 64BIT BUILD TO GET AROUND THE STDIO LIMIT OF 255 OPEN FILES THAT SOLARIS HAS.","SUMMARY":"MOD_SSL WARNING INIT: SSL SERVER IPPORT CONFLICT.","CLASS":1}
{"ID_DEFECT":"43738","DESCRIPTION":"THESE LOGS SHOW A CONNECTION TO A FASTCGI SERVER IN A DIRECTORY WHICH REQUIRESSSL RENEGOTIATION.  MOD_FASTCGI USES THE DEPRECATED AP_GET_CLIENT_BLOCK() FAMILY TO READ POST DATA FROM THE CLIENT, BUT REWRITING IT TO USE THE UNDERLYINGAPACHE 2 APIS SHOWS IDENTICAL RESULTS.  IVE DELETED A FEW LINES THAT ARENTRELEVANT TO THIS ANALYSIS...[TUE OCT 30 16:41:47 2007] [INFO] [CLIENT 128.30.28.20] CONNECTION TO CHILD 9ESTABLISHED (SERVER COURSES.CSAIL.MIT.EDU:443)...[TUE OCT 30 16:41:47 2007] [DEBUG] SSL_ENGINE_IO.C(1478): [CLIENT 128.30.28.20]FILLING BUFFER[TUE OCT 30 16:41:47 2007] [DEBUG] SSL_ENGINE_IO.C(1529): [CLIENT 128.30.28.20]TOTAL OF 525 BYTES IN BUFFER, EOS=1...MY ANALYSIS CONCENTRATES HERE...[TUE OCT 30 16:42:21 2007] [ERROR] [CLIENT 128.30.28.20] FASTCGI: COMM WITHSERVER USRBINPHP5-CGI ABORTED: IDLE TIMEOUT (30 SEC), REFERER: [URI DELETED][TUE OCT 30 16:42:21 2007] [DEBUG] SSL_ENGINE_IO.C(1561): [CLIENT 128.30.28.20]READ FROM BUFFERED SSL BRIGADE, MODE 0, 8192 BYTES[TUE OCT 30 16:42:21 2007] [DEBUG] SSL_ENGINE_IO.C(1623): [CLIENT 128.30.28.20]BUFFERED SSL BRIGADE NOW EXHAUSTED; REMOVING FILTERTHE REASON FOR THE TIMEOUT IS THAT THE FASTCGI SERVER IS WAITING TO READ POSTDATA FROM THE SERVER WHICH NEVER ARRIVES.  IN FACT, THE SERVER THINKS IT SHOULDBE PASSING CLIENT DATA, BUT WHEN AP_GET_CLIENT_BLOCK() ATTEMPTS TO READ THECLIENT DATA, IT GETS AN EOS.  MORE INTERESTINGLY, AN EXAMINATION OF THEINPUT_FILTER CHAIN AT THAT POINT SHOWS HTTP_IN FOLLOWED BY SSLTLS FILTER; IBELIEVE THE SECOND (OR MAYBE THE FIRST) FILTER HERE SHOULD BE SSLTLS BUFFERINSTEAD.  (WE KNOW FROM THE TWO PREVIOUS LINES THAT THE POST CONTENT HAS BEENSUCCESSFULLY BUFFERED.)  THE BUFFER DOES EVENTUALLY GET READ, AS THE FOLLOWINGLOG ENTRIES SHOW -- BUT NOT BY MOD_FASTCGI.  THE VERY LAST THING THATSSL_IO_BUFFER_FILL() DOES IS ADD THE SSLTLS BUFFER FILTER, SO I DONTUNDERSTAND WHY IT DOESNT APPEAR AT THE HEAD OF THE INPUT FILTER LIST WHENAP_GET_CLIENT_BLOCK() IS RUNNING, NOR WHY IT DOES GET READ (AND PRESUMABLY IS INTHE FILTER CHAIN) AFTER THE REQUEST IS ABORTED.","SUMMARY":"WHO IS HIDING MY BUFFERED POST DATA FROM MOD_SSL AFTER RENEGOTIATION?","CLASS":1}
{"ID_DEFECT":"AXIS-1","DESCRIPTION":"OTHER SOAP IMPLEMENTATIONS (ROBJ VERIFIED WITH SOAPPY 0.9.7, AND DAVID MELGARREPORTS THAT MS .NET REQUIRES IT) PUT THE FOLLOWING HEADER ON SOAP MESSAGES:<?XML VERSION=1.0 CHARSET=UTF-8?>AXIS DOES NOT.  THIS WILL (ACCORDING TO DAVID MELGAR) LEAD TO INTEROP PROBLEMS,ESPECIALLY WITH MS .NET UDDI SERVERS.CHEERS,ROB","SUMMARY":"AXIS DOES NOT PUT <?XML...?> TAG IN ITS MESSAGES","CLASS":1}
{"ID_DEFECT":"AXIS-2","DESCRIPTION":"AXIS NEVER TIMES OUT A CONNECTION AT THE MOMENT.THERE NEEDS TO BE SUPPORT FOR:- CLIENT-SIDE TIMEOUTS, SO A CLIENT WILL NOT WAIT FOREVER FOR A SERVER TO RESPOND- SERVER-SIDE TIMEOUTS, SO A SERVER WILL NOT WAIT FOREVER FOR A CLIENT TOACKNOWLEDGE A RESPONSECHEERS!ROB","SUMMARY":"NO TIMEOUT SUPPORT YET","CLASS":1}
{"ID_DEFECT":"AXIS-3","DESCRIPTION":"EJBS DO NOT ALLOW USE OF THE JAVA.IO.* CLASSES.  AXISENGINE TRIES TO USE THESECLASSES TO INITIALIZE ITSELF, AND (I THINK) DOES NOT HANDLE A FAILURE PROPERLY.  THIS CAUSES PROBLEMS WHEN USING SERVICECLIENT TO DO AN AXIS CLIENT-SIDE CALLFROM AN EJB.BUG REPORTED BY ARNDT LEHMANN (ALEHMANN@DE.IBM.COM).CHEERS,ROB","SUMMARY":"AXIS IN EJB: JAVA.IO.* ACCESS","CLASS":1}
{"ID_DEFECT":"AXIS-4","DESCRIPTION":"SYSTEM PROPERTY SETTING IS NOT ALLOWED FROM AN EJB, BUT SERVICECLIENT TRIES TOSET ONE.THIS CAUSES PROBLEMS WHEN USING SERVICECLIENT TO DO AN AXIS CLIENT-SIDE CALLFROM AN EJB.BUG REPORTED BY ARNDT LEHMANN (ALEHMANN@DE.IBM.COM).CHEERS,ROB","SUMMARY":"AXIS IN EJB: SERVICECLIENT TRIES TO SET A SYSTEM PROPERTY","CLASS":1}
{"ID_DEFECT":"AXIS-5","DESCRIPTION":"EJBS DO NOT ALLOW USER-CREATED CLASSLOADERS.  ADMIN TRIES TO MAKE ONE.THIS CAUSES PROBLEMS WHEN USING SERVICECLIENT TO DO AN AXIS CLIENT-SIDE CALLFROM AN EJB.BUG REPORTED BY ARNDT LEHMANN (ALEHMANN@DE.IBM.COM).CHEERS,ROB","SUMMARY":"AXIS IN EJB: ADMIN TRIES TO INSTALL ITS OWN CLASSLOADER","CLASS":1}
{"ID_DEFECT":"AXIS-6","DESCRIPTION":"EJBS DO NOT ALLOW JAVA REFLECTION.  SOAPTYPEMAPPINGREGISTRY TRIES TO USE IT.THIS CAUSES PROBLEMS WHEN USING SERVICECLIENT TO DO AN AXIS CLIENT-SIDE CALLFROM AN EJB.BUG REPORTED BY ARNDT LEHMANN (ALEHMANN@DE.IBM.COM).CHEERS,ROB","SUMMARY":"AXIS IN EJB: SOAPTYPEMAPPINGREGISTRY USES JAVA REFLECTION","CLASS":1}
{"ID_DEFECT":"AXIS-7","DESCRIPTION":"AXIS CURRENTLY HAS NO BUILT-IN SUPPORT FOR HANDLERS WHICH WISH TO USE DOM. PERHAPS A GETMESSAGEASDOM(), OR A UTILITY CLASS TO RETURN A DOM TREE FOR AMESSAGE... BONUS POINTS IF IT WORKS CORRECTLY WITH RESPECT TO THE SAX STUFF, ANDIF THE MESSAGE CAN BE MODIFIED BOTH SAX-WISE AND DOM-WISE :-OCHEERS,ROB","SUMMARY":"NO DOM SUPPORT","CLASS":1}
{"ID_DEFECT":"AXIS-8","DESCRIPTION":"THE HTTPSENDER OFFERS NO SUPPORT FOR CLIENTS BEHIND A PROXY.","SUMMARY":"NO PROXY SUPPORT FOR HTTP","CLASS":1}
{"ID_DEFECT":"AXIS-11","DESCRIPTION":"HERE IS THE PROBLEM : WSDL2JAVA DUPLICATE THE DEFINITION OF SOME FUNCTIONS.I HAVE A COMPONENT (SMSWEBSERVICE) THAT HAS THE 2 FOLLOWING METHODS :RESULT[] SENDSMS(AUTHINFO,SMS[])RESULT   SENDSMS(AUTHINFO,SMS)BOTH METHODS ARE PUBLISHED AS A WEB SERVICE.THE AUTO-GENERATED WSDL DEFINES THE FOLLOWING MESSAGES :<WSDL:MESSAGE NAME=SENDSMSREQUEST><WSDL:MESSAGE NAME=SENDSMSREQUEST1><WSDL:MESSAGE NAME=SENDSMSRESPONSE><WSDL:MESSAGE NAME=SENDSMSRESPONSE1>WSDL2JAVA SHOULD GENERATE STUBS WITH THE 2 DIFFERENTS METHODS. BUT IT GENERATES TWICE THE SAME.EX : THE AUTO-GENERATED SMSWEBSERVICE.JAVA IS LIKE :PUBLIC INTERFACE SMSWEBSERVICE EXTENDS JAVA.RMI.REMOTE     PUBLIC SENDRESULT SENDSMS(AUTHINFO IN0, SMSTEXT IN1)     PUBLIC SENDRESULT SENDSMS(AUTHINFO IN0, SMSTEXT IN1) SAME PROBLEM IN THE SOAPBINDINGSTUB FILE.IVE SOLVED THE PROBLEM BY USING DFFERENT METHODS NAME, BUT ITS ONLY A WORKAROUND...","SUMMARY":"INVALID CODE GENERATED BY WSDL2JAVA","CLASS":1}
{"ID_DEFECT":"AXIS-45","DESCRIPTION":"I GUESS IT WAS THAT PATCH TO LIST AVAILABLE SERVICES, BUT IF YOU POINT YOUR BROWSER AT :HTTP:NAGOYA.APACHE.ORG:5049AXISSTOCKQUOTESERVICE.JWSYOU GET A LIST OF SERVICES, RATHER THAN GET TO SEE THE SERVICE ITSELF.TWO WORDS: REGRESSION AND TESTING","SUMMARY":"AXIS SERVLET NOT SERVICING JWS PAGES","CLASS":1}
{"ID_DEFECT":"AXIS-46","DESCRIPTION":"SIMILAR TO BUG: 7869THE BEANSERIALIZER.SERIALIZER METHOD ASSUMES THAT A PROPERTY OF A BEAN HAS A GETTER BY CALLING METHOD READMETHOD = PROPERTYDESCRIPTOR[I].GETREADMETHOD.THEN IT USES THIS REFERENCE AS READMETHOD.GETRETURNTYPE.  BUT READMETHOD IS NULL.  THEREFORE, A NULL PTR EXCEPTION IS THROWN.THIS IS ACTUALLY POST BETA.  REPRODUCTION IS TO USE A BEAN FOR A RETURN TYPE OF A CALLED WS METHOD THAT HAS ONLY A SETTER WITH NO GETTER PRESENT.","SUMMARY":"BEANSERIALIZER PTR EXCEPTION WHEN ONLY SETTER PRESENT","CLASS":1}
{"ID_DEFECT":"AXIS-73","DESCRIPTION":"THE WSDL GENERATOR AUTOMATICALLY GENERATES SOAP METHODS FOR PRIVATE METHODS IN THE SERVICE CLASS.","SUMMARY":"WSDL GENERATES INTERFACE FOR PRIVATE METHODS.  BETA 2 RC1","CLASS":1}
{"ID_DEFECT":"AXIS-143","DESCRIPTION":"TRYING TO DEBUG A PROBLEM IN AN END-USERS PROGRAM IS NEXT TO IMPOSSIBLESOMETIMES BECAUSE OF THE POOR ERROR REPORTING IN AXIS.  AS A FIRST STEPWE SHOULD CHANGE ALL CODE THE SIMPLE DOES A THROW NEW XXXEXCEPTION()WITHOUT ANY ASSOCIATED TEXT.  THIS WOULD BASICALLY THROW A MEANINGLESS EXCEPTION TO THE END-USER.    DO A: GREP -S NEW.*EXCEPTION() *.JAVA FROM THE ROOT OF THE CVS TREE TO FIND ALL OF EM.IMO, THIS IS A PRETTY BIG USABILITY PROBLEM.","SUMMARY":"SHOULD NEVER THROW EMPTY EXCEPTIONS","CLASS":1}
{"ID_DEFECT":"AXIS-145","DESCRIPTION":"WSDL2JAVA WILL REJECT A WSDL THAT CONTAINS ANY UNSIGNED SCHEMA TYPE.FOR EXAMPLE XSD:UNSIGNEDINT.","SUMMARY":"WSDL2JAVA DOESNT SUPPORT ANY UNSIGNED TYPES.","CLASS":1}
{"ID_DEFECT":"AXIS-148","DESCRIPTION":"IN ADDING MESSAGE TEXT TO VARIOUS EXCEPTIONS, I ENCOUNTERED ORG.APACHE.AXIS.DESCRIPTION.TYPEDESC WHICH THROWS A NULLPOINTEREXCEPTION FROM ADDFIELDDESC IF A NULL FIELDDESC PARAMETER IS SUPPLIED. SINCE THIS IS A PUBLISHED INTERFACE, A MORE APPROPRIATE EXCEPTION SHOULD BE THROWN.I DIDNT WANT TO FIX THIS AS PART OF THE MESSAGE TEXT ADDITION AS IT SEEMED MORE CONTENTIOUS.","SUMMARY":"TYPEDESC THROWS NPE","CLASS":1}
{"ID_DEFECT":"AXIS-158","DESCRIPTION":"GIVEN A SIMPLE CLIENT LIKE (A.JAVA):IMPORT ORG.APACHE.AXIS.* ;IMPORT ORG.APACHE.AXIS.CLIENT.* ;IMPORT ORG.APACHE.AXIS.MESSAGE.* ;PUBLIC CLASS A   STATIC VOID MAIN(STRING[] ARGS) THROWS EXCEPTION     SERVICE SERVICE = NEW SERVICE();    CALL    CALL    = (CALL) SERVICE.CREATECALL();    SOAPHEADERELEMENT  HEADER = NEW SOAPHEADERELEMENT(FOO, FOO);    CALL.SETTARGETENDPOINTADDRESS(HTTP:LOCALHOST:81AXISSERVICESADMINSERVICE);    CALL.ADDHEADER( HEADER );    CALL.ADDHEADER( HEADER );    CALL.ADDHEADER( HEADER );    CALL.INVOKE( FOO, NEW OBJECT[]  );  CAUSES A NPE IN DESERIALIZATIONCONTEXTIMPL.JAVA LINE 879:  CURELEMENT.SETCONTENTSINDEX(RECORDER.GETLENGTH());CURELEMENT IS NULL.  2 HEADERS WORK JUST FINE - 3 MAKES IT BLOW.","SUMMARY":"MESSAGE WITH 3 HEADERS CAUSES NPE","CLASS":1}
{"ID_DEFECT":"AXIS-160","DESCRIPTION":"GIVEN:PUBLIC CLASS ECHOTPUBLIC STRING ECHO(STRING ECHO)TTTRETURN ECHO;TWHEN RUNNNING:JAVA2WSDL  -NHTTP:ECHO -NHTTP:ECHO-INTERFACE -O ECHOSERVICE_IMPL.WSDL -O ECHOSERVICE_INTERFACE.WSDL  -LHTTP:LOCALHOST:80WSTKECHOSERVICEECHOSERVICE_INTERFACE.WSDL -MECHO  -LHTTP:LOCALHOST:80WSTKECHOSERVICESERVICESECHOSERVICE ECHOGIVES:JAVA.LANG.NULLPOINTEREXCEPTION        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEPORTTYPE(EMITTER.JAVA:580)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.GETINTFWSDL(EMITTER.JAVA:362)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.EMIT(EMITTER.JAVA:166)        AT ORG.APACHE.AXIS.WSDL.JAVA2WSDL.RUN(JAVA2WSDL.JAVA:437)        AT ORG.APACHE.AXIS.WSDL.JAVA2WSDL.MAIN(JAVA2WSDL.JAVA:474)","SUMMARY":"NPE IN JAVA2WSDL","CLASS":1}
{"ID_DEFECT":"AXIS-194","DESCRIPTION":"NO ERROR IS GENERATED WHEN A SERIALIZER ISNT FOUND ON THE SERVER.PLACING A.JWS INTO MY WEBAPPS DIR:A.JWS:----------------------------------------------------------------PUBLIC CLASS A   PUBLIC INT I = 5 ;  PUBLIC VOID SETI(INT J)  I = J ;  PUBLIC INT  GETI()  RETURN I ;   PUBLIC A GETQUOTE(STRING SYMBOL)     RETURN NEW A();  ----------------------------------------------------------------AND RUNNING:>JAVA SAMPLES.STOCK.GETQUOTE -SAXISA.JWS IBMI GET:------------------------------------------------------------------ MAPPING EXCEPTION TO AXISFAULTAXISFAULT FAULTCODE: HTTP:XML.APACHE.ORGAXISSERVER.USEREXCEPTION FAULTSTRING: ORG.XML.SAX.SAXPARSEEXCEPTION: PREMATURE END OF FILE. FAULTACTOR: NULL FAULTDETAIL:        STACKTRACE: ORG.XML.SAX.SAXPARSEEXCEPTION: PREMATURE END OF FILE.        AT ORG.APACHE.XERCES.PARSERS.ABSTRACTSAXPARSER.PARSE(ABSTRACTSAXPARSER.JAVA:1172)        AT JAVAX.XML.PARSERS.SAXPARSER.PARSE(UNKNOWN SOURCE)        AT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.PARSE(DESERIALIZATIONCONTEXTIMPL.JAVA:213)        AT ORG.APACHE.AXIS.SOAPPART.GETASSOAPENVELOPE(SOAPPART.JAVA:457)        AT ORG.APACHE.AXIS.MESSAGE.GETSOAPENVELOPE(MESSAGE.JAVA:362)        AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKEENGINE(CALL.JAVA:2047)        AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2017)        AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:1787)        AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:1712)        AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:1252)        AT SAMPLES.STOCK.GETQUOTE.GETQUOTE(GETQUOTE.JAVA:121)        AT SAMPLES.STOCK.GETQUOTE.MAIN(GETQUOTE.JAVA:135)-----------------------------------------------------------------I EXPECT TO GET AN ERROR BUT NOT THIS ONE.  I SHOULD HAVE RECEIVEDA FAULT COMPLAINING ABOUT NO SERIALIZER FOUND FOR CLASS A.INSTEAD WHAT HAPPENS IS THE SERVER RETURNS AN EMPTY HTTP RESPONSE(WITH RC=200 BTW) BUT NO SOAP ENVELOPE - HENCE THE PREMATURE ENDOF FILE ERROR BY THE PARSER.WHATS REALLY BAD ABOUT THIS ERROR THOUGH (ASIDE FROM THE ABOVE) ISTHAT THE SERVER SIDE DOESNT EVEN DISPLAY THE REAL ERROR AT ALL.NO EXCEPTION OR ANYTHING IS PRINTED TO THE SERVERS WINDOW OR TOTHE AXIS.LOG FILE.  WHICH LEAVE THE CLIENT AND SERVER-ADMIN-GUYCLUELESS AS TO THE REAL ERROR.  THE ONLY WAY I WAS ABLE TO FIGUREOUT THAT I WAS MISSING A SERIALIZER WAS BY DEBUGGING WTHE SOURCEWHICH IS NOT A GOOD OPTION FOR AXIS CUSTOMERS.NOTE1: THIS APPEARES TO HAPPEN WHEN I USE TOMCAT 4.0.1 WITH THEAXIS SERVLET - THIS MIGHT NOT HAPPEN WITH THE SIMPLEAXISSERVER.THIS IS PROBABLY AN ISSUE WITH AXISSERVLET.NOTE2: WHILE I REPRODUCED THIS WITH A JWS FILE THIS IS NOT A JWSISSUE.I MADE THIS A CRITICAL BUG BECAUSE I CONSIDER ANY ERROR MESSAGE(OR LACK OF AN ERROR MESSAGE) THAT REQUIRES SOMEONE TO DEBUGUSING THE SOURCE CODE JUST TO FIGURE OUT WHAT THEY DID WRONGAS A MAJOR PROBLEM.  PEOPLE SHOULD NOT NEED TO HAVE THE SOURCEAROUND JUST TO FIND THEIR SIMPLE MISTAKE - ITS A MAJOR USABILITYISSUE (TO ME ANYWAY).","SUMMARY":"NO SERIALIZER ERROR IS GENERATED","CLASS":1}
{"ID_DEFECT":"AXIS-205","DESCRIPTION":"IF IN MY GLOBAL CONFIG SECTION OF THE WSDD I HAVE:  <RESPONSEFLOW>IT MAKES AXIS TRAP WITH:ORG.APACHE.AXIS.CONFIGURATIONEXCEPTION: JAVA.LANG.NULLPOINTEREXCEPTIONJAVA.LANG.NULLPOINTEREXCEPTION        AT ORG.APACHE.AXIS.DEPLOYMENT.WSDD.WSDDCHAIN.<INIT>(WSDDCHAIN.JAVA:119)        AT ORG.APACHE.AXIS.DEPLOYMENT.WSDD.WSDDRESPONSEFLOW.<INIT>(WSDDRESPONSEFLOW.JAVA:83)        AT ORG.APACHE.AXIS.DEPLOYMENT.WSDD.WSDDGLOBALCONFIGURATION.<INIT>(WSDDGLOBALCONFIGURATION.JAVA:101)        AT ORG.APACHE.AXIS.DEPLOYMENT.WSDD.WSDDDEPLOYMENT.<INIT>(WSDDDEPLOYMENT.JAVA:258)        AT ORG.APACHE.AXIS.DEPLOYMENT.WSDD.WSDDDOCUMENT.<INIT>(WSDDDOCUMENT.JAVA:103)EVEN THOUGH THATS VALID XML.","SUMMARY":"<RESPONSEFLOW> TRAPS AXIS","CLASS":1}
{"ID_DEFECT":"AXIS-243","DESCRIPTION":"IN PREVIOUS VERSIONS, JAVA2WSDL GENERATED SOAPENC MAPPINGS,IN WHICH NILLABLE IS IMPLICIT.  NOW IT GENERATES XSD MAPPINGS,IT NEEDS TO GENERATE A NILLABLE ATTRIBUTE FOR WRAPPER TYPES,AS IN JAX-RPC 1.0 SECTION 5.3.1.  IT DOES THIS FOR MEMBERSOF COMPLEX TYPES, BUT DOES NOT FOR STAND-ALONE PARAMETERS.THUS: LONG  -> JAVA2WSDL ->  XSD:LONG  -> WSDL2JAVA ->  LONG","SUMMARY":"JAVA2WSDL NOT GENERATING NILLABLE ATTRIBUTE FOR PRIMITIVE WRAPPER TYPES","CLASS":1}
{"ID_DEFECT":"AXIS-309","DESCRIPTION":"RIGHT NOW, IF MAIL.JAR ISNT IN THE CLASSPATH AND THE INPUT TO JAVA2WSDL HAS PARAMETERS OF JAVAX.ACTIVATION.DATAHANDLER, IT PRINTS OUT:THE CLASS JAVAX.ACTIVATION.DATAHANDLER IS DEFINED IN A JAVA OR JAVAX PACKAGE AND CANNOT BE CONVERTED INTO AN XML SCHEMA TYPE.  AN XML SCHEMA ANYTYPE WILL BE USED TO DEFINE THIS CLASS IN THE WSDL FILE.THIS IS OK FOR MOST JAVAJAVAX CLASSES, BUT DATAHANDLER SHOULD SAY SOMETHING LIKE:IN ORDER TO GENERATE A WSDL FOR JAVAX.ACTIVATION.DATAHANDLER, YOU MUST HAVE MAIL.JAR IN YOUR CLASSPATH.","SUMMARY":"JAVA2WSDL SHOULD DO THE RIGHT THING WITH DATAHANDLER","CLASS":1}
{"ID_DEFECT":"AXIS-343","DESCRIPTION":"I HAVE GENERATED JAVA-CLASSES FOR A WSDL FILE, THE SERVICE IS CALLED DOWNLOADSERVICE.THE INTERFACE TO THE DOWNLOAD OPERATION OF THE SERVICE TAKES AN APICOMMAND[] AND I THEN SEND IN DIFFERENT CONCRETE APICOMMAND-SUBCLASSES.EVERYTHING WORKS FINE UNDER NORMAL OPERATIONS (EXCEPT OTHER ALREAD REPORTED BUGS) AND THE TYPE INFO FOR THE APICOMMAND-SUBCLASSES IS INCLUDED. SEE SAMPLE A FOR AN ON-THE-WIRE WHERE THE TYPE INFO FOR THE DOWNLOADCOMMANDTYPE IS INCLUDED. SETTING THE PROP_DOMULTIREFS = FALSE, SEE SAMPLE C BEFORE CALLING THE SERVICE REMOVES THIS INFORMATION WHICH MEANS THAT THE SERVER CANNOT DESERIALIZE THE XML-DATA AND TO AN EXCEPTION, SEE SAMPLE B.SAMPLE A======== <NS1:DOWNLOAD SOAPENV:ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING XMLNS:NS1=HTTP:WWW.SMARTTRUST.COMJAMDOWNLOAD>   <COMMANDS XSI:TYPE=SOAPENC:ARRAY SOAPENC:ARRAYTYPE=NS2:APICOMMAND[1] XMLNS:NS2=HTTP:WWW.SMARTTRUST.COMJAMDOWNLOADSCHEMA XMLNS:SOAPENC=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING>    <ITEM HREF=#ID1>   <COMMANDS>  <NS1:DOWNLOAD>  <MULTIREF ID=ID1 SOAPENC:ROOT=0 SOAPENV:ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING XSI:TYPE=NS3:DOWNLOADCOMMANDTYPE XMLNS:SOAPENC=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING XMLNS:NS3=HTTP:WWW.SMARTTRUST.COMJAMDOWNLOADSCHEMA>   <AID HREF=#ID2>   <NAME XSI:TYPE=XSD:STRING>DOWNLOAD<NAME>  <MULTIREF>SAMPLE B========  <NS1:DOWNLOAD SOAPENV:ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING XMLNS:NS1=HTTP:WWW.SMARTTRUST.COMJAMDOWNLOAD>   <COMMANDS XSI:TYPE=SOAPENC:ARRAY SOAPENC:ARRAYTYPE=NS3:APICOMMAND[1] XMLNS:NS3=HTTP:WWW.SMARTTRUST.COMJAMDOWNLOADSCHEMA XMLNS:SOAPENC=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING>    <ITEM>     <AID XSI:TYPE=NS3:AIDTYPE>534D4152545452555354303030355F50<AID>     <NAME XSI:TYPE=XSD:STRING>DOWNLOAD<NAME>    <ITEM>   <COMMANDS>  <NS1:DOWNLOAD>SAMPLE C=========CLIENT CODE SNIPPET:...      DOWNLOADSERVICELOCATOR LOCATOR = NEW DOWNLOADSERVICELOCATOR();      LOCATOR.GETENGINE().SETOPTION(AXISENGINE.PROP_DOMULTIREFS, NEW BOOLEAN(FALSE));...","SUMMARY":"RC1 - SETTING PROP_DOMULTIREFS LOOSES IMPORTANT TYPE INFO","CLASS":1}
{"ID_DEFECT":"AXIS-366","DESCRIPTION":"GIVEN A.JWS:------PUBLIC CLASS A   PUBLIC INT I = 5 ;  PUBLIC VOID SETI(INT J)  I = J ;  PUBLIC INT  GETI()  RETURN I ;   PUBLIC A GETQUOTE(STRING SYMBOL) THROWS EXCEPTION     RETURN NEW A();  -----WHEN I RUN:  JAVA SAMPLES.STOCK.GETQUOTE -SAXISA.JWS IBMI SEE:   <SOAPENV:ENVELOPEXMLNS:SOAPENV=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPEXMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMAXMLNS:XSI=HTTP:WWW.W3.ORG2001XMLSCHEMA-INSTANCE>      <SOAPENV:BODY>         <NS1:GETQUOTERESPONSESOAPENV:ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODINGXMLNS:NS1=URN:XMLTODAY-DELAYED-QUOTES>            <GETQUOTERETURN HREF=#ID0>         <NS1:GETQUOTERESPONSE>         <MULTIREF ID=ID0 SOAPENC:ROOT=0SOAPENV:ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODINGXSI:TYPE=XSD:ANYTYPEXMLNS:SOAPENC=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING>A@558CE2<MULTIREF>      <SOAPENV:BODY>   <SOAPENV:ENVELOPE>NOTICE THE A@558CE2 - IM ASSUMING THATS THE HASHCODE FOR THE NEW A()THAT WAS RETURNED - IT SHOULD HAVE GIVEN ME AN ERROR COMPLAINING ABOUTNO DESERIALIZER FOUND FOR CLASS A.","SUMMARY":"AXIS SERIALIZES WHEN IT SHOULDNT","CLASS":1}
{"ID_DEFECT":"AXIS-371","DESCRIPTION":"WE USED TO BE ABLE TO DEFINE (IN WSDD) A MESSAGING SERVICEWITH AN ALLOWEDMETHODS FIELD OF * BUT WE CANT DO THIS ANYMORE.AXIS COMPLAINS ABOUT ONLY BEING ABLE TO SUPPORT ONE METHOD.IVE WRITTEN A SMALL SAMPLE (AS PART OF THE MESSAGE SAMPLE) THATCAN BE USED AS A TESTCASE ONCE THIS IS FIXED.  ILL POST THAT INA SEC.","SUMMARY":"MESSAGE SERVICES DONT SUPPORT MULIPLE METHODS ANYMORE","CLASS":1}
{"ID_DEFECT":"AXIS-408","DESCRIPTION":"IN BETA 3 SIMPLEAXISSERVERS START METHOD USED TO RETURN (SPAWN A THREAD).SINCE THEN IT WAS CHANGED TO BE BASED ON A DOTHREAD FLAG BUT THERE IS NOWAY TO SET THIS FLAG WO GOING THROUGH MAIN() - WHICH SOME PEOPLE MAYNOT DO (IE. (NEW SIMPLEAXISSERVER()).START() ).FIX:  CHANGE DOTHREADSS DEFAULT VALUE TO TRUE TO MATCH OLD BEHAVOUR  ADD GETSETDOTHREADS METHODS SO THAT PEOPLE CAN CHANGE THE DEFAULT.I MARKED THIS AS A BLOCKCRITICAL BECAUSE THIS IS A REGRESSION IN THE SENSE THAT IT IS A CHANGE IN AXIS BEHAVOUR WITH NO WAY FOR THE USER TO SWITCH IT BACK(AND OF COURSE IT BLOCKS US  :-)","SUMMARY":"SIMPLEAXISSERVERS START DOESNT RETURN ANYMORE","CLASS":1}
{"ID_DEFECT":"AXIS-444","DESCRIPTION":"GIVEN THE FOLLOWING SCHEMA FRAGMENT:    <COMPLEXTYPE NAME=MYMESSAGE>      <SEQUENCE>         <ELEMENT REF=FOO:MYELEMENT >         <ELEMENT NAME=OTHERSTUFF TYPE=STRING >      <SEQUENCE>   <COMPLEXTYPE>...WHERE FOO.XSD CONTAINS:   <ELEMENT NAME=MYELEMENT TYPE=TNS:MYELEMENTTYPE >   <COMPLEXTYPE NAME=MYELEMENTTYPE>      <ALL>         <ELEMENT NAME=A TYPE=STRING >         <ELEMENT NAME=B TYPE=STRING >      <ALL>   <COMPLEXTYPE>...WSDL2JAVA GENERATES THE MYMESSAGE.JAVA BEAN CLASS AS FOLLOWS:    ...ETC...    STATIC         ORG.APACHE.AXIS.DESCRIPTION.FIELDDESC FIELD = NEW ORG.APACHE.AXIS.DESCRIPTION.ELEMENTDESC();        FIELD.SETFIELDNAME(MYELEMENT);        FIELD.SETXMLNAME(NEW JAVAX.XML.NAMESPACE.QNAME(HTTP:FOO.COM, MYELEMENT));        FIELD.SETXMLTYPE(NEW JAVAX.XML.NAMESPACE.QNAME(HTTP:FOO.COM, MYELEMENT));        TYPEDESC.ADDFIELDDESC(FIELD);   ...ETC...HOWEVER, THE XMLTYPE SHOULD HAVE BEEN ASSOCIATED WITH MYELEMENTTYPE AS IS REFLECTED IN THE SERVER-CONFIG.WSDD FILE:   ...ETC...   <TYPEMAPPING DESERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.BEANDESERIALIZERFACTORY ENCODINGSTYLE= QNAME=NS6:MYELEMENTTYPE SERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.BEANSERIALIZERFACTORY TYPE=JAVA:COM.FOO.MYELEMENTTYPE XMLNS:NS6=HTTP:FOO.COM>   ...ETC...SINCE THE MYMESSAGE BEAN INCORRECTLY MAPS MYELEMENT TO A NON-EXISTENT TYPE (I.E. MYELEMENT), THE AXIS ENGINE USES A SIMPLEDESERIALIZER, WHICH THROWS AN EXCEPTION WHEN IT ENCOUNTERS THE <A> SUB-ELEMENT IN AN INCOMING MESSAGE.","SUMMARY":"WSDL2JAVA CREATING INVALID BEAN WHEN USING REF ATTRIBUTE","CLASS":1}
{"ID_DEFECT":"AXIS-513","DESCRIPTION":"WHEN CREATING A SERVICE OBJECT USING THE CONSTRUCTOR THAT ACCEPTS ANENGINECONFIGURATION PARAMETER, I NOTICED THAT THE DEFAULT SEARCH FOR AN ENGINECONFIGURATION STILL GETS RUN.THE REASON IS THAT THE INSTANCE VARIABLE CONFIG IS ASSIGNED A VALUE (THERESULT OF THE DEFAULT SEARCH) WHEN IT IS DECLARED.  THIS VALUE THEN GETSOVERWRITTEN BY THE PARAMETER PASSED INTO THE SERVICE(CONFIG) CONSTRUCTOR.IN MY OPINION, THE DEFAULT SEARCH SHOULDNT HAPPEN AT ALL IF THE CREATOR OF THESERVICE USES A CONSTRUCTOR THAT ACCEPTS THE CONFIG OPTION -- NO NEED TO SEARCHIF YOUVE ALREADY GOT ONE!","SUMMARY":"SERVICE CONSTRUCTOR SEARCHES FOR ENGINECONFIGURATION TWICE","CLASS":1}
{"ID_DEFECT":"AXIS-514","DESCRIPTION":"THE SETCURRENTFORM METHOD ON SOAPPART HAS AS ITS FIRST LINE A LOG.DEBUG()MESSAGE IN WHICH THE MESSAGE IS CONCATENATED AS A STRING WITH A LOG MESSAGE. THAT TRIGGERS SERIALIZATION OF THE MESSAGE, WHICH IS QUITE EXPENSIVE.  THIS LOG.DEBUG() SHOULD, IMHO, BE WRAPPED IN A TEST TO DETERMINE IF DEBUGLOGGING IS ENABLED, SO THAT IT DOESNT HAPPEN UNLESS IT NEEDS TO.","SUMMARY":"SOAPPART.SETCURRENTFORM SERIALIZES COMPLETE MESSAGE WHEN DEBUG IS NOT ENABLED","CLASS":1}
{"ID_DEFECT":"AXIS-526","DESCRIPTION":"THE DOCUMENT HTTP:WAVENDON.DSDATA.CO.UKAXISSERVICESCARRENTALQUOTES?WSDL WHICH IS GENERATED BY AXIS DOES NOT FOLLOW XSD SPECIFICATIONS. FURTHERMORE AXIS WSDL2JAVA WILL QUITE HAPPILY IMPORT THIS GENERATED DOCUMENT ALTHOUGH IT DOES NOT MEET XSD SPECIFICATIONS. SO:1) AXIS GENERATES INCORRECT WSDL2) AXIS WSDL2JAVA QUITE HAPPILY ACCEPTS THIS INCORRECT WSDLTHE PROBLEM WITH THIS DOCUMENT IS THAT IT CONTAINS TWO SCHEMAS WHERE THE SECOND SCHEMA REFERENCES THE FIRST SCHEMA WITHOUT PROPERLY IMPORTING IT. THE WSDL 1.1 SPECIFICATIONS STATES THAT IT FOLLOWS XSD SPECIFICATIONSIN THE XSD SPECIFICATION SECTION 4.2.3 HTTP:WWW.W3.ORGTR2001REC-XMLSCHEMA-1-20010502#COMPOSITION-SCHEMAIMPORT IN THE FIRST SENTENCE AFTER THE TABLE IT IS STATED THAT A SCHEMA FROM A DIFFERENT NAMESPACE SHOULD ALWAYS BE IMPORTED IN ORDER TO REFERENCE TO IT.","SUMMARY":"WSDL GENERATED BY AXIS DOES NOT PROPERLY GENERATE REFERENCES TO SCHEMAS","CLASS":1}
{"ID_DEFECT":"AXIS-538","DESCRIPTION":"THE METHOD WRITESCHEMA(CLASS,TYPES) IN BEANSERIALIZER HAS A TYPO ON LINE 315THAT WILL GENERATE NULLPOINTEREXCEPTION WHEN USING CERTAIN INHERITANCE BETWEENCLASSES SURFACED IN THE WSDL-DESCRIPTION.SUPERPD = TYPEDESC.GETPROPERTYDESCRIPTORS();SHOULD BE CHANGED TOSUPERPD = SUPERTYPEDESC.GETPROPERTYDESCRIPTORS();I AM ATTACHING A TRIVIAL PATCH AND TESTCASE. TRY DEPLOYING THIS SERVICE ANDACCESSING THE ?WSDL-URL TO REPRODUCE THE EXCEPTIONS. PATCH BEANSERIALIZER ANDTHE WSDL WORKS.USE ANT TO BUILD. TARGET GENERATE-SERVER WILL COMPILE REQUIRED CLASSES,GENERATE WSDL, AND SERVER-SIDE STUBS. TARGET DEPLOY WILL COPY THE WEBSERVICETO A TOMCAT4 INSTALLATION AND RUN THE ADMINCLIENT WITH THIS SERVICE. THE DEFAULTTARGET ALL WILL DO ALL OF THIS. CHANGE THE ANT-SCRIPTS PROPERTYTOMCAT.IMPL.DIR TO THE TOMCAT4 BASEDIR IF YOU WANT AUTOMATIC DEPLOYMENT.","SUMMARY":"BEANSERIALIZER.WRITESCHEMA(CLASS,TYPES) PROPERTY DESCRIPTOR INHERITANCE BUG","CLASS":1}
{"ID_DEFECT":"AXIS-540","DESCRIPTION":"WHEN USING JAVA2WSDL, THE CLASS ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER DOES NOTHANDLE PACKAGES ONLY USED IN THE EXTRACLASSES OPTION. THE TNSXX NAMESPACEDECLARATIONS ARE CORRECTLY RESOLVED INTERNALLY AND CORRECTLY REFERENCED IN THERESLTING WSDL FILE, THE ONLY MISSING PART IS THE XMLNS:TNSXX= DECLARATION INTHE WSDL HEADER.ATTACHING A ZIP-FILE WITH ANT-SCRIPT AND JAVA SOURCEFILES TO REPRODUCE THISPROBLEM. THE DATA MODEL IS ALSO A HINT AS TO WHY YOU WOULD LIKE TO INCLUDEEXTRACLASSES FROM PACKAGES NEVER SURFACED IN THE INTERFACE CLASS USED FOR THESOAP SERVICE.USE ANT TO BUILD. TARGET GENERATE-WSDL WILL GENERATE A WSDL FILE IN$BASEDIR..BUILDWEBSERVICEBSBUG.WSDL, WHERE THE XMLNS:TNS1 DECLARATION ISMISSING (FOR THE SE.CURALIA.AXIS.OTHERPACKAGE PACKAGE). TARGETGENERATE-SERVER-SUBS WILL FAIL WHEN TRYING TO RUN WSDL2JAVA WITH A TYPEREFERENCED BUT NOT DEFINED ERROR UNLESS XMLNS:TNS1 IS HANDCODED INTO THE WSDLFILE. THE DEFAULT TARGET GENERATE-SERVER WILL TRY TO RUN BOTH THESE TARGETS.IT SEEMS TO ME THAT AXIS USAGE OF THE WSDLFACTORY FROM IBMS WSDL4J AT THEMOMENT CANNOT HANDLE THIS SITUATION. AFTER THE DOCUMENT INSTANCE IS CREATED, THEINSERTION OF TYPE INFO FOR EXTRA CLASSES WITH WRITETYPEFORPART() DOES NOT AFFECTTHE HEADER. WOULD IT NOT BE POSSIBLE TO MERGE THE INFORMATION FROM THE EXTRACLASSES INTO THE DOCUMENTS DEFINITION BEFORE CREATING THE DOCUMENT INSTANCE?","SUMMARY":"WSDL EMITTER DOES NOT OUTPUT XML NAMESPACE DECLARATIONS FOR MAPPINGS USED ONLY IN EXTRACLASSES.","CLASS":1}
{"ID_DEFECT":"AXIS-568","DESCRIPTION":"WE ARE UTILIZING THE AXIS TOOLKIT FOR CREATING A SAMPLE PRINTER WORKING GROUP PSI SERVER AND CLIENT.  SEE HTTP:WWW.PWG.ORGPS FOR DETAILS ON THE PROJECT.  THE PSI INTERFACE IS UTILIZING THE PWG SEMANTIC MODEL TYPE DEFINITIONS.  SEE HTTP:WWW.PWG.ORGSM FOR DETAILS.IN CREATING OUR INTERFACE DEFINTIONS, WE HAVE RUN INTO A PROBLEM WITH WSDL2JAVA, AND THE FOLLOWING CONSTRUCTS:<XS:SIMPLETYPE NAME=COMPRESSIONWKV>T<XS:RESTRICTION BASE=XS:NMTOKEN>TT<XS:ENUMERATION VALUE=COMPRESS>TT<XS:ENUMERATION VALUE=DEFLATE>TT<XS:ENUMERATION VALUE=GZIP>TT<XS:ENUMERATION VALUE=NONE>T<XS:RESTRICTION><XS:SIMPLETYPE><XS:ELEMENT NAME=COMPRESSIONWKV TYPE=Y:COMPRESSIONWKV><XS:SIMPLETYPE NAME=KEYWORDNSEXTENSIONPATTERN>T<XS:RESTRICTION BASE=XS:NMTOKEN>TT<XS:PATTERN VALUE=(I|D|.)*&#X003A;(I|D|.)*>T<XS:RESTRICTION><XS:SIMPLETYPE><XS:ELEMENT NAME=KEYWORDNSEXTENSIONPATTERN TYPE=Y:KEYWORDNSEXTENSIONPATTERN><XS:ELEMENT NAME=COMPRESSION>T<XS:SIMPLETYPE>TT<XS:UNION MEMBERTYPES=Y:COMPRESSIONWKV Y:KEYWORDNSEXTENSIONPATTERN>T<XS:SIMPLETYPE><XS:ELEMENT>IF YOU SPECIFY THE --ALL PARAMETER FOR WSDL2JAVA, THE COMPRESSIONWKV AND KEYWORDNSEXTENSIONPATTERN OBJECTS GET CORRECTLY GENERATED, BUT THE ENCAPSULATING COMPRESSION OBJECT ENDS UP WITH NO ACCESSORS, OR MEMBER VARIABLES.IT SEEMS THAT THE COMPRESSION OBJECT SHOULD END UP WITH AN NMTOKEN MEMBER VARIABLE, AND THE APPROPRIATE ACCESSORS.  (GRANTED, RESTRICTION VALIDATION WILL COME AT A LATER DATE...)THIS WOULD ALLOW A CLIENT TO GET AN INSTANCE OF THE STATIC ENUMERATION, AND THEN ASK IT FOR ITS VALUE, AND SET THIS IN THE CONTAINING COMPRESSION CLASS:COMPRESSION.SETVALUE(COMPRESSIONWKV._COMPRESS.GETVALUE());WEVE CREATED A WSDL FILE THAT SHOWS THIS, AND I WILL ATTACH ALONG WITH THE GENERATED CLASSES.ALSO, WE WOULD BE WILLING TO CONTRIBUTE TOOLKIT MODIFICATIONS TO SUPPORT THIS IF IT IS NOT ALREADY IN THE WORKS...  (SUGGESTIONS ON WHERE TO START??? :)THANKS!DAVID HALLHEWLETT-PACKARD","SUMMARY":"[XSD:UNION] WSDL2JAVA PROBLEM WITH UNION OF NMTOKEN ENUMERATION AND NMTOKEN PATTERN RESTRICTION","CLASS":1}
{"ID_DEFECT":"AXIS-569","DESCRIPTION":"HI,I HAVE ATTACHED SOME PATCHES ABOUT SOAP 1.2 COMPILANCE. IT CONTAINS THE FOLLOWINGS:- RPC:ARRAY SERDESER - RPC:RESULT ELEMENT - HREF -> REF ATTRIBUTES- MISUNDERSTOOD -> NOTUNDERSTOOD HEADER- MUSTUNDERSTOOD HEADER PROCESSING CHECKS IN SOAPSERVICE MOVED AFTER THE PIVOTPOINT TO LET THE SERVICE HANDLE ITS HEADERS.PLEASE TELL ME IF THEY HELP. BR,ANDRAS","SUMMARY":"SOAP 1.2 PATCHES FOR RPC ARRAY SERDESER, RPC RESULT, HREF ATTR, NOTUNDERSTOOD HEADER, ETC.","CLASS":1}
{"ID_DEFECT":"AXIS-579","DESCRIPTION":"MY UNDERSTANDING IS THAT IF AN ELEMENT IN A WSDL-SCHEMA ISNT SPECIFIED AS NILLABLE=TRUE THE DEFAULT IS FALSE AND THE ELEMENT SHOULD NOT BE SENT OVER THE WIRE. EXAMPLE: MY SPECIFICATION (WSDL):   <XSD:ELEMENT MINOCCURS=0 NAME=IDENTIFIER TYPE=XSD:STRING>THE (PRESUMABLY WRONG) RESULT OF SERIALIZATION:   <IDENTIFIER XSI:TYPE=XSD:STRING XSI:NIL=TRUE>","SUMMARY":"ELEMENT NOT SPECIFIED WITH NILLABLE=TRUE IN THE WSDL SHOULD BE SENT OVER THE WIRE","CLASS":1}
{"ID_DEFECT":"AXIS-587","DESCRIPTION":"THE NAMESPACE -> PACKAGE CONVERSION IN AXIS.WSDL.TOJAVA.NAMESPACES IGNORES THEPARTS OF THE NAMESPACE THAT FOLLOW THE HOSTNAME PORTION OF THE NAMESPACE URI(THE PATH).  THIS RESULTS IN A NAMESPACE COLLISIONS WHERE THERE SHOULD BE NONE.GIVEN TWO NAMESPACES:HTTP:FOO.COMBARHTTP:FOO.COMBAZTHE GENERATED PACKAGES WILL BOTH BE COM.FOO, CAUSING TYPESELEMENTS IN DIFFERENTNAMESPACES TO COLLIDE.","SUMMARY":"NAMESPACES ARE TRUNCATED IN CONVERSION TO JAVA PACKAGES","CLASS":1}
{"ID_DEFECT":"AXIS-590","DESCRIPTION":"HI!IT IS TOLD THAT IN THIS AXIS VERSION THERE IS NO NEED FOR GETTERSETTER METHODS FOR SERIALIZINGDESERIALIZING OBJECTS (IT IS TOLD THAT PUBLIC ATTRIBUTES CAN BE SERIALIZEDDESERIALIZED). HOWEVER, I ALWAYS RAN INTO A PROBLEM IF I DIDNT DEFINE THESE METHODS. I WILL INTRODUCE THIS VIA A LITTLE EXAMPLE:PUBLIC CLASS A   PUBLIC STRING ATTRIBUTE1;  PUBLIC STRING ATTRIBUTE2;PUBLIC CLASS B   PUBLIC STRING ATTRIBUTE3;  PUBLIC A[]    ARRAYBYA;     I NEED THESE METHODS FOR MY APP. TO WORK PROPERLY  PUBLIC A[] GETA()    RETURN ARRAYBYA;    PUBLIC VOID SETA(A[] ARRAYBYA)    THIS.ARRAYBYA=ARRAYBYA;  IN MY WSDL I HAVE THE FOLLOWING ENTRIES:   <BEANMAPPING XMLNS:NS=HU.REGENSENCODEDTYPES      TQNAME=NS:A        T        LANGUAGESPECIFICTYPE=JAVA:A   >   <BEANMAPPING XMLNS:NS=HU.REGENSENCODEDTYPES      TQNAME=NS:B        T        LANGUAGESPECIFICTYPE=JAVA:B   >   <TYPEMAPPING XMLNS:NS=HU.REGENSENCODEDTYPES        QNAME=NS:ARRAYOFA       TTYPE=JAVA:A[]         TSERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.ARRAYSERIALIZERFACTORY         TDESERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.ARRAYDESERIALIZERFACTORY        ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING    >IN THE WAY DESCRIBED ABOVE MY APP. WORKS ALTHOUGH I THOUGHT THAT THERE WOULD BE NO NEED FOR GETTERSETTER METHODS.I DON1T KNOW WHETER WHAT IVE WRITTEN IS A FAULT OR NOT, YOU WILL DECIDE THAT.THANK YOU FOR LETTING ME TO REPORT MY BUG.","SUMMARY":"GETTERS AND SETTERS NEEDED FOR PUBLIC ARRAYS IN JAVABEANS","CLASS":1}
{"ID_DEFECT":"AXIS-591","DESCRIPTION":"WSDL2JAVA ACCEPTS WSDL DOCUMENTS WITH THE FOLLOWING ERRORS:(1) ELEMENT <OPERATION> IN <PORTTYPE> HAS NO ATTRIBUTE MESSAGE   SPEC:  ATTRIBUTE MESSAGE IS REQUIRED(2) THE VALUE OF ATTRIBUTE MESSAGE IN <OPERATION> DOES NOT   REFER TO AN ALREADY DEFINED MESSAGE   SPEC: QNAME IN THE VALUE MUST REFER TO AN ALREADY DEFINED MESSAGE I ATTACH 8 ERROR CASES, 4 OK CASES AND A PROPOSED PATCH. THE PATCH ADDS SOME CHECKS TO SYMBOLTABLE.JAVA.","SUMMARY":"WSDL2JAVA - MISSING CHECKS FOR <OPERATION MESSAGE=...> ELEMENT","CLASS":1}
{"ID_DEFECT":"AXIS-592","DESCRIPTION":"I AM RUNNING WSDL2JAVA ON A WSDL FILE THAT USES A  LARGE SCHEMA (>900TYPESELEMENTS).  AFTER PARSING THE FILES, THE TOOL HANGS FOR SEVERAL HOURSDURING THE RESOLVE REFERENCES PHASE OF CODE GENERATION.USING A PROFILER, I HAVE IDENTIFIED SEVERAL CONTRIBUTING FACTORS TO THIS.1. QNAME CREATION.  THE SYMBOLTABLE.UTILS CLASS CREATES HUNDREDS OF THOUSANDS OFQNAME OBJECTS WHILE WALKING THE DOM TO FIND DERIVED TYPES.  MOST OF THESE AREREDUNDANT, AND YET THEY ARE NOT CACHED.  I WILL ATTACH A FILE OF PROFILER OUTPUTTHAT PROVIDES DETAILS, BUT CREATION OF THESE NODES IS WHERE A LOT OF TIME IS SPENT.SUGGESTION: INTRODUCE A QNAME CACHE IN THE UTILS CLASS -- A MAP OF MAPS, WHERETHE OUTER MAP USES NAMESPACES AS KEYS AND THE INNER MAPS USE LOCALNAMES AS KEYSAND QNAMES AS VALUES.2.TIN ...AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE, THERES A POORLY CHOSENDATASTRUCTURE THAT YIELDS O(N^2) PERFORMANCE (POSSIBLY WORSE) -- THE TYPESVECTOR IS SUBJECTED TO MULTIPLE LINEAR SEARCHES, IN SOME CASES FROM WITHINNESTED LOOPS.TSUGGESTION:  REPLACE THE TYPES VECTOR WITH TWO MAPS, ONE FOR QNAME-> ELEMENT AND ONE FOR QNAME -> TYPE.3.TIN JAVAX.XML.NAMESPACE.QNAME, THE LOCALNAME AND NAMESPACEURI ARECACHED USING STRING.INTERN().  THIS GETS HIT *A LOT* FROM WITHINORG.APACHE.AXIS.WSDL.SYMBOLTABLE.UTILS.GETNODEQNAME().  REMOVING THEINTERNED STRINGS AND CHANGING THE QNAME.EQUALS() IMPLEMENTATION TO USESTRING.EQUALS() INSTEAD OF REFERENCE COMPARISON YIELDS A SIGNIFICANTSPEEDUP.4. ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SCHEMAUTILS.GETCOMPLEXELEMENTEXTENSIONBASE() GETS CALLED MANY, MANY TIMES FROM RECURSIVE INVOCATIONS OFORG.APACHE.AXIS.WSDL.SYMBOLTABLE.UTILS.GETDERIVEDTYPES().  THE INVOCATIONCOUNT APPROACHES O(N^2), WHERE N IS THE SIZE OF THE TYPES COLLECTION.  TSUGGESTION: MOST OF THE INVOCATIONS OFGETCOMPLEXELEMENTEXTENSIONBASE(NODE, SYMBOLTABLE) ARE REDUNDANT -- THEEXTENSION BASE OF THE COMPLEX TYPE DEFINED WITHIN NODE DOES NOT CHANGEACROSS THE RECURSIVE CALLS, BUT THE SEARCH FOR THAT EXTENSION BASE IS QUITEEXPENSIVE.  A CACHE OF PREVIOUSLY SEARCHED NODES IS VERY HELPFUL HERE.HOWEVER, THIS METHOD IS STATIC AND SO THIS RESOLUTION INTRODUCES A NEWPROBLEM -- HOW TO SCOPE THE CACHE SO THAT MULTIPLE INSTANCES OF SYMBOLTABLECAN COEXIST IN THE SAME VM?  TWO POSSIBILITIES:*TMAKE THE CACHE A PARAMETER TO THE METHOD*TMAKE THE METHOD AN INSTANCE METHOD RATHER THAN A CLASS METHOD.","SUMMARY":"WSDL2JAVA TAKES HOURS ON LARGE FILES","CLASS":1}
{"ID_DEFECT":"AXIS-601","DESCRIPTION":"XML-AXISJAVASRCORGAPACHEAXISCLIENTADMINCLIENT.JAVA V1.73 BREAKS SETTINGOF THE HOST PARAMETER FROM THE COMMAND-LINE OR USING THE ADMIN-CLIENT ANT-TASKSHOST= ATTRIBUTE.THE CVS LOG SHOWS THE FOLLOWING CHANGES OF COMMAND-LINE PARSING BETWEEN V1.72AND V1.73:@@ -223,7 +254,9 @@          ARGS = OPTS.GETREMAININGARGS(); -        IF ( ARGS == NULL ) -            LOG.INFO(MESSAGES.GETMESSAGE(USAGE00,ADMINCLIENT XML-FILES |LIST));+        IF ( ARGS == NULL  || OPTS.ISFLAGSET(H) > 0) +            LOG.INFO(MESSAGES.GETMESSAGE(USAGE00,ADMINCLIENT [OPTIONS] [LIST| <DEPLOYMENT-DESCRIPTOR-FILES>]));+            LOG.INFO();+            LOG.INFO(GETUSAGEINFO());             RETURN NULL;         IT LOOKS LIKE THE H FLAG IS USED FOR HELP...?FOR NOW, THE ADMINCLIENT IS ONLY USABLE FOR LOCALHOST.REMOVING THE CHECK FOR OPTS.ISFLAGSET(H) OR USING A NEW PARAMETER LETTER FORHELP SOLVES THE PROBLEM.","SUMMARY":"ADMINCLIENT (AND ADMIN-CLIENT ANT-TASK) HOST SETTING BROKEN","CLASS":1}
{"ID_DEFECT":"AXIS-604","DESCRIPTION":"WHEN YOU HAVE A WSDL FILE WITH COMMENTS IN, THESE COMMENTS ARE PASSED INTO THESOURCE     CANCEL JOB    PUBLIC VOID CANCELJOB(JAVA.LANG.STRING JOBURI) THROWS JAVA.RMI.REMOTEEXCEPTION;BUT IF THEY WERE JAVADOC COMMENTS, RATHER THAN JUST  COMMENTS, THEN WE COULDGET THESE INTO THE JAVADOC AND SO HAVE SELF DOCUMENTING ENDPOINTS FROM THE WSDL.","SUMMARY":"GENERATED COMMENTS SHOULD BE JAVADOC COMMENTS","CLASS":1}
{"ID_DEFECT":"AXIS-616","DESCRIPTION":"THE PURPOSE OF THIS NOTE IS TO DOCUMENT ISSUES I ENCOUNTERED DURING THE DEVELOPMENT OF THE WSRP WSTK DEMO WITH RESPECT TO AXIS AND THE ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT CLASS.  I SUSPECT THE MESSAGEELEMENT CLASS IS NOT MEANT FOR PROGRAMMERS TO USE DIRECTLY, BUT THIS IS A REQUIREMENT IN OUR CASE.BACKGROUND:THE WSDL FOR THE DEMO MAKES USE OF ANY IN SEVERAL PLACES IN ORDER TO ALLOW USER DEFINED XML DATA TO BE PASSED IN MESSAGES.  HERE IS AN EXAMPLE OF ITS USE IN DEFINING THE PROPERTY TYPE:      <COMPLEXTYPE NAME=PROPERTY>        <SEQUENCE>          <ANY NAMESPACE=##OTHER MINOCCURS=0 MAXOCCURS=UNBOUNDED>        <SEQUENCE>        <ATTRIBUTE NAME=NAME         TYPE=XSD:STRING USE=REQUIRED>        <ATTRIBUTE NAME=LANG         TYPE=XSD:STRING USE=REQUIRED>      <!--        WOULD PREFER THIS FORM, BUT AXIS TOOLS IGNORE THE DEFINITION        <ATTRIBUTE REF=XML:LANG      USE=REQUIRED>      -->        <ATTRIBUTE NAME=RESOURCENAME TYPE=XSD:STRING>      <COMPLEXTYPE>THE WSDL2JAVA TOOL GENERATES THE TYPE FOR THIS AS A PROPERTY CLASS THAT CONTAINS AN ARRAY OF MESSAGEELEMENTS LIKE SO:PUBLIC CLASS PROPERTY  IMPLEMENTS JAVA.IO.SERIALIZABLE     PRIVATE ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] _ANY;    PRIVATE JAVA.LANG.STRING NAME;   ATTRIBUTE    PRIVATE JAVA.LANG.STRING LANG;   ATTRIBUTE    PRIVATE JAVA.LANG.STRING RESOURCENAME;   ATTRIBUTE    PUBLIC PROPERTY()         PUBLIC ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] GET_ANY()         RETURN _ANY;        PUBLIC VOID SET_ANY(ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] _ANY)         THIS._ANY = _ANY;    T.T.T.IN ORDER TO USE THE PROPERTY CLASS, THE PROGRAMMER MUST CREATE MESSAGEELEMENTS AND MESSAGEELEMENT ARRAYS AS WELL AS TRY TO OBTAIN THE CONTENTS OF A MESSAGEELEMENT INSTANCE.ISSUES:1.  CONSTRUCTING A MESSAGEELEMENT:TIF I WANT TO CREATE A PROPERTY, I MUST CONSTRUCT A MESSAGEELEMENT.   THERE ARE 9 CONSTRUCTORS IN THE MESSAGEELEMENT CLASS.  THE JAVADOC DOES NOT DESCRIBE ANY OF THE THEM.  IT MATTERS WHICH ONE IS CHOSEN. AFTER A LOT OF EXPERIMENTATION,  I ENDED UP USING THE MESSAGEELEMENT(ORG.W3C.ELEMENT) CONSTRUCTOR.   UNDER THE COVERS, THE MESSAGEELEMENT CLASS HAS SEVERAL MEMBER VARIABLES FOR HOLDING VALUE INFORMATION.  THE CONSTRUCTOR YOU USE DETERMINES WHICH MEMBER VARIABLE GETS USED (E.G. TEXT VS ELEMENT VS CHILDREN), AND ALSO DETERMINES HOW YOU TRY TO GET THE VALUE LATER.   THERE ARE ALSO MANY POSSIBILITIES FOR USING THE NO-ARGUMENT CONSTRUCTOR AND THE CALLING ONE OF THE MULTITUDE OF SET METHODS. THE SETOBJECTVALUE METHOD IS TEMPTING, BUT THE VALUE DOESNT MAKE IT ACROSS THE NETWORK CONNECTION.2. RETRIEVING THE VALUE:TTHERE IS NO USABLE GET METHOD ON A MESSAGEELEMENT.   EVEN IF YOU KNEW HOW IT WAS CREATED AND WHERE THE DATA WAS STORED IN THE MESSAGEELEMENT (E.G. TEXTREP, ELEMENTREP), THERE IS NO CORRESPONDING GET METHOD.  THERE IS A METHOD CALLED  GETASDOM, BUT THIS METHOD CALLS GETASSTRING AND THEN PARSES THE RESULT.  THE PROTECTED METHOD GETASSTRING() METHOD REQUIRES A MESSAGECONTEXT WHICH IS USED TO OBTAIN A SERIALIZATIONCONTEXT.  SINCE I CREATED THE MESSAGEELEMENT MYSELF, THERE IS NO MESSAGECONTEXT.  IF YOU CALL TOSTRING(), IT JUST CALLS GETASSTRING() .WORKAROUNDS:I ENDED UP CREATING A CLASS CALLED MESSAGEELEMENTHELPER WHICH HAS METHODS TO CREATE A MESSAGEELEMENT, TO CLONE A MESSAGEELEMENT AND TO FETCH ITS CONTENT.  IT IMPLEMENTS SERIALIZATIONCONTEXT SO I CAN USE THE OUTPUT() METHOD AND FAKE OUT THE SERIALIZATION CONTEXT.   NOTE THAT I HAD TO INSPECT THE SOURCE CODE FOR MESSAGEELEMENT IN ORDER TO DERIVE THIS SOLUTION.HERE IT IS:CONCLUSIONS:I HOPE I DESCRIBED THE PROBLEM WELL ENOUGH WITHOUT GOING IN TO TOO MUCH DETAIL.  FOLKS USING ANY IN THEIR MESSAGES ARE GOING TO HAVE TO USE MESSAGEELEMENT AND ITS PAINFUL.  I HAVE A COUPLE OF SUGGESTIONS GOING FORWARD.T1. CHANGE THE WSDL2JAVA PROGRAM TO GENERATE SOMETHING MORE USEABLE THAN MESSAGEELEMENT ARRAYS.T2. DOCUMENT MESSAGEELEMENT MORE PRECISELY, SPECIFICALLY FOR THIS USE CASET3. WRAP MESSAGEELEMENT IN A MORE USABLE FORM AND CHANGE WSDL2JAVA CORRESPONDINGLY. IT WOULD BE NICE TO HAVE SETELEMENT(W3C.DOM.ELEMENT) AND W3C.DOM.ELEMENT GETELEMENT() .  PLEASE FEEL FREE TO CONTACT ME FOR MORE INFORMATION OR TO DISCUSS MY EXPERIENCES.  MY ULTIMATE GOAL IS TO IMPROVE THE PRODUCT AND HELP OTHER USERS.THANKS. JULIE E.MACNAUGHTIBM RESEARCH","SUMMARY":"MESSAGEELEMENT IS NOT FOR MORTALS","CLASS":1}
{"ID_DEFECT":"AXIS-637","DESCRIPTION":"HI.SENDING ATTACHMENTS TO A SERVER ON SUN SOLARIS OVER 1024 BYTES, IT SEEMS LIKE THE AXIS SERVER NEEDS TO CREATE A TEMP FILE.IN MY WEBSERVICE I CALL THE METHOD MYMESSAGECONTEXT.GETMESSAGE().COUNTATTACHMENTS(), THE COUNT ATTACHMENT GENERATES A PERMISSION DENIED WHEN CREATING THE TEMPFILE. THE ATTACHMENTSIMPL.GETATTACHMENTCOUNT() JUST CATCH THE EXCEPTION AND DO NOTHING WITH IT, WHEN IT SHOULD RETHROW IT ?!, INSTEAD OF JUST RETURNING ZERO.WHATS ALSO STRANGE IS THAT A SECOND CALL TO GETATTACHMENTCOUNT() GENERATES THE CORRECT NUMBER OF ATTACHMENTS ?!REGARDSANDREAS SIEGERSANDREAS.SIEGERS@IOCORE.SE","SUMMARY":"ATTACHMENTSIMPL.GETATTACHMENTCOUNT NOT PROPERLY IMPLEMENTED","CLASS":1}
{"ID_DEFECT":"AXIS-640","DESCRIPTION":"WHEN ERRORS LIKE 404 GET SENT FROM A SERVER AND TURNED INTO AXISFAULTS, IT WOULDBE NICE TO HAVE THE ERROR CODE EXTRACTED INTO A SEPARATE FAULT DETAIL, SO YOUDONT NEED TO PARSE THE ERROR STRING TO LOOK FOR IT.","SUMMARY":"WHEN AXIS FAULTS ARE GENERATED FROM HTTP FAULTS, CAN WE HAVE THE ERROR CODE IN A SEPARATE DETAIL","CLASS":1}
{"ID_DEFECT":"AXIS-673","DESCRIPTION":"LOCALSENDER CREATES A NEW MESSAGECONTEXT FROM THE CLIENTS REQUEST BUT IT DOES NOT TAKE THE ATTACHMENT PARTS BUT JUST THE SOAPENVELOPE.   DEFINE A NEW MESSAGECONTEXT PER REQUEST  MESSAGECONTEXT SERVERCONTEXT = NEW MESSAGECONTEXT(TARGETSERVER);   COPY THE REQUEST, AND FORCE ITS FORMAT TO STRING IN ORDER TO   EXERCISE THE SERIALIZERS.  STRING MSGSTR = CLIENTCONTEXT.GETREQUESTMESSAGE().GETSOAPPARTASSTRING();  IF (LOG.ISDEBUGENABLED())       LOG.DEBUG(MESSAGES.GETMESSAGE(SENDINGXML00, LOCALSENDER));      LOG.DEBUG(MSGSTR);    HERE ATTACHMENTS ARE LOST!!  SERVERCONTEXT.SETREQUESTMESSAGE(NEW MESSAGE(MSGSTR));I AM USING LOCALTRANSPORT TO TEST MY SERVICES BUT ATTACHMENTS ARE LOST IN THE PROCESS OF SENDING THE REQUEST. IN MY CASE ALL THE IMPORTANT INFORMATION IS STORED AS ATTACHMENTS.","SUMMARY":"LOCALSENDER REMOVES ATTACHMENTS FROM REQUEST MESSAGE","CLASS":1}
{"ID_DEFECT":"AXIS-702","DESCRIPTION":"WSDL2JAVA GENERATES A BEAN WITHOUT OWN PROPERTIES. THIS BEAN INHERITS PROPERTIES FROM ITS SUPERCLASS.WSDL2JAVA GENERATES THE FOLLOWING GETSERIALIZER  GETDESERIALIZER METHODS:....PUBLIC STATIC ORG.APACHE.AXIS.ENCODING.SERIALIZER GETSERIALIZER(           JAVA.LANG.STRING MECHTYPE,            JAVA.LANG.CLASS _JAVATYPE,             JAVAX.XML.NAMESPACE.QNAME _XMLTYPE)         RETURN           NEW  ORG.APACHE.AXIS.ENCODING.SER.BEANSERIALIZER(            _JAVATYPE, _XMLTYPE, NULL);        **     * GET CUSTOM DESERIALIZER     *    PUBLIC STATIC ORG.APACHE.AXIS.ENCODING.DESERIALIZER GETDESERIALIZER(           JAVA.LANG.STRING MECHTYPE,            JAVA.LANG.CLASS _JAVATYPE,             JAVAX.XML.NAMESPACE.QNAME _XMLTYPE)         RETURN           NEW  ORG.APACHE.AXIS.ENCODING.SER.BEANDESERIALIZER(            _JAVATYPE, _XMLTYPE, NULL);      ...DUE TO THE NULL VALUE PASSED AS TYPEDESC THE SERIALIZATION INSERTS WRONG (EMPTY) NAMESPACES TO THIS OBJECT.","SUMMARY":"WSDL2JAVA GENERATES WRONG GETSERIALIZER  GETDESERIALIZER METHODS","CLASS":1}
{"ID_DEFECT":"AXIS-705","DESCRIPTION":"THE COMMONSHTTPSENDER INVOKES MESSAGE.WRITETO() WITH A BYTEARRAYOUTPUTSTREAM. THE MESSAGE CLASS USES THE UTF-8 ENCODING WHEN WRITING ITS CHAR DATA OUT ASBYTES.  IN THE COMMONSHTTPSENDER, HOWEVER, THOSE BYTES ARE THEN CONVERTED BACKTO A STRING USING THE VMS DEFAULT ENCODING (ENVIRONMENT DEPENDENT, GENERALLYNOT UTF-8) -- THIS WILL RESULT IN CORRUPT MESSAGE DATA FOR CHARACTERS WITH MORETHAN 7 BITS.THE FIX WOULD BE TO SPECIFY UTF-8 AS A SECOND ARGUMENT TO THE STRING CONSTRUCTOR:METHOD.SETREQUESTBODY(NEW STRING(BAOS.TOBYTEARRAY(), UTF-8));","SUMMARY":"COMMONSHTTPSENDER WILL CORRUPT MESSAGE DATA","CLASS":1}
{"ID_DEFECT":"AXIS-710","DESCRIPTION":"USING APACHE AXIS 1.1-RC1, I HAVE A CLIENT PERFORM A WEB SERVICE INVOCATION ON A METHOD WITH A SIGNATURE SIMILAR TO:  EXECUTE(STRING, MAP);INSIDE OF THE MAP, MY CLIENT PUTS AN INTEGER[].  IN THE WEB SERVICE CLASS CALLED BY THE AXISSERVLET, THE OBJECT IN THE MAP IS AN INSTANCE OF INT[] (THE PRIMITIVE INT ARRAY WHEN IT SHOULD BE THE OBJECT INTEGER ARRAY).THIS IS ODD BECAUSE INTEGER IS SENT ACROSS AS INTEGER JUST FINE.  THE PROBLEM APPEARS TO BE ONLY WHEN SENDING ARRAYS.  HAVE NOT TESTED WITH OTHER PRIMITIVES, BUT WOULD GUESS SIMILAR BEHAVIOR.","SUMMARY":"INTEGER[] -> INT[]","CLASS":1}
{"ID_DEFECT":"AXIS-814","DESCRIPTION":"ORG.APACHE.AXIS.TYPES.URI IS NOT OVER-RIDING HASHCODE() AND SO IT CAN NOT BEUSED AS A KEY TO A HASHMAP.$ JAVA -FULLVERSIONJAVA FULL VERSION 1.3.1_03-B03TEST PROGRAM:IMPORT ORG.APACHE.AXIS.TYPES.URI;IMPORT ORG.APACHE.AXIS.TYPES.URI.MALFORMEDURIEXCEPTION;PUBLIC CLASS URITEST     PUBLIC STATIC VOID MAIN(STRING[] ARGS) THROWS MALFORMEDURIEXCEPTION     TURI URI1 = NEW URI(URN:FOOBAR);TTURI URI2 = NEW URI(URN:FOOBAR);TTSYSTEM.OUT.PRINT(EQUALS: );TTSYSTEM.OUT.PRINTLN((URI1.EQUALS(URI2)) ?PASS : FAIL);TTSYSTEM.OUT.PRINT(HASHCODE: );TTSYSTEM.OUT.PRINTLN((URI1.HASHCODE() == URI2.HASHCODE()) ? PASS : FAIL);   THE RESULT IS:EQUALS: PASSHASHCODE: FAIL","SUMMARY":"URI DOES NOT OVER-RIDE HASHCODE()","CLASS":1}
{"ID_DEFECT":"AXIS-844","DESCRIPTION":"I HAVE DECLARED A PUBLIC PROPERTY (E.G. PUBLIC BYTE[] CONTENT) IN A JAVA CLASS.  UPON GENERATING THE WSDL THE TYPE SHOULD BE MAPPED TO XSD:BASE64BINARY.  INSTEAD, THE TYPE IS MAPPED TO XSD:BYTE WHICH IS INCORRECT.  SUBSEQUENTLY, WHEN A MICROSOFT .NET CLIENT APPLICATION TRIES TO USE THE WSDL GENERATED FROM A WEB SERVICE DEPLOYED ON AXISTOMCAT, THE CLIENT COMPILATION FAILS BECAUSE THE TYPE BYTE[] CANNOT BE IMPLICITLY CONVERTED TO SBYTE[].  GENERATING WSDL USING OTHER PRODUCTS SUCH AS BEA WEBLOGIC PRODUCES THE CORRECT MAPPING.","SUMMARY":"JAVA2WSDL DOES NOT HANDLE BYTE[] MAPPING PROPERLY","CLASS":1}
{"ID_DEFECT":"AXIS-878","DESCRIPTION":"SETTING THE DIRTY FLAG TO TRUE ON A MESSAGEELEMENT CHILD DOES NOT PROPAGATE UP TO THE PARENT ELEMENTS.  THE RESULT IS THAT THE RECORDERS CACHED SERIALIZATION STREAM WILL BE PLAYED BACK INSTEAD OF THE REVISED VALUES.","SUMMARY":"MESSAGEELEMENT.SETDIRTY DOES NOT PROPAGATE UP AND TRIGGER RE-SERIALIZATION","CLASS":1}
{"ID_DEFECT":"AXIS-896","DESCRIPTION":"PROBLEM:USING THE SUPPLIED WSDL, I GET NULL BACK WHEN PASSED AN OBJECT CONTAINING AN EMPTY ARRAY.TO REPRODUCE:PLEASE, USE THE SUPPLIED WSDL TO GENERATE SERVER SIDE STUBS USING WSDLJAVA AND DEPLOY IT ON AXIS IN JBOSS. THEN USE THE WSDL FROM THE WEBSERVICE DEPLOYED, TO GENERATE CLIENT SIDE STUBS. USE THE FOLLOWING MECHANISM TO INVOKE THE WEBSERVICE. SERVICE1SOAPSOAPBINDINGSTUB STUB = NEW SERVICE1SOAPSOAPBINDINGSTUB(NEW URL(HTTP:LOCALHOST:8080AXISSERVICESSERVICE1SOAP), NEW SERVICE1LOCATOR());ARRAYOFMYBEAN  AOM = NEW ARRAYOFMYBEAN ();AOM.SETMYBEAN(NEW MYBEAN[0]);ARRAYOFMYBEAN AOMRESULT = STUB.GETCOPY(AOL);MYBEAN RESULT[] = AOMRESULT.GETMYBEAN();THE AOMRESULT RETURNS BACK AS NULL INSTEAD OF A VALID OBJECT.","SUMMARY":"USING THE SUPPLIED WSDL, I GET NULL WHEN PASSED AN EMPTY ARRAY","CLASS":1}
{"ID_DEFECT":"AXIS-909","DESCRIPTION":"","SUMMARY":"AXISFAULT DURING CONFIG PROCESSING GIVES NPE","CLASS":1}
{"ID_DEFECT":"AXIS-911","DESCRIPTION":"WHEN WE RUN THE ADMINCLIENT IT NOW PRINTS:[INFO] ADMINCLIENT - -PROCESSING FILE[INFO] ADMINCLIENT - -<ADMIN>DONE PROCESSING<ADMIN>TO THE SCREEN.  THERE ARE TWO PROBLEMS HERE:1 - IT DOESNT SHOW THE FILE NAME ANYMORE2 - THESE ARE BEING DISPLAYED AS LOGGING MESSAGES INSTEAD OF NORMAL PRINTLNS.THIS ARE NOT LOGGING MESSAGES (OR DEBUGGING MESSAGES) THESE ARE THEREAS THE NORMAL OUTPUT FOR THE END USER.  IF WE WANT TO CONTROL THE OUTPUTOF THESE THEN WE NEED TO ADD EITHER A -V (VERBOSE) OR -Q (QUIET) OPTION TOSHOWHIDE THESE BUT THESE ARE NOT LOGGING MESSAGES AND SHOULD NOT BE DISPLAYED(OR NOT DISPLAYED) BASED ON THE LOG4J.PROPERTIES FILE.THIS IS A CHANGE FROM 1.0 BEHAVIOUR.","SUMMARY":"ADMINCLIENT MESSAGES ARE NOT LOG MESSAGES","CLASS":1}
{"ID_DEFECT":"AXIS-942","DESCRIPTION":"HI,I AM USING READING AND WRITING SOAP MESSAGES USING THE AXIS API AND FOUND THAT IF IVE SET XERCES (2.4.0) AS MY XML PARSER, THESE CALLS CONSUME A LOT OF TIME.1) ADDTEXTNODE() METHOD IN THE ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT CLASS IS VERY SLOW.  DID MORE DIGGING, AND THE PROBLEM CODE IS IN THE ORG.APACHE.AXIS.MESSAGE.TEXT CLASS WHERE IT CREATES A NEW ORG.W3C.DOM.DOCUMENT (AND DOCUMENTBUILDER) EVERY SINGLE TIME ADDTEXTNODE() IS CALLED.  FOR SOME REASON, CREATING A NEW DOCUMENT AND DOCUMENTBUILDER IN XERCES IS SLOWER COMPARED TO CRIMSON (CRIMSON IS THE DEFAULT FOR SUN JDK1.4.X), AND WITHOUT CACHING OF SOME SORT, THIS JUST MAKE THE WHOLE EXERCISE OF ADDING TEXT NODE TO AN ELEMENT UNACCEPTABLY SLOW.  TRIED IT WITH CRIMSON AS THE PARSER, AND IT WAS VERY FAST!2) GETVALUE() METHOD IN THE ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT CLASS IS VERY SLOW.  THIS PROBLEM IS VERY SIMILAR TO THE ONE IN (1) ABOVE, IN THE SENSE THAT A NEW DOCUMENT (AND HENCE DOCUMENTBUILDER) IS CREATED EACH TIME GETVALUE() IS CALLED.  THE PROBLEM CODE IS IN GETASDOCUMENT() IN MESSAGEELEMENT.  AGAIN, TRIED IT WITH CRIMSON, AND IT WAS VERY FAST!XERCES HAS SOMEHOW PUT MORE PENALTY FOR CREATING DOCUMENTBUILDER AND DOCUMENT, SO AXIS MIGHT WANT TO THINK OF CACHING THEM FOR REUSE AND SPEED UP THINGS.  THIS BUG IS QUITE CRITICAL, AS IT REALLY SLOWS DOWN OUR APPLICATION, AND WE HAVE TO PUT A PRETTY UGLY HACK TO GET AROUND IT (AND YES, WE HAVE TO USE XERCES 2.4 ONWARDS FOR OUR APPLICATION).","SUMMARY":"ADDTEXTNODE() AND GETVALUE() EXTREMELY SLOW WHEN XERCES IS USED AS THE XML PARSER","CLASS":1}
{"ID_DEFECT":"AXIS-1034","DESCRIPTION":"IM USING A DOCLIT SERVICE AND I BIND PARTS OF A RESPONSE MESSAGE ASATTACHMENTS IN MY WSDL.  THEY ARE SENT BACK TO THE CLIENT CORRECTLY AND DO WINDUP IN THE ATTACHMENTS VECTOR IN THE CLIENT STUB (I.E. EXTRACTATTACHMENTS(_CALL)WORKS FINE) BUT THE GENERATED BINDING STUB CODE TRIES TO PULL THE PART DATA OUTOF THE OUTPUT INSTEAD, AS THIS WSDL2JAVA GENERATED CODE SNIPPET SHOWS:    PIC.VALUE = (JAVAX.ACTIVATION.DATAHANDLER) _OUTPUT.GET(NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.WS-I.ORGSAMPLEAPPLICATIONSSUPPLYCHAINMANAGEMENT2003-07CATALOG.XSD,PICTURE));IN OTHER WORDS, I DONT BELIEVE THE WSDL2JAVA CODE GENERATOR IS TAKING INTOACCOUNT WHETHER A PART IS AN ATTACHMENT OR NOT AND CREATING THE COORESPONDINGCODE - IT IS JUST ASSUMING IT IS A PART IN THE BODY.  SERVICE WSDL IS ATTACHED.","SUMMARY":"WSDL2JAVA GENERATES INCORRECT ATTACHMENT HANDLING FOR CLIENT STUB","CLASS":1}
{"ID_DEFECT":"AXIS-1054","DESCRIPTION":"I HAVE NOTICED THAT THERE IS NO WAY TO KEEP AXIS FROM USING THE DEFAULT NS# NAMESPACE PREFIX WHEN CREATING MESSAGEELEMENTS (E.G. SOAP HEADER ELEMENTS) FROM DOM ELEMENTS. THIS IS BECAUSE:1) THE PREFIX USED IN THE DOM ELEMENT IS IGNORED BY SERIALIZATIONCONTEXTIMPL.WRITEDOMELEMENT(). IT DOES NOT CALL REGISTERPREFIXFORURI().AND2) MESSAGEELEMENT.SETPREFIX() IS ALSO IGNORED IN THIS CASE. THIS IS BECAUSE, WHEN THE MESSAGEELEMENT HAS BEEN CONSTRUCTED FROM DOM, MESSAGEELEMENT.OUTPUTIMPL() SHORT CIRCUITS IMMEDIATELY *BEFORE* GETTING TO THE LINE WHERE REGISTERPREFIXFORURI() IS CALLED BASED ON THE PREFIX VALUE (LINE 806 & 807 IN MESSAGEELEMENT.JAVA). NOTE THAT THIS COULD EASILY BE FIXED BY MOVING LINES 806-821 TO THE *BEGINNING* OF THE MESSAGEELEMENT.OUTPUTIMPL() METHOD. I.E.:    PROTECTED VOID OUTPUTIMPL(SERIALIZATIONCONTEXT CONTEXT) THROWS EXCEPTION            IF (PREFIX != NULL)            CONTEXT.REGISTERPREFIXFORURI(PREFIX, NAMESPACEURI);        IF (NAMESPACES != NULL)             FOR (ITERATOR I = NAMESPACES.ITERATOR(); I.HASNEXT();)                 MAPPING MAPPING = (MAPPING) I.NEXT();                CONTEXT.REGISTERPREFIXFORURI(MAPPING.GETPREFIX(), MAPPING.GETNAMESPACEURI());                                        IF (ELEMENTREP != NULL)             BOOLEAN OLDPRETTY = CONTEXT.GETPRETTY();            CONTEXT.SETPRETTY(FALSE);            CONTEXT.WRITEDOMELEMENT(ELEMENTREP);            CONTEXT.SETPRETTY(OLDPRETTY);            RETURN;                IF (TEXTREP != NULL)             BOOLEAN OLDPRETTY = CONTEXT.GETPRETTY();            CONTEXT.SETPRETTY(FALSE);            CONTEXT.WRITESAFESTRING(TEXTREP.GETDATA());            CONTEXT.SETPRETTY(OLDPRETTY);            RETURN;                IF (OBJECTVALUE != NULL)             CONTEXT.SERIALIZE(NEW QNAME(NAMESPACEURI, NAME),                              ATTRIBUTES,                              OBJECTVALUE, NULL, FALSE, BOOLEAN.TRUE);            RETURN;                CONTEXT.STARTELEMENT(NEW QNAME(NAMESPACEURI, NAME), ATTRIBUTES);        IF (CHILDREN != NULL)             FOR (ITERATOR IT = CHILDREN.ITERATOR(); IT.HASNEXT();)                 ((MESSAGEELEMENT)IT.NEXT()).OUTPUT(CONTEXT);                            CONTEXT.ENDELEMENT();    ","SUMMARY":"NO WAY TO NON-DEFAULT NAMESPACE PREFIXES WHEN CREATING MESSAGEELEMENTS FROM DOM ELEMENTS","CLASS":1}
{"ID_DEFECT":"AXIS-1062","DESCRIPTION":"THERES PROBABLY A BUG IN THE SERIALIZATION OF DOM DOCUMENTS. IN THE DESERIALIZED DOCUMENTS THERE IS SOME EXTRA WHITESPACE THAT WASNT IN DOCUMENT WHEN IT HAS BEEN SENDED FROM THE WEB SERVICE. I THINK ITS A PROBLEM WITH THE SERIALIZATION OF DOM ELEMENTS SO THAT WHITESPACE WILL BE GENERATED DURING SERIALIZATION ON THE WEB SERVICE SIDE AND THEN THE WHITESPACE WONT BE REMOVED FROM THIS DOCUMENT ON THE CLIENT SIDE.","SUMMARY":"WHITESPACE IN SERIALIZED DOM DOCUMENTS","CLASS":1}
{"ID_DEFECT":"AXIS-1066","DESCRIPTION":"I CREATED A JAVA BEAN (TV.NAVIC.SOAP.MESSAGE) THAT EXPLICITLY ASSIGNS THE XML TYPES TO ITS PROPERTIES. I ASSIGNED TWO BYTE [] FIELDS XSD:HEXBINARY TYPES SO THAT I COULD EYEBALL THE RESULT. THE BEAN CORRECTLY SERIALIZES AND DESERIALIZES IN HEXBINARY, BUT THE WSDL THATS GENERATED SPECIFIES A TYPE OF BASE64BINARY TO THE FIELD.IF YOU LOOK AT ORG.APACHE.AXIS.ENCODING.SER.BEANSERIALIZER AT THE BOTTOM OF THE WRITESCHEMA METHOD, YOULL SEE THAT THE CALLS TO WRITEFIELD DO NOT MAKE USE OF NON-NULL XML TYPES. I WILL INCLUDE THE FILES TO DEMONSTRATE THE PROBLEM, THE GENERATED WSDL AND A VERSION OF BEANSERIALIZER THAT REWORKS THE WRITEFIELD METHOD SLIGHTLY TO TAKE THE OVERRIDDEN XML TYPE INTO ACCOUNT.","SUMMARY":"WSDL ASSIGNS BASE64BINARY TYPE TO HEXBINARY FIELD","CLASS":1}
{"ID_DEFECT":"AXIS-1104","DESCRIPTION":"APPLICATION SERVER: JBOSS 3.2.2 USING JBOSSNET AND AXIS 1.1WE HAVE AN EAR THAT CONTAINS AN EJB MODULE (ENTITY BEANS AND A STATELESS SESSIONBEAN USED A SOAP DISPATCHER) AND A WSR MODULE (WEB SERVICE DEFINITION). IF WEDEPLOY AND RAN SOME SOAP CALLS FROM AN EXTERNAL CLIENT, EVERYTHING IS OKIF WE THEN HOT REDEPLOY THE APPLICATION (MEANING REMOVE THE ENTITY BEANS AND SBFROM THE SYSTEM AND REDEPLOYS THEM + REMOVING AND REGISTERING AGAIN THE WEBSERVICE) WE HAVE A PROBLEM IN EJBPROVIDER.JAVA, LINE 196:EHOME = JAVAX.RMI.PORTABLEREMOTEOBJECT.NARROW(EJBHOME, HOMECLASS);WEB SERVICE DEPLOYMEN DESCRIPTOR:<?XML VERSION=1.0 ENCODING=UTF-8?><DEPLOYMENT XMLNS=HTTP:XML.APACHE.ORGAXISWSDD    XMLNS:JAVA=HTTP:XML.APACHE.ORGAXISWSDDPROVIDERSJAVA>    <SERVICE NAME=KPSYNCHERSERVICE PROVIDER=JAVA:EJB>        <REQUESTFLOW>            <HANDLER TYPE=SOAPMONITOR>        <REQUESTFLOW>        <RESPONSEFLOW>            <HANDLER TYPE=SOAPMONITOR>        <RESPONSEFLOW>        <PARAMETER NAME=BEANJNDINAMEVALUE=EJBKIALANODESYNCHNODESYNCHERLOCAL>        <PARAMETER NAME=HOMEINTERFACENAMEVALUE=COM.KIALA.KSERVER.DRIVER.NODESYNCH.NODESYNCHERLOCALHOME>        <PARAMETER NAME=REMOTEINTERFACENAMEVALUE=COM.KIALA.KSERVER.DRIVER.NODESYNCH.NODESYNCHERLOCAL>        <PARAMETER NAME=ALLOWEDMETHODS VALUE=LOGIN, LOGOUT,GETSOFTWAREUPDATEURLS, RESETTRANSACTIONS, RETRIEVETRANSACTIONS,UPDATETRANSACTIONS>        <PARAMETER NAME=JNDIURL VALUE=JNP:LOCALHOST:1099>        <PARAMETER NAME=JNDICONTEXTCLASSVALUE=ORG.JNP.INTERFACES.NAMINGCONTEXTFACTORY>        <BEANMAPPING QNAME=POCNS:LOGINRESPONSE XMLNS:POCNS=URN:BEANSERVICELANGUAGESPECIFICTYPE=JAVA:COM.KIALA.KSERVER.DRIVER.NODESYNCH.SYNCHDATA.LOGINRESPONSE>        <BEANMAPPING QNAME=POCNS:LOGOUTREQUEST XMLNS:POCNS=URN:BEANSERVICELANGUAGESPECIFICTYPE=JAVA:COM.KIALA.KSERVER.DRIVER.NODESYNCH.SYNCHDATA.LOGOUTREQUEST>        <BEANMAPPING QNAME=POCNS:TRANSACTIONRESPONSEXMLNS:POCNS=URN:BEANSERVICELANGUAGESPECIFICTYPE=JAVA:COM.KIALA.KSERVER.DRIVER.NODESYNCH.SYNCHDATA.TRANSACTIONRESPONSE>        <BEANMAPPING QNAME=POCNS:TRANSACTIONITEM XMLNS:POCNS=URN:BEANSERVICELANGUAGESPECIFICTYPE=JAVA:COM.KIALA.KSERVER.DRIVER.NODESYNCH.SYNCHDATA.TRANSACTIONITEM>        <BEANMAPPING QNAME=POCNS:SOFTWAREUPDATERESPONSEXMLNS:POCNS=URN:BEANSERVICELANGUAGESPECIFICTYPE=JAVA:COM.KIALA.KSERVER.DRIVER.NODESYNCH.SYNCHDATA.SOFTWAREUPDATERESPONSE>        <BEANMAPPING QNAME=POCNS:SOFTWAREUPDATEITEMXMLNS:POCNS=URN:BEANSERVICELANGUAGESPECIFICTYPE=JAVA:COM.KIALA.KSERVER.DRIVER.NODESYNCH.SYNCHDATA.SOFTWAREUPDATEITEM>    <SERVICE><DEPLOYMENT>THE ERROR IS (AFTER HOT REDEPLOYMENT):2003-10-24 13:44:06,230 INFO [ORG.APACHE.AXIS.UTILS.BYTECODE.PARAMNAMEEXTRACTOR] AXISERROR:JAVA.IO.IOEXCEPTION: UNABLE TO LOAD BYTECODE FOR CLASSCOM.KIALA.KSERVER.DRIVER.NODESYNCH.NODESYNCHERLOCALJAVA.LANG.CLASSCASTEXCEPTION        AT ORG.APACHE.AXIS.AXISFAULT.MAKEFAULT(AXISFAULT.JAVA:129)        AT ORG.APACHE.AXIS.PROVIDERS.JAVA.JAVAPROVIDER.INVOKE(JAVAPROVIDER.JAVA:343)        ATORG.APACHE.AXIS.STRATEGIES.INVOCATIONSTRATEGY.VISIT(INVOCATIONSTRATEGY.JAVA:71)        AT ORG.APACHE.AXIS.SIMPLECHAIN.DOVISITING(SIMPLECHAIN.JAVA:150)        AT ORG.APACHE.AXIS.SIMPLECHAIN.INVOKE(SIMPLECHAIN.JAVA:120)        AT ORG.APACHE.AXIS.HANDLERS.SOAP.SOAPSERVICE.INVOKE(SOAPSERVICE.JAVA:481)        AT ORG.APACHE.AXIS.SERVER.AXISSERVER.INVOKE(AXISSERVER.JAVA:323)        AT ORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLET.DOPOST(AXISSERVLET.JAVA:854)        AT JAVAX.SERVLET.HTTP.HTTPSERVLET.SERVICE(HTTPSERVLET.JAVA:760)        ATORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLETBASE.SERVICE(AXISSERVLETBASE.JAVA:339)        AT JAVAX.SERVLET.HTTP.HTTPSERVLET.SERVICE(HTTPSERVLET.JAVA:853)        ATORG.APACHE.CATALINA.CORE.APPLICATIONFILTERCHAIN.INTERNALDOFILTER(APPLICATIONFILTERCHAIN.JAVA:247)        ATORG.APACHE.CATALINA.CORE.APPLICATIONFILTERCHAIN.DOFILTER(APPLICATIONFILTERCHAIN.JAVA:193)        ATORG.APACHE.CATALINA.CORE.STANDARDWRAPPERVALVE.INVOKE(STANDARDWRAPPERVALVE.JAVA:256)        ATORG.APACHE.CATALINA.CORE.STANDARDPIPELINE$STANDARDPIPELINEVALVECONTEXT.INVOKENEXT(STANDARDPIPELINE.JAVA:643)        ATORG.APACHE.CATALINA.CORE.STANDARDPIPELINE.INVOKE(STANDARDPIPELINE.JAVA:480)        AT ORG.APACHE.CATALINA.CORE.CONTAINERBASE.INVOKE(CONTAINERBASE.JAVA:995)        ATORG.APACHE.CATALINA.CORE.STANDARDCONTEXTVALVE.INVOKE(STANDARDCONTEXTVALVE.JAVA:191)        ATORG.APACHE.CATALINA.CORE.STANDARDPIPELINE$STANDARDPIPELINEVALVECONTEXT.INVOKENEXT(STANDARDPIPELINE.JAVA:643)        ATORG.JBOSS.WEB.TOMCAT.SECURITY.JBOSSSECURITYMGRREALM.INVOKE(JBOSSSECURITYMGRREALM.JAVA:220)        ATORG.APACHE.CATALINA.CORE.STANDARDPIPELINE$STANDARDPIPELINEVALVECONTEXT.INVOKENEXT(STANDARDPIPELINE.JAVA:641)        ATORG.APACHE.CATALINA.AUTHENTICATOR.AUTHENTICATORBASE.INVOKE(AUTHENTICATORBASE.JAVA:553)        ATORG.APACHE.CATALINA.CORE.STANDARDPIPELINE$STANDARDPIPELINEVALVECONTEXT.INVOKENEXT(STANDARDPIPELINE.JAVA:641)        ATORG.APACHE.CATALINA.VALVES.CERTIFICATESVALVE.INVOKE(CERTIFICATESVALVE.JAVA:246)        ATORG.APACHE.CATALINA.CORE.STANDARDPIPELINE$STANDARDPIPELINEVALVECONTEXT.INVOKENEXT(STANDARDPIPELINE.JAVA:641)        ATORG.JBOSS.WEB.TOMCAT.TC4.STATISTICS.CONTAINERSTATSVALVE.INVOKE(CONTAINERSTATSVALVE.JAVA:76)","SUMMARY":"CACHING LEAD AXIS TO CRASH AFTER A HOT REDEPLOYMENT","CLASS":1}
{"ID_DEFECT":"AXIS-1116","DESCRIPTION":"SUPPOSE THE FOLLOWING WSDL IS GIVEN,<TYPES>...T<XSD:ELEMENT NAME=ADDGROUPS>T<XSD:COMPLEXTYPE>T<XSD:SEQUENCE>        <XSD:ELEMENT NAME=GROUP MAXOCCURS=UNBOUNDED MINOCCURS=1 NILLABLE=TRUE TYPE=XSD:STRING>T<XSD:SEQUENCE>T<XSD:COMPLEXTYPE>T<XSD:ELEMENT>T<XSD:ELEMENT NAME=RETVAL TYPE=XSD:BOOLEAN><TYPES>T<MESSAGE NAME=ADDGROUPSREQ>TT<PART NAME=ADDGROUPREQ ELEMENT=XSD1:ADDGROUPS>T<MESSAGE>T<MESSAGE NAME=ADDGROUPSRES>TT<PART NAME=ADDGROUPRES ELEMENT=XSD1:RETVAL>T<MESSAGE><PORTTYPE NAME=EMPLOYEEDBPORT>...TT<OPERATION NAME=ADDGROUPS>TTT<INPUT MESSAGE=TNS:ADDGROUPSREQ>TTT<OUTPUT MESSAGE=TNS:ADDGROUPSRES>TT<OPERATION><PORTTYPE><BINDING NAME=EMPLOYEEDBBINDING TYPE=TNS:EMPLOYEEDBPORT>T<SOAP:BINDING STYLE=DOCUMENT TRANSPORT=HTTP:SCHEMAS.XMLSOAP.ORGSOAPHTTP>T<OPERATION NAME=ADDGROUPS>TT<SOAP:OPERATION SOAPACTION=HTTP:WWW.SUN.COMJSR172USECASESADDGROUPS>TT<INPUT>TTT<SOAP:BODY USE=LITERAL>TT<INPUT>TT<OUTPUT>TTT<SOAP:BODY USE=LITERAL>TT<OUTPUT>T<OPERATION><BINDING>ADDGROUPS OPERATION IS DETECTED AS WRAPPER STYLE, AND ITS SERVER-CONFIG.WSDD IS  <SERVICE NAME=EMPLOYEEDBPORT PROVIDER=JAVA:RPC STYLE=WRAPPED USE=LITERAL>...      <OPERATION NAME=ADDGROUPS QNAME=OPERNS:ADDGROUPS XMLNS:OPERNS=HTTP:WWW.SUN.COMJSR172APPENDIXA.XSD RETURNQNAME=RETNS:RETVAL XMLNS:RETNS=HTTP:WWW.SUN.COMJSR172APPENDIXA.XSD RETURNTYPE=RTNS:BOOLEAN XMLNS:RTNS=HTTP:WWW.W3.ORG2001XMLSCHEMA >        <PARAMETER QNAME=PNS:GROUP XMLNS:PNS=HTTP:WWW.SUN.COMJSR172APPENDIXA.XSD TYPE=TNS:STRING XMLNS:TNS=HTTP:WWW.W3.ORG2001XMLSCHEMA>      <OPERATION>...IN THIS CASE, A REQUEST SOAP MESSAGE IS OK:<?XML VERSION=1.0 ENCODING=UTF-8?><SOAPENV:ENVELOPE XMLNS:SOAPENV=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPE XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA XMLNS:XSI=HTTP:WWW.W3.ORG2001XMLSCHEMA-INSTANCE> <SOAPENV:BODY>  <ADDGROUPS XMLNS=HTTP:WWW.SUN.COMJSR172APPENDIXA.XSD>   <GROUP>GROUP1<GROUP>   <GROUP>GROUP2<GROUP>   <GROUP>GROUP3<GROUP>  <ADDGROUPS> <SOAPENV:BODY><SOAPENV:ENVELOPE>HOWEVER, THE CURRENT AXIS RETURNS A RESPONSE MESSAGE LIKE<?XML VERSION=1.0 ENCODING=UTF-8?><SOAPENV:ENVELOPE XMLNS:SOAPENV=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPE XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA XMLNS:XSI=HTTP:WWW.W3.ORG2001XMLSCHEMA-INSTANCE> <SOAPENV:BODY>  <ADDGROUPSRESPONSE XMLNS=HTTP:WWW.SUN.COMJSR172APPENDIXA.XSD>    <RETVAL>TRUE<RETVAL>  <ADDGROUPSRESPONSE> <SOAPENV:BODY><SOAPENV:ENVELOPE>THIS IS OBVIOUSLY WRONG SINCE WRAPPED STYLE IS DOCUMENT STYLE AS WELL.WS-I BASIC PROFILE 1.0 ALSO POINTS OUT THIS SITUATION WIT MORE CLARITY:WSDL 1.1 IS NOT COMPLETELY CLEAR WHAT, IN DOCUMENT-LITERAL STYLE BINDINGS, THE CHILD ELEMENT OF SOAP:BODY IS. R2712 A DOCUMENT-LITERAL BINDING MUST BE REPRESENTED ON THE WIRE AS A MESSAGE WITH A SOAP:BODY WHOSE CHILD ELEMENT IS AN INSTANCE OF THE GLOBAL ELEMENT DECLARATION REFERENCED BY THE CORRESPONDING WSDL:MESSAGE PART. (FROMHTTP:WWW.WS-I.ORGPROFILESBASIC2003-08BASICPROFILE-1.0A.HTM#REFINEMENT35113376)ACTUALLY AXIS CLIENT AND SERVER WORK O.K. BECAUSE THEY BOTH ASSUME RESPONSE POSTFIX EVEN THOUGH THEY COMMUNICATE UNDER WRAPPED STYLE.I FOUND THIS TROUBLE WHEN I MADE MY J2ME WEB SERVICES CLIENT, WHICH USES ONLY DOCLITERAL ACCORDING TO JSR-172 SPEC. IN ORDER TO IMPROVE THE INTEROPERABILITY OF AXIS BASED ON DOCLITERAL, SOME CHANGES TO RPCELEMENT ARE NECESSARY. (SEE THE ATTACHED PATCH.)WITH THE MODIFICATION, AXIS REPLYS TO THE PREVIOUS REQUEST EXAMPLE LIKE<?XML VERSION=1.0 ENCODING=UTF-8?><SOAPENV:ENVELOPE XMLNS:SOAPENV=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPE XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA XMLNS:XSI=HTTP:WWW.W3.ORG2001XMLSCHEMA-INSTANCE> <SOAPENV:BODY>  <RETVAL XMLNS=HTTP:WWW.SUN.COMJSR172APPENDIXA.XSD>TRUE<RETVAL> <SOAPENV:BODY><SOAPENV:ENVELOPE>NOTE: THE AUTOMATICALLY GENERATED WSDL BY SERVICE?WSDL IS STILL NOT COMPLIANT WITH THE ABOVE CORRECTION. ILL LOOK INTO THAT, AND YOUR IDEA AND HELP ARE WELCOME.","SUMMARY":"[DOCLIT] RPCELEMENT DOESNT PROCESS A RESPONSE MESSAGE OF WRAPPED STYLE","CLASS":1}
{"ID_DEFECT":"AXIS-1120","DESCRIPTION":"THE CURRENT DEFAULTTYPEMAPPINGIMPLS XML TO JAVA TYPE MAPPING IS NOT ALONG WITH THAT OF JAX RPC 1.1 SPEC. I HEARD FROM JONGJIN THAT SOMEONE SUGGESTED FOLLOWING IT UP, BUT SOME COMPATIBILITY ISSUES HAVE REMAINED SO THAT SUCH CHANGE HASNT BEEN MADE YET.ID LIKE TO PROPOSE THE FOLLOWING STEPS TOWARD THE UPCOMING FUTURE:1. PROVIDING SUPPORT_JAX_RPC_1_1 OPTION TO SWITCH THE FEATURE ON BUILD TIMETHE ATTACHED PATCH IS DESIGNED FOR THE PURPOSE. NOW THE OPTION IS TURNED OFF AND WORKS FINE WITH ALL-TESTS. ITS NO DOUBT THAT SOME OF THE TESTS FAIL IN CASE OF TURN-ON, BUT IT MUST BE HELPFUL TO THOSE WHO WANT TO TRY THE EXACT JAX-RPC 1.1 TYPE MAPPING.2. ADOPTING BY DEFAULTI THINK THIS FEATURE MAY BE CONSIDERED EXPERIMENTAL UNTIL SUFFICIENT DISCUSSION AND CONSENSUS ARE ACHIEVED. I EXPECT THE NEXT VERSION OF AXIS (E.G. 1.2) CAN CHOOSE IT AND ENCOURAGE USERS AND DEVELOPERS TO KEEP UP WITH IT.FINALLY, I FOUND THAT THE PATCH ON DEFAULTTYPEMAPPINGIMPL FROMHTTP:NAGOYA.APACHE.ORGBUGZILLASHOW_BUG.CGI?ID=24382WAS POTENTIALLY PROBLEMATIC BECAUSE OF THE ORDER GAME. I CHANGED THE ORDER OF REGISTERING OF XSD:ANYSIMPLETYPE IN FRONT OF XSD:STRING FOR RIGHT JAVA TO XML MAPPING. IM WILLING TO MAKE A SMALL PATCH ONLY FOR THIS PROBLEM WHEN NECESSARY.THANKS FOR YOUR FEEDBACK IN ADVANCE,IAS","SUMMARY":"DEFAULTTYPEMAPPINGIMPL IS NOT COMPLIANT WITH JAX-RPC 1.1","CLASS":1}
{"ID_DEFECT":"AXIS-1129","DESCRIPTION":"THE SOAP RESPONSE FROM AXIS FOR AN RPC STYLE SERVICE THAT RETURNS COMPLEXTYPES IN THE RESPONSE PLACES A NAMESPACE PREFIX ON THE COMPLEXTYPE ELEMENTS.  .NET CLIENTS CANNOT HANLDE THIS PREFIX.THERE WAS A THREAD ABOUT THIS ON THE USER LIST A WHILE BACK.  APPARENTLY IN APRIL OF 2002, THIS ISSUE WAS FIXED.  THE THREAD IS HERE:  HTTP:MARC.THEAIMSGROUP.COM?L=AXIS-USER&M=101793858607643&W=2.  BUT IN BOTH THE 1.0 AND 1.1 RELEASES, THIS ISSUE REMAINS.  AT THE REQUEST OF DAVANUM, IVE TESTED AGAINST THE LATEST IN CVS.  THE ISSUE REMAINS THERE AS WELL.I KNOW THAT THIS HAS BEEN DISCUSSED BEFORE BUT I WAS UNABLE TO FIND ANY OTHER REFERENCES IN BUGZILLA OR THE AXIS-USER ARCHIVE (SEARCHING FOR .NET, PREFIX, NAMESPACE, COMPLEXTYPE, INTEROP, ETC.).THE RESPONE THAT AXIS (COMPILED FROM THE LATEST CVS) RETURNS:<?XML VERSION=1.0 ENCODING=UTF-8?><SOAPENV:ENVELOPE XMLNS:SOAPENV=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPE XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA XMLNS:XSI=HTTP:WWW.W3.ORG2001XMLSCHEMA-INSTANCE> <SOAPENV:BODY>  <NS1:OP2RESPONSE SOAPENV:ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING XMLNS:NS1=HTTP:DEFAULTNAMESPACE>   <NS1:OP2RETURN XSI:TYPE=NS1:MYCUSTOMTYPE>    <NS1:LOTSOFBOB XSI:TYPE=NS1:BOBTYPE>     <NS1:ASTRING XSI:TYPE=XSD:ANYSIMPLETYPE>BOBEL1<NS1:ASTRING>    <NS1:LOTSOFBOB>    <NS1:LOTSOFBOB XSI:TYPE=NS1:BOBTYPE>     <NS1:ASTRING XSI:TYPE=XSD:ANYSIMPLETYPE>BOBEL2<NS1:ASTRING>    <NS1:LOTSOFBOB>    <NS1:BOB XSI:TYPE=NS1:BOBTYPE>     <NS1:ASTRING XSI:TYPE=XSD:ANYSIMPLETYPE>BOB VALUE<NS1:ASTRING>    <NS1:BOB>    <NS1:BAR XSI:TYPE=XSD:ANYSIMPLETYPE>FOOEL1<NS1:BAR>    <NS1:BAR XSI:TYPE=XSD:ANYSIMPLETYPE>FOOEL2<NS1:BAR>    <NS1:BAR XSI:TYPE=XSD:ANYSIMPLETYPE>FOOEL3<NS1:BAR>    <NS1:FOO XSI:TYPE=XSD:ANYSIMPLETYPE>FOO VALUE<NS1:FOO>   <NS1:OP2RETURN>  <NS1:OP2RESPONSE> <SOAPENV:BODY><SOAPENV:ENVELOPE>(AS A SIDE NOTE, IM NOT SURE ABOUT THE ANYSIMPLETYPE, WITH AXIS 1.1 THE TYPE VALUES ARE THE CORRECT XSD TYPES - XSD:STRING).NOTICE THE NS1 PREFIX ON EVERY ELEMENT.  A .NET CLIENT ACCEPTS THE RESPONSE, (NOT THROWING ANY ERRORS) BUT ALL VALUES ARE NULL.  TAKING OUT THE PREFIXES, .NET CORRECTLY UNDERSTANDS THE RESPONSE.  I DONT KNOW WHETHER PREFIXES OR NO PREFIXES IN THE SOAP MESSAGE IS CORRECT OR IF BOTH ARE.  AT THIS POINT THOUGH, WE ARE UNABLE TO INVOKE ANY RPC SERVICE THAT RETURNS A COMPLEX TYPE HOSTED BY AXIS WITH A .NET CLIENT.","SUMMARY":"COMPLEXTYPE IN SOAP RESPONSE HAS NAMESPACE PREFIX, CHOKES .NET CLIENTS","CLASS":1}
{"ID_DEFECT":"AXIS-1139","DESCRIPTION":"THE WSDL FILE CONTAINS :**************************<XS:COMPLEXTYPE NAME=CHANGEREQUESTADJUSTMENT>T<XS:SEQUENCE>TT<XS:ELEMENT MINOCCURS=0 NAME=ORDERDATE TYPE=BO:ORDERDATEDT>T<XS:SEQUENCE><XS:COMPLEXTYPE><XS:SIMPLETYPE NAME=ORDERDATEDT>T<XS:RESTRICTION BASE=XS:DATETIME><XS:SIMPLETYPE>**************************THE JAVA PROXIES ARE GENERATED PROPERLY WITHOUT ANY ERRORS USING THE COMMAND JAVA ORG.APACHE.AXIS.WSDL.WSDL2JAVA.THEN ON TOP OF THE GENERATED PROXIES I MAKE A JAVA CLIENT TO RUN THE WEBSERVICE.I TRY TO SET THE ORDERDATE BY THE FOLLOWING CODE:**************************TCALENDAR CAL = CALENDAR.GETINSTANCE();TCAL.SET(2003, 10, 20, 13, 56, 00);TADJUSTMENT.SETORDERDATE(NEW ORDERDATEDT (CAL));**************************BUT IN THE SOAP MESSAGE THE DATE GOES AS SHOWN BELOW:**************************<ORDERDATE>JAVA.UTIL.GREGORIANCALENDAR[TIME=?,AREFIELDSSET=FALSE,AREALLFIELDSSET=TRUE,LENIENT=TRUE,ZONE=SUN.UTIL.CALENDAR.ZONEINFO[ID=&QUOT;GMT+05:30&QUOT;,OFFSET=19800000,DSTSAVINGS=0,USEDAYLIGHT=FALSE,TRANSITIONS=0,LASTRULE=NULL],FIRSTDAYOFWEEK=1,MINIMALDAYSINFIRSTWEEK=1,ERA=1,YEAR=2003,MONTH=10,WEEK_OF_YEAR=48,WEEK_OF_MONTH=5,DAY_OF_MONTH=20,DAY_OF_YEAR=330,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=5,HOUR_OF_DAY=13,MINUTE=56,SECOND=0,MILLISECOND=813,ZONE_OFFSET=19800000,DST_OFFSET=0]<ORDERDATE> ***************************I TRIED TO CHANGE THE WSDL BY DOING THE FOLOWING :**************************T<XS:ELEMENT MINOCCURS=0 NAME=ORDERDATE TYPE=XS:DATETIME>**************************THEN REGENERATED THE PROXIES.SO IN THE CLIENT THE CODE CHANGED AS FOLLOWS:**************************TCALENDAR CAL = CALENDAR.GETINSTANCE();TCAL.SET(2003, 10, 20, 13, 56, 00);TADJUSTMENT.SETORDERDATE(CAL);**************************IN THIS CASE THE DATE WAS PASSED PROPERLY AND THERE WAS NO ERROR. THE PROBLEM HERE IS WE NEED TO GO WITH THE FIRST DEFINATION  OF ORDERDATE WITH THE RESTRICTION SINCE THE WSDL IS AUTO GENERATED AND USES A TEMPLATE .","SUMMARY":"DATETIME NOT PARSED PROPERLY IN THE SOAP MESSAGE","CLASS":1}
{"ID_DEFECT":"AXIS-1146","DESCRIPTION":"WHEN CALLING INVOKE() TO CREATE THE SOAP ENVELOPE AND SEND IT TO THE TARGET WEBSERVICE, FOR EACH BODY ELEMENT AFTER THE SERVICE TAG, AXIS GENERATES AN EMPTYXMLNS PARAMETER FOLLOWED BY THE CORRECT NAMESPACE AND TYPE.  THIS BREAKSWEBLOGICS SOAP CONTAINER. IF I TEST THE XML AGAINST WEBLOGIC CONTAINER WITHTHEIR ONLINE XML TEST TOOL, AND REMOVE THE EMPTY NAMESPACE PARAMS, IT WORKS FINE.I TRIED SETTING SEND_TYPE_ATTR PROPERTY TO FALSE BUT IT DOES NOT SEEM TO HAVEANY EFFECT ON THE GENERATED XML.EXAMPLE:<SOAPENV:BODY><SERVICE_NAME XMLNS=HTTP:MY.NAMESPACEPATH><COMHDR XMLNS= XMLNS:NS1=HTTP:MY.NAMESPACEPATH            XSI:TYPE=NS1:COMMONHEADER>","SUMMARY":"CALL INVOKE() METHOD GENERATES SOAP ENV WITH EMPTY XMLNS ELEMENTS","CLASS":1}
{"ID_DEFECT":"AXIS-1152","DESCRIPTION":"SEE THE FOLLOWING WSDL SNIPPET(FOR FULL WSDL SEE THE ATTACHMENTS)***************<XS:COMPLEXTYPE NAME=SYNCALLRESPONSEUNITSZENOSH><XS:SEQUENCE><XS:CHOICE>   <XS:SEQUENCE>      <XS:ELEMENT MINOCCURS=0 NAME=PREVIOUSVALUES            TYPE=BO:PREVIOUSVALUESMAIN>      <XS:GROUP REF=AVMAIN>   <XS:SEQUENCE>   <XS:SEQUENCE>      <XS:ELEMENT NAME=PREVIOUSVALUES TYPE=BO:PREVIOUSVALUESMAIN>      <XS:GROUP REF=AVMAIN>   <XS:SEQUENCE>   <XS:SEQUENCE>      <XS:ELEMENT NAME=PREVIOUSVALUES TYPE=BO:PREVIOUSVALUESMAIN>   <XS:SEQUENCE><XS:CHOICE><XS:SEQUENCE>............<XS:COMPLEXTYPE>*****END**********IF YOU SEE - THE TAG PREVIOUSVALUES IS REPEATED THRICE IN THE XS:CHOICE , BUT ALL 3 OCCURANCES ARE IN DIFFERENT SEQUENCES.SO ITS A VALID XSD.I GENERATE THE TYPE SAFE PROXIES OF THE WSDL USING JAVA ORG.APACHE.AXIS.WSDL.WSDL2JAVA. THE PROXIES ARE GENERATED WITHOUT ERROR.WHEN I TRY TO COMPILE THE JAVA FILES - I GET THE FOLLOWING ERROR REDECLARATION OF MEMBER PREVIOUSVALUES . THIS ERROR COMES DUE TO THE FACT THAT THE PREVIOUSVALUES IS DECLARED THRICE IN THE SYNCALLRESPONSEUNITSZENOSH , SYNCCHANGESRESPONSEUNITSZENOSH , SYNCONERESPONSEUNITSZENOSH CLASSES . ANY MORE INFORMATION NEEDED - PLEASE LET ME KNOW ON ZPATEL@BAAN.COM .","SUMMARY":"SAME ELEMENT IN DIFFERENT XS:SEQUENCE NOT ALLOWED IN XS:CHOICE","CLASS":1}
{"ID_DEFECT":"AXIS-1157","DESCRIPTION":"OVERVIEW DESCRIPTION: ---------------------PROBLEM:CONSTRUCTION OF QNAMES (IN GENERATED ENUMERATED TYPES, AT LEAST) IS DONE BYMERELY PASSING THE CONSTANT QNAME STRING VALUE TO THE QNAME CONSTRUCTOR, WHICHINTERPRETS IT AS A LOCAL NAME, CONSEQUENTLY THE NAMESPACE URI IS EMPTY ().EXAMPLE:GIVEN THE SCHEMA TYPE USAGETYPE A RESTRICTION OF XSD:QNAME,USAGETYPE.JAVA (WSP) CONSTRUCTS QNAME INSTANCES WITH STRING VALUES  PASSED TO THE QNAME CONSTRUCTOR AS IS (<PREFIX>:<LOCAL NAME>) INSTEAD OF BEING PARSED IN ORDER TO EXTRACT THE NAMESPACE URI (FROM SOME MAPPING RECORDED BY THE IN-MEMORY SCHEMA OBJECT MODEL) AND THE LOCAL NAME. EXAMPLE INPUT SCHEMA--------------------T<XS:SIMPLETYPE NAME=USAGETYPE>TT[...]TT<XS:RESTRICTION BASE=XS:QNAME>TTT<XS:ENUMERATION VALUE=WSP:REQUIRED>TTT<XS:ENUMERATION VALUE=WSP:OPTIONAL>TTT<XS:ENUMERATION VALUE=WSP:REJECTED>TTT<XS:ENUMERATION VALUE=WSP:IGNORED>TTT<XS:ENUMERATION VALUE=WSP:OBSERVED>TT<XS:RESTRICTION>T<XS:SIMPLETYPE>THE FULL SCHEMA IS AT: HTTP:SCHEMAS.XMLSOAP.ORGWS200212POLICYGENERATED JAVA CODE:--------------------PACKAGE ORG.XMLSOAP.POLICY;PUBLIC CLASS USAGETYPE IMPLEMENTS JAVA.IO.SERIALIZABLE     PRIVATE JAVAX.XML.NAMESPACE.QNAME _VALUE_;[...]    PUBLIC STATIC FINAL JAVAX.XML.NAMESPACE.QNAME _VALUE1 = NEWJAVAX.XML.NAMESPACE.QNAME(WSP:REQUIRED);    PUBLIC STATIC FINAL JAVAX.XML.NAMESPACE.QNAME _VALUE2 = NEWJAVAX.XML.NAMESPACE.QNAME(WSP:OPTIONAL);[...]    PUBLIC STATIC USAGETYPE FROMSTRING(JAVA.LANG.STRING VALUE)          THROWS JAVA.LANG.ILLEGALSTATEEXCEPTION         TRY             RETURN FROMVALUE(NEW JAVAX.XML.NAMESPACE.QNAME(VALUE));         CATCH (EXCEPTION E)             THROW NEW JAVA.LANG.ILLEGALSTATEEXCEPTION();            [...]CONSEQUENCES:-------------  THIS WILL LEAD TO RUN-TIME DESERIALIZATION ERRORS, FOR INSTANCE WHEN THE   PREFIX-TO-NAMESPACE ASSIGNEMENT IS DIFFERENT IN THE XML DOCUMENTPAYLOAD   RECEIVED THAN IN THE SCHEMA USED TO GENERATE THE JAVA CODE ON THE   RECEIVING SIDE.   ALSO, FOR THE SAME REASONS, THE FROMSTRING(STRING) STATIC METHODS SHOULD BE   DEPRECATED IN QNAME-BASED ENUMERATED TYPES IN FAVOR OF METHODS LIKE:  FROMQNAME(QNAME) OR FROM(STRING NSURI, STRING LOCALNAME).PROPOSALEXPECTED BEHAVIOR--------------------------THE CODE  GENERATOR SHOULD INSERT THE NAMESPACE URI FROM THE PREFIX READ IN THE QNAME VALUE (IN THE SCHEMA) SO THAT THE GENERATED CODE USE IT WHEN CONSTRUCTINGTHE QNAME. AS IN:     NEW QNAME(HTTP:SCHEMAS.XMLSOAP.ORGWS200212POLICY,REQUIRED);       INSTEAD OF      NEW QNAME(WSP:REQUIRED);BUILD DATE: -----------I BUILD SOURCE FROM A CVS CHECK OUT MADE ON 12102003, AROUND 2:00 AM","SUMMARY":"QNAME CONSTANTS CONSTRUCTED WITHOUT SCHEMA-SPECIFIED NAMESPACE","CLASS":1}
{"ID_DEFECT":"AXIS-1158","DESCRIPTION":"OVERVIEW DESCRIPTION: ---------------------PROBLEM:MULTIPLE <ANY> ELEMENTS OR MULTIPLE ELEMENTS DECLARED                                       WITH THE SAME NAME ARE TRANSLATED BY WSDL2JAVA                                       INTO MULTIPLE JAVA FIELDS OF THE SAME NAMES, RESULTING IN JAVA COMPILATION ERRORS. EXAMPLE:EXAMPLE INPUT SCHEMA--------------------<XS:COMPLEXTYPE NAME=POLICYATTACHMENTTYPE> <XS:SEQUENCE>  <XS:ELEMENT REF=WSP:APPLIESTO>  <XS:ANY NAMESPACE=##OTHER PROCESSCONTENTS=LAX MINOCCURS=0MAXOCCURS=UNBOUNDED>  <XS:CHOICE MAXOCCURS=UNBOUNDED>   <XS:ELEMENT REF=WSP:POLICY>   <XS:ELEMENT REF=WSP:POLICYREFERENCE>  <XS:CHOICE>  <XS:ANY NAMESPACE=##OTHER PROCESSCONTENTS=LAX MINOCCURS=0MAXOCCURS=UNBOUNDED> <XS:SEQUENCE> <XS:ANYATTRIBUTE NAMESPACE=##ANY PROCESSCONTENTS=LAX><XS:COMPLEXTYPE>THE FULL SCHEMA IS AT: HTTP:SCHEMAS.XMLSOAP.ORGWS200212POLICYI PERSONALLY DONT LIKE TOO MUCH THE TOP-LEVEL APPOSITION OF THE APPLIESTO ELEMENT AND THE FIRST <ANY>, BUT THIS IS A VALID SCHEMA COMPLEX TYPE. THE CONTENT MODEL IS NOT AMBIGUOUS (THE TOP-LEVEL GROUP IS A<SEQUENCE> NOT A <ALL> OR <CHOICE>; ##OTHER IS USED; NO ELEMENT IN THE <CHOICE> IS OPTIONAL AND BOTH ARE FROM THE TARGET NAMESPACE).GENERATED JAVA CODE:--------------------PACKAGE ORG.XMLSOAP.POLICY;PUBLIC CLASS POLICYATTACHMENTTYPE  IMPLEMENTS JAVA.IO.SERIALIZABLE,ORG.APACHE.AXIS.ENCODING.ANYCONTENTTYPE     PRIVATE ORG.XMLSOAP.POLICY.APPLIESTO APPLIESTO;    PRIVATE ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] _ANY;    PRIVATE ORG.XMLSOAP.POLICY.POLICYEXPRESSION POLICY;    PRIVATE ORG.XMLSOAP.POLICY.POLICYREFERENCETYPE POLICYREFERENCE;    PRIVATE ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] _ANY;[...]    **     * GETS THE _ANY VALUE FOR THIS POLICYATTACHMENTTYPE.     *      * @RETURN _ANY      *    PUBLIC ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] GET_ANY()         RETURN _ANY;        **     * SETS THE _ANY VALUE FOR THIS POLICYATTACHMENTTYPE.     *      * @PARAM _ANY      *    PUBLIC VOID SET_ANY(ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] _ANY)         THIS._ANY = _ANY;    [...]    **     * GETS THE _ANY VALUE FOR THIS POLICYATTACHMENTTYPE.     *      * @RETURN _ANY      *    PUBLIC ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] GET_ANY()         RETURN _ANY;        **     * SETS THE _ANY VALUE FOR THIS POLICYATTACHMENTTYPE.     *      * @PARAM _ANY      *    PUBLIC VOID SET_ANY(ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] _ANY)         THIS._ANY = _ANY;    [...]RESULTING COMPILATION ERRORS:-----------------------------BUILDSTUBSORGXMLSOAPPOLICYPOLICYATTACHMENTTYPE.JAVA:15:_ANY IS ALREADY DEFINED IN ORG.XMLSOAP.POLICY.POLICYATTACHMENTTYPE    [JAVAC]     PRIVATE ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] _ANY;    [JAVAC]                                                       ^    [JAVAC]SOFTWAREGLOBUSGT3TRUNKNOV25PACKAGINGSOURCE-TREESOGSA-CVSAGREEMENTFRAMEWORKBUILDSTUBSORGXMLSOAPPOLICYPOLICYATTACHMENTTYPE.JAVA:106:GET_ANY() IS ALREADY DEFINED IN ORG.XMLSOAP.POLICY.POLICYATTACHMENTTYPE    [JAVAC]     PUBLIC ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT [] GET_ANY()     [JAVAC]                                                      ^    [JAVAC]SOFTWAREGLOBUSGT3TRUNKNOV25PACKAGINGSOURCE-TREESOGSA-CVSAGREEMENTFRAMEWORKBUILDSTUBSORGXMLSOAPPOLICYPOLICYATTACHMENTTYPE.JAVA:116:SET_ANY(ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT[]) IS ALREADY DEFINED INORG.XMLSOAP.POLICY.POLICYATTACHMENTTYPE    [JAVAC]     PUBLIC VOID SET_ANY(ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT []_ANY)     [JAVAC]                 ^ PROPOSALEXPECTED BEHAVIOR--------------------------ITS HARD TO SAY. HONESTLY I DONT LIKE THE SCHEMA AT ALL, BUT IT IS PERFECTLY VALID. I THINK IT IS HARD TO PERFECTLY MATCH THE SEQUENCE CONCEPT TO A PROGRAMMING LANGUAGE, WHAT JAVA REALLY IMPLEMENTS IS MORE AN ALL KIND OF GROUPING (OF ITS FIELDS), SINCE THERE IS NO ORDERING BUT A INDEXING OF FIELDS BY NAME. I GUESS A SIMPLE WAY WOULD BE TO GENERATE DIFFERENT FIELD NAMES LIKE ANY1 ANY2 IN THE JAVA CLASS, BUT THIS IS DIFFICULT IN THE PARTICULAR CASE OF THE ANY BECAUSE OF THE ANYCONTENTTYPE INTERFACE (MAYBE ITS SOMETHING THAT NEEDS TO BE RETHOUGHT?) IN AXIS THAT MANDATES A GET_ANY() METHOD. MAYBE HAVE GET_ANY() RETURN THE CATENATION OF A GET_ANY1() AND A GET_ANY2() ?BUILD DATE: -----------I BUILD SOURCE FROM A CVS CHECK OUT MADE ON 12102003, AROUND 2:00 AMADDITIONAL NOTES-----------------THIS IS THE SAME BUG (OR VERY RELATED) AS 25195. I SENT THIS MESSAGE A WHILE AGO TO THE DEV LIST IN ORDER TO CHECK IT WAS A BUG, BUT I RECEIVED NO ANSWER. IN ADDITION, I DO NOT KNOW (SHAME ON ME) HOW TO ADD COMMENTS TO THE EXISTING BUG. BUG 25195 APPEARS AS A VARIATION WHERE THE CONTENT OF THE GROUPS (INSIDE THE <SEQUENCE> ELEMENTS) IS FLATTENED AS THE CONTENT OF THE GENERATED TYPE. LET ME ALSO POINT OUT THAT THE CONTENT MODEL OF THE SCHEMA TYPE SUBMITTED IN THE REPORT TO BUG 25195 IS AMBIGUOUS AND THEREFORE NOT VALID WITH RESPECT TO SCHEMA VALIDATION CONSTRAINTS. STILL, THERE WILL BE OTHER CASES OF THIS GENERATION OF MULTIPLE JAVA FIELDS OF THE SAME NAME BE THE ORIGINAL XML FIELS DIRECT OR INDIRECT CHILDREN OF THE SCHEMA TYPE.","SUMMARY":"SEVERAL XSD:ANY OR ELEMENTS WITH SAME NAMES --> SEVERAL IDENTICAL JAVA FIELDS","CLASS":1}
{"ID_DEFECT":"AXIS-1162","DESCRIPTION":"AS MESSAGECONTEXT.GETCURRENTMESSAGECONTEXT ANDAXISENGINE.GETCURRENTMESSAGECONTEXT DEPEND ON THREADLOCAL VARIABLES, SEEMS LIKEONE CAN NEVER EMBED A CLIENT WITHIN A SERVER WITHOUT MESSING IT ALL UP. E.G., APROXYING SERVER MIGHT HAVE AN EMBEDDED CLIENT IN ORDER TO FORWARD REQUESTS.","SUMMARY":"A SERVER CAN NEVER EMBED A CLIENT (E.G. FOR PROXYING) WITHOUT MESSING UP MESSAGECONTEXT","CLASS":1}
{"ID_DEFECT":"AXIS-1170","DESCRIPTION":"WHEN A COMPLEXTYPE IS SPECIFIED WITH MIXED=TRUE, WSDL2JAVA GENERATES NOACCESS METHOD FOR THE TEXT CONTENTS OF THE CORRESPONDING ELEMENT.","SUMMARY":"MIXED=TRUE ON COMPLEX TYPES NOT SUPPORTED","CLASS":1}
{"ID_DEFECT":"AXIS-1175","DESCRIPTION":"WHEN ORG.APACHE.AXIS.MESSAGE IS CONSTRUCTED FROM AN INPUTSTREAM THAT IS EMPTY,NO EXCEPTION IS THROWN.  HOWEVER, WHEN THE GETSOAPENVELOPE() METHOD IS CALLED, THEN THE FOLLOWING SAX EXCEPTION GETS THROWN:ORG.XML.SAX.SAXPARSEEXCEPTION: PREMATURE END OF FILE.THIS BEHAVIOR IS A PROBLEM, BECAUSE IT CAUSES THE AXIS (SEE: ORG.APACHE.AXIS.CLIENT LINE 2583) CLIENT OBJECT TO CHOKE ON HTTP RESPONSES TO SOAP REQUESTS WHEN THERE IS NO SOAP RESPONSE.  THIS SCENARIO HAPPENS WHENEVER THE ORG.APACHE.AXIS.CLIENT IS USED TO CALL A ONE-WAY SOAP SERVICE.  PER WS-I, THE ONE-WAY SOAP SERVICE SHOULD *NOT* INCLUDE ANY SOAP ENVELOPE IN THE HTTP RESPONSE.THIS CODE SAMPLE PRODUCES THE ERROR:    BYTE[] BUF;    JAVA.IO.BYTEARRAYINPUTSTREAM INSTR;    ORG.APACHE.AXIS.MESSAGE MSG;    JAVAX.XML.SOAP.SOAPENVELOPE ENV;    BUF = (NEW STRING()).GETBYTES();    INSTR = NEW JAVA.IO.BYTEARRAYINPUTSTREAM(BUF);    MSG = NEW ORG.APACHE.AXIS.MESSAGE(INSTR);    TRY       ENV = MSG.GETSOAPENVELOPE();     CATCH (EXCEPTION E)       LOG.ERROR((NEW UTILITIES()).STACKTRACE(E));        SYSTEM.EXIT(1);HERE IS THE STACK TRACE:ORG.XML.SAX.SAXPARSEEXCEPTION: PREMATURE END OF FILE.TAT ORG.APACHE.AXIS.AXISFAULT.MAKEFAULT(AXISFAULT.JAVA:129)TAT ORG.APACHE.AXIS.SOAPPART.GETASSOAPENVELOPE(SOAPPART.JAVA:543)TAT ORG.APACHE.AXIS.MESSAGE.GETSOAPENVELOPE(MESSAGE.JAVA:376)TAT COM.JAVECTOR.CHAP6.WSMF.TESTRELIABLECLIENT.MAIN(TESTRELIABLECLIENT.JAVA:71)TAT SUN.REFLECT.NATIVEMETHODACCESSORIMPL.INVOKE0(NATIVE METHOD)TAT SUN.REFLECT.NATIVEMETHODACCESSORIMPL.INVOKE(NATIVEMETHODACCESSORIMPL.JAVA:39)TAT SUN.REFLECT.DELEGATINGMETHODACCESSORIMPL.INVOKE(DELEGATINGMETHODACCESSORIMPL.JAVA:25)TAT JAVA.LANG.REFLECT.METHOD.INVOKE(METHOD.JAVA:324)TAT ORG.APACHE.TOOLS.ANT.TASKDEFS.EXECUTEJAVA.RUN(EXECUTEJAVA.JAVA:208)TAT ORG.APACHE.TOOLS.ANT.TASKDEFS.EXECUTEJAVA.EXECUTE(EXECUTEJAVA.JAVA:150)TAT ORG.APACHE.TOOLS.ANT.TASKDEFS.JAVA.RUN(JAVA.JAVA:443)TAT ORG.APACHE.TOOLS.ANT.TASKDEFS.JAVA.EXECUTEJAVA(JAVA.JAVA:163)TAT ORG.APACHE.TOOLS.ANT.TASKDEFS.JAVA.EXECUTE(JAVA.JAVA:108)TAT ORG.APACHE.TOOLS.ANT.TASK.PERFORM(TASK.JAVA:341)TAT ORG.APACHE.TOOLS.ANT.TARGET.EXECUTE(TARGET.JAVA:309)TAT ORG.APACHE.TOOLS.ANT.TARGET.PERFORMTASKS(TARGET.JAVA:336)TAT ORG.APACHE.TOOLS.ANT.PROJECT.EXECUTETARGET(PROJECT.JAVA:1339)TAT ORG.APACHE.TOOLS.ANT.PROJECT.EXECUTETARGETS(PROJECT.JAVA:1255)TAT ORG.APACHE.TOOLS.ANT.MAIN.RUNBUILD(MAIN.JAVA:609)TAT ORG.APACHE.TOOLS.ANT.MAIN.START(MAIN.JAVA:196)TAT ORG.APACHE.TOOLS.ANT.MAIN.MAIN(MAIN.JAVA:235)CAUSED BY: ORG.XML.SAX.SAXPARSEEXCEPTION: PREMATURE END OF FILE.TAT ORG.APACHE.XERCES.PARSERS.ABSTRACTSAXPARSER.PARSE(ABSTRACTSAXPARSER.JAVA:1139)TAT JAVAX.XML.PARSERS.SAXPARSER.PARSE(SAXPARSER.JAVA:345)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.PARSE(DESERIALIZATIONCONTEXTIMPL.JAVA:242)TAT ORG.APACHE.AXIS.SOAPPART.GETASSOAPENVELOPE(SOAPPART.JAVA:538)T... 19 MORE","SUMMARY":"MESSAGE.GETSOAPENVELOPE() FAILS WHEN MESSAGE IS CONSTRUCTED FROM EMPTY INPUTSTREAM","CLASS":1}
{"ID_DEFECT":"AXIS-1184","DESCRIPTION":"THE ORG.APACHE.AXIS.CLIENT.CALL DUMPS THE SOAP REQUEST TO BE SENT TO THE LOGS,IF THE DEBUG LEVEL HAS BEEN ENABLED.  IN OTHER WORDS, THE SOAP REQUEST MUST BESERIALIZED (FOR THE FIRST TIME).   THE DEBUG DUMP OCCURS APPROXIMATELY ON LINE2655 IN CALL.JAVA BY THE WAY.  HOWEVER, THE ACTUAL TRANSPORT (HTTP IN THIS CASE)ALSO SERIALIZES THE SOAP REQUEST (NOW FOR THE SECOND TIME DURING A SINGLE SOAPCALL).  UNFORTUNATELY, IT SEEMS THAT ONLY THE FIRST SERIALIZATION PRODUCES ALEGITIMATE SOAP REQUEST; IN THE SECOND RUN, USER SPECIFIED ATTRIBUTES INSIDESOAP HEADERS GET ADDED _TWICE_ TO THE PRODUCED XML! FOR EXAMPLE:<SOAPENV:HEADER>  <NS1:HEADERXYZ SOAPENV:ACTOR=HTTP:SCHEMAS.XMLSOAP.ORGSOAPACTORNEXT SOAPENV:MUSTUNDERSTAND=0 MYERROR=FALSE MYERROR=FALSE  <-- TWICE!XMLNS:NS1=HTTP:FOOBAR.ORGFOO#>FOO  <NS1:HEADERXYZ><SOAPENV:HEADER>A QUICK LOOK TO THE CODE SUGGESTS THATORG.APACHE.AXIS.ENCODING.SER.BEANSERIALIZERS GETOBJECTATTRIBUTES() MODIFIES THEATTRIBUTES INSTANCE SERIALIZE() GETS BY ADDING THE ATTRIBUTES OF THE VALUEOBJECT THERE _REGARDLESS_ WHETHER THE ATTRIBUTES ARE ALREADY INSIDE THEATTRIBUTES INSTANCE.  MOREOVER, THE ATTRIBUTES INSTANCE IS THE VERY SAME IN BOTHSERIALIZATION RUNS, AS ITS STORED INTO THE SAME MESSAGEELEMENT INSTANCE. AS ARESULT, ONLY THE FIRST SERIALIZATION RESULTS IN A VALID OUTPUT.CVS SNAPSHOT CHECKED OUT ON 20040113 WAS USED.","SUMMARY":"SERIALIZATION OF HEADERS IN A SOAP REQUEST FAILS IF DEBUGS ARE ENABLED","CLASS":1}
{"ID_DEFECT":"AXIS-1185","DESCRIPTION":"THE METHOD GETDATASIZE() IN ORG.APACHE.AXIS.ATTACHMENTS.DIMEBODYPART THROWS ANIOEXCEPTION WHEN THE RESET() IS CALLED ON THE INPUTSTREAM BECAUSE NO MARK HASBEEN SET.","SUMMARY":"IOEXCEPTION IN SENDING A DIME ATTACHMENT","CLASS":1}
{"ID_DEFECT":"AXIS-1191","DESCRIPTION":"THE CURRENT VERSION OF JAX-RPC SAYS:THERE ARE A NUMBER OF CASES IN WHICH A BUILT-IN SIMPLE XML DATA TYPE MUST BEMAPPED TO THE CORRESPONDING JAVA WRAPPER CLASS FOR THE JAVA PRIMITIV TYPE:* AN ELEMENT DECLARATION WITH THE NILLABLE ATTRIBUTE SET TO TRUE* AN ELEMENT DECLARATION WITH THE MINOCCURS ATTRIBUTE SET TO 0 (ZERO)  AND THE MAXOCCURS ATTRIBUTE SET TO 1 (ONE)OR ABSENT;* AN ATTRIBUTE DECLARATION WITH THE USE ATTRIBUTE SET TO OPTIONAL OR  ABSENT AND CARRYING NEITHER THE DEFAULT NOR THE FIXED ATTRIBUTE;HOWEVER, THIS DOESNT SEEM TO BE THE APPROACH THAT AXIS TAKES. WHEN THE GLOBAL ELEMENT DOEXAMPLE IS REFERENCED, WSDL2JAVA MAPS THE LOCAL ELEMENT VALUE2 TO THE PRIMITIVE TYPE LONG, INSTEAD OF MAPPING IT TO JAVA.LANG.LONG, AS IT SHOULD BE.  <ELEMENT NAME=OUT TYPE=XSD:LONG>  <ELEMENT NAME=DOEXAMPLE>    <COMPLEXTYPE>      <SEQUENCE>        <ELEMENT NAME=VALUE1 NILLABLE=TRUE MAXOCCURS=UNBOUNDEDTYPE=XSD:BASE64BINARY>        <ELEMENT NAME=VALUE2 MINOCCURS=0 MAXOCCURS=1REF=TYPENS:OUT>      <SEQUENCE>    <COMPLEXTYPE>  <ELEMENT>WHEN THE ATTACHED WSDL DOCUMENT IS FED TO WSDL2JAVA, THE FOLLOWING SERVICE ENDPOINT INTERFACE IS GENERATED:PUBLIC INTERFACE EXAMPLESOAP EXTENDS JAVA.RMI.REMOTE     PUBLIC VOID DOEXAMPLE(BYTE[][] VALUE1,                          LONG OUT,                          JAVAX.XML.RPC.HOLDERS.BYTEARRAYHOLDER RET,                          JAVAX.XML.RPC.HOLDERS.LONGHOLDER OUT2)    THROWS JAVA.RMI.REMOTEEXCEPTION;WHEREAS THE PROPER MAPPING IS:PUBLIC INTERFACE EXAMPLESOAP EXTENDS JAVA.RMI.REMOTE     PUBLIC VOID DOEXAMPLE(BYTE[][] VALUE1,                          JAVA.LANG.LONG OUT,                          JAVAX.XML.RPC.HOLDERS.BYTEARRAYHOLDER RET,                          JAVAX.XML.RPC.HOLDERS.LONGWRAPPERHOLDER OUT2)    THROWS JAVA.RMI.REMOTEEXCEPTION;","SUMMARY":"INCORRECT MAPPING OF LOCAL ELEMENTS WITH MINOCCURS=0 MAXOCCURS=1","CLASS":1}
{"ID_DEFECT":"AXIS-1192","DESCRIPTION":"WHEN TRIED TO DESERIALIZE A DATE OF JAVA.SQL.DATE THIS ERROR OCCURES.NOTE. IN THE CLIENT_CONFIG.WSDD AND IN THE SERVER_CONFIG.WSDD THE TYPE MAPPING FOR THE DATE IS GIVEN AS <TYPEMAPPING ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING SERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.DATESERIALIZERFACTORY DESERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.DATEDESERIALIZERFACTORY TYPE=JAVA:JAVA.SQL.DATE QNAME=NS16:SQLDATE XMLNS:NS16=HTTP:WWW.TESTER.COM>AND THE SERIALIZATION WORKS FINE, BELOW IS A PART OF THE GENERATED MESSAGE<CREATIONDATE XSI:TYPE=XSD:DATE>2003-08-05<CREATIONDATE><DELETEENABLED XSI:TYPE=XSD:BOOLEAN>TRUE<DELETEENABLED><DIRTY XSI:TYPE=XSD:BOOLEAN>TRUE<DIRTY><DISTRIBUTIONCENTERID XSI:TYPE=XSD:STRING XSI:NIL=TRUE><EMAIL XSI:TYPE=XSD:STRING>EMAIL@1.COM<EMAIL>THE STACKTRACE2004-01-17 01:36:29,290 ERROR ORG.APACHE.AXIS.ENCODING.SER.BEANPROPERTYTARGET  - COULD NOT CONVERT JAVA.UTIL.DATE TO BEAN FIELD CREATIONDATE, TYPE JAVA.SQL.DATE2004-01-17 01:36:29,290 ERROR ORG.APACHE.AXIS.CLIENT.CALL  - EXCEPTION:JAVA.LANG.ILLEGALARGUMENTEXCEPTION: ARGUMENT TYPE MISMATCHTAT ORG.APACHE.AXIS.ENCODING.SER.BEANPROPERTYTARGET.SET(BEANPROPERTYTARGET.JAVA:181)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZERIMPL.VALUECOMPLETE(DESERIALIZERIMPL.JAVA:282)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZERIMPL.ENDELEMENT(DESERIALIZERIMPL.JAVA:541)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.ENDELEMENT(DESERIALIZATIONCONTEXTIMPL.JAVA:1015)TAT ORG.APACHE.AXIS.MESSAGE.SAX2EVENTRECORDER.REPLAY(SAX2EVENTRECORDER.JAVA:204)TAT ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.PUBLISHTOHANDLER(MESSAGEELEMENT.JAVA:722)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZERIMPL.STARTELEMENT(DESERIALIZERIMPL.JAVA:404)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.STARTELEMENT(DESERIALIZATIONCONTEXTIMPL.JAVA:976)TAT ORG.APACHE.AXIS.MESSAGE.SAX2EVENTRECORDER.REPLAY(SAX2EVENTRECORDER.JAVA:198)TAT ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.PUBLISHTOHANDLER(MESSAGEELEMENT.JAVA:722)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZERIMPL.STARTELEMENT(DESERIALIZERIMPL.JAVA:404)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.STARTELEMENT(DESERIALIZATIONCONTEXTIMPL.JAVA:976)TAT ORG.APACHE.AXIS.MESSAGE.SAX2EVENTRECORDER.REPLAY(SAX2EVENTRECORDER.JAVA:198)TAT ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.PUBLISHTOHANDLER(MESSAGEELEMENT.JAVA:722)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZERIMPL.STARTELEMENT(DESERIALIZERIMPL.JAVA:404)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.STARTELEMENT(DESERIALIZATIONCONTEXTIMPL.JAVA:976)TAT ORG.APACHE.AXIS.MESSAGE.SAX2EVENTRECORDER.REPLAY(SAX2EVENTRECORDER.JAVA:198)TAT ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.PUBLISHTOHANDLER(MESSAGEELEMENT.JAVA:722)TAT ORG.APACHE.AXIS.MESSAGE.RPCELEMENT.DESERIALIZE(RPCELEMENT.JAVA:323)TAT ORG.APACHE.AXIS.MESSAGE.RPCELEMENT.GETPARAMS(RPCELEMENT.JAVA:347)TAT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2272)TAT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2171)TAT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2196)","SUMMARY":"JAVA.SQL.DATE DESERIALIZATION PROBLEM","CLASS":1}
{"ID_DEFECT":"AXIS-1203","DESCRIPTION":"I REDIRECT THE INPUTSTREAM I GET FROM URLCONNECTION.GETINPUTSTREAM() TOJAVAX.XML.SOAP.SOAPMESSAGE.CREATEATTACHMENTPART() AS IN THE EXAMPLE BELOW.    FINAL SOAPMESSAGE SOAPMSG = MSGCONTEXT.GETRESPONSEMESSAGE();    FINAL URL FILEURL = NEW URL(FILESERVERURLCONTEXT, SPEC);    FINAL URLCONNECTION CONNECTION = FILEURL.OPENCONNECTION();    CONNECTION.CONNECT();    FINAL INPUTSTREAM FILESTREAM = CONNECTION.GETINPUTSTREAM();    FINAL JAVAX.XML.SOAP.ATTACHMENTPART ATTACHPART =SOAPMSG.CREATEATTACHMENTPART(FILESTREAM,        APPLICATIONOCTET-STREAM);    SOAPMSG.ADDATTACHMENTPART(ATTACHPART);FOR SOME REASON, CREATEATTACHMENTPART OR ADDATTACHMENTPART (PROBABLY THE FORMER)MESS UP LARGER ATTACHMENTS BY REPLACING PARTS OF THE CONTENT WITH NULL-BYTES.FOR EXAMPLE, THE FIRST 2920 BYTES MAY COME OUT CORRECT, AND THEN A COUPLEHUNDRED OR THOUSAND BYTES ARE REPLACED BY NULL VALUES, AFTER WHICH NON-NULLBYTES APPEAR AGAIN.HOWEVER, THIS ONLY OCCURS WHEN DIRECTLY FEEDING THE INPUTSTREAM FROMURLCONNECTION.GETINPUTSTREAM() TO CREATEATTACHMENTPART(). IF I FIRST STORE THEURLCONNECTIONS INPUTSTREAM IN A FILE AND THEN FEED THE FILE TOCREATEATTACHMENTPART(),  THE PROBLEM DISAPPEARS.THIS PROBLEM ALSO DEPENDS ON THE FILE SIZE. FOR EXAMPLE, A 14KB FILE AND A FEWSMALLER FILES CAME THROUGH ALRIGHT, BUT A 153KB AND A 61KB FILES WERE BROKEN.","SUMMARY":"ATTACHMENTS: CREATEATTACHMENTPART BROKEN (OR SETCONTENT)","CLASS":1}
{"ID_DEFECT":"AXIS-1217","DESCRIPTION":"THE AXIS ENGINE IGNORES THE QUALIFYING NAMESPACE OF AN OPERATION WHEN IT PROCESSES THE OPERATION.  FOR EXAMPLE, THE CLIENT CODE OF SAMPLESUSERGUIDEEXAMPLE3 SETS THE OPERATION NAME TO SERVICEMETHOD QUALIFIED BY THE NAMESPACE MYSERVICE.  HOWEVER, ACCORDING TO THE WSDL FILE, THE CORRECT NAMESPACE FOR QUALIFYING THE OPERATION IS HTTP:EXAMPLE3.USERGUIDE.SAMPLES.  TO CORRECTLY FOLLOW THE WSDL SPECIFICATION, AXIS SHOULD REJECT THE REQUEST SINCE IT IS NOT QUALIFIED BY THE APPROPRIATE NAMESPACE.","SUMMARY":"AXIS ACCEPTS CLIENT REQUESTS FOR OPERATIONS THAT ARE QUALIFIED WITH THE INCORRECT NAMESPACE","CLASS":1}
{"ID_DEFECT":"AXIS-1227","DESCRIPTION":"JBOSS IS INFAMOUS FOR ITS UNIFIEDCLASSLOADER, WHICH DOESNT SEEM TO BEHAVE LIKEA TYPICAL J2EE CLASSLOADER.  IVE TRIED NUMEROUS JBOSS CONFIGURATIONS, BUT NONEOF THEM SEEM TO DO EVERYTHING THAT I NEED.IVE CHECKED THEIR BUG REPORTS AND THEY SEEM TO THINK ITS A PROBLEM WITH THEAPACHE GUYS CACHING CLASSES.I AM DEPLOYING SESSION BEANS IN AN  EAR FILE, AND USING THE JAVA:EJB PROVIDER TOINVOKE THEM AS WEB SERVICES.  THIS WORKS GREAT ON A FRESH DEPLOYMENT WITH ANEWLY STARTED SERVER, BUT WHEN I REDEPLOY, I FREQUENTLY HAVE PROBLEMS WITHNULLPOINTEREXCEPTIONS.DOES ANYONE HAVE A THOUGHT OR SUGGESTION ABOUT THIS PROBLEM?  I WOULD BE WILLINGTO HELP OUT WITH TESTING IN JBOSS.THANKS FOR ANY HELP OR INFO THAT YOU CAN PROVIDE!JAVA.LANG.NULLPOINTEREXCEPTION    ATORG.JBOSS.MX.LOADING.UNIFIEDCLASSLOADER.FINDRESOURCES(UNIFIEDCLASSLOADER.JAVA:374)    AT JAVA.LANG.CLASSLOADER.GETRESOURCES(CLASSLOADER.JAVA:825)    AT JAVA.LANG.CLASSLOADER.GETRESOURCES(CLASSLOADER.JAVA:821)    AT JAVA.LANG.CLASSLOADER.GETRESOURCES(CLASSLOADER.JAVA:821)    AT ORG.APACHE.COMMONS.DISCOVERY.JDK.JDK12HOOKS.GETRESOURCES(JDK12HOOKS.JAVA:150)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.DISCOVERRESOURCES$1.GETNEXTRESOURCES(DISCOVERRESOURCES.JAVA:153)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.DISCOVERRESOURCES$1.GETNEXTRESOURCE(DISCOVERRESOURCES.JAVA:129)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.DISCOVERRESOURCES$1.HASNEXT(DISCOVERRESOURCES.JAVA:116)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.NAMES.DISCOVERNAMESINFILE$1.GETNEXTCLASSNAMES(DISCOVERNAMESINFILE.JAVA:186)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.NAMES.DISCOVERNAMESINFILE$1.GETNEXTCLASSNAME(DISCOVERNAMESINFILE.JAVA:170)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.NAMES.DISCOVERNAMESINFILE$1.HASNEXT(DISCOVERNAMESINFILE.JAVA:157)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.NAMES.NAMEDISCOVERERS$1.GETNEXTITERATOR(NAMEDISCOVERERS.JAVA:143)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.NAMES.NAMEDISCOVERERS$1.HASNEXT(NAMEDISCOVERERS.JAVA:126)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.CLASSES.RESOURCECLASSDISCOVERIMPL$1.GETNEXTRESOURCE(RESOURCECLASSDISCOVERIMPL.JAVA:159)    ATORG.APACHE.COMMONS.DISCOVERY.RESOURCE.CLASSES.RESOURCECLASSDISCOVERIMPL$1.HASNEXT(RESOURCECLASSDISCOVERIMPL.JAVA:147)    ATORG.APACHE.AXIS.CONFIGURATION.ENGINECONFIGURATIONFACTORYFINDER$1.RUN(ENGINECONFIGURATIONFACTORYFINDER.JAVA:159)    AT JAVA.SECURITY.ACCESSCONTROLLER.DOPRIVILEGED(NATIVE METHOD)    ATORG.APACHE.AXIS.CONFIGURATION.ENGINECONFIGURATIONFACTORYFINDER.NEWFACTORY(ENGINECONFIGURATIONFACTORYFINDER.JAVA:152)    ATORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLETBASE.GETENGINEENVIRONMENT(AXISSERVLETBASE.JAVA:285)    ATORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLETBASE.GETENGINE(AXISSERVLETBASE.JAVA:208)    ATORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLETBASE.GETENGINE(AXISSERVLETBASE.JAVA:187)    AT ORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLET.DOPOST(AXISSERVLET.JAVA:785)    AT JAVAX.SERVLET.HTTP.HTTPSERVLET.SERVICE(HTTPSERVLET.JAVA:760)","SUMMARY":"NULLPOINTEREXCEPTIONS FOR UPDATED CLASSES FROM JBOSS CLASSLOADER.","CLASS":1}
{"ID_DEFECT":"AXIS-1240","DESCRIPTION":"THIS ENHANCEMENT REQUEST AND POSTED SOLUTION HAS TO DO WITH THE DESIRE FOR ASTRAIGHT FORWARD WAY TO DELETIVELY GENERATE CERTAIN CLASSES FROM A WSDL FILE, SOTHAT WE CAN USE EXTERNALLY GENERATED BEANS WITH OUR GENERATED STATICSTUBSSKELETION CODE.ONE HAS THE ABILITY TO CREATE ANY NUMBER OF NAMESPACES WITHIN THE WSDL ANDASSIGN EACH NAMESPACE A SEPARATE JAVA PACKAGE. THE CURRENT APPROACH IS TO HAVETHE CODE GENERATION GENERATE ALL OCDE TO A TEMPROARY DIRECTORY AND THEN COPY OUTTHE CLASSES THAT ARE NEEDED AND LEAVE BEHIND THE CLASSES THAT ARE EXTERNALLYGENERATED.THE REQUESTEDSUPPLIED APPROACH ADDS A FEW ADDITIONAL OPTIONS TO THE WSDL TOJAVA GENERATION. AN NSEXCLUDE OPTION SPECIFICALLY EXCLUDES NAMED NAMESPACES FROMBEING GENERATED AND A NSINCLUDE OPTION SPECIFICALLY INCLUDES NAMED NAMESPACES(DEFAULTS TO ALL THAT WERE NOT EXCLUDED) IN THE GENERATED CODE.THIS MIGHT HAVE BEEN DONE AS A CUSTOM JAVAGENERATORFACTORY EXCEDPT THAT THECURRENT DESIGN OF THE WSDL TO JAVA GENERATION DOES NOT ALLOW PROPERTIES TO BEDEFINEDPASSED TO THE FACTORY. A THIRD PARAMETER WAS ADDED TO THE CANDIDATESOLUTION WHICH ALLOWS AN UNDEFINED NAMEVALUE SET OF PROPERTIES TO BE ASSIGNEDTO THE EMITTER AND USABLE BY THE CUSTOM FACTORY.","SUMMARY":"ENHANCE WSDL2JAVA GENERATION TO SELECTIVELY GENERATE CLASSES","CLASS":1}
{"ID_DEFECT":"AXIS-1242","DESCRIPTION":"WHEN USING JMS TRANSPORT, THE MIME TYPE OF ATTACHMENTS IS NOT PASSED FROMTHE JMS BYTESMESSAGE TO THE MESSAGE CREATED IN SIMPLEJMSWORKER. THEFOLLOWING PATCH TO JMSSENDER SETS A CONTENTTYPE PROPERTY IN THE SENDPROPERTIES OF THE OUTGOING MESSAGE. WHEN THE BYTESMESSAGE IS RECEIVEDBY THE SIMPLEJMSWORKER, IT LOOKS FOR THE CONTENTTYPE PROPERTY AND IF SET,CREATES A NEW MESSAGE WITH THE CONTENTTYPE SET. THIS CHANGE ALLOWSMESSAGES WITH OR WITHOUT ATTACHMENTS TO BE PARSED CORRECTLY.TOM NELSONRABA TECHNOLOGIESINDEX: JMSSENDER.JAVA===================================================================RCS FILE: HOMECVSPUBLICWS-AXISJAVASRCORGAPACHEAXISTRANSPORTJMSJMSSENDER.JAVA,VRETRIEVING REVISION 1.7DIFF -U -P -R1.7 JMSSENDER.JAVA--- JMSSENDER.JAVAT25 FEB 2004 14:02:46 -0000T1.7+++ JMSSENDER.JAVAT27 FEB 2004 14:30:18 -0000@@ -20,6 +20,7 @@ IMPORT ORG.APACHE.AXIS.AXISFAULT; IMPORT ORG.APACHE.AXIS.MESSAGE; IMPORT ORG.APACHE.AXIS.MESSAGECONTEXT; IMPORT ORG.APACHE.AXIS.HANDLERS.BASICHANDLER;+IMPORT ORG.APACHE.AXIS.ATTACHMENTS.ATTACHMENTS;  IMPORT JAVAX.JMS.DESTINATION; IMPORT JAVA.IO.BYTEARRAYOUTPUTSTREAM;@@ -69,6 +70,21 @@ PUBLIC CLASS JMSSENDER EXTENDS BASICHAND             MSGCONTEXT.GETREQUESTMESSAGE().WRITETO(OUT);              HASHMAP PROPS = CREATESENDPROPERTIES(MSGCONTEXT);++             IF THE REQUEST MESSAGE CONTAINS ATTACHMENTS, SET+             A CONTENTTYPE PROPERTY TO GO IN THE OUTGOING MESSAGE HEADER+            STRING RET = NULL;+            MESSAGE MESSAGE = MSGCONTEXT.GETREQUESTMESSAGE();+            ATTACHMENTS MATTACHMENTS = MESSAGE.GETATTACHMENTSIMPL();+            IF (MATTACHMENTS != NULL && 0 != MATTACHMENTS.GETATTACHMENTCOUNT()) +            +                STRING CONTENTTYPE = MATTACHMENTS.GETCONTENTTYPE();+                IF(CONTENTTYPE != NULL && !CONTENTTYPE.TRIM().EQUALS()) +                +                    PROPS.PUT(CONTENTTYPE, CONTENTTYPE);+                +            +             BOOLEAN WAITFORRESPONSE = TRUE;             IF(MSGCONTEXT.CONTAINSPROPERTY(JMSCONSTANTS.WAIT_FOR_RESPONSE))                 WAITFORRESPONSE =INDEX: SIMPLEJMSWORKER.JAVA===================================================================RCS FILE: HOMECVSPUBLICWS-AXISJAVASRCORGAPACHEAXISTRANSPORTJMSSIMPLEJMSWORKER.JAVA,VRETRIEVING REVISION 1.6DIFF -U -P -R1.6 SIMPLEJMSWORKER.JAVA--- SIMPLEJMSWORKER.JAVAT25 FEB 2004 14:02:46 -0000T1.6+++ SIMPLEJMSWORKER.JAVAT27 FEB 2004 14:30:18 -0000@@ -80,7 +80,29 @@ PUBLIC CLASS SIMPLEJMSWORKER IMPLEMENTS            CREATE THE MSG AND CONTEXT AND INVOKE THE SERVER         AXISSERVER SERVER = SIMPLEJMSLISTENER.GETAXISSERVER();-        MESSAGE MSG = NEW MESSAGE(IN);++         IF THE INCOMING MESSAGE HAS A CONTENTTYPE SET,+         PASS IT TO MY NEW MESSAGE+        STRING CONTENTTYPE = NULL;+        TRY +         +            CONTENTTYPE = MESSAGE.GETSTRINGPROPERTY(CONTENTTYPE);+         +        CATCH(EXCEPTION E) +         +            E.PRINTSTACKTRACE();+        ++        MESSAGE MSG = NULL;+        IF(CONTENTTYPE != NULL && !CONTENTTYPE.TRIM().EQUALS()) +        +            MSG = NEW MESSAGE(IN, TRUE, CONTENTTYPE, NULL);+         +        ELSE +        +            MSG = NEW MESSAGE(IN);+        +         MESSAGECONTEXT  MSGCONTEXT = NEW MESSAGECONTEXT(SERVER);         MSGCONTEXT.SETREQUESTMESSAGE( MSG );         TRY","SUMMARY":"MULTIPART MESSAGES USING JMS TRANSPORT LACK A CONTENTTYPE SETTING AND FAIL TO PARSE","CLASS":1}
{"ID_DEFECT":"AXIS-1246","DESCRIPTION":"WHEN SENDING AN ORG.APACHE.AXIS.MESSAGE WITH A JAVAX.ACTIVATION.DATAHANDLERATTACHMENT, THE ORG.APACHE.AXIS.ATTACHMENTS.ATTACHMENTSIMPL.CREATEATTACHMENT() CALL IS DEFERRED UNTIL THE ATTACHMENTS AREFIRST SERIALIZED. THE PROBLEM IS THAT, WHENORG.APACHE.AXIS.MESSAGE.WRITETO() IS FIRST CALLED, IT DETERMINES IF ATTACHMENTSEXIST BY CALLING ATTACHMENTS.GETATTACHMENTCOUNT(), AND COMPARING TO ZERO.UNFORTUNATELY, AT THAT TIME, THE ATTACHMENTS HAVE NOT YET BEEN ADDED.I PROPOSE THAT THE ORG.APACHE.AXIS.ATTACHMENTS.ATTACHMENTSIMPL.GETATTACHMENTCOUNT() METHOD BE MODIFIED SO THAT IT INDIRECTLY CAUSES THE ATTACHMENTS TO BE ADDED. THEMODIFICATION WOULD FOLLOW THE EXAMPLE IN SEVERAL OTHER ATTACHMENTSIMPL METHODS (GETCONTENTLENGTH(), WRITECONTENTTOSTREAM(), GETCONTENTTYPE()) WHERE THE MULTIREF OBJECT IS LAZILY CREATED, AND SOAPPART.GETASSTRING() IS CALLED AS ANARGUMENT TO MIMEUTILS.CREATEMP().THIS PROBLEM SHOWS UP WHEN USING JMS TRANSPORT IF THE LOG LEVEL ISSET HIGHER THAN DEBUG BECAUSE A DEBUG CALL CAUSES THE MESSAGE TO BE SERIALIZED ONCE TO A LOG FILE (THUS ADDING THE ATTACHMENTS) BEFORE THE MESSAGE IS SERIALIZEDAND SENT TO THE RECIPIENT. IN THE HTTP CASE, I BELIEVE THAT THIS PROBLEM IS MASKED BECAUSE OF ACALL TO GETCONTENTLENGTH() PRIOR TO THE MESSAGE.WRITETO CALL. AS NOTED ABOVE, THE GETCONTENTLENGTH() CALL INDIRECTLY CAUSES THE ATTACHMENTS TO BE ADDED.I WILL ATTACH A PATCH FILE FOR THE ATTACHMENTSIMPL CLASSTOM NELSONRABA TECHMOLOGIES","SUMMARY":"ATTACHMENTSIMPL.GETATTACHMENTCOUNT() MAY REPORT 0 ATTACHMENTS FOR MESSAGE THAT HAS >0 ATTACHMENTS","CLASS":1}
{"ID_DEFECT":"AXIS-1247","DESCRIPTION":"WHEN YOU RUN THE SELF CONTAINED SIMPLEAXISSERVER SERVER YOU GET A START PAGE THAT LISTS THE SERVICES. BUT THE URLS TO EACH SERVICE IS BROKEN, AS THE URL IS WRONGE.G. HTTP:LOCALHOST:5050 POINTS TO HTTP:LOCALHOST:5050SERVICESVERSION?WSDLINSTEAD OF HTTP:LOCALHOST:5050AXISSERVICESVERSION?WSDL","SUMMARY":"SIMPLE AXIS SERVER LINKS FROM FRONT PAGE TO WSDL ARE WRONG","CLASS":1}
{"ID_DEFECT":"AXIS-1249","DESCRIPTION":"1. STARTED WITH WSDL AND XML SCHEMAS.  THE RELEVANT PART OF THE XML SCHEMA IS LISTED AS FOLLOWS (NOTE THE XS:LANGUAGE DEFN):<XS:COMPLEXTYPE NAME=LANGUAGECODELIST_TYPE>        <XS:ANNOTATION>            <XS:DOCUMENTATION>AN LIST OF LANGAUGE CODES.<XS:DOCUMENTATION>        <XS:ANNOTATION>        <XS:SEQUENCE>            <XS:ELEMENT NAME=LANGUAGECODE TYPE=XS:LANGUAGE MAXOCCURS=UNBOUNDED>        <XS:SEQUENCE>    <XS:COMPLEXTYPE>2. THEN USING AXIS WSDL2JAVA UTILITY CREATED THE JAVA CODE.  THE JAVA CLASS HAD THE FOLLOWING RELEVANT CODE:PRIVATE LANGUAGE[] LANGUAGECODE;3. NOW WHEN THE CLIENT ACCESSES THE WSDL USING AXISSERVLET TO GENERATE THE CLIENT JAVA CODE THEY GET AN ERROR AS FOLLOWS:UNDEFINED TYPE - LANG.IN LOOKING AT THE WSDL THAT IS BEING GENERATED IT LOOKS AS FOLLOWS:- <COMPLEXTYPE NAME=LANGUAGECODELIST_TYPE>- <SEQUENCE>  <ELEMENT MAXOCCURS=UNBOUNDED NAME=LANGUAGECODE NILLABLE=TRUE TYPE=XSD:LANG >   <SEQUENCE>  <COMPLEXTYPE>","SUMMARY":"ORG.APACHE.AXIS.TYPES.LANGUAGE TRANSLATING TO UNKNOWN TYPE LANG IN WSDL","CLASS":1}
{"ID_DEFECT":"AXIS-1250","DESCRIPTION":"HI:WHEN A SOAPSERVICE RECEIVES A SOAPFAULTEXCEPTION WHEN INVOKING IN THE REQUEST HANDLER CHAIN, LINE 408 - 500 OF SOAPSERVICE (ORG.APACHE.AXIS.HANDLERS.SOAP.SOAPSERVICE) HAVE IT AS:    CATCH (SOAPFAULTEXCEPTION E)             MSGCONTEXT.SETPASTPIVOT(TRUE);            THROW NEW AXISFAULT(E.GETMESSAGE());    ALL THE SOAP FAULT SPECIFIC INFORMATION IN THE SOAPFAULTEXEPTION GOT LOST EXCEPT THE MESSAGE. LINE 500 SHOULD BE CHANGED TO:             THROW AXISFAULT.MAKEFAULT(E);WHICH WILL CORRECTLY POPULATE THE SOAP FAULT RETURNED TO THE CLIENT.THANKS,--JIN","SUMMARY":"SOAPSERVICE MAKE AXISFAULT FROM SOAPFAULTEXCEPTION","CLASS":1}
{"ID_DEFECT":"AXIS-1251","DESCRIPTION":"WHEN USING HTTP 1.1 TRANSPORT AND THE SERVER RESPONSE WITH A CHUNKED RESPONSE I GET SOME INVOLVED RESPONSE ABOUT A LACK OF ROCUMENT ELEMENT.  THE CHUNKING MARKERS ARE NOTE BEING PROCESSED AND BEING INCLUDED IN THE HTTP RESPONSE.THIS IS BECAUSE THE HEADER IS PALCED IN THE CACHE AS LOWER CASE BUT THE KEY TO FETCH IT IS MIXED CASE.PATCH IS ATTACHED","SUMMARY":"TRANSFER-ENCODING NOT PRPERLY DETECTED ON A RESPONSE STREAM","CLASS":1}
{"ID_DEFECT":"AXIS-1252","DESCRIPTION":"WHEN ADDING THE HTTP 1.1 OPTION TO THE SERVICE PROPERTIES THE USER IS UNABLE TO ADD THE EXPECT 100 CONTINUE OPTION WITOUT ALSO ADDING THE CONTENT-TRANSFER CHUNKED AS WELL.THE HEADERS ARE NOT OUTPUT BEFORE THE STREAM IS FLUSHED UNLESS CHUNKED IS ALSO TURNED ON.  PATCH TO FOLLOW.","SUMMARY":"USING HTTP1.1 ENABLEING 100_CONTINUE ALONE FAILS WITHOUT CHUNKED","CLASS":1}
{"ID_DEFECT":"AXIS-1257","DESCRIPTION":"AXIS-SNAPSHOT.JAR AS OF JAN 30 2004 PRODUCES THE FOLLOWING EXCEPTION. A CURRENT CVS VERSION OF MAR 21 2004 PRODUCES THE SAME EXCEPTIONS. I JUST DONT WANT TO REVERT MY WHOLE INSTALLATION TO CVS. THE POSITION WHERE THE EXCEPTION IS RISEN DIFFERS SLIGHTLY. FOR YOUR CONVENIENCE I  HAVE INCLUDED THE CODE SNIPPETS, WHERE THE EXCEPTION IS RISEN.FAILURE TRYING TO GET THE CALL OBJECT; NESTED EXCEPTION IS:        JAVA.LANG.NULLPOINTEREXCEPTIONAXISFAULT FAULTCODE: HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPESERVER.GENERALEXCEPTION FAULTSUBCODE: FAULTSTRING: FAILURE TRYING TO GET THE CALL OBJECT; NESTED EXCEPTION IS:        JAVA.LANG.NULLPOINTEREXCEPTION FAULTACTOR: FAULTNODE: FAULTDETAIL:FAILURE TRYING TO GET THE CALL OBJECT; NESTED EXCEPTION IS:        JAVA.LANG.NULLPOINTEREXCEPTION        ATORG.GGF.WWW.NAMESPACES.WS_AGREEMENT.RESPONDERSOAPBINDINGSTUB.CREATECALL(RESPONDERSOAPBINDINGSTUB.JAVA:586)        ATORG.GGF.WWW.NAMESPACES.WS_AGREEMENT.RESPONDERSOAPBINDINGSTUB.STARTNEGOTIATION(RESPONDERSOAPBINDINGSTUB.JAVA:622)        AT TEST.MAIN(TEST.JAVA:16)CAUSED BY: JAVA.LANG.NULLPOINTEREXCEPTION        ATORG.APACHE.AXIS.ENCODING.SER.BASESERIALIZERFACTORY.CREATEFACTORY(BASESERIALIZERFACTORY.JAVA:270)        AT ORG.APACHE.AXIS.CLIENT.CALL.REGISTERTYPEMAPPING(CALL.JAVA:2227)        ATORG.GGF.WWW.NAMESPACES.WS_AGREEMENT.RESPONDERSOAPBINDINGSTUB.CREATECALL(RESPONDERSOAPBINDINGSTUB.JAVA:579)        ... 2 MORERESPONDERSOAPBINDINGSTUB WAS CREATED BY WSDL2JAVA. THE PARAMETERS OF THE REGISTERTYPEMAPPING CALL ARE:_CALL.REGISTERTYPEMAPPING(CLASS JAVA.LANG.OBJECT,HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES>QUERYRESOURCEPROPERTIESRESPONSE, NULL, CLASS ORG.APACHE.AXIS.ENCODING.SER.SIMPLEDESERIALIZERFACTORY, FALSE)(JUST PRINTED WITH SYSTEM.OUT.PRINTLN)LOOKING AT RESPONDERSOAPBINDINGSTUB._INITOPERATIONDESC1() THIS CODE IS GENERATEDBY WSDL2JAVA (CURRENT CVS VERSION):        OPER = NEW ORG.APACHE.AXIS.DESCRIPTION.OPERATIONDESC();        OPER.SETNAME(QUERYRESOURCEPROPERTIES);        OPER.ADDPARAMETER(NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,QUERYRESOURCEPROPERTIESREQUEST), NEW JAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,>QUERYRESOURCEPROPERTIESREQUEST),COM.IBM.WWW.XMLNS.STDWIP.WEB_SERVICES.WS_RESOURCEPROPERTIES._QUERYRESOURCEPROPERTIESREQUEST.CLASS,ORG.APACHE.AXIS.DESCRIPTION.PARAMETERDESC.IN, FALSE, FALSE);        OPER.SETRETURNTYPE(NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,>QUERYRESOURCEPROPERTIESRESPONSE));        OPER.SETRETURNCLASS(JAVA.LANG.OBJECT.CLASS);        OPER.SETRETURNQNAME(NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,QUERYRESOURCEPROPERTIESRESPONSE));        OPER.SETSTYLE(ORG.APACHE.AXIS.ENUM.STYLE.DOCUMENT);        OPER.SETUSE(ORG.APACHE.AXIS.ENUM.USE.ENCODED);        _OPERATIONS[4] = OPER;THIS DIFFERS FROM THE CODE THAT IS GENERATED BY WSDL2JAVA (VERSION 1.1):        OPER = NEW ORG.APACHE.AXIS.DESCRIPTION.OPERATIONDESC();        OPER.SETNAME(QUERYRESOURCEPROPERTIES);        OPER.ADDPARAMETER(NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,QUERYRESOURCEPROPERTIESREQUEST), NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,>QUERYRESOURCEPROPERTIESREQUEST),COM.IBM.WWW.XMLNS.STDWIP.WEB_SERVICES.WS_RESOURCEPROPERTIES._QUERYRESOURCEPROPERTIESREQUEST.CLASS,ORG.APACHE.AXIS.DESCRIPTION.PARAMETERDESC.IN, FALSE, FALSE);        OPER.SETRETURNTYPE(NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,>QUERYRESOURCEPROPERTIESRESPONSE));       OPER.SETRETURNCLASS(COM.IBM.WWW.XMLNS.STDWIP.WEB_SERVICES.WS_RESOURCEPROPERTIES._QUERYRESOURCEPROPERTIESRESPONSE.CLASS);        OPER.SETRETURNQNAME(NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,QUERYRESOURCEPROPERTIESRESPONSE));        OPER.SETSTYLE(ORG.APACHE.AXIS.ENUM.STYLE.DOCUMENT);        OPER.SETUSE(ORG.APACHE.AXIS.ENUM.USE.ENCODED);        _OPERATIONS[4] = OPER;AND LATER IN THE CONSTRUCTOR RESPONDERSOAPBINDINGSTUB(JAVAX.XML.RPC.SERVICE SERVICE)VERSION 1.2 CVS:            QNAME = NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,>QUERYRESOURCEPROPERTIESRESPONSE);            CACHEDSERQNAMES.ADD(QNAME);            CLS = JAVA.LANG.OBJECT.CLASS;            CACHEDSERCLASSES.ADD(CLS);            CACHEDSERFACTORIES.ADD(NULL);            CACHEDDESERFACTORIES.ADD(SIMPLEDF);VERSION 1.1:            QNAME = NEWJAVAX.XML.NAMESPACE.QNAME(HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES,>QUERYRESOURCEPROPERTIESRESPONSE);            CACHEDSERQNAMES.ADD(QNAME);            CLS =COM.IBM.WWW.XMLNS.STDWIP.WEB_SERVICES.WS_RESOURCEPROPERTIES._QUERYRESOURCEPROPERTIESRESPONSE.CLASS;            CACHEDSERCLASSES.ADD(CLS);            CACHEDSERFACTORIES.ADD(BEANSF);            CACHEDDESERFACTORIES.ADD(BEANDF);THIS IS WHAT THE IMPORTED SCHEMA LOOKS LIKE:<WSDL:DEFINITIONS NAME=WS-RESOURCEPROPERTIES  XMLNS=HTTP:SCHEMAS.XMLSOAP.ORGWSDL ...>  ...         <XSD:ELEMENT NAME=QUERYRESOURCEPROPERTIESRESPONSE >         <XSD:COMPLEXTYPE>           <XSD:COMPLEXCONTENT MIXED=TRUE>             <XSD:RESTRICTION BASE=XSD:ANYTYPE>               <XSD:SEQUENCE>                 <XSD:ANY PROCESSCONTENTS=LAX                          MINOCCURS=1 MAXOCCURS=UNBOUNDED>               <XSD:SEQUENCE>             <XSD:RESTRICTION>           <XSD:COMPLEXCONTENT>         <XSD:COMPLEXTYPE>       <XSD:ELEMENT>   ...  <WSDL:MESSAGE NAME=QUERYRESOURCEPROPERTIESRESPONSE>    <WSDL:PART NAME=QUERYRESOURCEPROPERTIESRESPONSE               ELEMENT=WSRP:QUERYRESOURCEPROPERTIESRESPONSE >  <WSDL:MESSAGE>   ...  <WSDL:PORTTYPE NAME=QUERYRESOURCEPROPERTIES>    <WSDL:OPERATION NAME=QUERYRESOURCEPROPERTIES>      <WSDL:INPUT  NAME=QUERYRESOURCEPROPERTIESREQUEST                   MESSAGE=WSRP:QUERYRESOURCEPROPERTIESREQUEST >      <WSDL:OUTPUT NAME=QUERYRESOURCEPROPERTIESRESPONSE                   MESSAGE=WSRP:QUERYRESOURCEPROPERTIESRESPONSE >      <WSDL:FAULT  NAME=RESOURCEUNKNOWNFAULT                   MESSAGE=WSRP:RESOURCEUNKNOWNFAULT >      <WSDL:FAULT  NAME=INVALIDRESOURCEPROPERTYQNAMEFAULT                   MESSAGE=WSRP:INVALIDRESOURCEPROPERTYQNAMEFAULT >      <WSDL:FAULT  NAME=UNKNOWNQUERYEXPRESSIONDIALECTFAULT                   MESSAGE=WSRP:UNKNOWNQUERYEXPRESSIONDIALECTFAULT >      <WSDL:FAULT  NAME=INVALIDQUERYEXPRESSIONFAULT                   MESSAGE=WSRP:INVALIDQUERYEXPRESSIONFAULT >      <WSDL:FAULT  NAME=QUERYEVALUATIONERRORFAULT                   MESSAGE=WSRP:QUERYEVALUATIONERRORFAULT >    <WSDL:OPERATION>  <WSDL:PORTTYPE>AND THESE ARE THE THE LOCATIONS THAT RAISE THE EXCEPTION:_CALL.REGISTERTYPEMAPPING(CLASS JAVA.LANG.OBJECT,HTTP:WWW.IBM.COMXMLNSSTDWIPWEB-SERVICESWS-RESOURCEPROPERTIES>QUERYRESOURCEPROPERTIESRESPONSE,NULL, CLASS ORG.APACHE.AXIS.ENCODING.SER.SIMPLEDESERIALIZERFACTORY, FALSE)ORG.APACHE.AXIS.CLIENT.CALL.REGISTERTYPEMAPPING(CALL.JAVA:2227):    PUBLIC VOID REGISTERTYPEMAPPING(CLASS JAVATYPE,                                    QNAME XMLTYPE,                                    CLASS SFCLASS,                                    CLASS DFCLASS,                                    BOOLEAN FORCE)          INSTANTIATE THE FACTORY USING INTROSPECTION.        SERIALIZERFACTORY   SF =                BASESERIALIZERFACTORY.CREATEFACTORY(SFCLASS, JAVATYPE, XMLTYPE);  <- HERE        DESERIALIZERFACTORY DF =                BASEDESERIALIZERFACTORY.CREATEFACTORY(DFCLASS,                                                      JAVATYPE,                                                      XMLTYPE);        IF (SF != NULL || DF != NULL)             REGISTERTYPEMAPPING(JAVATYPE, XMLTYPE, SF, DF, FORCE);            ORG.APACHE.AXIS.ENCODING.SER.BASESERIALIZERFACTORY.CREATEFACTORY(BASESERIALIZERFACTORY.JAVA:270):    PUBLIC STATIC SERIALIZERFACTORY CREATEFACTORY(CLASS FACTORY,                                                   CLASS JAVATYPE,                                                   QNAME XMLTYPE)         SERIALIZERFACTORY SF = NULL;        TRY             METHOD METHOD =                 FACTORY.GETMETHOD(CREATE, CLASS_QNAME_CLASS);  <- HERE            SF = (SERIALIZERFACTORY)                 METHOD.INVOKE(NULL,                               NEW OBJECT[] JAVATYPE, XMLTYPE);FWIW: THE FOLLOWING PATCH FIXES THE PROBLEM BUT I DONT KNOW HOW MANY NEW ONES ARE CREATED AS I DONT UNDERSTAND THE CODE ;-)CVS SERVER: DIFFING .INDEX: JAVASTUBWRITER.JAVA===================================================================RCS FILE:HOMECVSPUBLICWS-AXISJAVASRCORGAPACHEAXISWSDLTOJAVAJAVASTUBWRITER.JAVA,VRETRIEVING REVISION 1.129DIFF -U2 -R1.129 JAVASTUBWRITER.JAVA--- JAVASTUBWRITER.JAVA 25 FEB 2004 14:02:52 -0000      1.129+++ JAVASTUBWRITER.JAVA 22 MAR 2004 22:49:45 -0000@@ -961,5 +961,5 @@              WILL BE CHECKED, THE END DELEGATE IS DEFAULTTYPEMAPPINGIMPL              THATLL GET IT RIGHT WITH THE BASE TYPE NAME-            PW.PRINTLN(            CACHEDSERFACTORIES.ADD(NULL););+            PW.PRINTLN(            CACHEDSERFACTORIES.ADD(SIMPLESF););             PW.PRINTLN(            CACHEDDESERFACTORIES.ADD(SIMPLEDF););          ELSE ","SUMMARY":"NULLPOINTER EXCEPTION CAUSED BY ...SOAPBINDINGSTUB.CREATECALL","CLASS":1}
{"ID_DEFECT":"AXIS-1258","DESCRIPTION":"THIS IS RESUBMISSION FROM BUGZILLA (HTTP:NAGOYA.APACHE.ORGBUGZILLASHOW_BUG.CGI?ID=27356):THE FOLLOWING DEFINITION:       <XSD:ELEMENT NAME=FOO>          <XSD:SIMPLETYPE>            <XSD:LIST ITEMTYPE=XSD:QNAME >          <XSD:SIMPLETYPE>       <XSD:ELEMENT>WITH VALUES SUCH AS XMLNS:N1=FOO XMLNS:N2=FOO2 N1:BAR N2:BAR2 IS SERIALIZED AS:<FOO>FOOBAR FOO2BAR2<FOO>WHICH IS NOT CORRECT. ALSO EVEN IF SERIALIZED PROPERLY THE DESERIALIZATION IS INVALID. THE SIMPLELISTDESERIALIZER TRIES TO PASS THE TOKEN VALUE OF QNAME(STRING) CONSTRUCTOR BUT THIS IS WRONG SINCE THE QNAME(STRING) CONSTRUCTOR ONLY ACCEPTS A LOCALNAME AND ALSO PROPER NAMESPACE PREFIX RESOLUTION IS NOT PERFORMED.THE ATTACHED PATCH FIXES THE SERIALIZATION AND DESERIALIZATION PROBLEMS.","SUMMARY":"XSD:LIST OF QNAME IS NOT HANDLED PROPERLY","CLASS":1}
{"ID_DEFECT":"AXIS-1265","DESCRIPTION":"THE FOLLOWING ERROR IS LOGGED WHEN A SOAP HEADER DOES NOT CONTAIN A MUSTUNDERSTAND ATTRIBUTE (WHICH IS OPTIONAL):     [JAVA] 791  [MAIN] ERROR ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT  -  IS NOT A VALID VALUE FOR THE MUSTUNDERSTAND ATTRIBUTE ON ELEMENT HTTP:WIDGETS.COMRESOURCEID","SUMMARY":"ERROR LOGGED WHEN A SOAP HEADER DOES NOT CONTAIN A MUSTUNDERSTAND ATTRIBUTE","CLASS":1}
{"ID_DEFECT":"AXIS-1266","DESCRIPTION":"THE METHOD SETDERVICEDESCRIPTION() IN ORG.APACHE.AXIS.HANDLERS.SOAP.SOAPSERVICE ONLY ALLOWS THE ABILITY TO SET AN OBJECT OF TYPE ORG.APACHE.AXIS.DESCRIPTION.JAVASERVICEDESC. THIS SHOULD REALLY ALLOW THE CALLER TO PASS AN OBJECT OF TYPE ORG.APACHE.AXIS.DESCRIPTION.SERVICEDESC. THE INSTANCE VARIABLE BEING SET IS OF TYPE SERVICEDESC. THIS IS PREVENTING ME FROM PROVIDING MY OWN SERVICE DESCRIPTION TO THE SOAPSERVICE OBJECT IN A CLEAN WAY. RIGHT NOW MY ONLY WORKAROUND IS TO EXTEND JAVASERVICEDESC AND TAKE OVER EVERY METHOD.","SUMMARY":"INCORRECT SIGNATURE FOR SOAPSERVICE.SETSERVICEDESCRIPTION()","CLASS":1}
{"ID_DEFECT":"AXIS-1271","DESCRIPTION":"TYPE MAPPINGS IN WSDD ARE REPLICATED EACH TIME A SERVICE IS DEPLOYED.","SUMMARY":"TYPE MAPPINGS IN WSDD ARE REPLICATED EACH TIME A SERVICE IS DEPLOYED","CLASS":1}
{"ID_DEFECT":"AXIS-1273","DESCRIPTION":"THE TARBALL AVAILABLE FROM HTTP:ARCHIVE.APACHE.ORGDISTWSAXIS1_2ALPHAAXIS-1_2ALPHA-SRC.TAR IS MISSING A .GZ SUFFIX, CAUSING CONFUSION AND SOME ARCHIVING SYSTEMS TO FLAG THE FILE AS BAD AND REFUSE TO WORK WITH IT.PLEASE ADD BACK THE .GZ SUFFIX.","SUMMARY":"THE TARBALL FOR 1.2_ALPHA IS MISSING .GZ SUFFIX","CLASS":1}
{"ID_DEFECT":"AXIS-1275","DESCRIPTION":"AFTER GENERATING SERVICE CODE BASED ON THE WSDL FILE, GENERATED CODE DOES NOT COMPILE:PUBLIC COM.THEMINDELECTRIC.WWW._PACKAGE.EXAMPLES_NWC.INVOICELINE GETI(INT I) T        RETURN I[I];    SHOULD BE GENERATED:PUBLIC COM.THEMINDELECTRIC.WWW._PACKAGE.EXAMPLES_NWC.INVOICELINE GETI(INT I) T        RETURN THIS.I[I];    ","SUMMARY":"SERVER SIDE PROXIES DO NOT COMPILE AFTER WSDL GENERATION","CLASS":1}
{"ID_DEFECT":"AXIS-1280","DESCRIPTION":"WHEN WSDL2JAVA GENERATES A JAVA CLASS FOR THE SIMPLE TYPE SHOWN IN THE SCHEMA FRAGMENT BELOW, IT DOES NOT PRODUCE THE STRING CONSTRUCTOR. AS A RESULT, JAVA CLASSES GENERATED FOR ALL OTHER TYPES THAT EXTEND FROM DATEORDATETIMETYPE ARE IN ERROR.<XS:SIMPLETYPE NAME=DATEORDATETIMETYPE>  <XS:UNION MEMBERTYPES=XS:DATE XS:DATETIME><XS:SIMPLETYPE>","SUMMARY":"WSDL2JAVA DOES NOT GENERATE STRING CONSTRUCTOR FOR UNION SIMPLE TYPE","CLASS":1}
{"ID_DEFECT":"AXIS-1281","DESCRIPTION":"THIS DEFEST IS VERY SIMILAR TO DEFECT 22363 WHICH ONLY FIXED THE SOAP FAULT PART. HOWEVER, WHEN SOAP FAULT DETAIL EXISTS, THE FOLLOWING EXCEPTION IS THROWN:JAVA.LANG.NULLPOINTEREXCEPTIONTAT ORG.APACHE.AXIS.MESSAGE.SOAPFAULTDETAILSBUILDER.ONSTARTCHILD(SOAPFAULTDETAILSBUILDER.JAVA:95)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.STARTELEMENT(DESERIALIZATIONCONTEXTIMPL.JAVA:1001)TAT ORG.APACHE.XERCES.PARSERS.ABSTRACTSAXPARSER.STARTELEMENT(ABSTRACTSAXPARSER.JAVA:446)TAT ORG.APACHE.XERCES.IMPL.XMLNSDOCUMENTSCANNERIMPL.SCANSTARTELEMENT(XMLNSDOCUMENTSCANNERIMPL.JAVA:306)TAT ORG.APACHE.XERCES.IMPL.XMLDOCUMENTFRAGMENTSCANNERIMPL$FRAGMENTCONTENTDISPATCHER.DISPATCH(XMLDOCUMENTFRAGMENTSCANNERIMPL.JAVA:1543)TAT ORG.APACHE.XERCES.IMPL.XMLDOCUMENTFRAGMENTSCANNERIMPL.SCANDOCUMENT(XMLDOCUMENTFRAGMENTSCANNERIMPL.JAVA:348)TAT ORG.APACHE.XERCES.PARSERS.DTDCONFIGURATION.PARSE(DTDCONFIGURATION.JAVA:539)TAT ORG.APACHE.XERCES.PARSERS.DTDCONFIGURATION.PARSE(DTDCONFIGURATION.JAVA:595)TAT ORG.APACHE.XERCES.PARSERS.XMLPARSER.PARSE(XMLPARSER.JAVA:152)TAT ORG.APACHE.XERCES.PARSERS.ABSTRACTSAXPARSER.PARSE(ABSTRACTSAXPARSER.JAVA:1125)TAT JAVAX.XML.PARSERS.SAXPARSER.PARSE(SAXPARSER.JAVA:345)TAT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.PARSE(DESERIALIZATIONCONTEXTIMPL.JAVA:218)TAT ORG.APACHE.AXIS.SOAPPART.GETASSOAPENVELOPE(SOAPPART.JAVA:568)TAT ORG.APACHE.AXIS.SOAPPART.GETENVELOPE(SOAPPART.JAVA:853)TAT COM.NOVELL.WSCLIENT.UTIL.SOAPFAULTTEST.MAIN(SOAPFAULTTEST.JAVA:56)EXCEPTION IN THREAD MAIN PROCESS TERMINATED WITH EXIT CODE 1TO REPRODUCE, BUILD AND RUN THE FOLLOWING CODE:IMPORT JAVA.IO.*;IMPORT JAVAX.XML.SOAP.*;PUBLIC CLASS SOAPFAULTTEST     PUBLIC STATIC FINAL STRING SOAPFAULT = <?XML VERSION=1.0 ENCODING=UTF-8?> +    <SOAPENV:ENVELOPE XMLNS:SOAPENV=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPE XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA XMLNS:XSI=HTTP:WWW.W3.ORG2001XMLSCHEMA-INSTANCE> +     <SOAPENV:BODY> +      <SOAPENV:FAULT> +       <FAULTCODE>SOAPENV:13001<FAULTCODE> +       <FAULTSTRING>JAVA.LANG.EXCEPTION: FILE ALREADY EXISTS<FAULTSTRING> +       <FAULTACTOR>URN:RISKMETRICSDIRECT:1.0:OBJECT-SERVICE-SERVICE:CREATEOBJECT<FAULTACTOR> +       <DETAIL> +       <PO:ORDER XMLNS:PO=HTTP:GIZMOS.COMORDERS>QUANTITY ELEMENT DOES NOT HAVE A VALUE<PO:ORDER> +       <DETAIL> +      <SOAPENV:FAULT> +     <SOAPENV:BODY> +    <SOAPENV:ENVELOPE>;    PUBLIC STATIC VOID MAIN(STRING[] ARGS)            TRY             BYTEARRAYINPUTSTREAM BIS = NEW BYTEARRAYINPUTSTREAM( SOAPFAULT.GETBYTES() );            MESSAGEFACTORY MSGFACTORY = MESSAGEFACTORY.NEWINSTANCE();            SOAPMESSAGE MSG = MSGFACTORY.CREATEMESSAGE ( NULL, BIS );            NOW ATTEMPT TO ACCESS THE FAULT            IF( MSG.GETSOAPPART().GETENVELOPE().GETBODY().HASFAULT() )T                SOAPFAULT FAULT =                    MSG.GETSOAPPART().GETENVELOPE().GETBODY().GETFAULT();                    SYSTEM.OUT.PRINTLN( FAULT:  + FAULT.GETFAULTSTRING() );                     CATCH (SOAPEXCEPTION E)             E.PRINTSTACKTRACE();         CATCH (IOEXCEPTION E)             E.PRINTSTACKTRACE();            ","SUMMARY":"PROCESS SOAPFAULT DETAIL WHEN CONTEXT IS NOT SET","CLASS":1}
{"ID_DEFECT":"AXIS-1282","DESCRIPTION":"I RAN INTO THIS THE OTHER DAY. I DEPLOYED A NEW SERVICE AND ADDED THE WSDLFILE ELEMENT IN THE FOLLOWING WAY:  <WSDLFILE>         SHARESCHEMATESTSINTEROPNOTIFICATION_CONSUMER_SERVICE.WSDL  <WSDLFILE>WHICH CAUSED THE SOAPSERVICE HANDLER TO THROW A AXIS FAULT, WHICH MY CLIENT, THE OPERATION JUST HAVING A INPUT NEVER SAW BEFORE EXISTING. TOOK ME WHILE TO FIGURE OUT THAT YOU CANT HAVE WHITESPACE IN THERE. I THINK IT WOULD BE A GOOD IDEA TO ADD A TRIM() WHEN READIN THIS VALUE. IE CHANGE          ELEMENT WSDLELEM = GETCHILDELEMENT(E, ELEM_WSDD_WSDLFILE);        IF (WSDLELEM != NULL)             STRING FILENAME = XMLUTILS.GETCHILDCHARACTERDATA(WSDLELEM);            DESC.SETWSDLFILE(FILENAME);        TO        ELEMENT WSDLELEM = GETCHILDELEMENT(E, ELEM_WSDD_WSDLFILE);        IF (WSDLELEM != NULL)             STRING FILENAME = XMLUTILS.GETCHILDCHARACTERDATA(WSDLELEM);            FILENAME = FILENAME.TRIM();            DESC.SETWSDLFILE(FILENAME);        IN WSDDSERVICE.JAVA. SAM","SUMMARY":"TRIM WHITESPACE WHEN READING WSDL FILE LOCATION FROM WSDD","CLASS":1}
{"ID_DEFECT":"AXIS-1286","DESCRIPTION":"1) IN SOAPHEADER:    PUBLIC SOAPELEMENT ADDCHILDELEMENT(SOAPELEMENT ELEMENT)       THROWS SOAPEXCEPTION          IF (!(ELEMENT INSTANCEOF JAVAX.XML.SOAP.SOAPHEADERELEMENT))         THROW NEW SOAPEXCEPTION(MESSAGES.GETMESSAGE(BADSOAPHEADER00));             RETURN SUPER.ADDCHILDELEMENT(ELEMENT);    CHILD.SETENVELOPE(GETENVELOPE()); IS NOT SET AS IN OTHER ADDCHILDELEMENT() METHODS. THAT CAUSES THE FOLLOWING ERROR SOMETIMES:        HTTP:XML.APACHE.ORGAXISSTACKTRACE:JAVA.LANG.NULLPOINTEREXCEPTION        AT ORG.APACHE.AXIS.MESSAGE.SOAPHEADERELEMENT.OUTPUTIMPL(SOAPHEADERELEMENT.JAVA:224)        AT ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.OUTPUT(MESSAGEELEMENT.JAVA:1112) FINDELEMENT() FUNCTION IS REPLICATED IN SOAPBODY.JAVA AND SOAPHEADER.JAVA. SO IS REMOVECHILD(MESSAGEELEMENT) IN SOAPBODY, SOAPHEADER AND IN MESSAGEELEMENT.JAVA3) THE CHECK: IF (!(ELEMENT INSTANCEOF JAVAX.XML.SOAP.SOAPHEADERELEMENT))         THROW NEW SOAPEXCEPTION(MESSAGES.GETMESSAGE(BADSOAPHEADER00));       IN SOAPHEADER.ADDCHILDELEMENT(SOAPELEMENT) SHOULD PROBABLY MOVE TO ADDCHILD(MESSAGEELEMENT). OTHERWISE CLASSCASTEXCEPTION MIGHT OCCUR IF ADDCHILD(MESSAGEELEMENT) IS USED. AND THE CHECK SHOULD PROBABLY BE FOR THE AXIS VERSION OF SOAPHEADERELEMENT. ","SUMMARY":"MINOR SOAPHEADERSOAPBODY ISSUES","CLASS":1}
{"ID_DEFECT":"AXIS-1289","DESCRIPTION":"IN AXIS 1.2, THERE SEEMS TO BE AN INCONSISTENCY IN THE USE OF APPLICATIONOCTETSTREAM (INCORRECT) AND APPLICATIONOCTET-STREAM FOR HANDLING MIME CONTENT AS DEFINED BY A WSDL.  AS A RESULT, THE REPRESENTATION SELECTED BY WSDL2JAVA FOR THE RESULTANT SOURCE CODE IS DATAHANDLER (GENERIC) INSTEAD OF OCTETSTREAM WHEN THE PROPER CONTENT TYPE IS USED.ALL REFERENCES TO APPLICATIONOCTETSTREAM SHOULD EITHER BE CORRECTED, OR SHOULD BE A BACKWARDS COMPATIBILITY OPTION WITH APPLICATIONOCTET-STREAM AS THE PREFERRED STRING. IT WOULD PROBABLY BE A GOOD IDEA TO DISALLOW FURTHER USE OF APPLICATIONOCTETSTREAM BY REMOVING IT COMPLETELY.","SUMMARY":"PROCESSING OF OCTET-STREAM CONTENT TYPE FOR MIME SOAP ATTACHMENTS","CLASS":1}
{"ID_DEFECT":"AXIS-1290","DESCRIPTION":"THE SOURCE CODE GENERATED FOR THE CLIENT <<>>BINDINGSTUB.JAVA FILE INCORRECTLY FORGETS TO CLEAR THE ATTACHMENTS THAT WERE RECEIVED FROM A CALL TO A WEB SERVICE.  AS A RESULT, THE NEXT CALL TO THE WEBSERVICE THINKS IT HAS ATTACHMENTS TO SEND WITH THE REQUEST AND THE REQUEST BECOMES CORRUPTED AND UN-INTERPRETABLE BY THE SERVER.","SUMMARY":"CLIENT <<>>BINDINGSTUB.JAVA FILE CORRUPTS THE NEXT CALL WHEN USING SOAP ATTACHMENTS","CLASS":1}
{"ID_DEFECT":"AXIS-1291","DESCRIPTION":"THE FOLLOWING EXCEPTION IS GENERATED WHEN RETURNTYPE IS SET TO XMLTYPE.AXIS_VOID IN THE STUB IN DOCLIT CASE (WHEN PARSING A REPLY):       HTTP:XML.APACHE.ORGAXISSTACKTRACE:ORG.XML.SAX.SAXEXCEPTION: DESERILIZING PARAMETER &APOS;REQUESTRESPONSE2RESPONSE&APOS;:  COULD NOT FIND DESERIALZER FOR TYPE HTTP:XML.APACHE.ORGAXISVOID       AT ORG.APACHE.AXIS.MESSAGE.RPCHANDLER.ONSTARTCHILD(RPCHANDLER.JAVA:277)       AT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.STARTELEMENT(DESEIALIZATIONCONTEXTIMPL.JAVA:1001)       AT ORG.APACHE.AXIS.MESSAGE.SAX2EVENTRECORDER.REPLAY(SAX2EVENTRECORDER.JAA:159)       AT ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.PUBLISHTOHANDLER(MESSAGEELEMEN.JAVA:1051)       AT ORG.APACHE.AXIS.MESSAGE.RPCELEMENT.DESERIALIZE(RPCELEMENT.JAVA:196)       AT ORG.APACHE.AXIS.MESSAGE.RPCELEMENT.GETPARAMS(RPCELEMENT.JAVA:310)       AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2381)       AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2280)       AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:1741)","SUMMARY":"COULD NOT FIND DESERIALZER FOR TYPE HTTP:XML.APACHE.ORGAXISVOID","CLASS":1}
{"ID_DEFECT":"AXIS-1292","DESCRIPTION":"IF I DONT HAVE LIBSERVLET.JAR, WHEN I GO TO COMPILE AXIS IT FAILS WITH LOTS OF DEPENDENCIES ON CLASSES IN JAVAX.SERVLET.*. IT DOESNT SURPRISE ME THAT THE BUILD DOESNT WORK WITHOUT SERVLET, BUT THE BUILDING-AXIS.HTML SUGGESTS ITS AN OPTIONAL COMPONENT. I SUGGEST EITHER FIXING THE DOCS OR FIXING THE BUILD.","SUMMARY":"BUILD REQUIRES SERVLET.JAR","CLASS":1}
{"ID_DEFECT":"AXIS-1294","DESCRIPTION":"AXIS 1.2BETA SEEMS TO BE IGNORING MY REQUESTING SENDXSITYPES=FALSE FOR AN RPCENCODED SERVICE. IF I SWAP OUT THE JARS TO USE AXIS1.1 IT WORKS, BUT THE EXACT SAME CONFIGURATION IS SENDING TYPES IN 1.2BETA.I TRIED TO CREATE A TEST FOR THIS IN THE AXIS 1.2 SOURCES BUT THE COMPLEXITY OF THE TEST SETUP DEFEATED ME. THE TEST ENCODINGTESTXSITYPE.JAVA SEEMS TO TEST THE BASICS OF XSITYPE CONTROL; MAYBE ITS JUST A CONFIGURATION ISSUE?HERES THE RELEVANT PART OF MY SERVERS WSDD, LOADED VIA WEB-INFSERVER.WSDD. OTHER PARTS OF THIS FILE ARE DEFINITELY LOADING.<DEPLOYMENT XMLNS=HTTP:XML.APACHE.ORGAXISWSDD XMLNS:JAVA=HTTP:XML.APACHE.ORGAXISWSDDPROVIDERSJAVA> <GLOBALCONFIGURATION>  <PARAMETER NAME=ADMINPASSWORD VALUE=XXXX>  <PARAMETER NAME=AXIS.DEVELOPMENT.SYSTEM VALUE=TRUE>  <PARAMETER NAME=ATTACHMENTS.DIRECTORY VALUE=TMPAXISGSE-ATTACHMENTS>  <PARAMETER NAME=SENDMULTIREFS VALUE=FALSE>  <PARAMETER NAME=SENDXSITYPES VALUE=FALSE>  <PARAMETER NAME=ATTACHMENTS.IMPLEMENTATION VALUE=ORG.APACHE.AXIS.ATTACHMENTS.ATTACHMENTSIMPL>  <PARAMETER NAME=SENDXMLDECLARATION VALUE=TRUE>  <PARAMETER NAME=AXIS.SENDMINIMIZEDELEMENTS VALUE=TRUE>","SUMMARY":"SENDXSITYPES NOT RESPECTED","CLASS":1}
{"ID_DEFECT":"AXIS-1296","DESCRIPTION":"A PART OF THE REQUESTRESPONSE XML SCHEMA OF OUR WEB SERVICE USES AN <XSD:ANY> ELEMENT TO TRANSPORT ARBITRARY XML CONTENT.USING WSDL2JAVA TO GENERATE THE JAVA BEANS, THE <XSD:ANY> CONTENT IS REPRESENTED USING AN ARRAY OF MESSAGEELEMENT OBJECTS, AVAILABLE VIA THE GET_ANY() METHOD.WHEN TRYING TO PASS AROUND THE GENERATED JAVA BEANS USING NATIVE JAVA SERIALIZATION (E.G., IN A REMOTE EJB CALL) A NOTSERIALIZABLEEXCEPTION OCCURS, IF THE JAVA BEAN CONTAINS A MESSAGEELEMENT AS DESCRIBED ABOVE.ALTHOUGH THE MESSAGEELEMENT IMPLEMENTS THE JAVA.IO.SERIALIZABLE INTERFACE, I SUSPECT IT IS IN FACT NOT SERIALIZABLE BECAUSE (AT LEAST IN MY CASE) IT SOMEHOW REFERENCES AN OPERATIONDESC OBJECT WHICH IS NOT SERIALIZABLE.","SUMMARY":"MESSAGEELEMENT IS NOT (JAVA) SERIALIZABLE","CLASS":1}
{"ID_DEFECT":"AXIS-1299","DESCRIPTION":"THE FOLLOWING WSDD: <SERVICE NAME=DEMO PROVIDER=JAVA:RPC STYLE=WRAPPED USE=LITERAL>  <PARAMETER NAME=ALLOWEDMETHODS VALUE=*>  <PARAMETER NAME=CLASSNAME VALUE=COM.GOOGLE.SOAP.BASE.DEMOSERVICE>  <BEANMAPPING QNAME=NS:DEMODATA XMLNS:NS=HTTP:DEMO.GOOGLE.COM LANGUAGESPECIFICTYPE=JAVA:COM.GOOGLE.SOAP.BASE.DEMOSERVICE$DEMODATA > <SERVICE>FOR A JAVA METHOD LIKE THIS:  PUBLIC STRING ECHOSTRING(STRING S)     RETURN S;  GENERATES WSDL WITH BITS LIKE THIS:      <WSDL:OPERATION NAME=ECHOSTRING PARAMETERORDER=>         <WSDL:INPUT NAME=ECHOSTRINGREQUEST MESSAGE=IMPL:ECHOSTRINGREQUEST >         <WSDL:OUTPUT NAME=ECHOSTRINGRESPONSE MESSAGE=IMPL:ECHOSTRINGRESPONSE >      <WSDL:OPERATION>WHICH SOAPSCOPES ANALYZE MODULE COMPLAINS ABOUT. IN PARTICULAR, IT SAYS THAT HAVING PARAMETERORDER= DOESNT MATCH THE WSDL SCHEMA: THE PARAMETERORDER ATTRIBUTE MUST HAVE AT LEAST ONE CHARACTER IN IT. IF I DECLARE THE SERVICE TO BE RPCENCODED IN THE WSDD THEN IT GENERATES THINGS LIKE PARAMETERORDER=S WHICH SEEMS PLAUSIBLE.PARAMETERORDER IS AN OPTIONAL ATTRIBUTE OF WSDL. IS IT SAFE TO LEAVE IT OFF? I BELIEVE WS-I BP1.0A SAYS THAT PARAMETER ORDER ALWAYS MATTERS AND FOR A DOCUMENTLITERAL SERVICE IT CAN JUST USE THE SCHEMA DEFINITION, RIGHT?","SUMMARY":"DOCUMENTLITERAL SERVICE GENERATES INVALID WSDL DOCUMENTORDER ATTRIBUTE","CLASS":1}
{"ID_DEFECT":"AXIS-1300","DESCRIPTION":"I BELIEVE THIS IS A BUG IN AXIS THAT WILL HAMPER PASSING BP1.0ATHE FOLLOWING BIT OF WSDD:<SERVICE NAME=DEMO PROVIDER=JAVA:RPC STYLE=WRAPPED USE=LITERAL>  <NAMESPACE>URN:DEMONAMESPACE<NAMESPACE>  <PARAMETER NAME=ALLOWEDMETHODS VALUE=*>  <PARAMETER NAME=CLASSNAME VALUE=DEMO.DEMOSERVICE>  <BEANMAPPING QNAME=NS:DEMODATA XMLNS:NS=URN:DEMONAMESPACE LANGUAGESPECIFICTYPE=JAVA:DEMO.DEMOSERVICE$DEMODATA ><SERVICE>RESULTS IN THE FOLLOWING BIT INSIDE MY WSDL:<WSDL:BINDING NAME=DEMOSOAPBINDING TYPE=IMPL:DEMOSERVICE>  <WSDLSOAP:BINDING STYLE=DOCUMENT TRANSPORT=HTTP:SCHEMAS.XMLSOAP.ORGSOAPHTTP >    <WSDL:OPERATION NAME=ECHOSTRING>      <WSDLSOAP:OPERATION SOAPACTION= >      <WSDL:INPUT NAME=ECHOSTRINGREQUEST>        <WSDLSOAP:BODY USE=LITERAL NAMESPACE=URN:DEMONAMESPACE >      <WSDL:INPUT>BP1.0A R2716 SAYS THAT THE WSDLSOAP:BODY ELEMENT SHOULD HAVE NO NAMESPACE ATTRIBUTE BECAUSE THE EMBEDDED SCHEMA FOR THE DOCLITERAL SERVICE WILL DEFINE IT. THE NAMESPACE AXIS IS PUTTING IN IS OK (IT MATCHES THE SCHEMA), BUT ITS INVALID ACCORDING TO SOAPSCOPES INTERPRETATION OF BP1.0A.I THINK THE FIX IS SIMPLY TO NOT EMIT THE NAMESPACE ATTRIBUTE, BUT ID SURE WANT TO RUN IT THROUGH A DOCUMENTLITERAL INTEROP SUITE BEFORE TRYING THAT.HTTP:WWW.WS-I.ORGPROFILESBASIC2003-08BASICPROFILE-1.0A.HTML#R2716","SUMMARY":"AXIS 1.2BETA PUTS NAMESPACE ON SOAPBODY FOR DOCUMENTLITERAL SERVICES; VIOLATES BP1.0A","CLASS":1}
{"ID_DEFECT":"AXIS-1305","DESCRIPTION":"TRY RUNNING JAVA2WSDL ON A CLASS WHICH USES A CLASS THAT IS NOT BEAN COMPATIBLE. ON AXIS1.1, IT CREATES THE WSDL WITH A WARNING. ON ACIS1.2 BETA IT ABORTS WITH A STACK TRACE. EXAMPLE: THE FOLLOWING TRADEITEM CLASS USES CLASS ITEMINFO WHICH DOES NOT HAVE A DEFAULT CONSTRUCTOR.PUBLIC CLASS TRADEITEM TTPUBLIC TRADESTATUS BUY(ITEMINFO ITEMINFO)TTTRADESTATUS STATUS = NEW TRADESTATUS(ITEMINFO);TTRETURN STATUS;TRUNNING ON AXIS 1.1 RESULTS IN THE FOLLOWING:C:PLAYSECTEST>AXJWSD -Y DOCUMENT -U LITERAL -L HTTP:LOCALHOST:8080AXISTRADEITEM TRADEITEMC:PLAYSECTEST>JAVA ORG.APACHE.AXIS.WSDL.JAVA2WSDL -Y DOCUMENT -U LITERAL -L HTTP:LOCALHOST:8080AXISTRADEITEM TRADEITEMAPR 12, 2004 11:41:35 PM ORG.APACHE.AXIS.WSDL.FROMJAVA.TYPES ISBEANCOMPATIBLEWARNING: THE CLASS ITEMINFO DOES NOT CONTAIN A DEFAULT CONSTRUCTOR, WHICH IS A REQUIREMENT FOR A BEAN CLASS.  THE CLASS CANNOT BE CONVERTED INTO AN XML SCHEMA TYPE.  AN XML SCHEMA ANYTYPE WILL BE USED TO DEFINE THIS CLASS IN THE WSDL FILE.APR 12, 2004 11:41:35 PM ORG.APACHE.AXIS.WSDL.FROMJAVA.TYPES ISBEANCOMPATIBLEWARNING: THE CLASS TRADESTATUS DOES NOT CONTAIN A DEFAULT CONSTRUCTOR, WHICH IS A REQUIREMENT FOR A BEAN CLASS.  THE CLASS CANNOT BE CONVERTED INTO AN XML SCHEMA TYPE.  AN XML SCHEMA ANYTYPE WILL BE USED TO DEFINE THIS CLASS IN THE WSDL FILE.WHEN RUNNING THE SAME ON AXIS 1.2 BETA THE FOLLOWING IS SEENC:PLAYSECTEST>JAVA ORG.APACHE.AXIS.WSDL.JAVA2WSDL -Y DOCUMENT -U LITERAL -L HTTP:LOCALHOST:8080AXISTRADEITEM TRADEITEMLOG4J:WARN NO APPENDERS COULD BE FOUND FOR LOGGER (ORG.APACHE.AXIS.I18N.PROJECTRESOURCEBUNDLE).LOG4J:WARN PLEASE INITIALIZE THE LOG4J SYSTEM PROPERLY.AXISFAULT FAULTCODE: HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPESERVER.GENERALEXCEPTION FAULTSUBCODE: FAULTSTRING: PLEASE REGISTER A TYPEMAPPINGBEANMAPPING FOR ITEMINFO FAULTACTOR: FAULTNODE: FAULTDETAIL:        HTTP:XML.APACHE.ORGAXISSTACKTRACE:AXISFAULT FAULTCODE: HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPESERVER.GENERALEXCEPTION FAULTSUBCODE: FAULTSTRING: PLEASE REGISTER A TYPEMAPPINGBEANMAPPING FOR ITEMINFO FAULTACTOR: FAULTNODE: FAULTDETAIL:PLEASE REGISTER A TYPEMAPPINGBEANMAPPING FOR ITEMINFO        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEPARTTOMESSAGE(EMITTER.JAVA:1810)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEREQUESTMESSAGE(EMITTER.JAVA:1386)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEMESSAGES(EMITTER.JAVA:1034)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEPORTTYPE(EMITTER.JAVA:1005)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.GETWSDL(EMITTER.JAVA:459)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.EMIT(EMITTER.JAVA:310)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.EMIT(EMITTER.JAVA:405)        AT ORG.APACHE.AXIS.WSDL.JAVA2WSDL.RUN(JAVA2WSDL.JAVA:583)        AT ORG.APACHE.AXIS.WSDL.JAVA2WSDL.MAIN(JAVA2WSDL.JAVA:629)PLEASE REGISTER A TYPEMAPPINGBEANMAPPING FOR ITEMINFO        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEPARTTOMESSAGE(EMITTER.JAVA:1810)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEREQUESTMESSAGE(EMITTER.JAVA:1386)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEMESSAGES(EMITTER.JAVA:1034)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.WRITEPORTTYPE(EMITTER.JAVA:1005)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.GETWSDL(EMITTER.JAVA:459)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.EMIT(EMITTER.JAVA:310)        AT ORG.APACHE.AXIS.WSDL.FROMJAVA.EMITTER.EMIT(EMITTER.JAVA:405)        AT ORG.APACHE.AXIS.WSDL.JAVA2WSDL.RUN(JAVA2WSDL.JAVA:583)        AT ORG.APACHE.AXIS.WSDL.JAVA2WSDL.MAIN(JAVA2WSDL.JAVA:629)C:PLAYSECTEST>","SUMMARY":"JAVA2WSDL REGRESSION IN 1.2 BETA","CLASS":1}
{"ID_DEFECT":"AXIS-1310","DESCRIPTION":"QUOTING FROM THE JAXRPC SPECIFICATION BELOW, IT LOOKS LIKE THE FAULT PROCESSING WITHIN A CHAIN OF JAXRPC HANDLERS IS NOT WORKING PROPERLY.SEE BELOW FOR DETAILS.....THROW THE JAVAX.XML.RPC.SOAP.SOAPFAULTEXCEPTION TO INDICATE A SOAP FAULT. THE HANDLER IMPLEMENTATION CLASS HAS THE RESPONSIBILITY OF SETTING THE SOAP FAULT IN THE SOAP MESSAGE IN EITHER HANDLEREQUEST ANDOR HANDLEFAULT METHOD. IF SOAPFAULTEXCEPTION IS THROWN BY A SERVER-SIDE REQUEST HANDLERS HANDLEREQUEST METHOD, THE HANDLERCHAIN TERMINATES THE FURTHER PROCESSING OF THE REQUEST HANDLERS IN THIS HANDLER CHAIN AND INVOKES THE HANDLEFAULT METHOD ON THE HANDLERCHAINWITH THE SOAP MESSAGE CONTEXT. NEXT, THE HANDLERCHAIN INVOKES THE HANDLEFAULT METHOD ON HANDLERS REGISTERED IN THE HANDLER CHAIN, BEGINNING WITH THE HANDLER INSTANCE THAT THREW THE EXCEPTION AND GOING BACKWARD IN EXECUTION. THE CLIENT-SIDE REQUEST HANDLERS HANDLEREQUEST METHOD SHOULD NOT THROW THE SOAPFAULT-EXCEPTION. REFER TO THE SOAP SPECIFICATION FOR DETAILS ON THE VARIOUS SOAP FAULTCODE VALUES AND CORRESPONDING SPECIFICATION.USING THE FOLLOWING DD AS AN EXAMPLE:<SERVICE NAME=MYSERVICE PROVIDER=HANDLER>     <HANDLERINFOCHAIN>         <HANDLERINFO CLASSNAME=X.Y.AAAHANDLER>         <HANDLERINFO CLASSNAME=X.Y.BBBHANDLER>         <HANDLERINFO CLASSNAME=X.Y.CCCHANDLER>         <HANDLERINFO CLASSNAME=X.Y.DDDHANDLER>         <HANDLERINFO CLASSNAME=X.Y.EEEHANDLER>    <HANDLERINFOCHAIN>  <PARAMETER NAME=HANDLERCLASS VALUE=X.Y.SERVICEHANDLER><SERVICE>DURING TESTING, WE THROW A SOAPFAULTEXCEPTION DURING A CALL TOX.Y.DDDHANDLER.HANDLEREQUEST(MESSAGECONTEXT CTX) PUBLIC VOID HANDLEREQUEST(MESSAGECONTEXT CTX)    THROW NEW SOAPFAULTEXCEPTION(....);BUT ONLY X.Y.DDDHANDLERS HANDLEFAULT(...) IS INVOKED.  WE ARE EXPECTING THAT EACH HANDLERCONFIGURED PREVIOUS TO DDDHANDLER IN THE<HANDLERINFOCHAIN> WOULD HAVE THEIR RESPECTIVE HANDLEFAULT(...) CALLED. BELOW SHOWS IN MORE DETAIL THE EXPECTED COURSE OF ACTION (ACCORDING TO THE JAXRPC1.1 SPECIFICATION) AND  THE AXIS 1.2 BEHAVIOR IN MORE DETAIL.EXPECTED COURSE OF ACTION:    -- START OF CHAIN ---    AAAHANDLER.HANDLEREQUEST()    BBBHANDLER.HANDLEREQUEST()    CCCHANDLER.HANDLEREQUEST()    DDDHANDLER.HANDLEREQUEST() THROWS SOAPFAULTEXCEPTION    DDDHANDLER.HANDLEFAULT()     CCCHANDLER.HANDLEFAULT()     BBBHANDLER.HANDLEFAULT()     AAAHANDLER.HANDLEFAULT()     -- END OF CHAIN --- AXIS 1.2 BEHAVIOR    -- START OF CHAIN --    AAAHANDLER.HANDLEREQUEST()    BBBHANDLER.HANDLEREQUEST()    CCCHANDLER.HANDLEREQUEST()    DDDHANDLER.HANDLEREQUEST() THROWS SOAPFAULTEXCEPTION    DDDHANDLER.HANDLEFAULT()     -- END OF CHAIN -- ","SUMMARY":"FAULT PROCESSING FOR JAXRPC HANDLER CHAIN NOT TO SPEC","CLASS":1}
{"ID_DEFECT":"AXIS-1316","DESCRIPTION":"WSDDTRANSPORT EXTENDS FROM WSDDTARGETEDCHAIN (ALL FROM ORG.APACHE.AXIS.DEPLOYMENT.WSDD). THE MAKENEWINSTANCE(ENGINECONFIGURATION) METHOD OF WSDDTARGETCHAIN HOWEVER, DOES NOT PASS THE PARAMETERS (LOCKABLEHASHTABLE) TO THE SIMPLETARGETCHAIN BEFORE RETURNING IT. THEREFORE THE PARAMETERS CONFIGURED IN THE <TRANSPORT> ELEMENT IN SERVER-CONFIG.WSDD FILE WERE NEVER PASSED OVER TO THE TRANSPORT. THIS AFFECTS DEPLOYING CUSTOM QUERY STRING PLUG-IN IN AXIS SERVLET. ACCORDING TO AXIS DEVELOPER GUIDE AND REFERENCE HTTP:WS.APACHE.ORGAXISJAVADEVELOPERS-GUIDE.HTML#AXIS%20SERVLET%20QUERY%20STRING%20PLUG-INSONE CAN HAVE:  <TRANSPORT NAME=HTTP>    <PARAMETER NAME=USEDEFAULTQUERYSTRINGS VALUE=FALSE >     <PARAMETER NAME=QS.MYSTRING VALUE=MY.PLUGIN.CLASS >    <REQUESTFLOW>      <HANDLER TYPE=URLMAPPER>    <REQUESTFLOW>  <TRANSPORT>TO OVERRIDE THE DEFAULT QUERY STRING PROCESSORS. THIS BUG MAKES THIS FEATURE IMPOSSIBLE.SUGGEST THE FOLLOWING CHANGES:*** WSDDTARGETEDCHAIN.JAVATTHU APR 15 01:04:04 2004--- WSDDTARGETEDCHAIN.JAVA(CVS)TTHU APR 15 01:04:04 2004****************** 172,182 ****          IF (RESP != NULL)              RESPHANDLER = RESP.GETINSTANCE(REGISTRY);  !         HANDLER RETVAL = NEW ORG.APACHE.AXIS.SIMPLETARGETEDCHAIN(REQHANDLER, PIVOT,!                                                                  RESPHANDLER);!         RETVAL.SETOPTIONS(GETPARAMETERSTABLE());! !         RETURN RETVAL;              **--- 172,179 ----          IF (RESP != NULL)              RESPHANDLER = RESP.GETINSTANCE(REGISTRY);  !         RETURN NEW ORG.APACHE.AXIS.SIMPLETARGETEDCHAIN(REQHANDLER, PIVOT,!                                                        RESPHANDLER);              **THANKS","SUMMARY":"WSDDTARGETEDCHAIN MAKENEWINSTANCE DIDNT PASS PARAMETERS TO SIMPLETARGETCHAIN","CLASS":1}
{"ID_DEFECT":"AXIS-1319","DESCRIPTION":"USING THE ATTACHED SCHEMA FRAGMENT IN A WSDL DEFINITION, WSDL2JAVA GENERATES THE ATTACHED CRYPTOBINARY.JAVA CLASS. IT CONTAINS THE FOLLOWING METHODS:     SIMPLE TYPES MUST HAVE A STRING CONSTRUCTOR    PUBLIC CRYPTOBINARY(JAVA.LANG.STRING VALUE)         THIS.VALUE = ORG.APACHE.AXIS.TYPES.HEXBINARY.DECODE(VALUE);         SIMPLE TYPES MUST HAVE A TOSTRING FOR SERIALIZING THE VALUE    PUBLIC JAVA.LANG.STRING TOSTRING()         RETURN VALUE == NULL ? NULL : ORG.APACHE.AXIS.TYPES.HEXBINARY.ENCODE(VALUE);    SINCE THESE METHODS ARE ACTUALLY USED TO (DE)SERIALIZE THE ELEMENT, THE OUTPUT SHOWS    <NS3:RSAKEYVALUE>     <NS3:MODULUS>6162636465666731323334353132333435E4F6E4F6FC<NS3:MODULUS>     <NS3:EXPONENT>3132333435<NS3:EXPONENT>    <NS3:RSAKEYVALUE>WHICH IS HEX ENCODED (AND NOT BASE64BINARY).","SUMMARY":"WSDL2JAVA: INCORRECT HANDLING OF XSD:BASE64BINARY?","CLASS":1}
{"ID_DEFECT":"AXIS-1321","DESCRIPTION":"GIVEN THAT PRIMITIVE TYPES LIKE INT, BOOLEAN, DOUBLE AND SO ON ARE ALLOWED TO BE NILLABLE, WHICH I ASSUME THEY ARE EVEN THOUGH IM NOT QUITE SURE, IN THE WSDL FILE THEY SHOULD YIELD SOME KIND OF WRAPPER CLASS SO THAT IT CAN BE NULL, RIGHT? IM TRYING TO SET A BOOLEAN AS NILLABLE IN MY WSDL FILE BUT THE GENERATED CLASSES SIMPLY PUTS A BOOLEAN THERE WHICH MAKES IT RATHER DIFFCULT TO REGARD THE PARAMETER AS OPTIONAL.","SUMMARY":"NILLABLE ATTRIBUTE YIELDS PRIMITIVE TYPE","CLASS":1}
{"ID_DEFECT":"AXIS-1322","DESCRIPTION":"I ADDED DOCUMENTATION FOR MY OPERATIONS IN WSDD USING <DOCUMENTATION> TAG.  <OPERATION NAME=MYOPERATION SOAPACTION=>   <DOCUMENTATION>THIS IS MY DOCUMENTATION<DOCUMENTATION>  <OPERATION>[...]HOWEVER WHEN I GET THE WSDL USING ?WSDL, <WSDL:PORTTYPE NAME=MYPORTTYPE>T<WSDL:OPERATION NAME=MYOPERATION>T<DOCUMENTATION>THIS IS MY DOCUMENTATIONT<DOCUMENTATION>[...]DOCUMENTATION TAG IS NOT PREFIXED BY WSDL.WHEN I TRY TO GENERATE JAVA FILES FROM WSDL I GET ERRORS BECAUSE <DOCUMENTATION> IS NOT RECOGNIZED.","SUMMARY":"WSDL:DOCUMENTATION TAG IN WSDL IS NOT PREFIXED BY WSDL: WHEN WSDL IS GENERATED","CLASS":1}
{"ID_DEFECT":"AXIS-1324","DESCRIPTION":"HAVING A SIMPLE WEBSERVICE WITH AN ECHOSTRING METHOD (IT RETURNS THE SAME STRING PASSED AS A PARAMETER), THE RETURNED STRING IS CORRUPTED IF IT CONTAINS ACCENTS OR ANY OTHER NON-ASCII CHARACTER.MY TEST CLIENT EXECUTES WITH FILE.ENCODING=ISO-8859-1AXIS CORRECTLY ENCODES THE PARAMETER IN UTF-8 WHEN SENDING THE REQUEST, AND THE SERVER CORRECTLY SENDS THE RESPONSE IN UTF-8. BUT THE RECEIVED STRING IS NOT CORRECTLY CONVERTED TO MY ENCODING, AND I MUST CONVERT IT MANUALLY:  STRING RESULT = TEST.ECHOSTRING(ORIGINAL);  RESULT = NEW STRING(RESULT.GETBYTES(), UTF-8);THIS CONVERSION OPERATION SHOULD BE DONE BY THE DESERIALIZER","SUMMARY":"THE CLIENT DOES NOT CORRECTLY HANDLE STRINGS WITH INTERNATIONAL CHARACTERS","CLASS":1}
{"ID_DEFECT":"AXIS-1327","DESCRIPTION":"IF YOU ATTEMPT TO DELETE SOAP HEADERS FROM AN INSTANCE OF ORG.APACHE.AXIS.MESSAGE.SOAPENVELOPE USING REMOVEHEADERS(), THE BEHAVIOR WHEN TRYING TO SERIALIZE THE ENVELOPE IS NOT WHAT YOU WOULD EXPECT.....  IT KEEPS THE HEADERS.THIS IS DUE TO THE FACT THAT MESSAGEELEMENT.OUTPUT(SERIALIZATIONCONTEXT CONTEXT) HAS THE FOLLOWING CHECKIF ((RECORDER != NULL) && (!_ISDIRTY))             RECORDER.REPLAY(STARTEVENTINDEX,                            ENDEVENTINDEX,                            NEW SAXOUTPUTTER(CONTEXT));            RETURN;IN THIS CASE _ISDIRTY IS FALSE AND WILL INVOKE THIS BLOCK OF CODE, BUTIT SHOULD INVOKE THE CODE BELOW IT.BELOW IS A HANDLER THAT DEMONSTRATES THE CODE EXECUTION....PUBLIC CLASS XYZSERVICEHANDLERTEXTENDS BASICHANDLER    PUBLIC VOID INVOKE(MESSAGECONTEXT MSGCONTEXT) THROWS AXISFAULT            TRY             SYSTEM.OUT.PRINTLN(BEFORE REMOVE..........);            MSGCONTEXT.GETCURRENTMESSAGE().WRITETO(SYSTEM.OUT);            SOAPMESSAGE SOAPMESSAGE  = MSGCONTEXT.GETCURRENTMESSAGE();            SOAPENVELOPE ENV = (ORG.APACHE.AXIS.MESSAGE.SOAPENVELOPE)SOAPMESSAGE.GETSOAPPART().GETENVELOPE();            ENV.REMOVEHEADERS();            SYSTEM.OUT.PRINTLN(AFTER..........);            MSGCONTEXT.GETCURRENTMESSAGE().WRITETO(SYSTEM.OUT);                CATCH (EXCEPTION E)             E.PRINTSTACKTRACE();            JUST NEED TO SET _ISDIRTY TO TRUE IN SOAPENVELOPER.REMOVEHEADERS()","SUMMARY":"SOAPENVELOPE.REMOVEHEADERS() DOES NOT WORK IN CONTEXT OF SERIALIZATION","CLASS":1}
{"ID_DEFECT":"AXIS-1332","DESCRIPTION":"THIS IS A REVIVAL OF BUG [AXIS-579]   ELEMENT NOT SPECIFIED WITH NILLABLE=TRUE IN THE WSDL SHOULD BE SENT OVER THE WIRE.  I HAVE ATTACHED A STRIPPED-DOWN WSDL AND A MAIN FILE TO ILLUMINATE THE PROBLEMS.IVE TESTED THIS AGAINST 1.1 AND 1.2BETA.BTW, THE FREE CAPECLEAR.COM SOA EDITOR (WINDOWS) MADE IT VERY EASY TO STRIP DOWN THE 500K WSDL FILE TO CREATE THIS TEST EXAMPLE.  HIGHLY RECOMMENDED.","SUMMARY":"NILLABLE PROBLEMS IN CLIENT-SIDE GENERATION","CLASS":1}
{"ID_DEFECT":"AXIS-1335","DESCRIPTION":"AS PER THE JAX-RPC SPECIFICATION, WHEN A JAX-RPC HANDLER RETURNS A VALUE FALSE FROM HANDLEREQUEST, IT IS THE RESPONSIBILITY OF THE HANDLER TO SET THE APPROPRIATE RESPONSE MESSAGE, DURING THE INVOCATION OF HANDLEREQUEST.  SEE BELOW FOR RELEVANT SPECIFICATION DOCUMENTATION.  IF I AM MISINTERPRETING, PLEASE LET ME KNOW!! WITH THAT SAID, A JAX-RPC COMPLIANT HANDLER USED WITHIN AXIS CANNOT ACHIEVE THE DESIRED RESULTS IN THIS SCENARIO.  WHEN THE HANDLE CALLSSETMESSAGE(SOAPMESSAGE) TO SET THE RESPONSE MESSAGE, THE ACTUAL IMPLEMENTATION OF MESSAGECONTEXT SETS THIS VALUE TO THE INTERNAL REQUESTMESSAGE BECAUSE HAVEPASTPIVOT IS SET TO FALSE.  THE INTERNAL METHOD OF MESSAGECONTEXT IS SETCURRENTMESSAGE().THE FOLLOWING CODE SNIPPET AND DOCUMENTAITON EXPLAINS IN MORE DETAIL.  FULL HANDLER IS ATTACHED.PUBLIC BOOLEAN HANDLEREQUEST(MESSAGECONTEXT CONTEXT)     SOAPMESSAGECONTEXT SOAPMSGCONTEXT = (SOAPMESSAGECONTEXT)CONTEXT;    SOAPMESSAGE FAULTMESSAGE = BUILDFAULTMESSAGE();     SETTING THE FAULT MESSAGE FOR THE RESPONSE ENVELOPE, HOWEVER     SINCE THIS IS A JAX-RPC HANDLER USING AXIS AND     ORG.APACHE.AXIS.MESSAGECONTEXT AS A CONCRETE IMPLEMENTATION     HAVEPASTPIVOT IS SET TO FALSE SO THIS FAULT MESSAGE     WILL BE ASSIGNED TO THE REQUEST MESSAGE!!    SOAPMSGCONTEXT.SETMESSAGE(FAULTMESSAGE);    RETURN FALSE; PUBLIC VOID SETCURRENTMESSAGE(MESSAGE CURMSG)   CURMSG.SETMESSAGECONTEXT(THIS);        IF (HAVEPASSEDPIVOT)             RESPONSEMESSAGE = CURMSG;         ELSE             REQUESTMESSAGE = CURMSG;            -- START RELEVANT JAX-RPC 1.1 DOCUMENTATION ----RETURN FALSE TO INDICATE BLOCKING OF THE REQUEST HANDLER CHAIN. IN THIS CASE, FURTHER PROCESSING OF THE REQUEST HANDLER CHAIN IS BLOCKED AND THE TARGET SERVICE ENDPOINT IS NOT DISPATCHED. THE JAX-RPC RUNTIME SYSTEM TAKES THE RESPONSIBILITY OF INVOKING THE RESPONSE HANDLER CHAIN NEXT WITH THE APPROPRIATE SOAPMESSAGECONTEXT. THE HANDLER IMPLEMENTATION CLASS HAS THE RESPONSIBILITY OF SETTING THE RESPONSE SOAP MESSAGE IN THE HANDLEREQUEST METHOD AND PERFORM ADDITIONAL PROCESSING IN THE HANDLERESPONSE METHOD. IN THE DEFAULT PROCESSING MODEL, THE RESPONSE HANDLER CHAIN STARTS PROCESSING FROM THE SAME HANDLER INSTANCE (THAT RETURNED FALSE) ANDGOES BACKWARD IN THE EXECUTION SEQUENCE.-- END RELEVANT JAX-RPC 1.1 DOCUMENTATION ----","SUMMARY":"MESSAGECONTEXT.SETMESSAGE() CLASHES WITH JAX-RPC HANDLER BEHAVIOR","CLASS":1}
{"ID_DEFECT":"AXIS-1342","DESCRIPTION":"IF WE USE WSDL2JAVA WITH RPCLIT OR DOCLIT TO GENERATE A RELATED JAVA CLASSES WITH THE SCHEMA TYPE BELOW, <XS:COMPLEXTYPE NAME=ATTRIBUTEDURI> <XS:SIMPLECONTENT>  <XS:EXTENSION BASE=XS:ANYURI>   <XS:ANYATTRIBUTE NAMESPACE=##OTHER PROCESSCONTENTS=LAX>  <XS:EXTENSION> <XS:SIMPLECONTENT><XS:COMPLEXTYPE>WE WILL OBTAIN A TYPEMAPPING IN THE DEPLOYMENT DESCRIPTOR LIKE THIS: <TYPEMAPPING XMLNS:NS=HTTP:TEST.COM QNAME=NS:ATTRIBUTEDURI TYPE=JAVA:ORG.APACHE.AXIS.TYPES.URI SERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.SIMPLESERIALIZERFACTORY DESERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.SIMPLEDESERIALIZERFACTORYENCODINGSTYLE=>, WHICH IS A WRONG TYPE MAPPING GENERATION. THE CORRECT TYPE SHOULD BE COM.TEST.ATTRIBUTEDURI RATHER THAN ORG.APAHCE.AXIS.TYPES.URI.THIS WOULD LEAD US TO FAIL WHILE DESERIALIZING THE MESSAGE WITH SUCH ATTRIBUTEDURI TYPE INSIDE THE AXIS PROCESSING.","SUMMARY":"WRONG TYPE MAPPING GENERATED BY WSDL2JAVA IN WSDD","CLASS":1}
{"ID_DEFECT":"AXIS-1345","DESCRIPTION":"WHEN FEEDING ORG.APACHE.AXIS.WSDL.WSDL2JAVA -S -S TRUEWITH THE FOLLOWING WSDL:<?XML VERSION=1.0 ENCODING=UTF-8?><WSDL:DEFINITIONS XMLNS:WSDL=HTTP:SCHEMAS.XMLSOAP.ORGWSDL XMLNS:SOAP=HTTP:SCHEMAS.XMLSOAP.ORGWSDLSOAP XMLNS:HTTP=HTTP:SCHEMAS.XMLSOAP.ORGWSDLHTTP XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA XMLNS:SOAPENC=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING XMLNS:MIME=HTTP:SCHEMAS.XMLSOAP.ORGWSDLMIME XMLNS:MYNS=HTTP:BUGDEMOMYNS TARGETNAMESPACE=HTTP:BUGDEMOMYNS>T<WSDL:TYPES>TT<XSD:SCHEMA XMLNS:CCNT_VD=VERKEHRSDATEN.XSD XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA ELEMENTFORMDEFAULT=QUALIFIED ATTRIBUTEFORMDEFAULT=UNQUALIFIED TARGETNAMESPACE=HTTP:BUGDEMOMYNS>TTT<XSD:ELEMENT NAME=GET>TTTT<XSD:COMPLEXTYPE>TTTTT<XSD:SEQUENCE>TTTTTT<XSD:ELEMENT NAME=USERNAME TYPE=XSD:STRING>TTTTT<XSD:SEQUENCE>TTTT<XSD:COMPLEXTYPE>TTT<XSD:ELEMENT>TTT<XSD:ELEMENT NAME=GETRESPONSE>TTTT<XSD:COMPLEXTYPE>TTTTT<XSD:SEQUENCE>TTTTTT<XSD:ELEMENT NAME=GREETING TYPE=XSD:STRING>TTTTT<XSD:SEQUENCE>TTTT<XSD:COMPLEXTYPE>TTT<XSD:ELEMENT>TT<XSD:SCHEMA>T<WSDL:TYPES>T<WSDL:MESSAGE NAME=GETMESSAGE>TT<WSDL:PART NAME=PARAMETER ELEMENT=MYNS:GET>T<WSDL:MESSAGE>T<WSDL:MESSAGE NAME=GETRESPONSEMESSAGE>TT<WSDL:PART NAME=PARAMETER ELEMENT=MYNS:GETRESPONSE>T<WSDL:MESSAGE>T<WSDL:PORTTYPE NAME=GETPORT>TT<WSDL:OPERATION NAME=GETOPERATION>TTT<WSDL:INPUT MESSAGE=MYNS:GETMESSAGE>TTT<WSDL:OUTPUT MESSAGE=MYNS:GETRESPONSEMESSAGE>TT<WSDL:OPERATION>T<WSDL:PORTTYPE>T<WSDL:BINDING NAME=READBINDING TYPE=MYNS:GETPORT>TT<SOAP:BINDING STYLE=DOCUMENT TRANSPORT=HTTP:SCHEMAS.XMLSOAP.ORGSOAPHTTP>TT<WSDL:OPERATION NAME=GETOPERATION>TTT<SOAP:OPERATION SOAPACTION=URN:MY-SERVER>TTT<WSDL:INPUT>TTTT<SOAP:BODY USE=LITERAL>TTT<WSDL:INPUT>TTT<WSDL:OUTPUT>TTTT<SOAP:BODY USE=LITERAL>TTT<WSDL:OUTPUT>TT<WSDL:OPERATION>T<WSDL:BINDING>T<WSDL:SERVICE NAME=PARKINFO>TT<WSDL:PORT NAME=PARKINFO BINDING=MYNS:READBINDING>TTT<SOAP:ADDRESS LOCATION=HTTP:MYURL>TT<WSDL:PORT>T<WSDL:SERVICE><WSDL:DEFINITIONS>THE GENERATED CODE CONTAINS SOME CALLS TO THE QNAME CLASSCONSTRUCTOR WITH STRANGELY DECORATED ELEMENT NAMES, LIKE:NEW JAVAX.XML.NAMESPACE.QNAME(HTTP:192.168.1.23PARKINFO, >GET)IN THE READBINDINGSKELETON.JAVA, BUT ALSO IN OTHER GENERATED CODE.FURTEHRMORE, THE GENERATED DEPLOY.WSDD CONTAINS TYPEMAPPING ELEMENTS LIKE:TT<TYPEMAPPING XMLNS:NS=HTTP:BUGDEMOMYNS QNAME=NS:>GET TYPE=JAVA:DE.SYCADA.BUGDEMO.SERVER._GET SERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.BEANSERIALIZERFACTORY DESERIALIZER=ORG.APACHE.AXIS.ENCODING.SER.BEANDESERIALIZERFACTORY ENCODINGSTYLE=>WITH THE SAME STRANGE DECORATOR IN THE QNAME.IN NESTED ELEMENTS, THIS LEADS TO QNAMES LIKE >DATA>TIMESTAMP.","SUMMARY":"WSDL2JAVA CREATES STRANGE DECORATED QNAMES","CLASS":1}
{"ID_DEFECT":"AXIS-1347","DESCRIPTION":"PROCESSING THE FOLLOWING WSDL CAUSES WSDL2JAVA TO THROW A DUPLICATEFILEEXCEPTION. THIS IS CAUSED BY A WRONG DETERMINITION FOR THE JAVA FILENAME FOR THE TYPE FOOTYPE.WSDL:<?XML VERSION=1.0 ENCODING=UTF-8?><DEFINITIONS    NAME=ABC    TARGETNAMESPACE=HTTP:FOO.COMSERVICESABC    XMLNS=HTTP:SCHEMAS.XMLSOAP.ORGWSDL    XMLNS:SERVICE=HTTP:FOO.COMSERVICESABC    XMLNS:TYPES=HTTP:FOO.COMTYPESABC    XMLNS:SOAP=HTTP:SCHEMAS.XMLSOAP.ORGWSDLSOAP    XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA>    <!--    <IMPORT LOCATION=FOOTYPES.XSD NAMESPACE=HTTP:FOO.COMTYPESABC>    -->    <TYPES>    <XSD:SCHEMA  TARGETNAMESPACE=HTTP:FOO.COMTYPESABC TTTXMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA TTTXMLNS:TYPES=HTTP:FOO.COMTYPESABC>T<XSD:SIMPLETYPE NAME=FOOENUM>TT<XSD:RESTRICTION BASE=XSD:NORMALIZEDSTRING>TTT<XSD:ENUMERATION VALUE=A>TTT<XSD:ENUMERATION VALUE=B>TTT<XSD:ENUMERATION VALUE=C>TTT<XSD:ENUMERATION VALUE=D>TT<XSD:RESTRICTION>T<XSD:SIMPLETYPE>T<XSD:COMPLEXTYPE NAME=FOOTYPE>TT<XSD:SIMPLECONTENT>TTT<XSD:EXTENSION BASE=TYPES:FOOENUM>TT<XSD:SIMPLECONTENT>T<XSD:COMPLEXTYPE><XSD:SCHEMA>    <TYPES>    <MESSAGE NAME=MSG_IN>        <PART NAME=IN TYPE=TYPES:FOOTYPE>    <MESSAGE>    <MESSAGE NAME=MSG_OUT>        <PART NAME=OUT TYPE=XSD:STRING>    <MESSAGE>    <PORTTYPE NAME=ABC_PORT>        <OPERATION NAME=REQUEST>            <INPUT MESSAGE=SERVICE:MSG_IN>            <OUTPUT MESSAGE=SERVICE:MSG_OUT>        <OPERATION>    <PORTTYPE>    <BINDING NAME=ABC_BINDING TYPE=SERVICE:ABC_PORT>        <SOAP:BINDING STYLE=DOCUMENT TRANSPORT=HTTP:SCHEMAS.XMLSOAP.ORGSOAPHTTP>        <OPERATION NAME=REQUEST>            <SOAP:OPERATION>            <INPUT>                <SOAP:BODY USE=LITERAL>            <INPUT>            <OUTPUT>                <SOAP:BODY USE=LITERAL>            <OUTPUT>        <OPERATION>    <BINDING>    <SERVICE NAME=ABC>        <PORT BINDING=SERVICE:ABC_BINDING NAME=ABC>            <SOAP:ADDRESS LOCATION=HTTP:LOCALHOST:8080AXISSERVICESABC>        <PORT>    <SERVICE><DEFINITIONS>","SUMMARY":"WSDL2JAVA GENERATES WRONG JAVACLASS NAME CAUSING DUPLICATEFILEEXCEPTION","CLASS":1}
{"ID_DEFECT":"AXIS-1350","DESCRIPTION":"AS SOME OF MY TYPES ARE MAPPED TO MESSAGEELEMENT I WOULD LIKE TO USE IT INTERNALLY. IF I DO SOMETHING LIKE THAT:ELEMENT E = ROOTDOC.CREATEELEMENT(...);MESSAGEELEMENT M = NEW MESSAGEELEMENT(E);M.HASCHILDNODES();AN EXCEPTION IS RISEN BECAUSE MESSAGEELEMENT DOES NOT CONSIDER ITS ATTRIBUTE ELEMENTREP (CREATED BY NEW MESSAGEELEMENT(E)).THE FOLLOWING PATCH DELEGATES ALL METHODS OF THE ELEMENT INTERFACE TO ELEMENTREP IF IT WAS ASSIGNED AN ELEMENT.","SUMMARY":"NEW MESSAGEELEMENT(NEW ELEMENT()) DOES NOT BEHAVE LIKE AN ELEMENT","CLASS":1}
{"ID_DEFECT":"AXIS-1352","DESCRIPTION":"LAST YEAR WE HAVE BUILD A WEB SERVICE FOR A CLIENT THAT NEED HIGHER PERFORMANCE. THE SERVICE WAS FIRST BUILD WITH AXIS 1.1 BUT AFTER INVESTIGATING PERFORMANCE PROBLEMS WE MOVE TO SUNS JWSDP 1.3. THE PROBLEM IS THAT THE TRANSPORT OF THE SERVICE MUST BE HTTPS. SO USING SSL SEEM TO KILLS THE PERFORMANCE OF THE SERVICE. I BUILD A TESTING ENVIRONNEMENT TO INVESTIGATE THE PROBLEM.I HAVE BUILD A SIMPLE AXIS 1.1 CLIENTSERVER SERVICE AND THE SAME SERVICE USING SUNS JWSDP 1.3.SO THE SERVERS WERE INSTALL IN TOMCAT ON THE SERVER DESCRIBE IN THE ENVIRONMENT.THE TEST CLIENTS RUNS ON WINDOWS.SINCE WE NEED TO BUILD A NEW WEB SERVICE I NEED TO KNOW IF YOU PLAN TO FIX THAT ISSUE FOR 1.2.THE SERVICE EXPOSE 10 METHODS WITH VARIABLE PARAMETER LENGTH.HERES THE RESULT:ID IS JUST AN THREAD ID.GC MEANS THE TIME TO GET THE CONNECTION ON THE SERVICE.FC IS THE FIRST CALL TO THE WEB SERVICE.M0-M9 REPRESENT THE TIME TAKEN BY EACH METHODS.TOTAL IS THE TOTAL TIME TAKEN TO INVOKE THE 10 METHODS.THE SIZE OF THE TOTAL PARAMETER USED FOR EACH METHODS IS ALSO INDICATED.USING SSL (SUNS VERSION) 1 THREADS 20 CHARS LONG 100 ITER:WSBENCHMARKING CLIENT IS STARTED AT: TUE OCT 28 17:05:56 EST 2003THE 0 THREAD IS STARTING...THE 0 THREAD IS ENDING...RESULT OF THE BENCHMARK:ID      GC      FC      M0      M1      M2      M3      M4      M5      M6      M7      M8      M9  TOTAL0       1156    984     10      9       9       11      13      16      17      25      43      91  244M0:20 BYTESM1:60 BYTESM2:140 BYTESM3:300 BYTESM4:620 BYTESM5:1260 BYTESM6:2540 BYTESM7:5100 BYTESM8:10220 BYTESM9:20460 BYTESTIME TO RUN THE BENCHMARK:27328WSBENCHMARKING CLIENT ENDED ON: TUE OCT 28 17:06:23 EST 2003USING SSL (AXISS VERSION) 1 THREADS 20 CHARS LONG 100 ITER:WSBENCHMARKING CLIENT IS STARTED AT: TUE OCT 28 16:47:42 EST 2003THE 0 THREAD IS STARTING...THE 0 THREAD IS ENDING...RESULT OF THE BENCHMARK:TIME TO CREATE THE LOCATOR: 796ID      GC      FC      M0      M1      M2      M3      M4      M5      M6      M7      M8      M9  TOTAL0       47      625     205     227     225     227     199     222     228     244     253     264 2294M0:20 BYTESM1:60 BYTESM2:140 BYTESM3:300 BYTESM4:620 BYTESM5:1260 BYTESM6:2540 BYTESM7:5100 BYTESM8:10220 BYTESM9:20460 BYTESTIME TO RUN THE BENCHMARK:231625WSBENCHMARKING CLIENT ENDED ON: TUE OCT 28 16:51:34 EST 2003HAS YOU CAN SEE THE DIFFERENCE IS BLATANT.I THINK THE DIFFERENCE IS RELATED WITH YOUR IMPLEMENTATION OF HTTPS CONNECTION THAT CLOSE THE TRANSACTION ON EACH REQUEST WHILE SUNS IMPLEMENTATION SEEM TO CLOSE IT ONLY AT THE END.THE FOLLOWING REPRESENT THE TIME TAKEN BY 200 CALLS OVER CLEAR TEXT TRANSPORT USING SUNS JWSDP 1.3:16 16 31 15 16 31 0 16 16 15 16 0 15 16 0 16 15 0 16 0 15 16 0 15 0 16 16 15 0 16 0 0 15 0 16 0 15 0 16 16 15 0 16 16 0 15 16 15 0 16 16 0 15 0 16 0 16 15 16 15 0 16 0 16 0 15 16 0 16 0 15 0 16 0 15 16 0 16 0 15 0 16 16 15 16 0 15 47 16 0 16 0 15 16 0 15 0 16 16 15 16 0 16 0 0 16 0 15 0 16 0 16 0 15 16 0 16 0 15 16 0 15 0 16 16 0 15 0 0 16 0 15 0 16 0 47 15 0 16 0 16 0 15 0 16 0 15 16 16 15 0 16 0 16 0 15 0 16 0 15 0 16 0 16 0 15 16 16 15 0 16 0 15 0 16 0 16 0 15 0 16 0 16 0 0 16 15 0 16 0 16 0 15 0 16 0 16 0 15 16 AVERAGE OF 9 MILISCALL.THE FOLLOWING REPRESENT THE TIME TAKEN BY 200 CALLS OVER CLEAR TEXT TRANSPORT USING AXIS 1.1:15 47 16 16 15 31 32 15 16 31 16 31 16 31 16 0 0 15 16 16 15 16 16 15 16 15 16 16 15 16 16 15 16 15 16 16 15 16 0 15 16 15 16 31 16 16 15 16 15 16 16 15 16 16 0 15 16 15 16 16 15 16 16 15 16 0 15 32 15 0 16 16 15 31 16 0 16 15 16 31 16 47 15 16 16 15 16 0 15 16 16 15 16 16 15 16 0 0 32 15 16 16 15 0 0 15 16 0 0 16 16 15 16 15 16 31 16 16 15 16 0 15 32 0 31 0 16 15 16 15 0 16 0 15 0 16 15 16 15 16 0 16 15 16 16 0 15 16 15 16 16 15 16 0 16 15 16 15 16 16 0 15 16 31 0 16 15 16 16 0 0 16 16 15 16 0 15 16 16 15 16 0 16 15 16 0 16 15 16 0 16 15 16 15 16 0 16 15 16 16AVERAGE 14 MILISCALL.THE FOLLOWING REPRESENT THE TIME TAKEN BY 200 CALLS OVER SSL TRANSPORT USING SUNS JWSDP 1.3:16 15 32 15 32 15 16 15 0 32 0 15 16 16 0 16 0 0 16 16 15 0 16 16 0 15 16 15 0 16 16 0 15 16 16 15 0 16 15 0 31 16 0 16 15 0 16 15 16 16 0 15 16 0 16 15 0 31 0 16 16 0 15 16 0 16 15 0 16 15 0 16 16 0 15 16 0 16 15 0 16 15 32 0 15 16 16 46 0 16 16 15 16 0 16 15 0 16 15 219 16 15 0 16 16 0 15 16 0 16 15 16 0 15 16 0 0 15 0 16 16 0 15 16 15 0 32 0 15 0 16 16 0 15 16 31 16 15 0 16 0 16 15 16 0 15 0 16 31 16 0 16 0 15 16 0 15 16 0 16 0 15 16 0 0 15 16 15 0 16 16 0 15 16 0 16 0 15 16 0 15 16 16 0 15 16 16 15 0 16 15 0 16 0 0 15 0 16 16 203 <= THE LAST CALL LOOKS LIKE EVERY AXIS ONE.AVERAGE 15 MILISCALL.THE FOLLOWING REPRESENT THE TIME TAKEN BY 200 CALLS OVER SSL TRANSPORT USING AXIS 1.1:235 203 188 187 203 219 188 203 203 187 313 187 204 218 203 188 203 203 203 188 219 187 203 203 203 204 187 203 203 203 204 328 172 203 203 203 203 188 218 203 204 187 203 203 203 204 187 219 187 203 204 203 328 172 203 203 203 203 188 203 203 375 250 266 218 203 204 187 203 203 203 204 203 218 188 187 407 203 203 203 203 219 187 188 203 203 203 203 204 203 203 187 203 204 203 203 203 203 203 188 203 312 188 219 187 203 203 187 204 187 203 203 219 188 203 218 188 187 219 188 218 204 203 187 203 188 188 297 219 203 203 203 187 266 234 204 218 188 203 203 203 188 203 203 203 203 203 203 204 187 219 187 203 313 437 250 188 203 203 203 203 203 375 422 203 203 203 204 203 203 187 203 204 203 203 203 203 203 313 343 266 203 172 187 203 203 204 187 203 203 203 204 203 203 203 187 204 203 203 203 AVERAGE 211 MILISCALL. IF YOUR NEED MORE INFORMATION LET ME KNOW.  ","SUMMARY":"PERFORMANCE USING SSL","CLASS":1}
{"ID_DEFECT":"AXIS-1355","DESCRIPTION":"THE METHOD GETASSTRING() IN SOAPPART ASSUMES THAT THE DOCUMENT IS UTF-8 ENCODED.  THIS DOES NOT WORK CORRECTLY FOR ISO-8859-1 DOCUMENTS THAT CONTAIN CHARACTERS WITH THE HIGH-ORDER BIT ON.  IF ONE CALLS GETASSTRING() ON SUCH A DOCUMENT BEFORE IT IS PARSED (E.G. IN A LOGGING HANDLER OF SOME SORT), THE DOCUMENT WILL NOT BE READ CORRECTLY -- IVE SEEN IT TRUNCATED AT THE OFFENDING CHARACTER.THE WORKAROUND IS TO ENSURE THAT ANY HANDLERS DESERIALIZE THE DOCUMENT FIRST BY MAKING SURE GETASSOAPENVELOPE() IS CALLED FIRST, AND THEN CALLING GETASSTRING().INTERESTINGLY, IF THE CURRENT FORM IS A DESERIALIZED ENVELOPE AND ONE WISHES TO HAVE THE RAW STRING FOR LOGGING PURPOSES, A SUBSEQUENT CALL TO GETASSTRING() WILL CAUSE THE ENVELOPE TO BE SERIALIZED TO A STRING.  I WOULD THINK THAT THE SOAPPART OBJECT WOULD HANG ON TO A COPY OF THE STRING REPRESENTATION INSTEAD OF SERIALIZING THE DOCUMENT IT JUST DESERIALIZED.  KEEPING THE RAW STRING AND OBJECT GRAPH IN SYNCH WOULD BE A PROBLEM HOWEVER.","SUMMARY":"SOAPPART.GETASSTRING() ASSUMES DOCUMENT IS UTF-8 ENCODED","CLASS":1}
{"ID_DEFECT":"AXIS-1356","DESCRIPTION":"WHEN A PROXY IS SET THERE IS A NPE IN COMMONSHTTPSENDER:U00A0U00A0U00A0U00A0U00A0U00A0U00A0 HTTP:XML.APACHE.ORGAXISSTACKTRACE:JAVA.LANG.NULLPOINTEREXCEPTIONU00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.TRANSPORT.HTTP.COMMONSHTTPSENDER.INVOKE(COMMONSHTTPSENDER.JAVA:145)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.STRATEGIES.INVOCATIONSTRATEGY.VISIT(INVOCATIONSTRATEGY.JAVA:32)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.SIMPLECHAIN.DOVISITING(SIMPLECHAIN.JAVA:118)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.SIMPLECHAIN.INVOKE(SIMPLECHAIN.JAVA:83)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.CLIENT.AXISCLIENT.INVOKE(AXISCLIENT.JAVA:144)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKEENGINE(CALL.JAVA:2712)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2695)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2378)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:2301)U00A0U00A0U00A0U00A0U00A0U00A0U00A0 AT ORG.APACHE.AXIS.CLIENT.CALL.INVOKE(CALL.JAVA:1762)I THINK THIS IS DUE TO THE FACT THAT THERE IS NOT HOST SET FOR HTTPHOSTCONFIGURATION.HERE IS A PATCH WHICH WORKS FOR ME:--- WS-AXISJAVASRCORGAPACHEAXISTRANSPORTHTTPCOMMONSHTTPSENDER.JAVA     FRI MAR 12 12:34:24 2004+++ WS-AXIS-DWJAVASRCORGAPACHEAXISTRANSPORTHTTPCOMMONSHTTPSENDER.JAVA  TUE MAY 11 11:40:10 2004              @@ -278,11 +300,10 @@         IF (PORT == -1)              PORT = 80;           EVEN FOR HTTPS         -        IF (TCP.GETPROXYHOST().LENGTH() == 0 ||-        TCP.GETPROXYPORT().LENGTH() == 0 ||-        HOSTINNONPROXYLIST) -            CONFIG.SETHOST(TARGETURL.GETHOST(), PORT, TARGETURL.GETPROTOCOL());-         ELSE +               CONFIG.SETHOST(TARGETURL.GETHOST(), PORT, TARGETURL.GETPROTOCOL());+        IF (TCP.GETPROXYHOST().LENGTH() > 0 &&+        TCP.GETPROXYPORT().LENGTH() > 0 &&+        !HOSTINNONPROXYLIST)              IF (TCP.GETPROXYUSER().LENGTH() != 0)                  CREDENTIALS PROXYCRED =                 NEW USERNAMEPASSWORDCREDENTIALS(TCP.GETPROXYUSER(),","SUMMARY":"COMMONSHTTPSENDER NPE WHEN PROXY IS SET","CLASS":1}
{"ID_DEFECT":"AXIS-1357","DESCRIPTION":"ELEMENT DEFINED IN SCHEMA:<ELEMENT NAME=NUMBEROFCHILDREN TYPE=XSD:INT MINOCCURS=0>WHEN USING AXIS 1.2 ALPHA:WSDL2JAVA GENERATES THIS...PRIVATE INT NUMBEROFCHILDREN;AND WHEN NOT SETTING ANY VALUE FOR THIS, THIS IS WHAT IS SENT IN THE SOAP REQUEST...<NUMBEROFCHILDREN HREF=#ID3><MULTIREF ID=ID3 SOAPENC:ROOT=0 SOAPENV:ENCODINGSTYLE=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING XSI:TYPE=XSD:INT XMLNS:SOAPENC=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENCODING>0<MULTIREF>SO THIS WORKS AS EXPECTED.BUT, WHEN USING AXIS 1.2 BETA:WSDL2JAV GENERATES THIS...PRIVATE JAVA.LANG.INTEGER NUMBEROFCHILDREN;AND WHEN NOT SETTING ANY VALUE FOR THIS, THIS IS WHAT IS SENT IN THE SOAP REQUEST...<NUMBEROFCHILDREN XSI:TYPE=XSD:INT XSI:NIL=TRUE>THIS ELEMENT WAS NOT DECLARED AS NILLABLE IN THE SCHEMA AND WHEN SENT AS NIL BLOWS UP WHEN TRYING TO DESERIALIZE.","SUMMARY":"NON NILLABLE ELEMENT SENT AS NIL","CLASS":1}
{"ID_DEFECT":"AXIS-1368","DESCRIPTION":"JAVA2WSDL GENERATES ELEMENTS WITH THE SAME QNAME FOR DOCUMENTLITERAL OR WRAPPED STYLE WEB SERVICE COMPONENTS IF MORE THAN ONE SERVICE-SPECIFIC FAULT IS PRESENT.THIS GIVES RISE TO ILL-FORMED WSDL DOCUMENTS LIKE THE ONE BELOW (THE WHOLE DOCUMENT IS ATTACHED):  <WSDL:TYPES>  <SCHEMA TARGETNAMESPACE=HTTP:BUSINESSLOGICXSDSCHEMA.WEBSERVICES.INTEGRATION.SAMPLE1>      <COMPLEXTYPE NAME=ALTURAPOSTCONDITIONEXCEPTION>        <SEQUENCE>          ...        <SEQUENCE>      <COMPLEXTYPE>      <COMPLEXTYPE NAME=ALTURAPRECONDITIONEXCEPTION>        <SEQUENCE>          ...        <SEQUENCE>      <COMPLEXTYPE>    <SCHEMA>        <SCHEMA TARGETNAMESPACE=HTTP:CWNL-C1995.NL.COMPUWARE.COM:8081SERVICESDOMAINSERVICE>      <!-- THE FOLLOWING TWO DECLARATIONS ARE ILL-FORMED -->      <ELEMENT NAME=MSG TYPE=TNS1:ALTURAPOSTCONDITIONEXCEPTION >       <ELEMENT NAME=MSG TYPE=TNS1:ALTURAPRECONDITIONEXCEPTION >     <SCHEMA>  <WSDL:TYPES>  <WSDL:MESSAGE NAME=ALTURAPOSTCONDITIONEXCEPTION>    <WSDL:PART ELEMENT=IMPL:MSG NAME=MSG >   <WSDL:MESSAGE>  <WSDL:MESSAGE NAME=ALTURAPRECONDITIONEXCEPTION>    <WSDL:PART ELEMENT=IMPL:MSG NAME=MSG >   <WSDL:MESSAGE>THE CAUSE OF THE PROBLEM IS AN OMISSION IN THE TYPES.WRITEELEMENTDECL METHOD, WHICH FAILS TO KEEP TRACK OF NAMES THAT HAVE ALREADY BEEN USED.","SUMMARY":"JAVA2WSDL GENERATES ELEMENTS WITH THE SAME QNAME IF MORE THAN ONE SERVICE-SPECIFIC FAULT IS PRESENT","CLASS":1}
{"ID_DEFECT":"AXIS-1371","DESCRIPTION":"BYTEARRAY HAS A MECHANISM IN IT TO PROVIDE A FILE AS A BACKING STORE FOR ANY ARRAYS THAT ARE LARGER THAN 8KB.  IN MOST CASES, THIS IS ALL OF MY RESPONSES.  WE ARE PASSING IMAGES BACK AS BASE64 AND WE SEE MAJOR PERFORMANCE HIT.  AFTER PERFORMANING A THREAD DUMP ON POORLY PERFORMING TESTS, WE FOUND THAT MANY THREADS WERE BLOCKED IN THE SUN FILE.CREATETEMPFILE METHOD WHICH HAS A GLOBAL MUTEX THAT IS SERIALIZING ALL OF MY SOAP RESPONSES.SOLUTION:  CHANGE BYTEARRAY TO PROVIDE A LARGER AMOUNT OF MEMORY USAGE FOR RESIDENT SIZE (LIKE 512MB COMPARED TO 8KB).  THE RESIDENT SIZE IS NOT PREALLOCATED, BUT USED TO DETERMINE WHEN TO TURN ON BACKING STORAGE.  I ALSO PROPOSE A CHANGE TO ALLOW CONTROL OVER RESIDENT SIZE, CACHE INCREMENT, ENABLEDISABLE BACKING STORE, AND A WORKING BUFFER SIZE FOR WHEN THE BACKING STORE IS WRITTEN OR READ VIA A STREAM.IN MY INTERNAL TESTS, THIS CHANGE HAS SEEN A MAJOR IMPROVEMENT ON PERFORMANCE.  AND SEEING THAT SOAPPARTS ARE USED ON THE CLIENT SIDE AS WELL, THIS MIGHT HAVE A DRAMATIC INCREASE PERFORMANCE.  MY TESTS INDICATE AT A MINIMUM OF 50% IMPROVEMENT.   I WAS ABLE TO DOUBLE MY TEST THROUGHPUT AFTER MAKING THIS CHANGE.I HAVE A WORKING BYTEARRAY CODED THAT INCLUDES MY CHANGES AND I CAN SEND IT IF YOU WANT IT.","SUMMARY":"BYTEARRAY CAUSES PERFORMANCE DEGRADATION","CLASS":1}
{"ID_DEFECT":"AXIS-1372","DESCRIPTION":"IM TRYING TO SET UP MY WAR, WITH CONTEXT ROOT MYAPPMYWAR, WITH THEDEFAULT SERVLET BEING THE AXISSERVLET FROM APACHE AXIS 1.1.  IM DOING THIS ON WEBSPHERE 4.0 (RIGHT NOW, EXPERIMENTING IN WSAD 5. 1WITH THE WAS4 TEST ENVIRONMENT).MY ATTEMPT WAS TO SET THE SERVLET MAPPING FOR AXISSERVLET TO BE JUST .  THIS IS HOW WEBSPHERES DOCUMENTATION SAYS ONE SHOULD SET UP A DEFAULT SERVLET MAPPING.  HOWEVER, WHEN I ATTEMPT TO REACH MY SERVICE LIKE SO...    HTTP:LOCALHOST:8080MYAPPMYWARMYSERVICE...AXIS COMPLAINS THAT IT CANT FIND THE SERVICE NAME YSERVICE.  NOTICE THE M IS MISSING FROM THE BEGINNING.  INTERESTINGLY, USING THE FOLLOWING URLS WILL WORK:    HTTP:LOCALHOST:8080MYAPPMYWARXMYSERVICE    HTTP:LOCALHOST:8080MYAPPMYWARAMYSERVICE    HTTP:LOCALHOST:8080MYAPPMYWAR&MYSERVICE    HTTP:LOCALHOST:8080MYAPPMYWAR.MYSERVICE    ...SO, I TRIED MAPPING FOO* TO AXISSERVLET, AND USED THE FOLLOWING URL WITH SUCCESS:    HTTP:LOCALHOST:8080MYAPPMYWARFOOMYSERVICEATTEMPTING TO USE * AS THE MAPPING FAILS, AND THE DOCUMENTATION EVEN STATES THAT THIS IS NOT THE WAY TO MAP A DEFAULT SERVLET (THE FIRST WAY IS).SO, IM THINING THIS IS A BUG IN AXIS WHEN THE DEFAULT SERVLET MAPPIGN IS USED -- IT SEEMS TO BE MISCALCULATING HOW MUCH OF THE URL TO CHOP OFF TO FIND THE SERVICE NAME.","SUMMARY":"DEFAULT SERVLET MAPPING FOR AXISSERVLET BREAKS SERVICE NAMES","CLASS":1}
{"ID_DEFECT":"AXIS-1373","DESCRIPTION":"JWSHANDLER CAN BE CONFIGURED TO USE A DIFFERENT EXTENSION THAN .JWS BUT ASSUMES THAT THE EXTENSION HAS A FIXED LENGTH OF FOUR (PERIOD PLUS 3 LETTERS).WHEN THE JAVA COMPILER IS CALLED WITH THE GENERATED FILENAME IT COMPLAINS SINCE THE FILE NAME DOESNT END IN .JAVA.SEE THE DEBUGGING OUTPUT FOR AN EXAMPLE.---- LOGGING OUTPUT OF JWSHANDLER ----2004-05-28 18:56:30,655 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - ENTER: JWSHANDLER::INVOKE2004-05-28 18:56:30,657 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - EXIT: JWSHANDLER::INVOKE2004-05-28 18:56:30,657 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - ENTER: JWSHANDLER::INVOKE2004-05-28 18:56:30,658 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - JWSFILE: PUBA1000BIOERNSOFTWAREJAKARTA-TOMCAT-5.0.16WEBAPPSWSJMSECHOHEADERS.FOOBAR2004-05-28 18:56:30,658 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - JFILE: PUBA1000BIOERNSOFTWAREJAKARTA-TOMCAT-5.0.16WEBAPPSWSJMSWEB-INFJWSCLASSESECHOHEADERS.FOOJAVA2004-05-28 18:56:30,658 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - CFILE: PUBA1000BIOERNSOFTWAREJAKARTA-TOMCAT-5.0.16WEBAPPSWSJMSWEB-INFJWSCLASSESECHOHEADERS.FOOCLASS2004-05-28 18:56:30,659 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - OUTDIR: PUBA1000BIOERNSOFTWAREJAKARTA-TOMCAT-5.0.16WEBAPPSWSJMSWEB-INFJWSCLASSES2004-05-28 18:56:30,659 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - CLSNAME: ECHOHEADERS.FO2004-05-28 18:56:30,660 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - COMPILING:  PUBA1000BIOERNSOFTWAREJAKARTA-TOMCAT-5.0.16WEBAPPSWSJMSECHOHEADERS.FOOBAR2004-05-28 18:56:30,660 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - COPY PUBA1000BIOERNSOFTWAREJAKARTA-TOMCAT-5.0.16WEBAPPSWSJMSECHOHEADERS.FOOBAR PUBA1000BIOERNSOFTWAREJAKARTA-TOMCAT-5.0.16WEBAPPSWSJMSWEB-INFJWSCLASSESECHOHEADERS.FOOJAVA2004-05-28 18:56:30,668 DEBUG [HTTP8080-PROCESSOR23]           JWSHANDLER - JAVAC PUBA1000BIOERNSOFTWAREJAKARTA-TOMCAT-5.0.16WEBAPPSWSJMSWEB-INFJWSCLASSESECHOHEADERS.FOOJAVA2004-05-28 18:56:31,097 ERROR [HTTP8080-PROCESSOR23]           JWSHANDLER - EXCEPTION:...","SUMMARY":"JWSHANDLER: WRONG HANDLING OF CONFIGURABLE FILENAME EXTENSION","CLASS":1}
{"ID_DEFECT":"AXIS-1376","DESCRIPTION":"I HAVE A DOCUMENTLITERAL WRAPPED AXIS SERVICE. IT RETURNS AN INT []. SOMETIMES THAT ARRAY IS OF LENGTH 1.I GENERATED AN AXIS CLIENT FROM THE WSDL. THE SIGNATURE OF THE CLIENT METHOD IS  PUBLIC INT[] GETFOO(INT BAR);IF I CALL THIS METHOD ON THE CLIENT AND THE SERVER RETURNS AN ARRAY OF LENGTH 1, I GET A CLASSCASTEXCEPTION ON THIS LINE OF GENERATED CODE:  RETURN (INT[]) ORG.APACHE.AXIS.UTILS.JAVAUTILS.CONVERT(_RESP, INT[].CLASS);IT WORKS FINE WITH LONGER ARRAYS.I SUSPECT THAT SOMEWHERE EARLIER IN THE DESERIALIZATION AXIS GUESSED THAT THE OBJECT WAS NOT AN INT [], BUT A PLAIN INT INSTEAD. TWO SUGGESTED FIXES:HACK JAVAUTILS.CONVERT() TO DEAL WITH COVERTING INT -> INT[1] WHEN NEEDED.MODIFY AXIS DESERIALIZATION STRATEGY SO IT USES THE TYPE INFORMATION IN THE WSDL TO CONSTRUCT THE OBJECTS.","SUMMARY":"WSDL-GENERATED CLIENT CANT HANDLE ARRAYS OF LENGTH 1","CLASS":1}
{"ID_DEFECT":"AXIS-1377","DESCRIPTION":"AXIS ADDS NEW LINES AND OTHER ISSUES TO SOAP MESSAGES. THIS IS A PROBLEM SINCE I SEND A SIGNED XML FILE VIA SOAP TO AN WEBSERVICE. JUST THE XML FILE IS SIGNED NOT THE WHOLE SOAP MESSAGE. THE WEBSERVICE CANT VERIFY THE SIGNATURE SINCE THE NEWLINES ARE ADDED. I DEBUGGED THE CODE AND FOUND THE PROBLEM. CLASS SOAPENVELOPE FOR INSTANCE SETS THE FLAG PRETTY IN ORG.APACHE.AXIS.ENCODING.SERIALIZATIONCONTEXTIMPL  BEFORE THE CONTENT IS SERIALIZED, THAT CAUSES THE TROUBLE.  THIS IS HARDCODED SO I HAD TO RECOMPILE SOME PARTS TO GET IT WORKING. THIS FLAG PRETTY IN SERIALIZATIONCONTEXTIMPL MIGHT MAKE SENSE IN SOME CASES. BUT IT WOULD BE BETTER THAT YOU CAN DISABLE IT FROM THE OUTSIDE SOMEHOW. THE CODE IN 1.2BETA LOOKS PRETTY MUCH THE SAME SO THE ISSUE IS PROBABLY ALSO THERE.CHEERSMARCEL","SUMMARY":"NEWLINES, INDENTION .. ADDED TO SOAP MESSAGES -> BREAKS XML SIGNATURE","CLASS":1}
{"ID_DEFECT":"AXIS-1378","DESCRIPTION":"I AM TRYING TO DEPLOY DEPLOY.WSDD FILE USING ADMIN SERVLET.WHEN A CLASS THAT DEFINED IN DEPLOY.WSDD (IN MY CASE ITS IN TYPE MAPPING ELEMENT) COULD NOT BE FOUND BY THE AXIS ENGINE, NOTHING IS REPORTED TO THE USER. THE USER HAVE NO IDEA WHY THE SERVICE HAS NOT BEEN DEPLOYED. HE EVEN DOESNT KNOW IF THE SERVICE IS DEPLOYED OR NOT. I HAVE TO GO TO HTTP:<MYHOST><MYAPP>SERVICES TO SEE IF IT HAS BEEN DEPLOYED.THE SOLUTION IS VERY SIMPLE!!!AFTER A FEW HOURS OF DEBUGGING I HAVE FOUND THAT IN CLASS ORG.APACHE.AXIS.DEPLOYMENT.WSDD.WSDDDEPLOYMENT LINE 245 (ITS IN THE CONSTRUCTOR) THERE IS AN EMPTY CATCH (WSDDNONFATALEXCEPTION EX) BLOCK. I THINK THAT AT LEAST A WARNING MESSAGE WITH THE CAUSE TO THE EXCEPTION SHOULD BE WRITTEN TO THE LOG. IN MY CASE THE PROBLEM WAS: CLASSCASTEXCEPTION ALONG WITH THE MISSING CLASS. HAVING THIS PIECE OF INFORMATION CAUSED ME TO SOLVE THE PROBLEM IMMEDIATLLY.A BETTER SOLUTION SHOULD RETURN THE FAILURE DETAILS TO THE USER VIA THE WEB SERVICE RESPONSE. BUT A LOG LINE IS THE EASIEST MINIMUM YOU CAN DO TO SOLVE THIS BUG.","SUMMARY":"NO INFORMATION IS RETURNED TO USER WHEN DEPLOYMENT FAILED","CLASS":1}
{"ID_DEFECT":"AXIS-1380","DESCRIPTION":"WHEN SETTING A OBJECTMESSAGE USING A WEBSERVICE STUB CLASS A OBJECT IS NOT SERIALIZABLE ERROR OCCURRS.  THIS IS BECAUSE THE ORG.APACHE.DESCRIPTION FAULTDESC.CLASS AND OPERATIONDESC.CLASS DO NOT IMPLEMENT THE JAVA.IO.SERIALIZABLE INTERFACE.","SUMMARY":"OBJECTMESSAGE.SETOBJECT FAILS W SERIALIZABLE ERROR","CLASS":1}
{"ID_DEFECT":"AXIS-1381","DESCRIPTION":"I GET AN DESERIALIZATION EXCEPTION WHEN A SPECIFY AN EMPTY TAG FOR A DATE FIELD. I LOOKED AT THE SOURCE CODE AND THINK I HAVE FOUND THE PROBLEM -  THE PARSE CREATES AN EMPTY STRING FOR THE EMPTY TAG. BUT THE DESERIALIZER DOESNT TAKE THAT INTO ACCOUNT. CLASS ORG.APACHE.AXIS.ENCODING.SER.CALENDARDESERIALIZER************ PUBLIC OBJECT MAKEVALUE(STRING SOURCE) ^M        CALENDAR CALENDAR = CALENDAR.GETINSTANCE();^M        DATE DATE;^M        BOOLEAN BC = FALSE;^M^M         VALIDATE FIXED PORTION OF FORMAT^M        IF ( SOURCE != NULL ) ^M            IF (SOURCE.CHARAT(0) == +)^M                SOURCE = SOURCE.SUBSTRING(1);^M^M            IF (SOURCE.CHARAT(0) == -) ^M                SOURCE = SOURCE.SUBSTRING(1);^M                BC = TRUE;^M            ^M^M            JAVA.LANG.STRINGINDEXOUTOFBOUNDSEXCEPTION: STRING INDEX OUT OF RANGE: 0        AT JAVA.LANG.STRING.CHARAT(STRING.JAVA:516)        AT ORG.APACHE.AXIS.ENCODING.SER.CALENDARDESERIALIZER.MAKEVALUE(CALENDARDESERIALIZER.JAVA:63)        AT ORG.APACHE.AXIS.ENCODING.SER.SIMPLEDESERIALIZER.ONENDELEMENT(SIMPLEDESERIALIZER.JAVA:175)        AT ORG.APACHE.AXIS.ENCODING.DESERIALIZERIMPL.ENDELEMENT(DESERIALIZERIMPL.JAVA:505)        AT ORG.APACHE.AXIS.ENCODING.DESERIALIZATIONCONTEXTIMPL.ENDELEMENT(DESERIALIZATIONCONTEXTIMPL.JAVA:1053)        AT ORG.APACHE.AXIS.MESSAGE.SAX2EVENTRECORDER.REPLAY(SAX2EVENTRECORDER.JAVA:165)        AT ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.PUBLISHTOHANDLER(MESSAGEELEMENT.JAVA:1050)        AT ORG.APACHE.AXIS.MESSAGE.RPCELEMENT.DESERIALIZE(RPCELEMENT.JAVA:196)        AT ORG.APACHE.AXIS.MESSAGE.RPCELEMENT.GETPARAMS(RPCELEMENT.JAVA:310)        AT ORG.APACHE.AXIS.PROVIDERS.JAVA.RPCPROVIDER.PROCESSMESSAGE(RPCPROVIDER.JAVA:145)        AT ORG.APACHE.AXIS.PROVIDERS.JAVA.JAVAPROVIDER.INVOKE(JAVAPROVIDER.JAVA:290)        AT ORG.APACHE.AXIS.STRATEGIES.INVOCATIONSTRATEGY.VISIT(INVOCATIONSTRATEGY.JAVA:32)        AT ORG.APACHE.AXIS.SIMPLECHAIN.DOVISITING(SIMPLECHAIN.JAVA:118)        AT ORG.APACHE.AXIS.SIMPLECHAIN.INVOKE(SIMPLECHAIN.JAVA:83)        AT ORG.APACHE.AXIS.HANDLERS.SOAP.SOAPSERVICE.INVOKE(SOAPSERVICE.JAVA:481)        AT ORG.APACHE.AXIS.SERVER.AXISSERVER.INVOKE(AXISSERVER.JAVA:285)        AT ORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLET.DOPOST(AXISSERVLET.JAVA:623)        AT JAVAX.SERVLET.HTTP.HTTPSERVLET.SERVICE(HTTPSERVLET.JAVA:760)        AT ORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLETBASE.SERVICE(AXISSERVLETBASE.JAVA:301)        AT JAVAX.SERVLET.HTTP.HTTPSERVLET.SERVICE(HTTPSERVLET.JAVA:853)        AT WEBLOGIC.SERVLET.INTERNAL.SERVLETSTUBIMPL.INVOKESERVLET(SERVLETSTUBIMPL.JAVA:275)        AT WEBLOGIC.SERVLET.INTERNAL.SERVLETSTUBIMPL.INVOKESERVLET(SERVLETSTUBIMPL.JAVA:199)        AT WEBLOGIC.SERVLET.INTERNAL.WEBAPPSERVLETCONTEXT.INVOKESERVLET(WEBAPPSERVLETCONTEXT.JAVA:2702)        AT WEBLOGIC.SERVLET.INTERNAL.SERVLETREQUESTIMPL.EXECUTE(SERVLETREQUESTIMPL.JAVA:2427)        AT WEBLOGIC.KERNEL.EXECUTETHREAD.EXECUTE(EXECUTETHREAD.JAVA:159)        AT WEBLOGIC.KERNEL.EXECUTETHREAD.RUN(EXECUTETHREAD.JAVA:140)","SUMMARY":"DESERIALIZATION EXCEPTION WHEN A SPECIFY AN EMPTY TAG FOR A DATE FIELD","CLASS":1}
{"ID_DEFECT":"AXIS-1382","DESCRIPTION":"SEE HTTP:MARC.THEAIMSGROUP.COM?T=108634258100002&R=1&W=2 FOR DETAILS","SUMMARY":"FAILURE TO GENERATE CODE FOR WS-TRUST.WSDL","CLASS":1}
{"ID_DEFECT":"AXIS-1385","DESCRIPTION":"I HAVE A SERVICE WHERE I DEFINE IN DEPLOY.WSDD A SPECIAL ENDPOINTURL (HTTP:....AXISPROTECTED...). IN THE LIST OF DEPLOYED SERVICES MY SERVICE APPEARS BUT WITH THE AXIS STANDARD BASEURL (..AXISSERVICES). THIS IS BECAUSE IN AXISSERVLET.REPOPRTAVAILABLESERVICES() IN LINE 455        STRING BASEURL = GETWEBAPPBASE(REQUEST)+SERVICES;THE BASEURL WILL BE ASSUMED TO BE VALID FOR ALL SERVICES. THE CONFIGURATION OF THE SERVICES WILL NOT BE CHECKED.","SUMMARY":"DEFINED ENDPOINTURL WILL NOT BE USED INLIST OF DEPLOYED SERVICES","CLASS":1}
{"ID_DEFECT":"AXIS-1388","DESCRIPTION":"WS-AXISCONTRIBEWSPROJECT.XML FILE REFERS TO UNEXISTANT DIRECTORIES (SRCJAVA, SRCTEST, ...)1.A SIMPLE SOLUTION IS TO CHANGE DIRECTORIES IN PROJECT.XML<SOURCEDIRECTORY>SRC<SOURCEDIRECTORY><UNITTESTSOURCEDIRECTORY>TEST<UNITTESTSOURCEDIRECTORY>BUT WE ARE NO MORE IN A MAVEN STYLE PROJECT!2.OR WE MOVE SRC* INSIDE SRCJAVA AND TEST* INTO SRCTEST . BUT THAT REMOVE A LOT OF FILES AND POLLUTE THE CVS.SOLUTION 1 IS EASIER TO DO :)WHAT DO YOU THINK?","SUMMARY":"[EWS] EWS MODULE CANT COMPILE SINCE CODE MOVE TO AXISCONTRIB","CLASS":1}
{"ID_DEFECT":"AXIS-1396","DESCRIPTION":"WSDL:<COMPLEXTYPE NAME=IASNUMERICFORMAT><SEQUENCE>  <ELEMENT NAME=CURRENCYSYMBOL NILLABLE=TRUE TYPE=XSD:STRING >   <ELEMENT NAME=DECIMALSYMBOL NILLABLE=TRUE TYPE=XSD:STRING >   <ELEMENT NAME=DECIMALS NILLABLE=TRUE TYPE=XSD:INT >   <ELEMENT NAME=GROUPINGSYMBOL NILLABLE=TRUE TYPE=XSD:STRING >   <ELEMENT NAME=NEGATIVEFORMAT NILLABLE=TRUE TYPE=TNS13:IASNEGATIVEFORMAT >   <ELEMENT NAME=PREFIXCURRENCYSYMBOL NILLABLE=TRUE TYPE=XSD:BOOLEAN >   <ELEMENT NAME=SCALE NILLABLE=TRUE TYPE=TNS13:IASNUMERICSCALE >   <ELEMENT NAME=TYPE NILLABLE=TRUE TYPE=TNS13:IASNUMERICFORMATTYPE > <SEQUENCE><COMPLEXTYPE>GENERATED:** * IASNUMERICFORMAT.JAVA * * THIS FILE WAS AUTO-GENERATED FROM WSDL * BY THE APACHE AXIS 1.2BETA JUN 15, 2004 (03:31:55 CEST) WSDL2JAVA EMITTER. *PACKAGE SOAPCLIENT;PUBLIC CLASS IASNUMERICFORMAT  IMPLEMENTS JAVA.IO.SERIALIZABLE     PRIVATE JAVA.LANG.STRING CURRENCYSYMBOL;    PRIVATE JAVA.LANG.STRING DECIMALSYMBOL;    PRIVATE JAVA.LANG.INTEGER DECIMALS;    PRIVATE JAVA.LANG.STRING GROUPINGSYMBOL;    PRIVATE IASNEGATIVEFORMAT NEGATIVEFORMAT;    PRIVATE JAVA.LANG.BOOLEAN PREFIXCURRENCYSYMBOL;    PRIVATE IASNUMERICSCALE SCALE;    PRIVATE IASNUMERICFORMATTYPE TYPE;    PUBLIC IASNUMERICFORMAT()         PUBLIC IASNUMERICFORMAT(           JAVA.LANG.STRING CURRENCYSYMBOL,           JAVA.LANG.STRING DECIMALSYMBOL,           INT DECIMALS,           JAVA.LANG.STRING GROUPINGSYMBOL,           IASNEGATIVEFORMAT NEGATIVEFORMAT,           BOOLEAN PREFIXCURRENCYSYMBOL,           IASNUMERICSCALE SCALE, IASNUMERICFORMATTYPE TYPE)         THIS.CURRENCYSYMBOL = CURRENCYSYMBOL;        THIS.DECIMALSYMBOL = DECIMALSYMBOL;        THIS.DECIMALS = DECIMALS;        THIS.GROUPINGSYMBOL = GROUPINGSYMBOL;        THIS.NEGATIVEFORMAT = NEGATIVEFORMAT;        THIS.PREFIXCURRENCYSYMBOL = PREFIXCURRENCYSYMBOL;        THIS.SCALE = SCALE;        THIS.TYPE = TYPE;    ERROR:    [JAVAC] IASNUMERICFORMAT.JAVA:34: INCOMPATIBLE TYPES    [JAVAC] FOUND   : INT    [JAVAC] REQUIRED: JAVA.LANG.INTEGER    [JAVAC]         THIS.DECIMALS = DECIMALS;    [JAVAC]                         ^    [JAVAC] IASNUMERICFORMAT.JAVA:37: INCOMPATIBLE TYPES    [JAVAC] FOUND   : BOOLEAN    [JAVAC] REQUIRED: JAVA.LANG.BOOLEAN    [JAVAC]         THIS.PREFIXCURRENCYSYMBOL = PREFIXCURRENCYSYMBOL;    [JAVAC]                                     ^","SUMMARY":"COMPILE ERROR ON CONSTRUCTOR CREATED WITH WSDL2JAVA","CLASS":1}
{"ID_DEFECT":"AXIS-1400","DESCRIPTION":"ILL ATTACH SOME TEST CLASSES.SHORT DESCRIPTION: NOT ALL BEANMAPPINGS DEFINED IN SERVER-CONFIG.WSDD ARE INCLUDED IN THE WSDL. CLASSESTYPES THAT THAT ARE NOT DIRECTLY USED ARE LEFT OUT. THIS WAS NOT A PROBLEM IN AXIS 1.1, ONLY 1.2 (CVS).SAMPLE DESCRIPTION:BASEOBJECT: SIMPLE CLASSDERIVEDOBJECT: EXTENDS BASEOBJECTSEARCHRESULT: CONTAINS AN ARRAY OF BASEOBJECTSEARCHOBJECTS: HAS METHOD SEARCH THAT RETURNS SEARCHOBJECTDEPLOY.WSDDSERVER-CONFIG.WSDD: USED TO DEPLOY SERVICE.SEARCHSERVICE.WSDL: RESULT OF DEPLOYING THE ABOVE CLASSES ON TOMCAT AND GOING TO HTTP:LOCALHOST:8080AXISSERVICESSEARCHSERVICE?WSDLSEARCHSERVICE DOES NOT CONTAIN THE TYPE DERIVEDOBJECT.","SUMMARY":"SERVLET WSDL GENERATOR DOES NOT INCLUDE ALL TYPES IN WSDL. (REGRESSION SINCE 1.1)","CLASS":1}
{"ID_DEFECT":"AXIS-1402","DESCRIPTION":"WHEN WE CALL THE HASCHILDNODES METHOD OF THE MESSAGEELEMENT WHEN IT HAS GOT NO CHILDREN THEN IT THROWS NULL POINTER EXCEPTION.CHANGING THE FOLLOWING LINE IN MESSAGEELEMENT WILL FIX THE PROBLEM.     PUBLIC BOOLEAN HASCHILDNODES() -        RETURN CHILDREN.SIZE() > 0;+        RETURN CHILDREN != NULL && CHILDREN.SIZE() > 0;     ","SUMMARY":"NULLPOINTER WHEN HASCHILDNODES IS CALLED ON MESSAGEELEMENT HAVING NO CHILDREN","CLASS":1}
{"ID_DEFECT":"AXIS-1403","DESCRIPTION":"I AM USING AXIS WITH THE MESSAGE STYLE, I.E. I ONLY IMPLEMENT A SIMPLE CLASSTHAT IMPLEMENTS A METHOD      PUBLIC DOCUMENT <ANYNAME> ( DOCUMENT DOCUMENT )THE METHOD CURRENTLY ONLY RETURNS THE DOCUMENT THAT HAS BEEN SENDED. THE REQUEST I AM SENDING LOOKS LIKE:    <FOO>BAR<FOO>BUT WHEN I TRY TO RETRIEVE THE BAR WITH:   DOMELEMENT.GETFIRSTCHILD()OR CHECK IF THERE ARE CHILDREN WITH:   DOMELEMENT.GETCHILDNODES().GETLENGTH()THE RETURN VALUE IS 0 (HASCHILDREN() THROWS A NULLPOINTEREXCEPTION).FUNNY THING IS THAT    SYSTEM.OUT.PRINTLN(DOMELEMENT)PRINTS <FOO>BAR<FOO>.I THEN TRIED TO DEBUG MESSAGEELEMENT, BUT DID NOTGET VERY FAR. THE INTERNAL CHILDREN LIST IS EMPTYOR EVEN NOT YET CREATED.AND WHEN I TRIED TO DEBUG THE #TOSTRING() METHODI GOT LOST.SINCE MESSAGEELEMENT CLAIMS TO IMPLEMENT ORG.W3C.DOM.ELEMENT INTERFACE, IT SHOULD CONTAIN A SINGLE CHILD ELEMENT (A TEXT NODE).","SUMMARY":"CALLING MESSAGEELEMENT#GETCHILDREN WITH A TEXT-ONLY CONTENT RETURNS AN EMPTY LIST","CLASS":1}
{"ID_DEFECT":"AXIS-1404","DESCRIPTION":"FINAL SOAPELEMENT BODYELEMENT = BODY.ADDCHILDELEMENT(BODYNAME);HERE ADDING AN ELEMENT TO THE SOAP BODY DOESNOT ADD THE ELEMENT TO THE BODYS INTERNAL LIST.AFTER ADDING THIS INVOKING BODY.HASCHILDNODES() WILL RETURN FALSE.I GUESS THIS CANT BE A FEATURE AS THE NAME OF THE METHOD SUGGESTS THAT ADDCHILDELEMENT SHOULD ADD THE ELEMENT. AND THIS IS SURELY DIFFERENT SUNS SAAJ-RI PACKAGED WITH JWSDP1.3.","SUMMARY":"ADDING A CHILD ELEMENT DOES NOT ADD THE ELEMENT","CLASS":1}
{"ID_DEFECT":"AXIS-1412","DESCRIPTION":"SOAPPART.GETDOCUMENTELEMENT().GETOWNERDOCUMENT()); RETURNS NULL. THIS CAUSES SOME PROBLEMS WITH WSS4J.I WILL BE ATTACHING A JUNIT CASE FOR THIS","SUMMARY":"INVOKING GETOWNERDOCUMENT ON SOAPENVELOPE RETURNS NULL","CLASS":1}
{"ID_DEFECT":"AXIS-1415","DESCRIPTION":"I HAVE WRITTEN A SIMPLE CLASS FILE TO ILLUSTRATE THIS PROBLEM WHICH I WILL ATTACH SOON AFTER COMITTING THIS BUG.THE PROBLEM IS THAT WHEN A MESSAGE IS CREATED USING AN INPUT STREAM AND1. SOME HEADER ELEMENT IS ADDED TO IT, CREATING ELEMENT USING SOAPFACTORY    A. AND THE MESSAGE IS SERIALIZED USING SOAPMESSAGE.WRITETO() METHOD    B. AND THE MESSAGE IS SERIALIZED USING XMLUTILS.DOCUMENTTOSTRING()2. SOME HEADER ELEMENT IS ADDED, CREATED BY USING HEADER.GETOWNERDOCUMENT().CREATEELEMENTNS (THIS NEEDS AXIS-1412 BUG TO BE FIXED FIRST). THIS IS HOW WSSECURITY WORKS.    A. AND THE MESSAGE IS SERIALIZED USING SOAPMESSAGE.WRITETO() METHOD    B. AND THE MESSAGE IS SERIALIZED USING XMLUTILS.DOCUMENTTOSTRING()IN ALL THE FOUR ONE GETS DIFFERENT SERIALIZED VERSION, WHEN THE DOM IS  THE SAME.BECAUSE OF CONDITION 2.A NONE HANDLER CODE USING WSS4J CODE IS NOT WORKING.   ","SUMMARY":"SOME PROBLEM WILL ISDIRTY FLAG","CLASS":1}
{"ID_DEFECT":"AXIS-1416","DESCRIPTION":"#1 SAX RECORDED EVENTS     AXIS USES A SERIALIZERDESERIALISER BASED ON SAX EVENTS. THE RECORDED EVENTS ARE STORED WITH THE SOAPELEMENT.  ON SERIALIZATION THE SOAPELEMENT WILL SIMPLY PLAYBACK THE EVENTS IF THE ELEMENT IS NOT MARKED DIRTY.      A JAXRPC HANDLER IS ALLOWED TO VIEW AND MODIFY SOAP HEADERS AND BODY. FOR THAT IT CAN USE THE SAAJ API OR EVEN THE DOM API   ON JAVAX.XML.SOAP.NODE OBJECTS.     WHEN A CLIENT MAKES THESE MODIFICATIONS, THEY ARE NOT REFLECTED IN THE AXIS INTERNAL REPRESENTATION OF THE SOAP MESSAGE.  THIS IS ESPECIALLY TRUE FOR RPCELEMENT, WHICH KEEPS AN INTERNAL LIST OF RPCPARAM OBJECTS, WHICH ARE NOT LINKED TO SOAPELEMENT.  #2 GENERAL SOAP TREE REPRESENTATION    AXIS IS MISSING THE NOTION OF JAVAX.XML.SOAP.NODE, INSTEAD IT MODELS JAVAX.XML.SOAP.TEXT AS JAVAX.XML.SOAP.SOAPELEMENT.   IM HAVING A HARD TIME TRYING TO KEEP ALL THE VARIOUS SOAPELEMENT REPRESENTATIONS IN SYNC. FOR JBOSS-WS4EE I STARTED A EFACTORING EFFORT THAT WOULD BASE SOAPELEMENTIMPL ON NODEIMPL WHICH IMPLEMENTS THE ORG.W3C.DOM.NODE INTERFACE.     ALL INFORMATION ABOUT NAMESPACES, ATTRIBUTES, PARENTCHILD RELATIONSHIPS SHOULD BE TAKEN FROM THE DOM TREE.  SERIALIZATIONDESERIALIZATION WOULD BE BASED ON THE DOM TREE AS WELL.","SUMMARY":"USING SAAJ-1.2 API TO MODIFY THE SOAP HEADERBODY CONTENT","CLASS":1}
{"ID_DEFECT":"AXIS-1418","DESCRIPTION":"THERE IS A BUG IN THE FOLLOWING METHOD OF ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.PROTECTED NODELIST GETELEMENTSNS(ORG.W3C.DOM.ELEMENT PARENT,                            STRING NAMESPACEURI, STRING LOCALNAME)........ ELEMENT CHILD = (ELEMENT)NODE; IF(! (CHILD INSTANCEOF TEXT))........IN THIS METHOD THE NODE IS FIRST CAST INTO ELEMENT CLASS AND THEN THE CHECK FOR TEXT NODE IS BEING CARRIED OUT. SINCE TEXT NODE INTERFACE DOESNOT EXTEND ELEMENT NODE INTERFACE YOU MAY GET CLASSCASTEXCEPTION. TO FIX THIS THE CASTING SHOULD BE DONE WITHIN THE IF BLOCK.","SUMMARY":"TEXT NOT AN ELEMENT : CLASSCASTEXCEPTION","CLASS":1}
{"ID_DEFECT":"AXIS-1426","DESCRIPTION":"FOR THE WSDLHTTP:SELLERCENTRAL.AMAZON.COMHELPMERCHANT_DOCUMENTSPROGRAMSMERCHANTS-API-INTEGRATION-1.3.WSDLGENERATING THE JAVA CODE WITH THE FOLLOWING ANT TARGET:  <TARGET NAME=WSDL2JAVA>    <AXIS-WSDL2JAVA        OUTPUT=$STUBSRC.DIR        URL=$LOCAL.WSDL DEBUG=TRUE VERBOSE=TRUE>      <MAPPING          NAMESPACE=NSMERCHANTDATAEXCHANGE          PACKAGE=COM.FOO.BAR.BAZ >    <AXIS-WSDL2JAVA>  <TARGET>PRODUCES:[AXIS-WSDL2JAVA] RUNNING WSDL2JAVAANTTASK WITH PARAMETERS:[AXIS-WSDL2JAVA]        VERBOSE:TRUE[AXIS-WSDL2JAVA]        DEBUG:TRUE[AXIS-WSDL2JAVA]        SERVER-SIDE:FALSE[AXIS-WSDL2JAVA]        SKELETONDEPLOY:FALSE[AXIS-WSDL2JAVA]        HELPERGEN:FALSE[AXIS-WSDL2JAVA]        FACTORY:NULL[AXIS-WSDL2JAVA]        TESTCASE:FALSE[AXIS-WSDL2JAVA]        NOIMPORTS:FALSE[AXIS-WSDL2JAVA]        NSTOPKG:NSMERCHANTDATAEXCHANGE=COM.ELUXURY.AMAZON.DATAEXCHANGE[AXIS-WSDL2JAVA]        OUTPUT:C:HOMEWSARGENTWORKAMAZONSTUBSRC[AXIS-WSDL2JAVA]        DEPLOYSCOPE:[AXIS-WSDL2JAVA]        URL:FILE:HOMEWSARGENTWORKAMAZONETCMERCHANTS-API-INTEGRATION.WSDL[AXIS-WSDL2JAVA]        ALL:FALSE[AXIS-WSDL2JAVA]        TYPEMAPPINGVERSION:1.1[AXIS-WSDL2JAVA]        TIMEOUT:45000[AXIS-WSDL2JAVA]        FAILONNETWORKERRORS:FALSE[AXIS-WSDL2JAVA]        PRINTSTACKTRACEONFAILURE:TRUE[AXIS-WSDL2JAVA]        NAMESPACEMAPPINGFILE:NULL[AXIS-WSDL2JAVA]        USERNAME:NULL[AXIS-WSDL2JAVA]        :PASSWORDNULL[AXIS-WSDL2JAVA]        HTTP.PROXYHOST=NULL[AXIS-WSDL2JAVA]        HTTP.PROXYPORT=NULL[AXIS-WSDL2JAVA]        HTTP.PROXYUSER=NULL[AXIS-WSDL2JAVA]        HTTP.PROXYPASSWORD=NULL[AXIS-WSDL2JAVA]        SOCKS.PROXYHOST=NULL[AXIS-WSDL2JAVA]        SOCKS.PROXYPORT=NULL[AXIS-WSDL2JAVA] JAVA.LANG.NULLPOINTEREXCEPTION[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.TOJAVA.UTILS.GETNEWQNAME(UTILS.JAVA:704)[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.TOJAVA.JAVASTUBWRITER.WRITEOPERATIONMAP(JAVASTUBWRITER.JAVA:430)[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.TOJAVA.JAVASTUBWRITER.WRITEFILEBODY(JAVASTUBWRITER.JAVA:165)[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.TOJAVA.JAVAWRITER.GENERATE(JAVAWRITER.JAVA:148)[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.TOJAVA.JAVABINDINGWRITER.GENERATE(JAVABINDINGWRITER.JAVA:141)[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.TOJAVA.JAVAGENERATORFACTORY$WRITERS.GENERATE(JAVAGENERATORFACTORY.JAVA:284)[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.GEN.PARSER.GENERATE(PARSER.JAVA:328)[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.GEN.PARSER.ACCESS$000(PARSER.JAVA:82)[AXIS-WSDL2JAVA]        AT ORG.APACHE.AXIS.WSDL.GEN.PARSER$WSDLRUNNABLE.RUN(PARSER.JAVA:246)[AXIS-WSDL2JAVA]        AT JAVA.LANG.THREAD.RUN(THREAD.JAVA:534)","SUMMARY":"WSDL2JAVA GIVES NULLPOINTEREXCEPTION IN GETNEWQNAME","CLASS":1}
{"ID_DEFECT":"AXIS-1427","DESCRIPTION":"GETNEXTSIBLING AND GETPREVIOUSSIBLING DO NOT WORKIN THE TEST CASE THAT I WILL ATTACH GETPREVIOUSSIBLING IS SHOWN NOT TO WORK BUT IN A CMOPLEX SCENARIO I HAVE DEBUGGED AND SEEN GETNEXTSIBLING NOT WORKING.","SUMMARY":"SIBLING METHOD DO NOT WORK","CLASS":1}
{"ID_DEFECT":"AXIS-1432","DESCRIPTION":"WHEN CREATING A FAULT MESSAGE FOR THE CLIENT THE DETAIL MESSAGE CANNOT BE POPULATED AS PER SAAJ SPECIFICATION. IM TRYING TO CREATE THE FOLLOWING FAULT BODY:<SOAPENV:BODY>  <SOAPENV:FAULT>    <FAULTCODE>CLIENT<FAULTCODE>    <FAULTSTRING>XYZ FAULT<FAULTSTRING>    <DETAIL>       <XYZ:FAULT>          <FAULTCODE>1234<FAULTCODE>          <FAULTSTRING>SOME DESCENT MESSAGE<FAULTSTRING>       <XYZ:FAULT>     <DETAIL>   <SOAPENV:FAULT><SOAPENV:BODY>THE CODE I USE TO CREAT THIS IS:NAME FAULTNAME = ENVELOPE.CREATENAME(FAULT, XYZ, URI);DETAILENTRY FAULTDETAIL = FAULTDETAIL.ADDDETAILENTRY(FAULTNAME);SOAPELEMENT E = FAULTDETAIL.ADDCHILDELEMENT(FAULTCODE);E.ADDTEXTNODE(1234);SOAPELEMENT E2 = FAULTDETAIL.ADDCHILDELEMENT(TTTTENVELOPE.CREATENAME(FAULTSTRING, XYZ, URI));E2.ADDTEXTNODE(SOME DESCENT MESSAGE);THIS RESULTS IN AN EMPTY DETAIL COMPONENT IN THE FAULT PART THAT IS TRANSMITTED TO THE CLIENT.THE ONLY THING I CAN ADD TO THE DETAIL PART IS BY USING ADDTEXTNODE FOR THE FAULTDETAIL ELEMENT. ANYTHING ELSE ISNT ADDED TO THE MESSAGE.MAYBY IM JUST PLAIN STUPID - ONE NEVER KNOWS FOR SURE.THANKS,REINER","SUMMARY":"CREATING A SOAPFAULT WITH ADDITIONAL DETAIL ELEMENTS","CLASS":1}
{"ID_DEFECT":"AXIS-1435","DESCRIPTION":"HI. CURRENTLY THE CODE GENERATED BY THE JAVASERVICEIMPLWRITER SEEMS NOT TOKEEP THE QNAME OF PORT IN THE WSDL. USING JAVA2WSDL WITH THIS WSDLHTTP:SERVICES.XMETHODS.NETSOAPURN:XMETHODS-DELAYED-QUOTES.WSDL WHICH HAS THE WSDL:SERVICE LIKE THIS:  <SERVICE NAME=NET.XMETHODS.SERVICES.STOCKQUOTE.STOCKQUOTESERVICE>  <DOCUMENTATION>NET.XMETHODS.SERVICES.STOCKQUOTE.STOCKQUOTE WEB SERVICE<DOCUMENTATION>  <PORT NAME=NET.XMETHODS.SERVICES.STOCKQUOTE.STOCKQUOTEPORT        BINDING=TNS:NET.XMETHODS.SERVICES.STOCKQUOTE.STOCKQUOTEBINDING>     <SOAP:ADDRESS LOCATION=HTTP:64.124.140.30:9090SOAP>   <PORT><SERVICE>  THE GENERATED SERVICE LOCATOR CODE IS:       THE WSDD SERVICE NAME DEFAULTS TO THE PORT NAME.    PRIVATE JAVA.LANG.STRING NETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEPORTWSDDSERVICENAME =                 NETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEPORT;  <--- (1)    PUBLIC STOCK.NETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEPORTTYPE GETNETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEPORT(JAVA.NET.URL PORTADDRESS) THROWS JAVAX.XML.RPC.SERVICEEXCEPTION         TRY             STOCK.NETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEBINDINGSTUB _STUB = NEW STOCK.NETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEBINDINGSTUB(PORTADDRESS, THIS);            _STUB.SETPORTNAME(GETNETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEPORTWSDDSERVICENAME());   <--- (3)            RETURN _STUB;                CATCH (ORG.APACHE.AXIS.AXISFAULT E)             RETURN NULL;             PUBLIC JAVA.UTIL.ITERATOR GETPORTS()         IF (PORTS == NULL)             PORTS = NEW JAVA.UTIL.HASHSET();            PORTS.ADD(NEW JAVAX.XML.NAMESPACE.QNAME(NETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEPORT));  <-- (2)                 RETURN PORTS.ITERATOR();        THE JAVIFIED PORT QNAME IS USED IN (1), (2) AND THE PORT NAME FOR _STUB IS SET USING THIS JAVIFIED NAME IN (3). SO WE CAN NOT SET UP CLIENT JAX-RPC HANDLER CODE USING THE NAME IN THE WSDL. WHEN SETTNG UP CLIENT JAX-RPC HANDLER, THE DEVELOPER SHOULD KNOW THE JAVIFIED NAME BY INSPECTING THE GENERATED LOCATOR CODE LIKE THIS:  HANDLERREGISTRY REG = SERVICE.GETHANDLERREGISTRY();QNAME PORTNAME        = NEW QNAME(HTTP:WWW.THEMINDELECTRIC.COMWSDLNET.XMETHODS.SERVICES.STOCKQUOTE.STOCKQUOTE,            NETXMETHODSSERVICESSTOCKQUOTESTOCKQUOTEPORT);    <-- JAVIFIED NAME LIST LIST = NEW ARRAYLIST();LIST.ADD(NEW HANDLERINFO(CLIENTHANDLER.CLASS, NULL, NULL));REG.SETHANDLERCHAIN(PORTNAME, LIST);   I THINK THAT THE DEVELOPER CAN USE THE WSDL PORT NAME DIRECTLY INSTEAD OF INSPECTING THE AXIS-GENERATED CODE LIKE THIS:   HANDLERREGISTRY REG = SERVICE.GETHANDLERREGISTRY();  QNAME PORTNAME = NEW QNAME(HTTP:WWW.THEMINDELECTRIC.COMWSDLNET.XMETHODS.SERVICES.STOCKQUOTE.STOCKQUOTE,      NET.XMETHODS.SERVICES.STOCKQUOTE.STOCKQUOTEPORT);    <-- XML NAME IN WSDL   I MADE A SOME MODIFICATION IN THE JAVASERVICEIMPLWRITER AND IT WORKED. ID LIKE THE AXIS COMMITTER TO CHECK AND APPLY THIS FIX.THE DIFF WITH THE CURRENTLY AXIS CVS CODE WILL BE ATTACHED. ","SUMMARY":"GENERATED SERVICE IMPL DOES NOT KEEP WSDL PORT NAME","CLASS":1}
{"ID_DEFECT":"AXIS-1436","DESCRIPTION":"IM TRYING TO USE SOAPBODY.ADDDOCUMENT(ORG.W3C.DOM.DOCUMENT) IN AXIS 1.2 BETA TO ADD A DOM DOCUMENT AS THE ROOT SOAPBODYELEMENT.  ADDDOCUMENT CALLS IMPORTBODYELEMENT(MESSAGEELEMENT PARENT, ORG.W3C.DOM.NODE ELEMENT), WHICH HAS THE FOLLOWING CODE:   ORG.W3C.DOM.NODELIST CHILDREN = ELEMENT.GETCHILDNODES();   FOR(INT I = 0; I < CHILDREN.GETLENGTH(); I++)      ORG.W3C.DOM.NODE CHILD = CHILDREN.ITEM(I);      IMPORTMESSAGEELEMENT((MESSAGEELEMENT)ELEMENT, CHILD); WRONG   OOPS, ELEMENT IS A DOM DOCUMENT, NOT A MESSAGEELEMENT, AND GIVES A CLASSCASTEXCEPTION.","SUMMARY":"SOAPBODY.ADDDOCUMENT CLASSCASTEXCEPTION","CLASS":1}
{"ID_DEFECT":"AXIS-1440","DESCRIPTION":"THERE IS A SPACE MISSING IN THE CODE PRODUCED BY JAVABEANWRITER WHEN GENERATION A SIMPLE TYPE GETTER WHERE THE SIMPLE TYPE IS ENUMERABLE. THIS IS BETWEEN THE RETURN KEYWORD AND THE VALUE.","SUMMARY":"JAVABEANWRITER PRODUCES INVALID CODE FOR SIMPLE TYPE GETTER","CLASS":1}
{"ID_DEFECT":"AXIS-1441","DESCRIPTION":"WHEN GENERATING AN ENUM TYPE WHERE THE BASE TYPE IS AN URI, THE GENERATED CODE WILL NOT COMPILE, WITH THE ERROR:-UNHANDLED EXCEPTION TYPE URI.MALFORMEDURIEXCEPTIONTHE CODE GENERATED LOOKS LIKE THIS:-PUBLIC STATIC FINAL ORG.APACHE.AXIS.TYPES.URI _VALUE1 = NEW ORG.APACHE.AXIS.TYPES.URI(HTTP:WWW.FOO.COMBAR);AND ORG.APACHE.AXIS.TYPES.URI THROWS THE CHECKD MALFORMEDURIEXCEPTION","SUMMARY":"CANNOT GENERATE ENUM TYPE WHERE BASE TYPE IS URI","CLASS":1}
{"ID_DEFECT":"AXIS-1442","DESCRIPTION":"JAVA.LANG PACKAGE MISSING BEFORE A STRING DECLARATION IN JAVASRCORGAPACHEAXISWSDLTOJAVAJAVASERVICEIMPLWRITER.JAVA  AT  LINE 482THIS CAUSE MY SAMPLE TO COMPILE FAILED AS I DECLARED A COMPLEXTYPE NAMED STRING IN A NAMESPACE URN:BPEL:JIAP.SO THE CLASS **LOCATOR IS IN PACKAGE JIAP.BPEL AND THIS PACKAGE CONTAINS A CLASS JIAP.BPEL.STRING. SO THE LINE STRING INPUTPORTNAME = PORTNAME.GETLOCALPART(); WRITTEN BY WSDL2JAVA TOOL MAKE CONFLICT BETWEEN JAVA.LANG.STRING AND JIAP.BPEL.STRING.","SUMMARY":"JAVA.LANG PACKAGE MISSING BEFORE A STRING DECLARATION IN JAVASRCORGAPACHEAXISWSDLTOJAVAJAVASERVICEIMPLWRITER.JAVA  AT  LINE 482","CLASS":1}
{"ID_DEFECT":"AXIS-1444","DESCRIPTION":"WHEN WSDL2JAVA GENERATES A JAVA CLASS FOR UNION SIMPLE TYPE THE TWO TYPED (I.E., NON-STRING) CONSTRUCTORS JUST CONTAIN THE CODE:-SET_VALUE(_VALUE)WHERE SET_VALUE DOES NOT REFERENCE A KNOWN METHOD AND _VALUE DOES NOT REFERENCE A KNOWN VARIABLE HENCE THE CLASS WILL NOT COMPILE.","SUMMARY":"WSDL2JAVA GENERATES INVALID TYPED CONSTRUCTORS FOR UNION SIMPLE TYPES","CLASS":1}
{"ID_DEFECT":"AXIS-1449","DESCRIPTION":"THIS WAS TESTED AGAINST 1.2 BETA AND THE HEAD OF CVS AS OF 13-JUL-2004.IN THIS XSD SNIPPET, NEWENTRYIDS IS AN ATTRIBUTE WITH A LIST OF STRINGS.   <XS:COMPLEXTYPE NAME=MODIFYRESPONSETYPE>      <XS:SEQUENCE>         <XS:ELEMENT REF=STATUS>T <XS:ELEMENT REF=EXTENSION MINOCCURS=0 MAXOCCURS=1>      <XS:SEQUENCE>      <XS:ATTRIBUTE NAME=ID TYPE=XS:ID USE=OPTIONAL>      <XS:ATTRIBUTE NAME=NEWENTRYIDS USE=OPTIONAL>         <XS:SIMPLETYPE>            <XS:LIST ITEMTYPE=XS:STRING>         <XS:SIMPLETYPE>      <XS:ATTRIBUTE>   <XS:COMPLEXTYPE>THE GENERATED JAVA FILE DEFINES NEWENTRYIDS LIKE THIS:    PRIVATE JAVA.LANG.STRING[] NEWENTRYIDS;   ATTRIBUTEDURING DESERIALIZATION, BEANDESERIALIZER.ONSTARTELEMENT SELECTS SIMPLELISTDESERIALIZER AS DSER, BUT THEN FAILS THIS TEST:    IF (! (DSER INSTANCEOF SIMPLEDESERIALIZER))                    THROW NEW SAXEXCEPTION(                         MESSAGES.GETMESSAGE(ATTRNOTSIMPLETYPE00,                                    BPD.GETNAME(),                                    BPD.GETTYPE().TOSTRING()));IN FACT, SIMPLELISTDESERIALIZER DERIVES DIRECTLY FROM DESERIALIZERIMPL.  CHANGING SIMPLELISTDESERIALIZER TO DERIVE FROM SIMPLEDESERIALIZER SEEMS TO FIX THE PROBLEM.","SUMMARY":"DESERIALIZATION OF XSD:LIST ATTRIBUTE BROKEN","CLASS":1}
{"ID_DEFECT":"AXIS-1470","DESCRIPTION":"CURRENNLY, ATTEMPTING TO OPEN A CLIENT CONNECTION USING AXIS WILL FAIL UNDER A STRICT SECURITY POLICY. FILEPROVIDER.CHECK ATTEMPTS TO SEE IF THE CLIENT-CONFIG.WSDD IS WRITABLE BY CALLING CANWRITE(). THIS WILL THROW A SECURITYEXCEPTION IF IT IS NOT ALLOWED BY THE SECURITY MANAGER, BUT THIS EXCEPTION IS NOT CAUGHT. I HAVE SEEN SOLUTIONS POSTED TO THE LIST STATING THAT THE POLICY MUST BE CHANGED, BUT I AM RUNNING THIS UNDER TOMCAT IN A SHARED HOSTING ENVIRONMENT SO THIS IS NOT POSSIBLE.HERES A PATCH AGAINST THE CVS VERSION WHICH I HAVE RUNNING SUCCESSFULLY IN PRODUCTION.INDEX: FILEPROVIDER.JAVA===================================================================RCS FILE: HOMECVSPUBLICWS-AXISJAVASRCORGAPACHEAXISCONFIGURATIONFILEPROVIDER.JAVA,VRETRIEVING REVISION 1.51DIFF -U -R1.51 FILEPROVIDER.JAVA--- FILEPROVIDER.JAVAT25 MAY 2004 19:41:43 -0000T1.51+++ FILEPROVIDER.JAVAT21 JUL 2004 23:57:24 -0000@@ -107,7 +107,13 @@      * OR NOT THE FILE IS READ-ONLY.      *     PRIVATE VOID CHECK() -        READONLY = CONFIGFILE.CANREAD() & !CONFIGFILE.CANWRITE();+    TTRY +            READONLY = CONFIGFILE.CANREAD() & !CONFIGFILE.CANWRITE();+    T+    TCATCH (SECURITYEXCEPTION E) +    TTREADONLY = TRUE;+    T+          *          * IF FILE IS READ-ONLY, LOG INFORMATIONAL MESSAGE","SUMMARY":"AXIS CLIENT WILL FAIL WITH STRICT SECURITY POLICY","CLASS":1}
{"ID_DEFECT":"AXIS-1488","DESCRIPTION":"GENERATED CODE FROM XS:LIST ITEMS USES THE WRONG NAMESPACE FOR THE LIST.  ATTACHED IS SOME WSDL THAT DEMONSTRATES THE PROBLEM.  NEWENTRYIDS IS CLASS MODIFYRESPONSETYPE GETS GENERATED LIKE THIS:    ORG.W3.WWW._2001.XMLSCHEMA.IDREFERENCETYPE[] NEWENTRYIDS;THE REASON FOR THIS IS IN SCHEMAUTILS.GETLISTITEMTYPE().  THE CODE IN QUESTION FINDS THE ARRAY TYPE, THROWS AWAY ANY NAMESPACE PREFIX, AND RETURNS A QNAME IN ORG.W3.WWW._2001.XMLSCHEMA.    RETURN NEW QNAME(CONSTANTS.URI_2001_SCHEMA_XSD, TYPE + []);ALSO ATTACHED IS A PATCH THAT PARTIALLY FIXES THE PROBLEM.  THE PATCH WILL ATTEMPT TO FIND THE QNAME OF THE BASE TYPE FOR THE ARRAY.  I CALL THIS A PARTIAL FIX BECAUSE MY PATCH DOES NOT THROW AN EXCEPTION IF THE LIST ITEM TYPE CANNOT BE FOUND IN THE SYMBOL TABLE.  I ALSO SUSPECT THAT THERE MIGHT BE A BETTER WAY TO SOLVE THE PROBLEM.","SUMMARY":"XS:LIST ITEMTYPES ARE FORCED INTO NAMESPACE HTTP:WWW.W3.ORG2001XMLSCHEMA","CLASS":1}
{"ID_DEFECT":"AXIS-1514","DESCRIPTION":"VERIFYTESTCASE AND TYPETESTSERVICETESTCASE FAIL TO COMPILE IN ONE PLACE EACH DUE INCORRECT TYPES BEING PASSED TO GENERATED OPERATIONS.","SUMMARY":"WSDLTYPES TEST FAILURES DUE TO WRONG TYPES BEING PASSED TO GENERATED OPERATIONS","CLASS":1}
{"ID_DEFECT":"AXIS-1515","DESCRIPTION":"DELIVERING THE LOG4J.PROPERTIES IN THE AXIS.JAR FILE IS MISLEADING BECAUSE THE WEB APPLICATION CLASSLOADER LOADS THIS FILE AND OVERWRITES ANY OTHER FILE NAMES YOU MIGHT WANT TO HAVE. THE ONLY WAY YOU CAN GO IS TO HAVE A DIFFERENT FILE NAME LOADED MANUALLY DURING INITIALIZATION.","SUMMARY":"DELIVERING A LOG4J.PROPERTIES LEADS TO CONFUSION","CLASS":1}
{"ID_DEFECT":"AXIS-1517","DESCRIPTION":"THE GERONIMO BUILD BREAKS.  THIS IS BECAUSE THE TESTS GENERATE FILES WITH A UTILITY THAT RELIES ON THE GERONIMO-AXIS JAR, WHICH HASNT BEEN PLACED IN THE REPOSITORY.<<<<<< START OF ERROR>>>>>>>>>>>ECHOPORTSOAPBINDINGIMPL.JAVA ALREADY EXISTS, WSDL2JAVA WILL NOT OVERWRITE IT.    [JAVAC] COMPILING 11 SOURCE FILES TO F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESBUILDCLASSESF:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:2:PACKAGE ORG.APACHE.GERONIMO.AXIS DOES NOT EXISTIMPORT ORG.APACHE.GERONIMO.AXIS.AXISGERONIMOUTILS;                                ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:18:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN(JAVA.LANG.STRING)AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS);                                                 ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:25:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTAXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS);                        ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:32:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN((JAVA.LANG.INTEGER)AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS)).INTVALUE();                                                   ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:39:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN((JAVA.LANG.DOUBLE)AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS)).DOUBLEVALUE();                                                  ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:46:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN((JAVA.LANG.FLOAT)AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS)).FLOATVALUE();                                                 ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:53:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN((JAVA.LANG.BOOLEAN)AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS)).BOOLEANVALUE();                                                   ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:60:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN((JAVA.LANG.SHORT)AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS)).SHORTVALUE();                                                 ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:67:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN((JAVA.LANG.LONG)AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS)).LONGVALUE();                                                ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:74:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN(BYTE[])AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS);                                       ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:81:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTAXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS);                        ^F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISTARGETENERATEDSAMPLESORGAPACHEWSECHOSAMPLEECHOPORTSOAPBINDINGIMPL.JAVA:88:CANNOT RESOLVE SYMBOLSYMBOL  : VARIABLE AXISGERONIMOUTILS LOCATION: CLASSORG.APACHE.WS.ECHOSAMPLE.ECHOPORTSOAPBINDINGIMPLTTTRETURN(ORG.APACHE.WS.ECHOSAMPLE.ECHOSTRUCT)AXISGERONIMOUTILS.INVOKEEJB(ECHO,METHODNAME,CLASSES,ARGUMENTS);                                                                   ^12 ERRORSBUILD FAILEDFILE......F:ERONIMOSRCINCUBATOR-GERONIMOMAVEN.XMLELEMENT... MAVEN:REACTORLINE...... 181COLUMN.... 27UNABLE TO OBTAIN GOAL [DEFAULT] --F:ERONIMOSRCINCUBATOR-GERONIMOMODULESAXISMAVEN.XML:36:36:<ANT:ANT> COMPILE FAILED; SEE THE COMPILER ERROR OUTPUT FOR DETAILS.TOTAL TIME: 5 MINUTES 33 SECONDSFINISHED AT: TUE AUG 17 08:28:46 EDT 2004","SUMMARY":"GERONIMO BUILD BREAKS","CLASS":1}
{"ID_DEFECT":"AXIS-1519","DESCRIPTION":"IT TAKES .4917 SECONDS TO GENERATE JUST ONE UUID.  (YES, SECONDS.)  THIS RENDERS THE FEATURE VERY NEARLY USELESS.IN SIMPLEUUIDGEN, THERE IS A SIMPLE, BUT VERY EXPENSIVE, BUG..  IT CREATES A NEW INSTANCE OF SECURERANDOM ON EACH CALL TO NEXTUUID().  MAKING A NEW INSTANCE OF SECURERANDOM IS VERY EXPENSIVE BECAUSE IT HAS TO SET UP THE ENVIRONMENT FOR PRODUCING CRYPTOGRAPHICALLY STRONG RANDOM NUMBERS.THE INSTANCE OF SECURERANDOM SHOULD BE IN A STATIC VARIABLE AND INITED JUST ONCE.  THEN, YOU CALL GETNEXTLONG() WHEN YOU WANT ANOTHER NUMBER FROM IT.  IT WOULD BE MUCH FASTER THAT WAY WITHOUT COMPROMISING THE INTEGRITY OF THE UUIDS GENERATED.BTW, IF YOU LOOK AT THE COMMENT I COPIED FROM THE CODE, IT APPEARS THAT THIS IS WHAT THE DEVELOPER MEANT TO MAKE THE SECURERANDOM INSTANCE STATIC, BUT FORGOT.    **     * CREATES A NEW UUID. THE ALGORITHM USED IS DESCRIBED BY THE OPEN GROUP.     * SEE <A HREF=HTTP:WWW.OPENGROUP.ORGONLINEPUBS009629399APDXA.HTM>     * UNIVERSAL UNIQUE IDENTIFIER<A> FOR MORE DETAILS.     * <P>     * DUE TO A LACK OF FUNCTIONALITY IN JAVA, A PART OF THE UUID IS A SECURE     * RANDOM. THIS RESULTS IN A LONG PROCESSING TIME WHEN THIS METHOD IS CALLED     * FOR THE FIRST TIME.     *HERES A PROPOSED FIX.  IN THE MEMBER VARIABLES, ADD THE FOLLOWING.    PRIVATE STATIC RANDOM SECURERANDOM = NULL;    STATIC         TRY             SECURERANDOM = SECURERANDOM.GETINSTANCE(SHA1PRNG, SUN);         CATCH (EXCEPTION E)             SECURERANDOM = NEW RANDOM();            THE, REMOVE THE CODE NEAR LINE 235 WHERE THE SECURERANDOM IS BEING CREATED.  THIS CHANGE SHOULD DO IT JUST ONCE.","SUMMARY":"SIMPLEUUIDGEN.NEXTUUID() IS VERY, VERY, VERY SLOW","CLASS":1}
{"ID_DEFECT":"AXIS-1522","DESCRIPTION":"THE JAVA EMITTERS COLLISION PROTECTION FEATURE IS ENABLED BY DEFAULT, WHICH IS FINE. HOWEVER, COLLISION PROTECTION SHOULD NEVER BE PERFORMED FOR TYPES THAT ARE IN NAMESPACES THAT THE USER HAS INDICATED SHOULD BE EXCLUDED. HERES A USE CASE THAT DEMONSTRATES WHY:WSDL W TYPES TARGET NAMESPACE NSRED IMPORTS THREE OTHER WSDLS - NSORANGE, NSYELLOW, AND NSGREEN. NSORANGE AND NSYELLOW ALSO IMPORT NSGREEN. NSGREEN DEFINES AN ELEMENT NAMED DESTROY THAT HAS AN ANONYMOUS COMPLEX TYPE. I FIRST RUN WSDL2JAVA ON THE IMPORTED WSDLS AND JAR UP THE GENERATED TYPES INTO A REUSABLE LIB SPECTYPES.JAR. THE CLASS GENERATED FOR NSGREENS DESTROY TYPE IS NAMED _DESTROYTYPE. I THEN RUN WSDL2JAVA ON NSRED, SPECIFYING THAT NSORANGE, NSYELLOW, AND NSGREEN SHOULD BE EXCLUDED, AND INCLUDING SPECTYPES.JAR IN THE CLASSPATH. WSDL2JAVA ENCOUNTERS NSGREENS DESTROY ANON TYPE MULTIPLE TIMES IN ITS TRAVERSAL OF NSRED AND ITS IMPORTED WSDLS. EACH TIME IT ENCOUNTERS IT, ALTHOUGH IT DOESNT ACTUALLY GENERATE ANY CLASSES BECAUSE OF THE NAMESPACE EXCLUSION, IT KEEPS BUMPING UP THE CLASSNAME THAT IS STORED IN THE SYMBOLTABLE FOR THE ANON DESTROY TYPE. WHEN ALLS DONE, THE CLASS THAT ENDS UP IN THE SYMBOL TABLE IS NAMED _DESTROYTYPE5. THIS IS THE CLASS THAT ENDS UP BEING WRITTEN INTO THE BINDING IMPLS AND STUBS FOR THE OPERATIONS IN NSRED. UNFORTUNATELY, NO SUCH CLASS EXISTS; THE PREGENERATED CLASS THAT IS IN SPECTYPES.JAR IS NAMED _DESTROYTYPE, NOT _DESTROYTYPE5. SO WHEN I TRY TO COMPILE THE NSRED GENERATED CLASSES, I GET COMPILE ERRORS FOR THE IMPLS AND STUBS. IF COLLISION PROTECTION IS NEVER PERFORMED FOR TYPES IN EXCLUDED NAMESPACES, THIS ISSUE GOES AWAY. THIS MAKES SENSE - SINCE THERES NO WAY TO KNOW WHAT THE PREGENERATED CLASSNAME IS, THE BEST ASSUMPTION TO MAKE IS THAT IS DOES NOT HAVE A NUMERICAL SUFFIX.  ","SUMMARY":"JAVAGENERATORFACTORY SHOULD NOT PERFORM COLLISION PROTECTION FOR TYPES THAT ARE IN EXCLUDED NAMESPACES","CLASS":1}
{"ID_DEFECT":"AXIS-1532","DESCRIPTION":"IMPL OF SAAJ SETVALUE() IN NODEIMPL DOES NOT HANDLE THE FOLLOWING CASES PROPERLY:- CALLED ON NODE WITH NO CHILDREN- CALLED ON NODE WITH MORE THAN ONE CHILDALSO, SETVALUE() SHOULD BE OVERRIDDEN IN MESSAGEELEMENT TO SYNC UP OBJECTVALUE TO THE NEW NODE VALUE WHEN ITS POSSIBLE TO DO SO.","SUMMARY":"NODEIMPL#SETVALUE() DOES NOT BEHAVE ACCORDING TO SAAJ NODE API","CLASS":1}
{"ID_DEFECT":"AXIS-1535","DESCRIPTION":"IF A USER WANT TO LOG A DYNAMIC PROXY, THE AXISCLIENTPROXY WILL TRY TO INVOKE(VIA RPC) THE TOSTRING METHOD CALL TO ITS INTERNAL CALL INSTANCE.BUT THE CALL DO NOT FIND THE TOSTRING OPERATION AND FAILS WITH SERVICEEXCEPTION.BY DELEGATING THE JAVA.LANG.OBJECT METHODS CALL TO THE INTERNAL CALL INSTANCE, WE ARE SURE THAT THESES BASIC OPERATIONS ARE HANDLED CORRECTLY.IM WORKING ON A PATCH...","SUMMARY":"DYNAMIC PROXY SHOULD DELEGATE ALL OBJECT METHODS TO ITS INTERNAL CALL INSTANCE","CLASS":1}
{"ID_DEFECT":"AXIS-1539","DESCRIPTION":"WSDL2JAVA SHOULD USE WRAPPER CLASSES FOR PRIMITVE TYPES THAT HAVE USE=OPTIONAL, OTHERWISE ITS NOT POSSIBLE IT TELL THE DIFFERENCE BETWEEN PRIMITIVES THAT ARE NOT SENT OVER THE WIRE AND DEFAULT VALUES.","SUMMARY":"WSDL2JAVA DOES NOT HANDLE USE=OPTIONAL PROPERLY FOR PRIMITIVE TYPES","CLASS":1}
{"ID_DEFECT":"AXIS-1545","DESCRIPTION":"SOME CODE THAT WORKED WITH AN OLDER SUN JAXM RI IS NOT WORKING PROPERLY W THE LATEST AXIS.  SETTING THE SOAPACTION VIA MIMEHEADER.ADDHEADER() SEEMS TO CREATE 2 COPIES OF THE HEADER IN THE REQUEST MESSAGE.THIS CODE:","SUMMARY":"ADDING SOAPACTION MIMEHEADER GENERATES 2 SOAPACTIONS IN THE ACTUAL MESSAGE","CLASS":1}
{"ID_DEFECT":"AXIS-1549","DESCRIPTION":"HELLO,I HAVE AN EXCEPTION WHEN I TRY TO DEPLOY THE WSDD FILE INTO AXIS.I CREATED AND DEPLOYED THE EJB INTO JBOSSTOMCAT BUT WHEN I TRY TO DEPLOY THE WSDD DESCRIPTOR USING  JAVA ORG.APACHE.AXIS.CLIENT.ADMINCLIENT DEPLOY.WSDD I GET THE FOLLOWING EXCEPTION:PROCESSING FILE DEPLOY.WSDDEXCEPTION:: JAVA.LANG.EXCEPTION: FIXMEMY EJB IS A SIMPLE ONE JUST TO TEST THE SOAP COMMUNICATION WITH AXIS.......I HAVE ONLY ONE METHOD (SAYHELLO()) THAT RETURNS A STRING.THE DEPLOY.WSDD LOOKS LIKE THIS:<?XML VERSION=1.0 ENCODING=UTF-8?><DEPLOYMENT XMLNS=HTTP:XML.APACHE.ORGAXISWSDD XMLNS:JAVA=HTTP:XML.APACHE.ORGAXISWSDDPROVIDERSJAVA>T<SERVICE NAME=SESSIONTEST PROVIDER=JAVA:EJB>TT<PARAMETER NAME=BEANJNDINAME VALUE=EJBSTEST>TT<PARAMETER NAME=HOMEINTERFACENAME VALUE=SESSIONTEST.INTERFACES.STESTHOME>TT<PARAMETER NAME=REMOTEINTERFACENAME VALUE=SESSIONTEST.INTERFACES.STEST>TT<PARAMETER NAME=ALLOWEDMETHODS VALUE=*>TT<PARAMETER NAME=JNDIURL VALUE=JNP:LOCALHOST:1099>TT<PARAMETER NAME=JNDICONTEXTCLASS VALUE=ORG.JNP.INTERFACES.NAMINGCONTEXTFACTORY>T<SERVICE><DEPLOYMENT>WHAT CAN BE THE PROBLEM?THANK YOU,ADRIAN","SUMMARY":"EXCEPTION:: JAVA.LANG.EXCEPTION: FIXME","CLASS":1}
{"ID_DEFECT":"AXIS-1560","DESCRIPTION":" XS:BASE64BINARY FIELD IN WSDL GENERATES (INCORRECTLY) TO ANHEXBINARY.DECODE() IN DESERIALIZATION.","SUMMARY":"WSDL2JAVA:  XS:BASE64BINARY GENERATES HEXBINARY","CLASS":1}
{"ID_DEFECT":"AXIS-1574","DESCRIPTION":"THERE SEEMS TO BE A TYPO IN BULD.XML AROUND LINE 102 WHICH IS A <EXCLUDE> TAG WITH UNLESS=IBMJSSE.PRESENT, WHILE IT SHOULD HAVE BEEN UNLESS=IBM.JSSE.PRESENT TO CORRECTLY LINKUP WITH TARGETS.XML. TWO SOURCE FILES ARE AFFECTED BY THIS IN THE PACKAGE ORGAPACHEAXISCOMPONENTSET","SUMMARY":"BUILD,XML ALWAYS IGNORES IBM.JSSE DEPENDENT SOURCES","CLASS":1}
{"ID_DEFECT":"AXIS-1578","DESCRIPTION":"WSDL2JAVA GENERATES SERVICE LOCATOR FILES THAT EXTEND ORG.APACHE.AXIS.CLIENT.SERVICE. THE GENERATED CODE CONTAINS NO CONSTRUCTOR DEFINITIONS SO JAVA GENERATES A VOID CONSTRUCTOR. IN CONSEQUENCE IT IS NOT POSSIBLE TO CONFIGURE THE AXISENGINE VIA AN ENGINECONFIGURATION INSTANCE - THIS CONFUGURATION HAPPENS DURING OBJECT CONSTRUCTION SO THIS IS THE ONLY FEASABLE TIME TO DO THIS.(IN MUTLITHREADEDMULTIAPPLICATION ENVIRONMENTS INSTANCE CONFIGURATION IS SUPERIOR TO STATICPROPERTY BASED CONFIGURATION - THE ENGINE IS DESIGNED FOR THIS, IT SIMPLY NEEDS CONNECTING TO THE LOCATOR)DESIRED RESOLUTION:ADD CONSTRUCTOR DEFINITIONS TO GENERATED CODE - A VOID CONSTRUCTOR FOR BACKWARDS COMPATIBILITY, AND A CONSTRUCTOR THAT ACCEPTS AN ENGINE CONFIGURATION OBJECT AND PASSES IT TO THE SUPER CLASS.","SUMMARY":"CANNOT CUSTOMIZE CONFIGURATION AS WSDL2JAVA GENERATES SERVICELOCATOR CLASSES WITHOUT CONSTRUCTOR","CLASS":1}
{"ID_DEFECT":"AXIS-1582","DESCRIPTION":"AN IMPORTED DEFINITION IS NOT FOUND DURING EXECUTION OF WSDL2JAVA.THE ENTIRE CONTENT OF <XSD:SCHEMA> (IN <WSDL:TYPES>) IS IMPORTED FROM AN EXTERNAL XSD FILE, WHICH ITSELF IMPORTS OTHER SCHEMAS WITH DIFFERENT NAMESPACE.SEE DETAILS OF EXCEPTION BELOW:D:JEROMEMWSDLBUILD.XML:32: ERROR WHILE PROCESSING WSDL IN WSDL2JAVAANTTASK FOR D:JEROMEMWSDLNOTIFICATIONSERVICE.WSDLTAT ORG.APACHE.AXIS.TOOLS.ANT.WSDL.WSDL2JAVAANTTASK.EXECUTE(WSDL2JAVAANTTASK.JAVA:272)TAT ORG.APACHE.TOOLS.ANT.UNKNOWNELEMENT.EXECUTE(UNKNOWNELEMENT.JAVA:306)TAT ORG.APACHE.TOOLS.ANT.TASK.PERFORM(TASK.JAVA:401)TAT ORG.APACHE.TOOLS.ANT.TARGET.EXECUTE(TARGET.JAVA:338)TAT ORG.APACHE.TOOLS.ANT.TARGET.PERFORMTASKS(TARGET.JAVA:365)TAT ORG.APACHE.TOOLS.ANT.PROJECT.EXECUTETARGET(PROJECT.JAVA:1237)TAT ORG.APACHE.TOOLS.ANT.PROJECT.EXECUTETARGETS(PROJECT.JAVA:1094)TAT ORG.APACHE.TOOLS.ANT.MAIN.RUNBUILD(MAIN.JAVA:669)TAT ORG.APACHE.TOOLS.ANT.MAIN.STARTANT(MAIN.JAVA:220)TAT ORG.APACHE.TOOLS.ANT.LAUNCH.LAUNCHER.RUN(LAUNCHER.JAVA:215)TAT ORG.APACHE.TOOLS.ANT.LAUNCH.LAUNCHER.MAIN(LAUNCHER.JAVA:90)CAUSED BY: JAVA.IO.IOEXCEPTION: ELEMENT HTTP:WWW.TMFORUM.ORGSCHEMAMTOSINOTIFICATIONSERVICEV1NOTIFYREQUEST IS REFERENCED BUT NOT DEFINED.TAT ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE.CHECKFORUNDEFINED(SYMBOLTABLE.JAVA:657)TAT ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE.ADD(SYMBOLTABLE.JAVA:532)TAT ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE.POPULATE(SYMBOLTABLE.JAVA:506)TAT ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE.POPULATE(SYMBOLTABLE.JAVA:483)TAT ORG.APACHE.AXIS.WSDL.GEN.PARSER$WSDLRUNNABLE.RUN(PARSER.JAVA:356)TAT JAVA.LANG.THREAD.RUN(THREAD.JAVA:534)--- NESTED EXCEPTION ---JAVA.IO.IOEXCEPTION: ELEMENT HTTP:WWW.TMFORUM.ORGSCHEMAMTOSINOTIFICATIONSERVICEV1NOTIFYREQUEST IS REFERENCED BUT NOT DEFINED.TAT ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE.CHECKFORUNDEFINED(SYMBOLTABLE.JAVA:657)TAT ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE.ADD(SYMBOLTABLE.JAVA:532)TAT ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE.POPULATE(SYMBOLTABLE.JAVA:506)TAT ORG.APACHE.AXIS.WSDL.SYMBOLTABLE.SYMBOLTABLE.POPULATE(SYMBOLTABLE.JAVA:483)TAT ORG.APACHE.AXIS.WSDL.GEN.PARSER$WSDLRUNNABLE.RUN(PARSER.JAVA:356)TAT JAVA.LANG.THREAD.RUN(THREAD.JAVA:534)","SUMMARY":"WSDL2JAVA FAILS TO PROCESS XSD:IMPORT","CLASS":1}
{"ID_DEFECT":"AXIS-1583","DESCRIPTION":"BEANDESERIALIZERFACTORY IS SUPPOSED TO HANDLE JAX-RPC ENUM CLASSES, ACCORDING TO THIS METHOD THAT IT USES IN ORG.APACHE.AXIS.UTILS.JAVAUTILS:   **    * DETERMINE IF THE CLASS IS A JAX-RPC ENUM CLASS.    * AN ENUMERATION CLASS IS RECOGNIZED BY    * A GETVALUE() METHOD, A TOSTRING() METHOD,     * A FROMSTRING(STRING) METHOD    * A FROMVALUE(TYPE) METHOD AND THE LACK    * OF A SETVALUE(TYPE) METHOD    *   PUBLIC STATIC BOOLEAN ISENUMCLASS(CLASS CLS) (IT WOULD BE HELPFUL, BTW, IF THE JAVADOC INCLUDED THE NECESSARY STATIC SPECIFIERS IN THE METHOD DESCRIPTIONS ABOVE.) IT IS RECOGNIZING MY CLASS CORRECTLY, AND IS APPARENTLY PREPARED TO DESERIALIZE IT AFTER INITING. BUT - THIS CODE IN BEANDESERIALIZERFACTORY:       IF (DESERCLASS == ENUMSERIALIZER.CLASS)           RETURN SUPER.GETGENERALPURPOSE(MECHANISMTYPE);              RETURN NEW BEANDESERIALIZER(JAVATYPE, XMLTYPE, TYPEDESC,           PROPERTYMAP);FAILS TO TREAT MY CLASS AS AN ENUM CLASS EVERY TIME, BECAUSE DESERCLASS IS ACTUALLY ENUMDESERIALIZER. IF I CHANGE IT TO:                             ^^      IF (DESERCLASS == ENUMDESERIALIZER.CLASS) THE DESERIALIZATION OF THE CLASS WORKS FINE.IVE PULLED OUT THE LATEST AXIS CVS SOURCE, AND THE BUG APPEARS TO STILL BE THERE. SO:- IS MY DIAGNOSIS AND FIX CORRECT?- IF SO, WHATS THE BEST WAY TO GET IT INTO THE CURRENT RELEASE QUICKLY? IM A NEWBIE TO THE APACHE OPEN SOURCE COMMUNITY.- AND IF IM CORRECT, HOW DID IT EVER WORK? MY THEORY IS THAT SINCE MOST AXIS USERS APPEAR TO USE JAVA2WSDL (WE ARE NOT), SERIALIZATION OF ENUMS WAS TAKEN CARE OF BY A GENERATED GETDESERIALIZER() FUNCTION - BUT THATS A SHOT IN THE DARK - DID I HIT ANYTHING?   ;-)","SUMMARY":"BEANDESERIALIZERFACTORY INCORRECTLY HANDLES JAX-RPC ENUM CLASSES","CLASS":1}
{"ID_DEFECT":"AXIS-1585","DESCRIPTION":"HI.IM WORKING ON AN APPLICATION THAT NEEDS TO SERIALIZE TREES OF WSDL2JAVA-GENERATED OBJECTS E.G. TO WRITE THEM TO DISK AS XML DOCUMENTS.  IM USING CODE THAT LOOKS LIKE:        WRITER OUT = NEW FILEWRITER(BUILDECREPORT-TEST.XML);        SERIALIZATIONCONTEXT SER = NEW SERIALIZATIONCONTEXT(OUT);        SER.SETPRETTY(TRUE);         SER.SERIALIZE(NEW QNAME(ECREPORT), NEW ATTRIBUTESIMPL(), OUTPUT, NULL, FALSE, BOOLEAN.FALSE);        OUT.FLUSH();        OUT.CLOSE();WHEN I TRIED RUNNING THE CODE IT DIDNT SERIALIZE, SO I LOOKED AT SERIALIZATIONCONTEXT AND FOUND A BUG IN GETSERIALIZERFROMCLASS().         TRY             METHOD METHOD = JAVATYPE.GETMETHOD(                    SERIALIZER_METHOD, SERIALIZER_CLASSES);            IF (METHOD != NULL)                 SERIALIZER = (SERIALIZER) METHOD.INVOKE(NULL,                     NEW OBJECT[] MSGCONTEXT.GETENCODINGSTYLE(), JAVATYPE, QNAME);                    CATCH (EXCEPTION E)        BECAUSE MSGCONTEXT IS NULL THE CALL TO MSGCONTEXT.GETENCODINGSTYLE() WILL CAUSE A NULLPOINTEREXCEPTION.  THE NPE WAS BEING THROWN AWAY BECAUSE OF THE CATCH(EXCEPTION E).  ILL ATTACH A PATCH THAT FIXES THIS, AND ONE DOWNSTREAM BUG IN BEANSERIALIZER AND SEEMS TO WORK FOR ME.","SUMMARY":"NPE AFTER USING SERIALIZATIONCONTEXT ONE-ARG CONSTRUCTOR","CLASS":1}
{"ID_DEFECT":"AXIS-1588","DESCRIPTION":"WSDL2JAVA GENERATES WRONG STUBS THAT SHOULD HANDLE NODES OF TYPE BASE64.BINARY.TO DECODE BASE64 CONTENT THE HEXBINARY DECODING IS USED. SO I GET THE FAULT STRING: BAD CHARACTER OR INSUFFICIENT NUMBER OF CHARACTERS IN HEX STRINGPUBLIC CONTENTTYPE(JAVA.LANG.STRING _VALUE)   WRONG: DONT USE HEXBINARY DECODING WITH BASE64 CONTENT  THIS._VALUE = ORG.APACHE.AXIS.TYPES.HEXBINARY.DECODE(_VALUE);  THIS._VALUE = ORG.APACHE.AXIS.ENCODING.BASE64.DECODE(_VALUE);PUBLIC JAVA.LANG.STRING TOSTRING()   WRONG: DONT USE HEXBINARY DECODING WITH BASE64 CONTENT  RETURN _VALUE == NULL ? NULL : ORG.APACHE.AXIS.TYPES.HEXBINARY.ENCODE(_VALUE);    RETURN _VALUE == NULL ? NULL : ORG.APACHE.AXIS.ENCODING.BASE64.ENCODE(_VALUE);I REPLACED THE (NOW COMMENTED) LINES ..TYPES.HEXBINARY.. WITH ..ENCODING.BASE64.. AS A WORKAROUND.","SUMMARY":"BASE64.BINARY DECODES AS HEXBINARY --> ERROR","CLASS":1}
{"ID_DEFECT":"AXIS-1589","DESCRIPTION":"HI.IM WORKING ON AN APPLICATION THAT NEEDS TO XML-SERIALIZE TREES OF WSDL2JAVA-GENERATED OBJECTS TO AN XML DOCUMENT SO IT CAN E.G. SAVE THEM TO A FILE.  IM USING THE 1-ARGUMENT CONSTRUCTOR AND THE 5-ARGUMENT SERIALIZATIONCONTEXT.SERIALIZE() METHOD BUT IT SEEMS TO IGNORE THE BOOLEAN SENDTYPE ARGUMENT; IT ADDS TYPES TO THE OUTPUT WHETHER THE VALUE IS BOOLEAN.TRUE OR BOOLEAN.FALSE.THE PROBLEM SEEMS TO BE THAT SERIALIZATIONCONTEXT HAS A FLAG (SENDXSITYPE) TO INDICATE WHETHER THE TYPES SHOULD BE SENT, BUT SERIALIZE() NEVER SETS THAT VARIABLE SO WHEN IT CALLS SPECIFIC TYPE SERIALIZERS (E.G. BEANSERIALIZER) AND THEN THEY CALL BACK TO STARTELEMENT THE CALLERS ARGUMENT HAS BEEN FORGOTTEN AND IT ADDS THE TYPE TO THE OUTPUT ANYWAY.SO IVE ADDED A PATCH THAT SEEMS TO FIX THE PROBLEM.  IT CACHES THE VALUE OF SENDXSITYPE, SETS IT BASED ON THE USERS PREFERENCE, AND THEN SETS IT BACK BEFORE EXITING SERIALIZE().  IT SEEMS TO PASS ALL-TESTS AND IT RESPECTS THE VALUE OF THE CALLERS SENDTYPE ARGUMENT.","SUMMARY":"SERIALIZATIONCONTEXT.SERIALIZE(*,*,*,*,BOOLEAN.FALSE) ADDS TYPES","CLASS":1}
{"ID_DEFECT":"AXIS-1594","DESCRIPTION":"I TRIED TO RUN A .JWS ON WEBSPHERE 4 AND GOT THE FOLLOWING ERROR :SERVLET ERROR: JAVAX.SERVLET.HTTP.HTTPSERVLETREQUEST: METHOD GETREQUESTURL&#40;&#41;LJAVALANGSTRINGBUFFER&#59; NOT FOUND: JAVA.LANG.NOSUCHMETHODERROR: JAVAX.SERVLET.HTTP.HTTPSERVLETREQUEST: METHOD GETREQUESTURL()LJAVALANGSTRINGBUFFER; NOT FOUNDTAT ORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLET.DOGET(AXISSERVLET.JAVA:250)TAT JAVAX.SERVLET.HTTP.HTTPSERVLET.SERVICE(HTTPSERVLET.JAVA:740)TAT ORG.APACHE.AXIS.TRANSPORT.HTTP.AXISSERVLETBASE.SERVICE(AXISSERVLETBASE.JAVA:301)TAT JAVAX.SERVLET.HTTP.HTTPSERVLET.SERVICE(HTTPSERVLET.JAVA:853)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.STRICTSERVLETINSTANCE.DOSERVICE(SERVLETMANAGER.JAVA:827)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.STRICTLIFECYCLESERVLET._SERVICE(STRICTLIFECYCLESERVLET.JAVA:167)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.IDLESERVLETSTATE.SERVICE(STRICTLIFECYCLESERVLET.JAVA:297)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.STRICTLIFECYCLESERVLET.SERVICE(STRICTLIFECYCLESERVLET.JAVA:110)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.SERVLETINSTANCE.SERVICE(SERVLETMANAGER.JAVA:472)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.VALIDSERVLETREFERENCESTATE.DISPATCH(SERVLETMANAGER.JAVA:1012)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.SERVLETINSTANCEREFERENCE.DISPATCH(SERVLETMANAGER.JAVA:913)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.WEBAPPREQUESTDISPATCHER.HANDLEWEBAPPDISPATCH(WEBAPPREQUESTDISPATCHER.JAVA:721)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.WEBAPPREQUESTDISPATCHER.DISPATCH(WEBAPPREQUESTDISPATCHER.JAVA:374)TAT COM.IBM.SERVLET.ENGINE.WEBAPP.WEBAPPREQUESTDISPATCHER.FORWARD(WEBAPPREQUESTDISPATCHER.JAVA:118)TAT COM.IBM.SERVLET.ENGINE.SRT.WEBAPPINVOKER.DOFORWARD(WEBAPPINVOKER.JAVA:134)TAT COM.IBM.SERVLET.ENGINE.SRT.WEBAPPINVOKER.HANDLEINVOCATIONHOOK(WEBAPPINVOKER.JAVA:239)TAT COM.IBM.SERVLET.ENGINE.INVOCATION.CACHEDINVOCATION.HANDLEINVOCATION(CACHEDINVOCATION.JAVA:67)TAT COM.IBM.SERVLET.ENGINE.SRP.SERVLETREQUESTPROCESSOR.DISPATCHBYURI(SERVLETREQUESTPROCESSOR.JAVA:151)TAT COM.IBM.SERVLET.ENGINE.OSELISTENER.OSELISTENERDISPATCHER.SERVICE(OSELISTENER.JAVA:317)TAT COM.IBM.SERVLET.ENGINE.HTTP11.HTTPCONNECTION.HANDLEREQUEST(HTTPCONNECTION.JAVA:60)TAT COM.IBM.WS.HTTP.HTTPCONNECTION.READANDHANDLEREQUEST(HTTPCONNECTION.JAVA:477)TAT COM.IBM.WS.HTTP.HTTPCONNECTION.RUN(HTTPCONNECTION.JAVA:351)TAT COM.IBM.WS.UTIL.CACHEDTHREAD.RUN(THREADPOOL.JAVA(COMPILED CODE))","SUMMARY":"AXIS DOESNT RUN WEBSPHERE 4","CLASS":1}
{"ID_DEFECT":"AXIS-1597","DESCRIPTION":"ON AN AVERAGE LOAD ON THE SERVER , THE THREAD DUMP IS INDICATING MANY ( ~250WAIT FOR MONITOR AT :AT ORG.APACHE.AXIS.UTILS.XMLUTILS.NEWDOCUMENT(XMLUTILS.JAVA:318)        AT ORG.APACHE.AXIS.UTILS.XMLUTILS.NEWDOCUMENT(XMLUTILS.JAVA:335)        AT ORG.APACHE.AXIS.CONFIGURATION.FILEPROVIDER.CONFIGUREENGINE(FILEPROVIDER.JAVA:209)","SUMMARY":"REPONSE TIME INCREASES WITH LOAD FOR AXIS","CLASS":1}
{"ID_DEFECT":"AXIS-1611","DESCRIPTION":"WHEN COMMONSHTTPSENDER ENCOUNTERS AN HTTP ERROR SUCH AS 404 OR 401, IT CREATES AN AXISFAULT, BUT IT DOES NOT ADD THE ERROR CODE AS A FAULT DETAIL. THE OLD CLASS, HTTPSENDER, ADDS THIS UNDER A QNAME RESERVED FOR THIS PURPOSE (HTTP:XML.APACHE.ORGAXISHTTPERRORCODE).THE FOLLOWING STATEMENT FROM HTTPSENDER.READFROMSOCKET() SHOULD BE ADDED TO COMMONSHTTPSENDER.INVOKE():   FAULT.ADDFAULTDETAIL(CONSTANTS.QNAME_FAULTDETAIL_HTTPERRORCODE,                    INTEGER.TOSTRING(RETURNCODE));NOT INCLUDING A SEPARATE FAULT DETAIL REQUIRES PARSING THE ERROR CODE OUT OF THE FAULT STRING, WHICH IS ERROR-PRONE AND MAY BREAK IF FUTURE RELEASES CHANGE THE FORMAT OF THIS STRING.BY THE WAY, HTTPSENDER ACTUALLY IMPLEMENTS THE ENHANCEMENT REQUESTED BY BUG 16623 (HTTP:ISSUES.APACHE.ORGBUGZILLASHOW_BUG.CGI?ID=16623).","SUMMARY":"COMMONSHTTPSENDER DOES NOT ADD HTTP ERROR CODE TO FAULT DETAILS","CLASS":1}
{"ID_DEFECT":"AXIS-1614","DESCRIPTION":"AFTER AXIS 1598 WAS APPLIED, WE MET A NAMING PROBLEM THAT DID NOT EXIST BEFORE.* PROBLEMWSDL2JAVA CAN NOT PROCESS THE WSDL WHICH HAS THE SAME NAME IN PORTTYPE, OPERATION, COMPLEXTYPE ANDOR OTHER STUFF IN IT.* SOLUTIONTHE 4.3.12 OF JAX-RPC 1.1 SPEC ADDRESSED THIS KIND OF NAMING COLLISIONS. THIS IS PARTLY IMPLEMENTED IN CURRENT AXIS. THE ATTACHED PATCH MAKES IT A LITTLE MORE COMPLIANT TO JAX-RPC SPEC.THIS ALSO SOLVES THE NAME COLLISION PROBLEM OF AXIS-1598.* CAUTIONIN CURRENT AXIS, AXIS USES SUFFIXES TO RESOLVE THE NAME COLLISION. FOR XSD:ELEMENT AND WSDL:PORTTYPE, THE SUFFIXES ARE:XSD:ELEMENT -> _ELEMTYPEWSDL:PORTTYPE -> _PORTBUT IN JAX-RPC 1.1 SPEC, THE SUFFIXES ARE:XSD:ELEMENT -> _ELEMENTWSDL:PORTTYPE -> _PORTTYPEI FOLLOW THE WAY OF JAX-RPC 1.1 IN THIS PATCH. ","SUMMARY":"NAME COLLISION OF GENERATED CODE CAUSED BY AXIS-1598","CLASS":1}
{"ID_DEFECT":"AXIS-1646","DESCRIPTION":"FOR A PARAMETER OF TYPE BYTE[], RUNNING JAVA2WSDL WITH --STYLE=WRAPPED AND --USE=LITERAL GENERATES A SCHEMA WITH A SEQUENCE OF ELEMENTS OF TYPE XSD:BYTE INSTEAD OF A SINGLE ELEMENT OF TYPE XSD:BASE64BINARY. FOR EXAMPLE, GIVEN THE FOLLOWING METHOD:    PUBLIC BYTE[] UPDATEPDF(BYTE[] PDFDOC, STRING NEWVALUES)    THE GENERATED SCHEMA CONTAINS THE FOLLOWING DEFINITION:   <ELEMENT NAME=UPDATEPDF>    <COMPLEXTYPE>     <SEQUENCE>      <ELEMENT MAXOCCURS=UNBOUNDED NAME=PDFDOC TYPE=XSD:BYTE>      <ELEMENT NAME=NEWVALUES TYPE=XSD:STRING>     <SEQUENCE>    <COMPLEXTYPE>STUBS GENERATED WITH WSDL2JAVA CREATE THE FOLLOWING SOAP MESSAGE: SOAPENV:ENVELOPE XMLNS:SOAPENV=HTTP:SCHEMAS.XMLSOAP.ORGSOAPENVELOPE XMLNS:XSD=HTTP:WWW.W3.ORG2001XMLSCHEMA XMLNS:XSI=HTTP:WWW.W3.ORG2001XMLSCHEMA-INSTANCE>   <SOAPENV:BODY>      <UPDATEPDF XMLNS=HTTP:WWW.LTREE.COMWSDLTEMPLATE>         <PDFDOC>111<PDFDOC>         <PDFDOC>114<PDFDOC>         <PDFDOC>105<PDFDOC>         <PDFDOC>103<PDFDOC>         <PDFDOC>105<PDFDOC>         <PDFDOC>110<PDFDOC>         <PDFDOC>97<PDFDOC>         <PDFDOC>108<PDFDOC>         <PDFDOC>32<PDFDOC>         <PDFDOC>115<PDFDOC>         <PDFDOC>116<PDFDOC>         <PDFDOC>114<PDFDOC>         <PDFDOC>105<PDFDOC>         <PDFDOC>110<PDFDOC>         <PDFDOC>103<PDFDOC>         <NEWVALUES>UPDATE VALUES<NEWVALUES>      <UPDATEPDF>   <SOAPENV:BODY><SOAPENV:ENVELOPE>THE PDFDOC ELEMENT SHOULD BE DEFINED AS:         <ELEMENT NAME=PDFDOC TYPE=XSD:BASE64BINARY>   RUNNING JAVA2WSDL WITH --STYLE=DOCUMENT PRODUCES THE CORRECT OUTPUT.       ","SUMMARY":"JAVA2WSDL -Y WRAPPED -U LITERAL GENERATES INCORRECT SCHEMA FOR BYTE[] PARAMETERS","CLASS":1}
{"ID_DEFECT":"AXIS-1670","DESCRIPTION":"?WSDL RETURNS INCORRECT ELEMENT DEFINITIONS FOR DEPLOYED WEBSERVICES BY ALWAYS SETTING ELEMENTS NILLABLE PROPERTY TO TRUE.  THERE IS A SIMPLE WAY TO REPRODUCE THIS BUG: - DEPLOY: TEST.WSDL.OMIT.OMIT - COMPARE OMIT.WSDL WITH WSDL GENERATED BY ?WSDLI ATTACHED OMIT.WSDL FROM CVS AND OMIT.XML WHICH WAS GENERATED BY ?WSDL (HTTP:LOCALHOST:8080AXISSERVICESOMIT?WSDL).- DOMINIK","SUMMARY":"?WSDL RETURNS INCORRECT ELEMENT DEFINITIONS","CLASS":1}
{"ID_DEFECT":"AXIS-1683","DESCRIPTION":"HELLO,I HAVE A TROUBLE ON WEBLOGIC SERVER (IM USING THE AXIS CLIENT PART).THE STACK TRACE IS :JAVA.LANG.NULLPOINTEREXCEPTION        AT WEBLOGIC.XML.JAXP.CHAININGENTITYRESOLVER.POPENTITYRESOLVER(CHAININGENTITYRESOLVER.JAVA:61)        AT WEBLOGIC.XML.JAXP.REGISTRYDOCUMENTBUILDER.SETENTITYRESOLVER(REGISTRYDOCUMENTBUILDER.JAVA:168)        AT ORG.APACHE.AXIS.UTILS.XMLUTILS.RELEASEDOCUMENTBUILDER(XMLUTILS.JAVA:235 ITS CAUSED BY THE :    PUBLIC STATIC VOID RELEASEDOCUMENTBUILDER(DOCUMENTBUILDER DB)         SYNCHRONIZED (DOCUMENTBUILDERS)             DB.SETERRORHANDLER(NULL);  SETTING IMPLEMENTATION DEFAULT            DB.SETENTITYRESOLVER(NULL);  SETTING IMPLEMENTATION DEFAULT            DOCUMENTBUILDERS.PUSH(DB);              WHEREAS THE 1.2-RC1 CONTAINS :     PUBLIC STATIC DOCUMENT NEWDOCUMENT(INPUTSOURCE INP)        THROWS PARSERCONFIGURATIONEXCEPTION, SAXEXCEPTION, IOEXCEPTION            DOCUMENTBUILDER DB;        SYNCHRONIZED (DBF)             DB = DBF.NEWDOCUMENTBUILDER();                DB.SETENTITYRESOLVER(NEW DEFAULTENTITYRESOLVER());        DB.SETERRORHANDLER( NEW PARSERERRORHANDLER() );        RETURN( DB.PARSE( INP ) );     HOW IS RIGHT ??  FURTHERMORE I HAVE THE STACK TRACE WITH 1.2-RC1 :JAVA.LANG.INCOMPATIBLECLASSCHANGEERROR         AT ORG.APACHE.AXIS.MESSAGE.MESSAGEELEMENT.ADDTEXTNODE(MESSAGEELEMENT.JAVA:1388)   THE STRUCTURE IN THE WEBLO EXPLODED EAR IS THE FOLLOWING : EXPLODED    APP-INFLIB        CONTAINS ALL JARS (AXIS, AXIS-STUBS AND MINE)    MYWEBAPP1            LIB (EMPTY)    MYWEBAPP2        LIB (EMPTY) TO CORRECT THIS, I NEED TO PUT THE AXIS-SAAJ-1.2-RC1.JAR IN THE WEBLOGIC CLASSPATH IN THE POSITION.IS THERE OTHER WAY TO CORRECT THIS ? THANKS A LOT,OLIVIER","SUMMARY":"ENTITYRESOLVER TROUBLE IN 1.2-RC2 AND INCOMPATIBLECLASSCHANGEERROR","CLASS":1}
{"ID_DEFECT":"AXIS-1688","DESCRIPTION":"FILE `WS-AXISJAVASRCORGAPACHEAXISTYPESDURATION.JAVA BREAKS JDK1.3.X COMPATIBILITY DUE TO THE USE OF REGULAR EXPRESSIONS, WHICH WERE INTRODUCED IN JDK1.4.X.BEFORE JDK1.4.X JAKARTA REGEXP WAS COMMONLY USED TO GET REGULAR EXPRESSION SUPPORT IN JAVA; IT COULD BE USED TO RETAIN JDK1.3.X COMPATIBILITY.A PATCH IS INCLUDED JUST AS A WORKAROUND AND A RIGHT WAY TO HANDLE RESYNTAXEXCEPTION IN A STATIC ENVIRONMENT IS NEEDED.  ALSO REGULAR EXPRESSION COMPATIBILITY HAS NOT BEED TESTED.","SUMMARY":"JDK 1.3.X COMPATIBILITY BROKEN","CLASS":1}
{"ID_DEFECT":"AXIS-1787","DESCRIPTION":"I HAVE MULTIPLE METHODS IN A SERVICE ALL TAKES A STRING AS INPUT. BUT THE PROBLEM IS WHEN I GENERATES WSDL USING JAVA2WSDL IT GENRATES MULTIPLE ENTRIES OF   <ELEMENT NAME=IN0 TYPE=XSD:STRING>IN  <WSDL:TYPES>, WHIHC IS A NOT A VALID WSDL.PLEASE HAVE A LOOK AT THE BULID.XML ENTRYAXIS-JAVA2WSDL LOCATION=$SERVICE.URL.RISKASSESSMENTSERVICE TTTOUTPUT=$WSDL.RISKASSESSMENT TTTSTYLE=DOCUMENT TTTUSE=LITERAL TTTSERVICEELEMENTNAME=RISKASSESSMENTSERVICE TTTSERVICEPORTNAME=WRAPRISKASSESSMENTSERVICE TTTCLASSNAME=UK.CO.SKANDIA.WRAPTOOLS.RISK.RISKASSESSMENTSERVICE TTTNAMESPACE=HTTP:WWW.SKANDIA.CO.UKWRAPRISKASSESSMENTSERVICE>TTT<MAPPING PACKAGE=UK.CO.SKANDIA.WRAPTOOLS.RISK TTTTNAMESPACE=URN:HTTP:WWW.SKANDIA.CO.UKWRAPRISKASSESSMENTSERVICE>TT<AXIS-JAVA2WSDL>","SUMMARY":"BAD GENERATED WSDL FOR DOCUMENTLITERAL","CLASS":1}
{"ID_DEFECT":"AXIS-2027","DESCRIPTION":"WHILE REQUESTING A WEBSERVICE THROUGH HTTP POST, IM GETTING AN ARRAYINDEXOUTOFBOUNDSEXCEPTION. DEBUGGING INTO THIS, IT TURNED OUT THAT THERE IS A BUG IN ORG.APACHE.AXIS.TRANSPORT.HTTPSENDER.WRITETOSOCKET(...).ON LINE 331 THERE IS A CODE SEQUENCE LIKE THIS:        IF (POSTING)                 STRING CONTENTTYPE;            IF (MIMEHEADERS.GETHEADER(HTTPCONSTANTS.HEADER_CONTENT_TYPE) != NULL)                 CONTENTTYPE = MIMEHEADERS.GETHEADER(HTTPCONSTANTS.HEADER_CONTENT_TYPE)[0];             ELSE                 CONTENTTYPE = REQMESSAGE.GETCONTENTTYPE(MSGCONTEXT.GETSOAPCONSTANTS());                        HEADER2.APPEND(HTTPCONSTANTS.HEADER_CONTENT_TYPE)                    .APPEND(: )                    .APPEND(CONTENTTYPE)                    .APPEND();        IN MY CASE MIMEHEADERS.GETHEADER(...) RETURNED AN EMPTY STRING ARRAY, WHICH CAUSES THE BUG ON THE NEXT LINE. CHANGEING THAT CODE TO TEST FOR EMPTY STING ARRAYS AS WELL FIXES THE PROBLEM:        IF (POSTING)             STRING CONTENTTYPE;            OBJECT[] TEST = MIMEHEADERS.GETHEADER(HTTPCONSTANTS.HEADER_CONTENT_TYPE);            IF (TEST != NULL && TEST.LENGTH > 0)                 CONTENTTYPE = MIMEHEADERS.GETHEADER(HTTPCONSTANTS.HEADER_CONTENT_TYPE)[0];             ELSE                 CONTENTTYPE = REQMESSAGE.GETCONTENTTYPE(MSGCONTEXT.GETSOAPCONSTANTS());                        HEADER2.APPEND(HTTPCONSTANTS.HEADER_CONTENT_TYPE)                    .APPEND(: )                    .APPEND(CONTENTTYPE)                    .APPEND();        ","SUMMARY":"ORG.APACHE.AXIS.TRANSPORT.HTTPSENDER THROWS ARRAYINDEXOUTOFBOUNDSEXCEPTION","CLASS":1}
{"ID_DEFECT":"AXIS-2145","DESCRIPTION":"TO SOLVE THE FOLLOWING KIND OF EXCEPTIONS, ***********************************************************************************************************JAVA.LANG.EXCEPTIONININITIALIZERERROR        AT ORG.APACHE.COMMONS.DISCOVERY.JDK.JDKHOOKS.<CLINIT>(JDKHOOKS.JAVA:75)        AT ORG.APACHE.COMMONS.DISCOVERY.TOOLS.DISCOVERSINGLETON.FIND(DISCOVERSINGLETON.JAVA:412)        AT ORG.APACHE.COMMONS.DISCOVERY.TOOLS.DISCOVERSINGLETON.FIND(DISCOVERSINGLETON.JAVA:378)        AT ORG.APACHE.AXIS.COMPONENTS.LOGGER.LOGFACTORY$1.RUN(LOGFACTORY.JAVA:45)        AT JAVA.SECURITY.ACCESSCONTROLLER.DOPRIVILEGED(NATIVE METHOD)        AT ORG.APACHE.AXIS.COMPONENTS.LOGGER.LOGFACTORY.GETLOGFACTORY(LOGFACTORY.JAVA:41)        AT ORG.APACHE.AXIS.COMPONENTS.LOGGER.LOGFACTORY.<CLINIT>(LOGFACTORY.JAVA:33)        AT ORG.APACHE.AXIS.HANDLERS.BASICHANDLER.<CLINIT>(BASICHANDLER.JAVA:43)        AT ORG.APACHE.AXIS.CLIENT.SERVICE.GETAXISCLIENT(SERVICE.JAVA:103)        AT ORG.APACHE.AXIS.CLIENT.SERVICE.<INIT>(SERVICE.JAVA:112)        AT VCAS.GUI.WSDL.VCASLOCATOR.<INIT>(UNKNOWN SOURCE)        AT VCAS.GUI.VSS.VSSAPPLET.INIT(UNKNOWN SOURCE)        AT SUN.APPLET.APPLETPANEL.RUN(APPLETPANEL.JAVA:374)        AT JAVA.LANG.THREAD.RUN(THREAD.JAVA:595)CAUSED BY: JAVA.SECURITY.ACCESSCONTROLEXCEPTION: ACCESS DENIED (JAVA.LANG.RUNTIMEPERMISSION CREATECLASSLOADER)        AT JAVA.SECURITY.ACCESSCONTROLCONTEXT.CHECKPERMISSION(ACCESSCONTROLCONTEXT.JAVA:264)        AT JAVA.SECURITY.ACCESSCONTROLLER.CHECKPERMISSION(ACCESSCONTROLLER.JAVA:427)        AT JAVA.LANG.SECURITYMANAGER.CHECKPERMISSION(SECURITYMANAGER.JAVA:532)        AT JAVA.LANG.SECURITYMANAGER.CHECKCREATECLASSLOADER(SECURITYMANAGER.JAVA:594)        AT JAVA.LANG.CLASSLOADER.<INIT>(CLASSLOADER.JAVA:225)        AT ORG.APACHE.COMMONS.DISCOVERY.JDK.PSUEDOSYSTEMCLASSLOADER.<INIT>(PSUEDOSYSTEMCLASSLOADER.JAVA:73)        AT ORG.APACHE.COMMONS.DISCOVERY.JDK.JDK12HOOKS.FINDSYSTEMCLASSLOADER(JDK12HOOKS.JAVA:215)        AT ORG.APACHE.COMMONS.DISCOVERY.JDK.JDK12HOOKS.<CLINIT>(JDK12HOOKS.JAVA:73)        ... 14 MORE*********************************************************************************************************************************I HAD TO ADD THE FOLLOWING PERMISSIONS TO A CUSTOM POLICY FILE.********************************************************************************************************************************TPERMISSION JAVA.LANG.RUNTIMEPERMISSIONTCREATECLASSLOADER;TPERMISSION JAVA.LANG.RUNTIMEPERMISSIONTGETCLASSLOADER;TPERMISSION JAVA.UTIL.PROPERTYPERMISSIONTORG.APACHE.COMMONS.DISCOVERY.LOG.LEVEL, READ;TPERMISSION JAVA.UTIL.PROPERTYPERMISSIONTAXIS.ENGINECONFIGFACTORY,READ;TPERMISSION JAVA.UTIL.PROPERTYPERMISSIONTORG.APACHE.AXIS.ENGINECONFIGURATIONFACTORY,READ;TPERMISSION JAVA.UTIL.PROPERTYPERMISSIONTAXIS.CLIENTCONFIGFILE,READ;TPERMISSION JAVA.UTIL.PROPERTYPERMISSIONTAXIS.SERVERCONFIGFILE,READ;TPERMISSION JAVA.UTIL.PROPERTYPERMISSIONTAXIS.XML.REUSEPARSERS,READ;TPERMISSION JAVA.UTIL.PROPERTYPERMISSIONTAXIS.ATTACHMENTS.IMPLEMENTATION,READ;********************************************************************************************************************************SO, I SEE THAT PART OF THE PROBLEM IS APPACHE COMMONS LOGGER AND OTHER LIBRARIES TRYING TO READ AND WRITE TO FILES, INCLUDING THE COMMONS LOGGER USED BY AXIS. I WANTED TO KNOW IF THERE IS A SIMPLE WAY TO PREVENT THIS OR IF I THERE EXIST A VERSION OF THE AXIS LIBRARY WITHOUT THESE ISSUES, SO IT CAN HAPPILY WORK INSIDE THE SANDBOX WITH THE DEFAULT PERMISSIONS, I WOULD BE HAPPY TO TRY IT.       THANKS IN ADVANCE,       --LUIS R.","SUMMARY":"AXIS CLIENT CRASHES THE APPLET UNLESS NEW PERMISSIONS ARE ADDED TO THE POLICY FILE (OR A CUSTOM SECURITY MANAGER IS USED)","CLASS":1}
{"ID_DEFECT":"2421","DESCRIPTION":"DISTRIBUTION: SLES9 B1HARDWARE ENVIRONMENT: X440 2.0GHZ 8WAY 1GB MEM. 4 X 2GBIT QLA2300 ATTACHED TO 4FASTT700 CONTROLLER WITH 140 18GB 15KRPM DISKS CONFIGURED IN 28 4+1 RAID5LOGICAL DISKS.  SOFTWARE ENVIRONMENT: EVMSDM USING LVM STRIPED REGIONS WITH 64MB EXTENTS AND64K STRIPES USED TO CREATE A SINGLE 1.8TB LOGICAL DRIVE FORMATED WITH EXT3PROBLEM DESCRIPTION: WITH 64 PARALLEL SEQUENTIAL WRITE THREADS CEATING 50MBFILES USING A 64K IO SIZE, AFTER A FEW MINUTES CPU UTILIZATION GOES TO NEAR 100%SYSTEM TIME AND THROUGHPUT DROPS OFF.  SAMPLE OPROFILE SHOWS HIGH CONTENTION FORTRANSACTION LOCK AND LOTS OF TIME IN DO_GET_WRITE_ACCESS.  VMSTAT OUTPUT SHOWSHIGH CPU AND HIGHLY VARIABLE IO THROUGHPUT.SAMPLES  %        APP NAME                 SYMBOL NAME62682877 30.1249  VMLINUX-AUTOBENCH        .TEXT.LOCK.TRANSACTION20768606  9.9812  VMLINUX-AUTOBENCH        DO_GET_WRITE_ACCESS17682722  8.4982  VMLINUX-AUTOBENCH        JOURNAL_DIRTY_METADATA6976488   3.3528  VMLINUX-AUTOBENCH        __COPY_FROM_USER_LL4772322   2.2935  VMLINUX-AUTOBENCH        JOURNAL_ADD_JOURNAL_HEAD4733443   2.2749  QLA2XXX                  (NO SYMBOLS)4634394   2.2273  VMLINUX-AUTOBENCH        EXT3_TRY_TO_ALLOCATE4447648   2.1375  VMLINUX-AUTOBENCH        JOURNAL_STOP3909656   1.8790  VMLINUX-AUTOBENCH        START_THIS_HANDLE3730224   1.7927  VMLINUX-AUTOBENCH        JOURNAL_DIRTY_DATA3206180   1.5409  VMLINUX-AUTOBENCH        TRY_TO_WAKE_UP3193070   1.5346  VMLINUX-AUTOBENCH        __FIND_GET_BLOCK2895585   1.3916  VMLINUX-AUTOBENCH        SCHEDULE2367558   1.1378  VMLINUX-AUTOBENCH        JOURNAL_PUT_JOURNAL_HEAD1589865   0.7641  VMLINUX-AUTOBENCH        CLONE_ENDIO1564056   0.7517  VMLINUX-AUTOBENCH        JOURNAL_COMMIT_TRANSACTION1553142   0.7464  VMLINUX-AUTOBENCH        .TEXT.LOCK.FORK1477001   0.7098  VMLINUX-AUTOBENCH        JOURNAL_CANCEL_REVOKE1472364   0.7076  VMLINUX-AUTOBENCH        PREPARE_TO_WAIT1413560   0.6793  VMLINUX-AUTOBENCH        JOURNAL_GET_UNDO_ACCESS1400083   0.6729  VMLINUX-AUTOBENCH        __BRELSE1332784   0.6405  VMLINUX-AUTOBENCH        DM_REQUEST1204345   0.5788  VMLINUX-AUTOBENCH        .TEXT.LOCK.LL_RW_BLK1119721   0.5381  VMLINUX-AUTOBENCH        WAKE_UP_BUFFER1062305   0.5105  VMLINUX-AUTOBENCH        SHRINK_ZONE1056003   0.5075  VMLINUX-AUTOBENCH        __WAIT_ON_BUFFER1026335   0.4932  VMLINUX-AUTOBENCH        EXT3_NEW_BLOCK1019841   0.4901  VMLINUX-AUTOBENCH        UNLOCK_BUFFER985205    0.4735  VMLINUX-AUTOBENCH        PUT_IO_CONTEXT962200    0.4624  VMLINUX-AUTOBENCH        EXT3_JOURNAL_START941876    0.4527  VMLINUX-AUTOBENCH        __JOURNAL_FILE_BUFFERPROCS -----------MEMORY---------- ---SWAP-- -----IO---- --SYSTEM-- ----CPU---- R  B   SWPD   FREE   BUFF  CACHE   SI   SO    BI    BO   IN    CS US SY ID WA67 53      0   7020  10096 953204    0    0     9   737  598   628  0 81 18  165 52      0   6444  10312 954028    0    0     3 67809 5884 34764  0 100  0  065 57      0   6764  10404 953676    0    0     3 71555 6745 37137  0 99  0  067 59      0   6700  10512 953568    0    0     4 37000 3795 21193  0 99  0  067 58      0   6700  10648 953172    0    0     3 73837 5960 17310  0 99  0  066 56      0   6764  10812 953008    0    0     3 39781 4296 19298  0 99  0  065 55      0   6828  10708 953112    0    0     4 65699 5995 30554  0 99  0  068 57      0   7084  10616 952684    0    0     3 93669 8073 24970  0 95  4  165 52      0   6636  10476 954124    0    0     1 36207 4766 38690  0 100  0  065 57      0   6892  10472 953088    0    0     4 88312 7357 19491  0 88 10  263 56      0   6700  10396 953164    0    0     1 23391 3366 27624  0 100  0  066 56      0   7212  10404 953156    0    0     4 70605 5503 16061  0 92  6  2STEPS TO REPRODUCE:START 64 THREAD CREATING 50M FILES USING 64 WRITE SIZES.","SUMMARY":"[PERF] LOCK CONTENTION ON WRITE WORKLOAD","CLASS":1}
{"ID_DEFECT":"2698","DESCRIPTION":"DISTRIBUTION:RHL 9, BUT WITH VANILLA 2.6.6 KERNELHARDWARE ENVIRONMENT:IC7 MAX 3 MOBO WITH SATA DRIVESSOFTWARE ENVIRONMENT:PROBLEM DESCRIPTION:KERNEL CRASH;MAY 13 11:55:28 SERVER KERNEL: VFS: QUOTA FOR ID 0 REFERENCED BUT NOT PRESENT.MAY 13 11:55:28 SERVER KERNEL: VFS: CANT READ QUOTA STRUCTURE FOR ID 0.MAY 13 11:55:28 SERVER KERNEL: UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCEAT VIRTUAL ADDRESS 00000074MAY 13 11:55:28 SERVER KERNEL:  PRINTING EIP:MAY 13 11:55:28 SERVER KERNEL: C017CBA3MAY 13 11:55:28 SERVER KERNEL: *PDE = 00000000MAY 13 11:55:28 SERVER KERNEL: OOPS: 0000 [#1]MAY 13 11:55:28 SERVER KERNEL: SMPMAY 13 11:55:28 SERVER KERNEL: CPU:    1MAY 13 11:55:28 SERVER KERNEL: EIP:    0060:[<C017CBA3>]    NOT TAINTEDMAY 13 11:55:28 SERVER KERNEL: EFLAGS: 00010282   (2.6.6)MAY 13 11:55:28 SERVER KERNEL: EIP IS AT DQUOT_TRANSFER+0X14E0X415MAY 13 11:55:28 SERVER KERNEL: EAX: 00000000   EBX: 00000004   ECX: F69EA210  EDX: 00000000MAY 13 11:55:28 SERVER KERNEL: ESI: 00000000   EDI: 00000006   EBP: 00000000  ESP: E3763E84MAY 13 11:55:28 SERVER KERNEL: DS: 007B   ES: 007B   SS: 0068MAY 13 11:55:28 SERVER KERNEL: PROCESS MV (PID: 15167, THREADINFO=E3762000TASK=EED70130)MAY 13 11:55:28 SERVER KERNEL: STACK: F69EA210 2BE60000 00000000 00000000E3763EAF 00000000 00000000 00000001MAY 13 11:55:28 SERVER KERNEL:        2BE60000 00000000 0000381C 0000000000000000 F69EAE10 F69EA210 F131324CMAY 13 11:55:28 SERVER KERNEL:        C06A381C F131324C C06A381C C0191642C06A381C E3763F28 DE319540 00000046MAY 13 11:55:28 SERVER KERNEL: CALL TRACE:MAY 13 11:55:28 SERVER KERNEL:  [<C0191642>] EXT3_SETATTR+0XBE0X280MAY 13 11:55:28 SERVER KERNEL:  [<C016B510>] NOTIFY_CHANGE+0X1CC0X200MAY 13 11:55:28 SERVER KERNEL:  [<C0150804>] CHOWN_COMMON+0XAE0XE0MAY 13 11:55:28 SERVER KERNEL:  [<C015F668>] __USER_WALK+0X5C0X5EMAY 13 11:55:28 SERVER KERNEL:  [<C0150885>] SYS_CHOWN+0X4F0X5BMAY 13 11:55:28 SERVER KERNEL:  [<C0105FE7>] SYSCALL_CALL+0X70XBMAY 13 11:55:28 SERVER KERNEL:MAY 13 11:55:28 SERVER KERNEL: CODE: 8B 42 74 83 F8 01 0F 86 E1 01 00 00 83 E801 89 42 74 8B 42STEPS TO REPRODUCE:UNKNOWN :(","SUMMARY":"KERNEL CRASH; COULD BE RELATED TO QUOTAS ON EXT3","CLASS":1}
{"ID_DEFECT":"7132","DESCRIPTION":"[1006882.438001] BUG: WARNING AT FSEXT3INODE.C:1016EXT3_GETBLK()[1006882.438011]  <C01AE487> EXT3_GETBLK+0XA30X226  <C01BFF60>FIND_REVOKE_RECORD+0X510X7A[1006882.438029]  <C01AE61A> EXT3_BREAD+0X100X67  <C01B70D5>EXT3_QUOTA_READ+0X10A0X185[1006882.438039]  <C017340B> V1_READ_DQBLK+0X490X86  <C017110F>DQUOT_ACQUIRE+0X430XC5[1006882.438049]  <C01B6E24> EXT3_ACQUIRE_DQUOT+0X420X58  <C01719BC>DQGET+0X1A20X1C9[1006882.438057]  <C0172620> DQUOT_TRANSFER+0X1040X383  <C01B0839>EXT3_SETATTR+0XD20X1F1[1006882.438065]  <C0160DE2> NOTIFY_CHANGE+0X1040X21E  <C014A84B>CHOWN_COMMON+0X920XA4[1006882.438080]  <C01575E5> DO_PATH_LOOKUP+0X1E40X1FF  <C015781B>__USER_WALK_FD+0X370X3F[1006882.438090]  <C014A88F> SYS_CHOWN+0X320X43  <C015E165> DPUT+0X2A0X116[1006882.438097]  <C0161CD4> MNTPUT_NO_EXPIRE+0X110X56  <C01025C3>SYSCALL_CALL+0X70XB","SUMMARY":"BUG: WARNING AT FSEXT3INODE.C:1016EXT3_GETBLK()","CLASS":1}
{"ID_DEFECT":"9866","DESCRIPTION":"LATEST WORKING KERNEL VERSION: 2.6.22EARLIEST FAILING KERNEL VERSION: 2.6.18 (OLDEST TESTED)DISTRIBUTION: UBUNTU GUTSYHARDWARE ENVIRONMENT: FUJITSU SIEMENS C1110 LAPTOPSOFTWARE ENVIRONMENT: CHATTR 1.40.2 (12-JUL-2007), MKE2FS 1.40.2 (12-JUL-2007)PROBLEM DESCRIPTION:SOME FILE ATTRIBUTES HAVE STICKY BEHAVIOUR IN EXT23 WHEREAS I BELIEVEIT SHOULD NOT. NAMELY, A DIRECTORY MARKED WITH CHATTR +T SERVES TO BETHE TOP OF DIRECTORY HIERARCHIES FOR THE PURPOSES OF THE ORLOV BLOCKALLOCATOR, AS THE MANPAGE SAYS.IT SEEMS WRONG THAT SUBDIRECTORIES STICKILY INHERIT THE +T FLAG: THEYARE OBVIOUSLY NOT TOP-LEVEL! EVEN FILES GET THE T ATTRIBUTE THIS WAY,EVEN THOUGH THE CHATTR MANPAGES ONLY DOCUMENTS IT FOR DIRECTORIES.REFERENCES:HTTP:LWN.NETARTICLES14633HTTP:LWN.NETARTICLES14447 THEODORE TSO EXT3 PATCHHTTP:EN.WIKIPEDIA.ORGWIKIORLOV_BLOCK_ALLOCATORSTEPS TO REPRODUCE:THE FOLLOWING SHOWS THE STICKY BEHAVIOUR:$ MKDIR TESTSCHATTR -V +T TESTSCHATTR 1.40.2 (12-JUL-2007)FLAGS VON TESTS WIE FOLGT GESETZT: ----------------T-$ MKDIR TESTSSRC$ CP -DP ETCFSTAB TESTSSRC$ LSATTR . TESTS TESTSSRC----------------T- .TESTS----------------T- TESTSSRC----------------T- TESTSSRCFSTABI VERIFIED (USING CP -DPR AND LS -LIFR) THAT INDEED, THE INHERITED TATTRIBUTE CAUSES ALL SUBDIRECTORIES TO BE CREATED IN INODES FAR APART(LIKE WITH MOUNT -O REMOUNT,OLDALLOC), WHEREAS THE ORLOV ALLOCATORNORMALLY WOULD PUT THE DIRECTORIES NEXT TO EACH OTHER.  MY EXPECTATIONIS THAT ONLY E.G. HOMEUSER1,2,3,4,5,6 SHOULD BE CREATED SPREADOUT, WHEREAS EACH USER HOMES CONTENTS WOULD BE NEXT EACH OTHER(HOMEUSER1FOO,BAR,ETC).THE EFFECT OF THIS BUG MAKES CHATTR +T UNUSABLE, BECAUSE ORLOVOPTIMIZATION IS DE FACTO ELIMINATED.REGARDS, JU00F6RG HU00F6HLE","SUMMARY":"CHATTR STICKY BEHAVIOUR AND ORLOV BLOCK ALLOCATOR","CLASS":1}
{"ID_DEFECT":"10276","DESCRIPTION":"LATEST WORKING KERNEL VERSION:EARLIEST FAILING KERNEL VERSION:DISTRIBUTION: LFSHARDWARE ENVIRONMENT: 32BIT X86SOFTWARE ENVIRONMENT:PROBLEM DESCRIPTION: RENAMING A FILE INTO A DIRECTORY SO THAT AN ALREADY EXISTING FILE IS OVERWRITTEN, WILL NOT UPDATE THE CTIME ON THE DIRECTORY. THIS SEEMS TO BE THE REASON FOR CERTAIN FAILURES WITH INCREMENTAL BACKUPS (E.G., WITH STAR).STEPS TO REPRODUCE:RUN THE FOLLOWING COMMANDS AND WATCH THE OUTPUT FROM STAT. UPON THE SECOND RUN OF RENAME, THE CTIME IS NOT UPDATED ON THE DIRECTORY SUB.RM -FR SUB NEW &&MKDIR SUB &&STAT SUB &&SLEEP 2 &&ECHO RUNNING RENAME &&.RENAME A &&STAT SUB &&SLEEP 2 &&ECHO RUNNING RENAME AGAIN &&.RENAME B &&STAT SUBHERE IS RENAME.C:#INCLUDE <UNISTD.H>#INCLUDE <FCNTL.H>#INCLUDE <STDIO.H>#INCLUDE <STDLIB.H>#INCLUDE <SYSSTAT.H>INT MAIN(INT ARGC, CHAR** ARGV) TINT FD;TFD = OPEN(NEW, O_WRONLY | O_NDELAY | O_TRUNC | O_CREAT, 0644);TTWRITE(FD, ARGV[1], 1);TCLOSE(FD);TRENAME(NEW, SUBX);TRETURN 0;","SUMMARY":"DIRECTORY CTIME NOT UPDATED BY RENAME","CLASS":1}
{"ID_DEFECT":"10403","DESCRIPTION":"LATEST WORKING KERNEL VERSION: NONEEARLIEST FAILING KERNEL VERSION: 2.6.25-RC8DISTRIBUTION: GENTOOHARDWARE ENVIRONMENT: X86 (BOTH 32 AND 64 BITS)SOFTWARE ENVIRONMENT: GNUPROBLEM DESCRIPTION:NEW QUOTA DATA IS NOT READ (FROM AQUOTA.USER FILE) AFTER QUOTA ENABLINGON EXT3 FS MOUNTED WITH DATA=JOURNAL.NOTE: DATA=ORDERED (DEFAULT) AND DATA=WRITEBACK - ARE OK.THE PROBLEM IS WITH QUOTA V2 (OLD FORMAT IS NOT TESTED).STEPS TO REPRODUCE:THE PROBLEM IS ALWAYS RECREATABLE.JUST CREATE AN EXT3 FS AND MOUNT IT WITH DATA=JOURNAL.HERE IS THE HOWTO:# DD IF=DEVZERO OF=TEST.EXT3.FS BS=1M COUNT=1 SEEK=99# MKFS.EXT3 TEST.EXT3.FS# MKDIR -P MNT1# MODPROBE LOOP# MOUNT TEST.EXT3.FS MNT1 -OUSRQUOTA,DATA=JOURNAL,LOOP# QUOTACHECK DEVLOOP0# QUOTAON -A  SET QUOTAS FOR SOME USER (JOHN) BOTH SOFT AND HARD (TO SOMETHING LIKE 80000)# EDQUOTA JOHN PUT SOME DATA INTO THE FS# CP -A USRSRCLINUXKERNEL MNT1 OWNED BY USER JOHN# CHOWN -R JOHN:JOHN MNT1KERNEL# QUOTA JOHNDISK QUOTAS FOR USER JOHN (UID 1003):     FILESYSTEM  BLOCKS   QUOTA   LIMIT   GRACE   FILES   QUOTA   LIMIT   GRACE     DEVLOOP0   40248   80000   80000             412       0       0 DISABLE QUOTAS# QUOTAOFF -A SET QUOTAS TO JUST ANOTHER VALUE (LIKE 90000)# EDQUOTA JOHN ENABLE QUOTAS# QUOTAON -A AND CHECK THE USER AGAIN# QUOTA JOHNDISK QUOTAS FOR USER JOHN (UID 1003):     FILESYSTEM  BLOCKS   QUOTA   LIMIT   GRACE   FILES   QUOTA   LIMIT   GRACE     DEVLOOP0   40248   80000   80000             412       0       0PROBLEM: THE QUOTAS IS NOT CHANGED.IF:- THE FS IS MOUNTED BY DEFAULT (WITH DATA=ORDERED)- OR WITH DATA=WRITEBACK- OR EDQUOTA JOHN IS RUNNING WITH ENABLED QUOTAS ON THE FSTHE PROBLEM IS NOT ARISING.","SUMMARY":"QUOTAS PROBLEM ON EXT3 FS MOUNTED WITH DATA=JOURNAL","CLASS":1}
{"ID_DEFECT":"10633","DESCRIPTION":"SUBJECT    : PROBLEM MOUNTING EXT2 USING EXT3?SUBMITTER  : GEERT UYTTERHOEVEN <GEERT@LINUX-M68K.ORG>DATE       : 2008-05-05 17:12REFERENCES : HTTP:WWW.USSG.IU.EDUHYPERMAILLINUXKERNEL0805.02281.HTMLHANDLED-BY : THEODORE TSO <TYTSO@MIT.EDU>HANDLED-BY : JAN KARA <JACK@SUSE.CZ>PATCH      : HTTP:MARC.INFO?L=LINUX-KERNEL&M=121006820018050&W=2THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.25.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"PROBLEM MOUNTING EXT2 USING EXT3 (OR ANY FAILURE TO MOUNT A PARTITION) LEADS TO AN OOPS.","CLASS":1}
{"ID_DEFECT":"11873","DESCRIPTION":"LATEST WORKING KERNEL VERSION:2.6.27.3EARLIEST FAILING KERNEL VERSION:2.6.28 RC1 GIT1DISTRIBUTION: GENTOOHARDWARE ENVIRONMENT: X86_64 AMDSOFTWARE ENVIRONMENT: KERNEL + INITRAMFSPROBLEM DESCRIPTION:SINCE 2.6.28 MOUNT COMMAND (BUSYBOX) IS UNABLE TO MOUNT THE ROOT FILE SYSTEM. THE ERROR RETURNED IS,EXT3-FS ERROR (DEVICE MD_D0P2): HTREE_DIRBLOCK_TO_TREE: BAD ENTRY IN DIRECTORY #2: REC_LEN % 4 != 0 - OFFSET=0, INODE=2109536318, REC_LEN=16058, NAME_LEN=111(THE FIGURES COULD CHANGE)TO MAKE IT WORK, I NEED FIRST TO MOUNT THE FILE SYSTEM AS AN EXT2 FILE SYSTEM, UNMOUNT IT AND RECALL MOUNT COMMAND WITH THE -T EXT3 OPTION.STEP 1:MOUNT -O RO DEVMDD0P2 NEW-ROOT(MOUNT OK WITH FLAGS RO,ERRORS=CONTINUE)LS NEW-ROOT(LS WITHOUT ERROR)UMOUNT NEW-ROOTAND THENSTEP 2:MOUNT -T EXT3 -O RO DEVMDD0P2 NEW-ROOT(MOUNT OK WITH FLAGS RO,ERRORS=CONTINUE,DATA=ORDERED)LS NEW-ROOT(LS WITHOUT ERROR)EXT2,JBD,EXT3,MBCACHE,CRC32 ARE MODULES AND ARE LOADED FROM AN INITRAMFS FILE SYSTEM.IMHO, IT IS A PROBLEM IN MBCACHE OR JBD.ALSO, THERE IS AN OTHER PROBLEM WITH THAT KERNEL. AFTER CREATING THE DEV NODE, LOADING MD_MOD AND RAID1, MDASSEMBLE START AS USUAL THE MD DEVICE, BUT THE MOUNT COMMAND DOESNT RECOGNIZE THE DEV NODE AS VALID AND ABORT. I NEED TO STOP THE MD DEVICE THAT HAS BEEN CREATED EARLIER AND REAPPLY MDASSEMBLE OR MDADM --ASSEMBLE --SCAN FROM INITRAMFS FILE SYSTEM. AFTERWARDS MOUNT COMMAND IS ABLE TO MOUNT THE FILE SYSTEM BUT... LIKE AN EXT2 FILE SYSTEM. IM ON STEP 2 AGAIN.STEPS TO REPRODUCE: REBOOT THE KERNEL, LOAD THE INITRAMFS FILE SYSTEM AND OPEN A SHELL JUST AFTER THE MOUNT COMMAND HAS ABORTED.","SUMMARY":"UNABLE TO MOUNT EXT3 ROOT FILESYSTEM DUE TO HTREE_DIRBLOCK_TO_TREE","CLASS":1}
{"ID_DEFECT":"12224","DESCRIPTION":"LATEST WORKING KERNEL VERSION: 2.6.27.5EARLIEST FAILING KERNEL VERSION: 2.6.27.6DISTRIBUTION: DEBIAN STABLE WITH CUSTOM COMPILED VANILLA KERNELPROBLEM DESCRIPTION:    ACTIVITY ON ONE PARTITION (HDA1) CAUSES KJOURNALD TO ALSO WRITE TO ANOTHER PARTITION (SDA1).  THIS IN TURN CAUSES THE HARDDRIVE WHICH CONTAINS SDA1 TO SPINUP OR NOT SPINDOWN.    IVE ACTIVATED LAPTOP-MODE USING LAPTOP-MODE-TOOLS. HDA1 AND SDA1 ARE BOTH FORMATTED WITH EXT3.    ON UNAFFECTED KERNELS (E.G. 2.6.27.5) BTRACE PRODUCES NO OUTPUT.  ON AFFECTED KERNELS (E.G. 2.6.27.6, 2.6.27-RC7) BTRACE PRODUCES OUTPUT AS BELOW.DEVHDA1 ON  TYPE EXT3 (RW,NOATIME,ERRORS=REMOUNT-RO,COMMIT=1209600)TMPFS ON LIBINITRW TYPE TMPFS (RW,NOSUID,MODE=0755)PROC ON PROC TYPE PROC (RW,NOEXEC,NOSUID,NODEV)SYSFS ON SYS TYPE SYSFS (RW,NOEXEC,NOSUID,NODEV)UDEV ON DEV TYPE TMPFS (RW,MODE=0755)TMPFS ON DEVSHM TYPE TMPFS (RW,NOSUID,NODEV)DEVPTS ON DEVPTS TYPE DEVPTS (RW,NOEXEC,NOSUID,GID=5,MODE=620)DEBUGFS ON SYSKERNELDEBUG TYPE DEBUGFS (RW)STEPS TO REPRODUCE:    1. START BTRACE DEVSDA    2. BEGIN COMPILING KERNEL    3. WITHIN SECONDS BTRACE BEGINS OUTPUT SIMILAR TO BELOW.THANKS FOR ALL YOUR WORK!  SORRY IF IVE MISPLACED BLAME FOR THIS UNDESIRABLE CHANGE IN BEHAVIOR.USING 2.6.27.8, BTRACE OF DEVSDA WHILE COMPILING ON DEVHDA1DEC U00A09 11:15:32 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A01 U00A0 U00A0 0.000000000 U00A01109 U00A0A U00A0WS 14375 + 8 <- (8,1) 14312DEC U00A09 11:15:32 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A02 U00A0 U00A0 0.000006705 U00A01109 U00A0Q U00A0WS 14375 + 8 [KJOURNALD]DEC U00A09 11:15:32 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A03 U00A0 U00A0 0.000043581 U00A01109 U00A0G U00A0WS 14375 + 8 [KJOURNALD] DEC U00A09 11:15:32 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A04 U00A0 U00A0 0.000065651 U00A01109 U00A0P U00A0 N [KJOURNALD]DEC U00A09 11:15:32 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A05 U00A0 U00A0 0.000076267 U00A01109 U00A0I U00A0 W 14375 + 8 [KJOURNALD]DEC U00A09 11:15:32 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A06 U00A0 U00A0 0.000300318 U00A01109 U00A0D U00A0 W 14375 + 8 [KJOURNALD]DEC U00A09 11:15:32 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A07 U00A0 U00A0 0.000423518 U00A01109 U00A0U U00A0 N [KJOURNALD] 1DEC U00A09 11:15:32 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A08 U00A0 U00A0 0.010028373 U00A0 U00A0 3 U00A0C U00A0 W 14375 + 8 [0]DEC U00A09 11:15:35 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 U00A09 U00A0 U00A0 3.219049689 U00A01109 U00A0A U00A0WS 14383 + 8 <- (8,1) 14320DEC U00A09 11:15:35 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 10 U00A0 U00A0 3.219058350 U00A01109 U00A0Q U00A0WS 14383 + 8 [KJOURNALD]DEC U00A09 11:15:35 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 11 U00A0 U00A0 3.219095505 U00A01109 U00A0G U00A0WS 14383 + 8 [KJOURNALD]DEC U00A09 11:15:35 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 12 U00A0 U00A0 3.219115061 U00A01109 U00A0P U00A0 N [KJOURNALD]DEC U00A09 11:15:35 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 13 U00A0 U00A0 3.219127074 U00A01109 U00A0I U00A0 W 14383 + 8 [KJOURNALD]DEC U00A09 11:15:35 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 14 U00A0 U00A0 3.219344699 U00A01109 U00A0D U00A0 W 14383 + 8 [KJOURNALD]DEC U00A09 11:15:35 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 15 U00A0 U00A0 3.219543607 U00A01109 U00A0U U00A0 N [KJOURNALD] 1DEC U00A09 11:15:35 LOCALHOST LOGGER: U00A0 8,0 U00A0 U00A00 U00A0 U00A0 U00A0 16 U00A0 U00A0 3.229477275 U00A0 U00A0 3 U00A0C U00A0 W 14383 + 8 [0]","SUMMARY":"JOURNAL ACTIVITY ON INACTIVE PARTITION CAUSES INACTIVE HARDDRIVE SPINUP","CLASS":1}
{"ID_DEFECT":"15655","DESCRIPTION":"CREATED ATTACHMENT 25762KERNEL LOG (FULL)SORRY IT IS AGAINST WIRELESS-TESTING. I AM NOT EAGER TO TEST AGAIN OR BISECT : THE FILESYSTEM GETS CORRUPTED AFTER A LITTLE WHILE (IT GET THE BOOT OK ... BUT THEN LATER ON I GET THIS ISSUE). AND I ALREADY DID 2 RUNS AND IT WAS CLOSE TO BIG LOSE ON THE SECOND BEFORE SWITCHING BACK TO 2.6.33 WIRELESS-TESTING (I HAD TO USE A LIVE USB KEY AND FSCK WITH IT ... A HUNDRED OF THE GROUPS WERE BROKEN ALREADY). I AM DEVELOPPINGTESTING RALINK WIRELESS THUS THE TREE.IT IS REALLY CLOSE TO HTTPS:BUGZILLA.KERNEL.ORGSHOW_BUG.CGI?ID=15610 .AS FAR AS I CAN TELL THE TAINTED COMES FROM THE PREVIOUS LOCKDEP WARNING. AS IT SEEMS THE DKMS BUILD OF EXTERNAL MODULES DID NOT HAPPENED.[  575.960512] BUG: UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT (NULL)[  575.960536] IP: [<C0128D3F>] __WAKE_UP_COMMON+0X1F0X70[  575.960560] *PDE = 00000000 [  575.960571] OOPS: 0000 [#2] SMP [  575.960585] LAST SYSFS FILE: SYSDEVICESLNXSYSTM:00LNXSYBUS:00PNP0A08:00PNP0C0A:00POWER_SUPPLYBAT0CHARGE_FULL[  575.960599] MODULES LINKED IN: NFSD LOCKD NFS_ACL AUTH_RPCGSS SUNRPC EXPORTFS IPT_MASQUERADE IPTABLE_NAT NF_NAT NF_CONNTRACK_IPV4 NF_DEFRAG_IPV4 XT_STATE NF_CONNTRACK IPT_REJECT XT_TCPUDP IPTABLE_FILTER IP_TABLES X_TABLES PPDEV PARPORT AF_PACKET SCO BRIDGE STP BNEP L2CAP CRC16 BLUETOOTH IPX P8022 PSNAP LLC P8023 IPV6 IPMI_DEVINTF IPMI_SI(+) IBMPEX IPMI_MSGHANDLER ACPI_CPUFREQ CPUFREQ_CONSERVATIVE CPUFREQ_POWERSAVE CPUFREQ_USERSPACE CPUFREQ_ONDEMAND CPUFREQ_STATS FREQ_TABLE BINFMT_MISC FUSE TUN UINPUT DM_CRYPT SND_HDA_CODEC_REALTEK SND_HDA_INTEL SND_HDA_CODEC SND_PCM_OSS SND_MIXER_OSS SND_PCM SND_SEQ_OSS SND_SEQ_MIDI SND_RAWMIDI SND_SEQ_MIDI_EVENT SND_SEQ SND_TIMER EEEPC_LAPTOP SND_SEQ_DEVICE SPARSE_KEYMAP UVCVIDEO SND RTC_CMOS TPM_TIS RFKILL PSMOUSE RTC_CORE VIDEODEV SOUNDCORE TPM V4L1_COMPAT JOYDEV LED_CLASS RNG_CORE SND_PAGE_ALLOC RTC_LIB TPM_BIOS SERIO_RAW AC EVDEV BATTERY PROCESSOR PCI_HOTPLUG EXT3 JBD MBCACHE DM_MOD MD_MOD HID_LOGITECH USBHID HID USB_STORAGE USB_LIBUSUAL S_MOD ATA_GENERIC PATA_ACPI ATA_PIIX LIBATA UHCI_HCD EHCI_HCD ATL1E SCSI_MOD USBCORE THERMAL FAN I915 DRM_KMS_HELPER DRM I2C_ALGO_BIT BUTTON I2C_CORE INTEL_AGP AGPGART VIDEO THERMAL_SYS OUTPUT FBCON TILEBLIT FONT BITBLIT SOFTCURSOR [LAST UNLOADED: PCIEHP][  575.961030] [  575.961042] PID: 7382, COMM: DWWW-BUILD TAINTED: G      D W  2.6.34-RC2-WLEEEPC #25 1000H1000H[  575.961054] EIP: 0060:[<C0128D3F>] EFLAGS: 00010082 CPU: 0[  575.961066] EIP IS AT __WAKE_UP_COMMON+0X1F0X70[  575.961075] EAX: C3EA0EC8 EBX: FFFFFFF4 ECX: 00000001 EDX: 00000000[  575.961084] ESI: 00000003 EDI: 00000292 EBP: E25D9D50 ESP: E25D9D34[  575.961094]  DS: 007B ES: 007B FS: 00D8 GS: 0033 SS: 0068[  575.961106] PROCESS DWWW-BUILD (PID: 7382, TI=E25D8000 TASK=E891E700 TASK.TI=E25D8000)[  575.961115] STACK:[  575.961122]  00000000 00000001 00000003 C012CB90 C3EA0EA4 00000003 00000292 E25D9D70[  575.961152] <0> C012CBAC 00000000 E25D9D7C 00000001 C05AC378 C0591780 00000084 E25D9D84[  575.961186] <0> C0157A3E E25D9D7C C05AC378 00000003 E25D9D94 C0157A9C C05AC10C C05AC10C[  575.961222] CALL TRACE:[  575.961238]  [<C012CB90>] ? __WAKE_UP+0X200X60[  575.961252]  [<C012CBAC>] ? __WAKE_UP+0X3C0X60[  575.961269]  [<C05AC378>] ? CODE_BYTES_SETUP+0XB0X26[  575.961284]  [<C0157A3E>] ? __WAKE_UP_BIT+0X2E0X30[  575.961299]  [<C05AC378>] ? CODE_BYTES_SETUP+0XB0X26[  575.961313]  [<C0157A9C>] ? WAKE_UP_BIT+0X5C0X60[  575.961327]  [<C05AC10C>] ? TRAP_INIT+0X27D0X44C[  575.961341]  [<C05AC10C>] ? TRAP_INIT+0X27D0X44C[  575.961356]  [<C020C265>] ? UNLOCK_NEW_INODE+0X950XC0[  575.961370]  [<C05AC10C>] ? TRAP_INIT+0X27D0X44C[  575.961383]  [<C05AC10C>] ? TRAP_INIT+0X27D0X44C[  575.961432]  [<FA6FC9F3>] ? EXT3_IGET+0X2730X440 [EXT3][  575.961447]  [<C020A65C>] ? D_ALLOC+0XFC0X180[  575.961494]  [<FA702E87>] ? EXT3_LOOKUP+0X870X100 [EXT3][  575.961510]  [<C03E9EA2>] ? _RAW_SPIN_UNLOCK+0X220X30[  575.961524]  [<C020A682>] ? D_ALLOC+0X1220X180[  575.961553]  [<C0200E13>] ? DO_LOOKUP+0X1630X1C0[  575.961567]  [<C020305D>] ? LINK_PATH_WALK+0X42D0X9B0[  575.961582]  [<C0203711>] ? PATH_WALK+0X510XC0[  575.961596]  [<C02037D9>] ? DO_PATH_LOOKUP+0X590X90[  575.961611]  [<C02042E1>] ? USER_PATH_AT+0X410X80[  575.961625]  [<C02A7C5B>] ? COPY_TO_USER+0X3B0X120[  575.961642]  [<C01FC1CA>] ? VFS_FSTATAT+0X3A0X70[  575.961656]  [<C01FC260>] ? VFS_LSTAT+0X200X30[  575.961671]  [<C01FC289>] ? SYS_LSTAT64+0X190X30[  575.961686]  [<C0192AD2>] ? AUDIT_SYSCALL_ENTRY+0X1E20X210[  575.961700]  [<C0102D8D>] ? SYSENTER_EXIT+0XF0X1A[  575.961714]  [<C0102D58>] ? SYSENTER_DO_CALL+0X120X38[  575.961724] CODE: 1F 44 00 00 E8 53 FF FF FF 5D C3 90 55 89 E5 57 56 53 83 EC 10 0F 1F 44 00 00 89 55 EC 89 4D E8 8B 50 24 83 C0 24 8D 5A F4 39 D0 <8B> 73 0C 89 45 F0 74 3B 83 EE 0C EB 09 8D 74 26 00 89 F3 8D 70 [  575.961911] EIP: [<C0128D3F>] __WAKE_UP_COMMON+0X1F0X70 SS:ESP 0068:E25D9D34[  575.961930] CR2: 0000000000000000[  575.961942] ---[ END TRACE 28287BE16BBCEA07 ]---[  575.967255] BUG: UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT (NULL)[  575.967278] IP: [<C0128D3F>] __WAKE_UP_COMMON+0X1F0X70[  575.967302] *PDE = 00000000 [  575.967314] OOPS: 0000 [#3] SMP [  575.967327] LAST SYSFS FILE: SYSDEVICESLNXSYSTM:00LNXSYBUS:00PNP0A08:00PNP0C0A:00POWER_SUPPLYBAT0CHARGE_FULL[  575.967339] MODULES LINKED IN: NFSD LOCKD NFS_ACL AUTH_RPCGSS SUNRPC EXPORTFS IPT_MASQUERADE IPTABLE_NAT NF_NAT NF_CONNTRACK_IPV4 NF_DEFRAG_IPV4 XT_STATE NF_CONNTRACK IPT_REJECT XT_TCPUDP IPTABLE_FILTER IP_TABLES X_TABLES PPDEV PARPORT AF_PACKET SCO BRIDGE STP BNEP L2CAP CRC16 BLUETOOTH IPX P8022 PSNAP LLC P8023 IPV6 IPMI_DEVINTF IPMI_SI(+) IBMPEX IPMI_MSGHANDLER ACPI_CPUFREQ CPUFREQ_CONSERVATIVE CPUFREQ_POWERSAVE CPUFREQ_USERSPACE CPUFREQ_ONDEMAND CPUFREQ_STATS FREQ_TABLE BINFMT_MISC FUSE TUN UINPUT DM_CRYPT SND_HDA_CODEC_REALTEK SND_HDA_INTEL SND_HDA_CODEC SND_PCM_OSS SND_MIXER_OSS SND_PCM SND_SEQ_OSS SND_SEQ_MIDI SND_RAWMIDI SND_SEQ_MIDI_EVENT SND_SEQ SND_TIMER EEEPC_LAPTOP SND_SEQ_DEVICE SPARSE_KEYMAP UVCVIDEO SND RTC_CMOS TPM_TIS RFKILL PSMOUSE RTC_CORE VIDEODEV SOUNDCORE TPM V4L1_COMPAT JOYDEV LED_CLASS RNG_CORE SND_PAGE_ALLOC RTC_LIB TPM_BIOS SERIO_RAW AC EVDEV BATTERY PROCESSOR PCI_HOTPLUG EXT3 JBD MBCACHE DM_MOD MD_MOD HID_LOGITECH USBHID HID USB_STORAGE USB_LIBUSUAL S_MOD ATA_GENERIC PATA_ACPI ATA_PIIX LIBATA UHCI_HCD EHCI_HCD ATL1E SCSI_MOD USBCORE THERMAL FAN I915 DRM_KMS_HELPER DRM I2C_ALGO_BIT BUTTON I2C_CORE INTEL_AGP AGPGART VIDEO THERMAL_SYS OUTPUT FBCON TILEBLIT FONT BITBLIT SOFTCURSOR [LAST UNLOADED: PCIEHP][  575.967792] [  575.967808] PID: 6884, COMM: RUN-PARTS TAINTED: G      D W  2.6.34-RC2-WLEEEPC #25 1000H1000H[  575.967820] EIP: 0060:[<C0128D3F>] EFLAGS: 00010086 CPU: 0[  575.967834] EIP IS AT __WAKE_UP_COMMON+0X1F0X70[  575.967845] EAX: C3EA0E9C EBX: FFFFFFF4 ECX: 00000001 EDX: 00000000[  575.967856] ESI: 00000003 EDI: 00000292 EBP: E8981D50 ESP: E8981D34[  575.967866]  DS: 007B ES: 007B FS: 00D8 GS: 0033 SS: 0068[  575.967876] PROCESS RUN-PARTS (PID: 6884, TI=E8980000 TASK=ECBC19C0 TASK.TI=E8980000)[  575.967884] STACK:[  575.967891]  00000000 00000001 00000003 C012CB90 C3EA0E78 00000003 00000292 E8981D70[  575.967923] <0> C012CBAC 00000000 E8981D7C 00000001 C05AC718 C0591780 00000084 E8981D84[  575.967955] <0> C0157A3E E8981D7C C05AC718 00000003 E8981D94 C0157A9C C05AC4AC C05AC4AC[  575.967994] CALL TRACE:[  575.968011]  [<C012CB90>] ? __WAKE_UP+0X200X60[  575.968023]  [<C012CBAC>] ? __WAKE_UP+0X3C0X60[  575.968023]  [<C05AC718>] ? SETUP_ARCH+0X2BE0XAA1[  575.968023]  [<C0157A3E>] ? __WAKE_UP_BIT+0X2E0X30[  575.968023]  [<C05AC718>] ? SETUP_ARCH+0X2BE0XAA1[  575.968023]  [<C0157A9C>] ? WAKE_UP_BIT+0X5C0X60[  575.968023]  [<C05AC4AC>] ? SETUP_ARCH+0X520XAA1[  575.968023]  [<C05AC4AC>] ? SETUP_ARCH+0X520XAA1[  575.968023]  [<C020C265>] ? UNLOCK_NEW_INODE+0X950XC0[  575.968023]  [<C05AC4AC>] ? SETUP_ARCH+0X520XAA1[  575.968023]  [<C05AC4AC>] ? SETUP_ARCH+0X520XAA1[  575.968132]  [<FA6FC9F3>] ? EXT3_IGET+0X2730X440 [EXT3][  575.968132]  [<C020A65C>] ? D_ALLOC+0XFC0X180[  575.968132]  [<FA702E87>] ? EXT3_LOOKUP+0X870X100 [EXT3][  575.968132]  [<C03E9EA2>] ? _RAW_SPIN_UNLOCK+0X220X30[  575.968132]  [<C020A682>] ? D_ALLOC+0X1220X180[  575.968132]  [<C0200E13>] ? DO_LOOKUP+0X1630X1C0[  575.968132]  [<C020305D>] ? LINK_PATH_WALK+0X42D0X9B0[  575.968132]  [<C0203711>] ? PATH_WALK+0X510XC0[  575.968132]  [<C02037D9>] ? DO_PATH_LOOKUP+0X590X90[  575.968132]  [<C02042E1>] ? USER_PATH_AT+0X410X80[  575.968132]  [<C01DEDFE>] ? HANDLE_MM_FAULT+0X37E0X860[  575.968132]  [<C01DEDFE>] ? HANDLE_MM_FAULT+0X37E0X860[  575.968132]  [<C03E9481>] ? _RAW_SPIN_LOCK+0X610X70[  575.968132]  [<C01FC1CA>] ? VFS_FSTATAT+0X3A0X70[  575.968132]  [<C01FC320>] ? VFS_STAT+0X200X30[  575.968132]  [<C01FC349>] ? SYS_STAT64+0X190X30[  575.968132]  [<C015CABB>] ? UP_READ+0X1B0X30[  575.968132]  [<C0192AD2>] ? AUDIT_SYSCALL_ENTRY+0X1E20X210[  575.968132]  [<C03EA0D6>] ? RESTORE_ALL_NOTRACE+0X00X18[  575.968132]  [<C03ED060>] ? DO_PAGE_FAULT+0X00X3C0[  575.968132]  [<C0102D58>] ? SYSENTER_DO_CALL+0X120X38[  575.968132] CODE: 1F 44 00 00 E8 53 FF FF FF 5D C3 90 55 89 E5 57 56 53 83 EC 10 0F 1F 44 00 00 89 55 EC 89 4D E8 8B 50 24 83 C0 24 8D 5A F4 39 D0 <8B> 73 0C 89 45 F0 74 3B 83 EE 0C EB 09 8D 74 26 00 89 F3 8D 70 [  575.968132] EIP: [<C0128D3F>] __WAKE_UP_COMMON+0X1F0X70 SS:ESP 0068:E8981D34[  575.968132] CR2: 0000000000000000[  575.968579] ---[ END TRACE 28287BE16BBCEA08 ]--I WILL GET A SECOND STATION UP TO TEST (WITH NO REAL DATA). SO I WILL BE ABLE TO BISECT ON IT IN A FEW DAYS.","SUMMARY":"CORRUPT EXT3 FS AND PARTIAL FREEZE","CLASS":1}
{"ID_DEFECT":"2017","DESCRIPTION":"DISTRIBUTION: DEBIAN STABLEHARDWARE ENVIRONMENT: P-II 350, IDESOFTWARE ENVIRONMENT:PROBLEM DESCRIPTION:I UPGRADED TO 2.6.2 TODAY (FROM 2.6.1) AND GOT A KERNEL PANIC AS SOON SAI STARTED USING IPSEC (SAME CONFIG AS I HAVE BEEN USING WITH 2.6.1).FOLLOWING IS THE CONSOLE OUTPUT:UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT VIRTUAL ADDRESS00000000*PDE = 00000000OOPS: 0002 [#1]CPU:    0EIP:    0060:[<C0117231>]    NOT TAINTEDEFLAGS: 00010082EIP IS AT SCHEDULE+0X1390X4F4EAX: 00000001   EBX: 00000000   ECX: C0311D80   EDX: C0311D60ESI: C0311D60   EDI: C0311F28   EBP: C0389D70   ESP: C0389D30DS: 007B   ES: 007B   SS: 0068PROCESS SWAPPER (PID: 0, THREADINFO=C0388000 TASK=C0311D60)STACK: C0388000 C0389DB0 C0389DC4 C81A8CC0 C81A8CC0 CF1F62E0 00000002CF1F62E0       C0389E00 C0389DFC 00000246 0926BF51 9530848E 000006F2 C0311D60C0311F28       C0389DD4 C02A294D C0389DF4 C81A8CC0 C81A8CC0 00000002 00029D0000000003CALL TRACE: [<C02A294D>] XFRM_LOOKUP+0X1ED0X45C [<C0117630>] DEFAULT_WAKE_FUNCTION+0X00X1C [<C0117630>] DEFAULT_WAKE_FUNCTION+0X00X1C [<C02A2BE6>] _DECODE_SESSION+0X2A0X40 [<C02A3283>] __XFRM_ROUTE_FORWARD+0X2F0X48 [<C0273BE7>] IP_FORWARD+0X970X234 [<C0272DC9>] IP_RCV_FINISH+0X1FD0X244 [<C0267CC8>] NF_HOOK_SLOW+0XCC0X124 [<C02729DA>] IP_RCV+0X3EE0X430 [<C0272BCC>] IP_RCV_FINISH+0X00X244 [<C025E8C4>] NETIF_RECEIVE_SKB+0X1500X1A8 [<C025E98D>] PROCESS_BACKLOG+0X710X104 [<C025EA92>] NET_RX_ACTION+0X720X11C [<C011E0FE>] DO_SOFTIRQ+0X4E0XA0 [<C010AFD1>] DO_IRQ+0X1150X130 [<C0106F14>] DEFAULT_IDLE+0X00X34 [<C0105000>] _STEXT+0X00X5C [<C01097FC>] COMMON_INTERRUPT+0X180X20 [<C0106F14>] DEFAULT_IDLE+0X00X34 [<C0105000>] _STEXT+0X00X5C [<C0106F3A>] DEFAULT_IDLE+0X260X34 [<C0106FC5>] CPU_IDLE+0X310X40 [<C0105055>] _STEXT+0X550X5C [<C038A6AA>] START_KERNEL+0X1760X17CCODE: FF 0B 8B 51 04 8B 46 20 89 50 04 89 02 C7 46 20 00 01 10 00 <0>KERNEL PANIC: FATAL EXCEPTION IN INTERRUPTIN INTERRUPT HANDLER - NOT SYNCINGATTACHED IS THE RACOON.CONF IM USING (AAA.BBB.CCC.DDD, EEE.FFF.GGG.HHHAND III.JJJ.KKK.LLL ARE IP ADDRESSES):PATH INCLUDE USRLOCALETCRACOON ;PATH PRE_SHARED_KEY USRLOCALETCRACOONPSK.TXT ;#LOG DEBUG;LISTEN        ISAKMP  AAA.BBB.CCC.DDD[500];REMOTE EEE.FFF.GGG.HHH         EXCHANGE_MODE MAIN;        PROPOSAL                 ENCRYPTION_ALGORITHM 3DES;                HASH_ALGORITHM SHA1;                AUTHENTICATION_METHOD PRE_SHARED_KEY;                DH_GROUP MODP1024;        SAINFO ADDRESS 172.31.0.024 ANY ADDRESS III.JJJ.KKK.LLL27 ANY         PFS_GROUP MODP1024;        ENCRYPTION_ALGORITHM 3DES;        AUTHENTICATION_ALGORITHM HMAC_SHA1;        COMPRESSION_ALGORITHM DEFLATE;## AUTOMATICALLY GENERATED MAKE CONFIG: DONT EDIT#CONFIG_X86=YCONFIG_MMU=YCONFIG_UID16=YCONFIG_GENERIC_ISA_DMA=Y## CODE MATURITY LEVEL OPTIONS## CONFIG_EXPERIMENTAL IS NOT SETCONFIG_CLEAN_COMPILE=YCONFIG_STANDALONE=YCONFIG_BROKEN_ON_SMP=Y## GENERAL SETUP#CONFIG_SWAP=YCONFIG_SYSVIPC=Y# CONFIG_BSD_PROCESS_ACCT IS NOT SETCONFIG_SYSCTL=YCONFIG_LOG_BUF_SHIFT=14# CONFIG_IKCONFIG IS NOT SET# CONFIG_EMBEDDED IS NOT SETCONFIG_KALLSYMS=YCONFIG_FUTEX=YCONFIG_EPOLL=YCONFIG_IOSCHED_NOOP=YCONFIG_IOSCHED_AS=YCONFIG_IOSCHED_DEADLINE=Y# CONFIG_CC_OPTIMIZE_FOR_SIZE IS NOT SET## LOADABLE MODULE SUPPORT#CONFIG_MODULES=YCONFIG_MODULE_UNLOAD=YCONFIG_OBSOLETE_MODPARM=YCONFIG_KMOD=Y## PROCESSOR TYPE AND FEATURES#CONFIG_X86_PC=Y# CONFIG_X86_VOYAGER IS NOT SET# CONFIG_X86_NUMAQ IS NOT SET# CONFIG_X86_SUMMIT IS NOT SET# CONFIG_X86_BIGSMP IS NOT SET# CONFIG_X86_VISWS IS NOT SET# CONFIG_X86_GENERICARCH IS NOT SET# CONFIG_X86_ES7000 IS NOT SET# CONFIG_M386 IS NOT SET# CONFIG_M486 IS NOT SET# CONFIG_M586 IS NOT SET# CONFIG_M586TSC IS NOT SET# CONFIG_M586MMX IS NOT SET# CONFIG_M686 IS NOT SETCONFIG_MPENTIUMII=Y# CONFIG_MPENTIUMIII IS NOT SET# CONFIG_MPENTIUM4 IS NOT SET# CONFIG_MK6 IS NOT SET# CONFIG_MK7 IS NOT SET# CONFIG_MK8 IS NOT SET# CONFIG_MELAN IS NOT SET# CONFIG_MCRUSOE IS NOT SET# CONFIG_MWINCHIPC6 IS NOT SET# CONFIG_MWINCHIP2 IS NOT SET# CONFIG_MWINCHIP3D IS NOT SET# CONFIG_MCYRIXIII IS NOT SET# CONFIG_MVIAC3_2 IS NOT SET# CONFIG_X86_GENERIC IS NOT SETCONFIG_X86_CMPXCHG=YCONFIG_X86_XADD=YCONFIG_X86_L1_CACHE_SHIFT=5CONFIG_RWSEM_XCHGADD_ALGORITHM=YCONFIG_X86_WP_WORKS_OK=YCONFIG_X86_INVLPG=YCONFIG_X86_BSWAP=YCONFIG_X86_POPAD_OK=YCONFIG_X86_GOOD_APIC=YCONFIG_X86_INTEL_USERCOPY=YCONFIG_X86_USE_PPRO_CHECKSUM=Y# CONFIG_HPET_TIMER IS NOT SET# CONFIG_HPET_EMULATE_RTC IS NOT SET# CONFIG_SMP IS NOT SETCONFIG_PREEMPT=YCONFIG_X86_UP_APIC=YCONFIG_X86_UP_IOAPIC=YCONFIG_X86_LOCAL_APIC=YCONFIG_X86_IO_APIC=YCONFIG_X86_TSC=YCONFIG_X86_MCE=YCONFIG_X86_MCE_NONFATAL=Y# CONFIG_X86_MCE_P4THERMAL IS NOT SET# CONFIG_TOSHIBA IS NOT SET# CONFIG_I8K IS NOT SET# CONFIG_MICROCODE IS NOT SET# CONFIG_X86_MSR IS NOT SET# CONFIG_X86_CPUID IS NOT SETCONFIG_NOHIGHMEM=Y# CONFIG_HIGHMEM4G IS NOT SET# CONFIG_HIGHMEM64G IS NOT SET# CONFIG_MATH_EMULATION IS NOT SETCONFIG_MTRR=Y# CONFIG_EFI IS NOT SETCONFIG_HAVE_DEC_LOCK=Y## POWER MANAGEMENT OPTIONS (ACPI, APM)## CONFIG_PM IS NOT SET## ACPI (ADVANCED CONFIGURATION AND POWER INTERFACE) SUPPORT#CONFIG_ACPI=YCONFIG_ACPI_BOOT=YCONFIG_ACPI_INTERPRETER=YCONFIG_ACPI_AC=YCONFIG_ACPI_BATTERY=YCONFIG_ACPI_BUTTON=YCONFIG_ACPI_FAN=YCONFIG_ACPI_PROCESSOR=YCONFIG_ACPI_THERMAL=Y# CONFIG_ACPI_ASUS IS NOT SET# CONFIG_ACPI_TOSHIBA IS NOT SET# CONFIG_ACPI_DEBUG IS NOT SETCONFIG_ACPI_BUS=YCONFIG_ACPI_EC=YCONFIG_ACPI_POWER=YCONFIG_ACPI_PCI=YCONFIG_ACPI_SYSTEM=Y# CONFIG_ACPI_RELAXED_AML IS NOT SET## CPU FREQUENCY SCALING## CONFIG_CPU_FREQ IS NOT SET## BUS OPTIONS (PCI, PCMCIA, EISA, MCA, ISA)#CONFIG_PCI=Y# CONFIG_PCI_GOBIOS IS NOT SET# CONFIG_PCI_GODIRECT IS NOT SETCONFIG_PCI_GOANY=YCONFIG_PCI_BIOS=YCONFIG_PCI_DIRECT=Y# CONFIG_PCI_USE_VECTOR IS NOT SETCONFIG_PCI_LEGACY_PROC=YCONFIG_PCI_NAMES=YCONFIG_ISA=Y# CONFIG_EISA IS NOT SET# CONFIG_MCA IS NOT SET# CONFIG_SCX200 IS NOT SETCONFIG_HOTPLUG=Y## PCMCIACARDBUS SUPPORT## CONFIG_PCMCIA IS NOT SETCONFIG_PCMCIA_PROBE=Y## PCI HOTPLUG SUPPORT### EXECUTABLE FILE FORMATS#CONFIG_BINFMT_ELF=YCONFIG_BINFMT_AOUT=MCONFIG_BINFMT_MISC=M## DEVICE DRIVERS### GENERIC DRIVER OPTIONS## CONFIG_FW_LOADER IS NOT SET## MEMORY TECHNOLOGY DEVICES (MTD)## CONFIG_MTD IS NOT SET## PARALLEL PORT SUPPORT#CONFIG_PARPORT=MCONFIG_PARPORT_PC=MCONFIG_PARPORT_PC_CML1=M# CONFIG_PARPORT_SERIAL IS NOT SET# CONFIG_PARPORT_OTHER IS NOT SET# CONFIG_PARPORT_1284 IS NOT SET## PLUG AND PLAY SUPPORT#CONFIG_PNP=Y# CONFIG_PNP_DEBUG IS NOT SET## PROTOCOLS### BLOCK DEVICES#CONFIG_BLK_DEV_FD=Y# CONFIG_BLK_DEV_XD IS NOT SET# CONFIG_PARIDE IS NOT SET# CONFIG_BLK_CPQ_DA IS NOT SET# CONFIG_BLK_CPQ_CISS_DA IS NOT SET# CONFIG_BLK_DEV_DAC960 IS NOT SETCONFIG_BLK_DEV_LOOP=MCONFIG_BLK_DEV_CRYPTOLOOP=MCONFIG_BLK_DEV_NBD=MCONFIG_BLK_DEV_RAM=MCONFIG_BLK_DEV_RAM_SIZE=4096CONFIG_BLK_DEV_INITRD=YCONFIG_LBD=Y## ATAATAPIMFMRLL SUPPORT#CONFIG_IDE=YCONFIG_BLK_DEV_IDE=Y## PLEASE SEE DOCUMENTATIONIDE.TXT FOR HELPINFO ON IDE DRIVES## CONFIG_BLK_DEV_HD_IDE IS NOT SETCONFIG_BLK_DEV_IDEDISK=YCONFIG_IDEDISK_MULTI_MODE=Y# CONFIG_IDEDISK_STROKE IS NOT SETCONFIG_BLK_DEV_IDECD=MCONFIG_BLK_DEV_IDEFLOPPY=MCONFIG_BLK_DEV_IDESCSI=M# CONFIG_IDE_TASK_IOCTL IS NOT SET## IDE CHIPSET SUPPORTBUGFIXES## CONFIG_BLK_DEV_CMD640 IS NOT SET# CONFIG_BLK_DEV_IDEPNP IS NOT SETCONFIG_BLK_DEV_IDEPCI=YCONFIG_IDEPCI_SHARE_IRQ=Y# CONFIG_BLK_DEV_OFFBOARD IS NOT SETCONFIG_BLK_DEV_GENERIC=Y# CONFIG_BLK_DEV_RZ1000 IS NOT SETCONFIG_BLK_DEV_IDEDMA_PCI=Y# CONFIG_BLK_DEV_IDEDMA_FORCED IS NOT SETCONFIG_IDEDMA_PCI_AUTO=Y# CONFIG_IDEDMA_ONLYDISK IS NOT SETCONFIG_BLK_DEV_ADMA=Y# CONFIG_BLK_DEV_AEC62XX IS NOT SET# CONFIG_BLK_DEV_ALI15X3 IS NOT SET# CONFIG_BLK_DEV_AMD74XX IS NOT SET# CONFIG_BLK_DEV_CMD64X IS NOT SET# CONFIG_BLK_DEV_TRIFLEX IS NOT SET# CONFIG_BLK_DEV_CY82C693 IS NOT SET# CONFIG_BLK_DEV_CS5530 IS NOT SET# CONFIG_BLK_DEV_HPT34X IS NOT SET# CONFIG_BLK_DEV_HPT366 IS NOT SET# CONFIG_BLK_DEV_SC1200 IS NOT SETCONFIG_BLK_DEV_PIIX=Y# CONFIG_BLK_DEV_NS87415 IS NOT SET# CONFIG_BLK_DEV_PDC202XX_OLD IS NOT SET# CONFIG_BLK_DEV_PDC202XX_NEW IS NOT SET# CONFIG_BLK_DEV_SVWKS IS NOT SET# CONFIG_BLK_DEV_SIIMAGE IS NOT SET# CONFIG_BLK_DEV_SIS5513 IS NOT SET# CONFIG_BLK_DEV_SLC90E66 IS NOT SET# CONFIG_BLK_DEV_TRM290 IS NOT SET# CONFIG_BLK_DEV_VIA82CXXX IS NOT SET# CONFIG_IDE_CHIPSETS IS NOT SETCONFIG_BLK_DEV_IDEDMA=Y# CONFIG_IDEDMA_IVB IS NOT SETCONFIG_IDEDMA_AUTO=Y# CONFIG_DMA_NONPCI IS NOT SET# CONFIG_BLK_DEV_HD IS NOT SET## SCSI DEVICE SUPPORT#CONFIG_SCSI=MCONFIG_SCSI_PROC_FS=Y## SCSI SUPPORT TYPE (DISK, TAPE, CD-ROM)#CONFIG_BLK_DEV_SD=M# CONFIG_CHR_DEV_ST IS NOT SET# CONFIG_CHR_DEV_OSST IS NOT SETCONFIG_BLK_DEV_SR=M# CONFIG_BLK_DEV_SR_VENDOR IS NOT SETCONFIG_CHR_DEV_SG=M## SOME SCSI DEVICES (E.G. CD JUKEBOX) SUPPORT MULTIPLE LUNS## CONFIG_SCSI_MULTI_LUN IS NOT SETCONFIG_SCSI_REPORT_LUNS=Y# CONFIG_SCSI_CONSTANTS IS NOT SET# CONFIG_SCSI_LOGGING IS NOT SET## SCSI LOW-LEVEL DRIVERS## CONFIG_BLK_DEV_3W_XXXX_RAID IS NOT SET# CONFIG_SCSI_7000FASST IS NOT SET# CONFIG_SCSI_ACARD IS NOT SETCONFIG_SCSI_AHA152X=M# CONFIG_SCSI_AHA1542 IS NOT SET# CONFIG_SCSI_AIC7XXX IS NOT SET# CONFIG_SCSI_AIC7XXX_OLD IS NOT SET# CONFIG_SCSI_AIC79XX IS NOT SET# CONFIG_SCSI_ADVANSYS IS NOT SET# CONFIG_SCSI_IN2000 IS NOT SET# CONFIG_SCSI_MEGARAID IS NOT SET# CONFIG_SCSI_BUSLOGIC IS NOT SET# CONFIG_SCSI_CPQFCTS IS NOT SET# CONFIG_SCSI_DMX3191D IS NOT SET# CONFIG_SCSI_DTC3280 IS NOT SET# CONFIG_SCSI_EATA IS NOT SET# CONFIG_SCSI_EATA_PIO IS NOT SET# CONFIG_SCSI_FUTURE_DOMAIN IS NOT SET# CONFIG_SCSI_GDTH IS NOT SET# CONFIG_SCSI_GENERIC_NCR5380 IS NOT SET# CONFIG_SCSI_GENERIC_NCR5380_MMIO IS NOT SET# CONFIG_SCSI_IPS IS NOT SET# CONFIG_SCSI_INIA100 IS NOT SET# CONFIG_SCSI_PPA IS NOT SET# CONFIG_SCSI_IMM IS NOT SET# CONFIG_SCSI_NCR53C406A IS NOT SET# CONFIG_SCSI_SYM53C8XX_2 IS NOT SET# CONFIG_SCSI_PAS16 IS NOT SET# CONFIG_SCSI_PSI240I IS NOT SET# CONFIG_SCSI_QLOGIC_FAS IS NOT SET# CONFIG_SCSI_QLOGIC_ISP IS NOT SET# CONFIG_SCSI_QLOGIC_FC IS NOT SET# CONFIG_SCSI_QLOGIC_1280 IS NOT SET# CONFIG_SCSI_SYM53C416 IS NOT SET# CONFIG_SCSI_DC390T IS NOT SET# CONFIG_SCSI_T128 IS NOT SET# CONFIG_SCSI_U14_34F IS NOT SET# CONFIG_SCSI_ULTRASTOR IS NOT SET# CONFIG_SCSI_NSP32 IS NOT SET# CONFIG_SCSI_DEBUG IS NOT SET## OLD CD-ROM DRIVERS (NOT SCSI, NOT IDE)## CONFIG_CD_NO_IDESCSI IS NOT SET## MULTI-DEVICE SUPPORT (RAID AND LVM)## CONFIG_MD IS NOT SET## FUSION MPT DEVICE SUPPORT## CONFIG_FUSION IS NOT SET## I2O DEVICE SUPPORT## CONFIG_I2O IS NOT SET## NETWORKING SUPPORT#CONFIG_NET=Y## NETWORKING OPTIONS#CONFIG_PACKET=YCONFIG_PACKET_MMAP=YCONFIG_NETLINK_DEV=YCONFIG_UNIX=YCONFIG_NET_KEY=YCONFIG_INET=YCONFIG_IP_MULTICAST=Y# CONFIG_IP_ADVANCED_ROUTER IS NOT SET# CONFIG_IP_PNP IS NOT SET# CONFIG_NET_IPIP IS NOT SET# CONFIG_NET_IPGRE IS NOT SET# CONFIG_IP_MROUTE IS NOT SET# CONFIG_INET_ECN IS NOT SETCONFIG_SYN_COOKIES=YCONFIG_INET_AH=MCONFIG_INET_ESP=MCONFIG_INET_IPCOMP=M## IP: VIRTUAL SERVER CONFIGURATION## CONFIG_IP_VS IS NOT SET# CONFIG_DECNET IS NOT SET# CONFIG_BRIDGE IS NOT SETCONFIG_NETFILTER=Y# CONFIG_NETFILTER_DEBUG IS NOT SET## IP: NETFILTER CONFIGURATION#CONFIG_IP_NF_CONNTRACK=MCONFIG_IP_NF_FTP=MCONFIG_IP_NF_IRC=MCONFIG_IP_NF_TFTP=MCONFIG_IP_NF_AMANDA=MCONFIG_IP_NF_QUEUE=MCONFIG_IP_NF_IPTABLES=MCONFIG_IP_NF_MATCH_LIMIT=MCONFIG_IP_NF_MATCH_IPRANGE=MCONFIG_IP_NF_MATCH_MAC=MCONFIG_IP_NF_MATCH_PKTTYPE=MCONFIG_IP_NF_MATCH_MARK=MCONFIG_IP_NF_MATCH_MULTIPORT=MCONFIG_IP_NF_MATCH_TOS=MCONFIG_IP_NF_MATCH_RECENT=MCONFIG_IP_NF_MATCH_ECN=MCONFIG_IP_NF_MATCH_DSCP=MCONFIG_IP_NF_MATCH_AH_ESP=MCONFIG_IP_NF_MATCH_LENGTH=MCONFIG_IP_NF_MATCH_TTL=MCONFIG_IP_NF_MATCH_TCPMSS=MCONFIG_IP_NF_MATCH_HELPER=MCONFIG_IP_NF_MATCH_STATE=MCONFIG_IP_NF_MATCH_CONNTRACK=MCONFIG_IP_NF_MATCH_OWNER=MCONFIG_IP_NF_FILTER=MCONFIG_IP_NF_TARGET_REJECT=MCONFIG_IP_NF_NAT=MCONFIG_IP_NF_NAT_NEEDED=YCONFIG_IP_NF_TARGET_MASQUERADE=MCONFIG_IP_NF_TARGET_REDIRECT=MCONFIG_IP_NF_TARGET_NETMAP=MCONFIG_IP_NF_TARGET_SAME=M# CONFIG_IP_NF_NAT_LOCAL IS NOT SETCONFIG_IP_NF_NAT_IRC=MCONFIG_IP_NF_NAT_FTP=MCONFIG_IP_NF_NAT_TFTP=MCONFIG_IP_NF_NAT_AMANDA=MCONFIG_IP_NF_MANGLE=MCONFIG_IP_NF_TARGET_TOS=MCONFIG_IP_NF_TARGET_ECN=MCONFIG_IP_NF_TARGET_DSCP=MCONFIG_IP_NF_TARGET_MARK=MCONFIG_IP_NF_TARGET_CLASSIFY=MCONFIG_IP_NF_TARGET_LOG=MCONFIG_IP_NF_TARGET_ULOG=MCONFIG_IP_NF_TARGET_TCPMSS=MCONFIG_IP_NF_ARPTABLES=MCONFIG_IP_NF_ARPFILTER=MCONFIG_IP_NF_ARP_MANGLE=M# CONFIG_IP_NF_COMPAT_IPCHAINS IS NOT SET# CONFIG_IP_NF_COMPAT_IPFWADM IS NOT SETCONFIG_XFRM=YCONFIG_XFRM_USER=M# CONFIG_VLAN_8021Q IS NOT SET# CONFIG_LLC2 IS NOT SET# CONFIG_IPX IS NOT SET# CONFIG_ATALK IS NOT SET## QOS ANDOR FAIR QUEUEING#CONFIG_NET_SCHED=YCONFIG_NET_SCH_CBQ=MCONFIG_NET_SCH_HTB=MCONFIG_NET_SCH_CSZ=MCONFIG_NET_SCH_PRIO=MCONFIG_NET_SCH_RED=MCONFIG_NET_SCH_SFQ=MCONFIG_NET_SCH_TEQL=MCONFIG_NET_SCH_TBF=MCONFIG_NET_SCH_GRED=MCONFIG_NET_SCH_DSMARK=MCONFIG_NET_SCH_INGRESS=MCONFIG_NET_QOS=YCONFIG_NET_ESTIMATOR=YCONFIG_NET_CLS=YCONFIG_NET_CLS_TCINDEX=MCONFIG_NET_CLS_ROUTE4=MCONFIG_NET_CLS_ROUTE=YCONFIG_NET_CLS_FW=MCONFIG_NET_CLS_U32=MCONFIG_NET_CLS_RSVP=MCONFIG_NET_CLS_RSVP6=MCONFIG_NET_CLS_POLICE=Y## NETWORK TESTING## CONFIG_NET_PKTGEN IS NOT SETCONFIG_NETDEVICES=Y## ARCNET DEVICES## CONFIG_ARCNET IS NOT SET# CONFIG_DUMMY IS NOT SET# CONFIG_BONDING IS NOT SET# CONFIG_EQUALIZER IS NOT SET# CONFIG_TUN IS NOT SET# CONFIG_NET_SB1000 IS NOT SET## ETHERNET (10 OR 100MBIT)#CONFIG_NET_ETHERNET=Y# CONFIG_MII IS NOT SET# CONFIG_HAPPYMEAL IS NOT SET# CONFIG_SUNGEM IS NOT SETCONFIG_NET_VENDOR_3COM=Y# CONFIG_EL1 IS NOT SET# CONFIG_EL2 IS NOT SET# CONFIG_ELPLUS IS NOT SET# CONFIG_EL3 IS NOT SET# CONFIG_3C515 IS NOT SETCONFIG_VORTEX=M# CONFIG_TYPHOON IS NOT SET# CONFIG_LANCE IS NOT SET# CONFIG_NET_VENDOR_SMC IS NOT SET# CONFIG_NET_VENDOR_RACAL IS NOT SET## TULIP FAMILY NETWORK DEVICE SUPPORT## CONFIG_NET_TULIP IS NOT SET# CONFIG_DEPCA IS NOT SET# CONFIG_HP100 IS NOT SETCONFIG_NET_ISA=Y# CONFIG_E2100 IS NOT SET# CONFIG_EWRK3 IS NOT SET# CONFIG_EEXPRESS IS NOT SET# CONFIG_EEXPRESS_PRO IS NOT SET# CONFIG_HPLAN_PLUS IS NOT SET# CONFIG_HPLAN IS NOT SET# CONFIG_LP486E IS NOT SET# CONFIG_ETH16I IS NOT SETCONFIG_NE2000=M# CONFIG_NET_PCI IS NOT SET# CONFIG_NET_POCKET IS NOT SET## ETHERNET (1000 MBIT)## CONFIG_ACENIC IS NOT SET# CONFIG_DL2K IS NOT SET# CONFIG_E1000 IS NOT SET# CONFIG_NS83820 IS NOT SET# CONFIG_HAMACHI IS NOT SET# CONFIG_R8169 IS NOT SET# CONFIG_SK98LIN IS NOT SET# CONFIG_TIGON3 IS NOT SET## ETHERNET (10000 MBIT)## CONFIG_IXGB IS NOT SET# CONFIG_FDDI IS NOT SET# CONFIG_PLIP IS NOT SETCONFIG_PPP=MCONFIG_PPP_FILTER=YCONFIG_PPP_ASYNC=MCONFIG_PPP_SYNC_TTY=MCONFIG_PPP_DEFLATE=MCONFIG_PPP_BSDCOMP=M# CONFIG_SLIP IS NOT SET## WIRELESS LAN (NON-HAMRADIO)## CONFIG_NET_RADIO IS NOT SET## TOKEN RING DEVICES## CONFIG_TR IS NOT SET# CONFIG_NET_FC IS NOT SET## WAN INTERFACES## CONFIG_WAN IS NOT SET## AMATEUR RADIO SUPPORT## CONFIG_HAMRADIO IS NOT SET## IRDA (INFRARED) SUPPORT## CONFIG_IRDA IS NOT SET## BLUETOOTH SUPPORT#CONFIG_BT=MCONFIG_BT_L2CAP=MCONFIG_BT_SCO=MCONFIG_BT_RFCOMM=MCONFIG_BT_RFCOMM_TTY=YCONFIG_BT_BNEP=MCONFIG_BT_BNEP_MC_FILTER=YCONFIG_BT_BNEP_PROTO_FILTER=Y## BLUETOOTH DEVICE DRIVERS#CONFIG_BT_HCIUSB=MCONFIG_BT_USB_SCO=YCONFIG_BT_USB_ZERO_PACKET=Y# CONFIG_BT_HCIUART IS NOT SET# CONFIG_BT_HCIVHCI IS NOT SET## ISDN SUBSYSTEM#CONFIG_ISDN_BOOL=Y## OLD ISDN4LINUX#CONFIG_ISDN=MCONFIG_ISDN_PPP=YCONFIG_ISDN_PPP_VJ=YCONFIG_ISDN_MPP=YCONFIG_ISDN_PPP_BSDCOMP=MCONFIG_ISDN_AUDIO=YCONFIG_ISDN_TTY_FAX=Y## ISDN FEATURE SUBMODULES#CONFIG_ISDN_DRV_LOOP=M## CAPI SUBSYSTEM## CONFIG_ISDN_CAPI IS NOT SET## ISDN4LINUX HARDWARE DRIVERS### PASSIVE CARDS#CONFIG_ISDN_DRV_HISAX=M## D-CHANNEL PROTOCOL FEATURES#CONFIG_HISAX_EURO=Y# CONFIG_DE_AOC IS NOT SET# CONFIG_HISAX_NO_SENDCOMPLETE IS NOT SET# CONFIG_HISAX_NO_LLC IS NOT SET# CONFIG_HISAX_NO_KEYPAD IS NOT SET# CONFIG_HISAX_1TR6 IS NOT SET# CONFIG_HISAX_NI1 IS NOT SETCONFIG_HISAX_MAX_CARDS=8## HISAX SUPPORTED CARDS## CONFIG_HISAX_16_0 IS NOT SETCONFIG_HISAX_16_3=Y# CONFIG_HISAX_TELESPCI IS NOT SET# CONFIG_HISAX_S0BOX IS NOT SET# CONFIG_HISAX_AVM_A1 IS NOT SET# CONFIG_HISAX_FRITZPCI IS NOT SET# CONFIG_HISAX_AVM_A1_PCMCIA IS NOT SET# CONFIG_HISAX_ELSA IS NOT SET# CONFIG_HISAX_IX1MICROR2 IS NOT SET# CONFIG_HISAX_DIEHLDIVA IS NOT SET# CONFIG_HISAX_ASUSCOM IS NOT SET# CONFIG_HISAX_TELEINT IS NOT SET# CONFIG_HISAX_HFCS IS NOT SET# CONFIG_HISAX_SEDLBAUER IS NOT SET# CONFIG_HISAX_SPORTSTER IS NOT SET# CONFIG_HISAX_MIC IS NOT SET# CONFIG_HISAX_NETJET IS NOT SET# CONFIG_HISAX_NETJET_U IS NOT SET# CONFIG_HISAX_NICCY IS NOT SET# CONFIG_HISAX_ISURF IS NOT SET# CONFIG_HISAX_HSTSAPHIR IS NOT SET# CONFIG_HISAX_BKM_A4T IS NOT SET# CONFIG_HISAX_SCT_QUADRO IS NOT SET# CONFIG_HISAX_GAZEL IS NOT SET# CONFIG_HISAX_HFC_PCI IS NOT SET# CONFIG_HISAX_W6692 IS NOT SET# CONFIG_HISAX_HFC_SX IS NOT SET# CONFIG_HISAX_ENTERNOW_PCI IS NOT SETCONFIG_HISAX_DEBUG=Y## ACTIVE CARDS## CONFIG_ISDN_DRV_ICN IS NOT SET# CONFIG_ISDN_DRV_PCBIT IS NOT SET# CONFIG_ISDN_DRV_SC IS NOT SET# CONFIG_ISDN_DRV_ACT2000 IS NOT SET# CONFIG_HYSDN IS NOT SET## TELEPHONY SUPPORT## CONFIG_PHONE IS NOT SET## INPUT DEVICE SUPPORT#CONFIG_INPUT=Y## USERLAND INTERFACES#CONFIG_INPUT_MOUSEDEV=YCONFIG_INPUT_MOUSEDEV_PSAUX=YCONFIG_INPUT_MOUSEDEV_SCREEN_X=1024CONFIG_INPUT_MOUSEDEV_SCREEN_Y=768# CONFIG_INPUT_JOYDEV IS NOT SET# CONFIG_INPUT_TSDEV IS NOT SET# CONFIG_INPUT_EVDEV IS NOT SET# CONFIG_INPUT_EVBUG IS NOT SET## INPUT IO DRIVERS## CONFIG_GAMEPORT IS NOT SETCONFIG_SOUND_GAMEPORT=YCONFIG_SERIO=YCONFIG_SERIO_I8042=Y# CONFIG_SERIO_SERPORT IS NOT SET# CONFIG_SERIO_CT82C710 IS NOT SET# CONFIG_SERIO_PARKBD IS NOT SET# CONFIG_SERIO_PCIPS2 IS NOT SET## INPUT DEVICE DRIVERS#CONFIG_INPUT_KEYBOARD=YCONFIG_KEYBOARD_ATKBD=Y# CONFIG_KEYBOARD_SUNKBD IS NOT SET# CONFIG_KEYBOARD_XTKBD IS NOT SET# CONFIG_KEYBOARD_NEWTON IS NOT SETCONFIG_INPUT_MOUSE=YCONFIG_MOUSE_PS2=Y# CONFIG_MOUSE_SERIAL IS NOT SET# CONFIG_MOUSE_INPORT IS NOT SET# CONFIG_MOUSE_LOGIBM IS NOT SET# CONFIG_MOUSE_PC110PAD IS NOT SET# CONFIG_INPUT_JOYSTICK IS NOT SET# CONFIG_INPUT_TOUCHSCREEN IS NOT SET# CONFIG_INPUT_MISC IS NOT SET## CHARACTER DEVICES#CONFIG_VT=YCONFIG_VT_CONSOLE=YCONFIG_HW_CONSOLE=Y# CONFIG_SERIAL_NONSTANDARD IS NOT SET## SERIAL DRIVERS#CONFIG_SERIAL_8250=YCONFIG_SERIAL_8250_CONSOLE=Y# CONFIG_SERIAL_8250_ACPI IS NOT SETCONFIG_SERIAL_8250_NR_UARTS=4# CONFIG_SERIAL_8250_EXTENDED IS NOT SET## NON-8250 SERIAL PORT SUPPORT#CONFIG_SERIAL_CORE=YCONFIG_SERIAL_CORE_CONSOLE=YCONFIG_UNIX98_PTYS=YCONFIG_UNIX98_PTY_COUNT=256CONFIG_PRINTER=M# CONFIG_LP_CONSOLE IS NOT SET# CONFIG_PPDEV IS NOT SET# CONFIG_TIPAR IS NOT SET## I2C SUPPORT#CONFIG_I2C=MCONFIG_I2C_CHARDEV=M## I2C ALGORITHMS## CONFIG_I2C_ALGOBIT IS NOT SET# CONFIG_I2C_ALGOPCF IS NOT SET## I2C HARDWARE BUS SUPPORT## CONFIG_SCX200_ACB IS NOT SET## I2C HARDWARE SENSORS CHIP SUPPORT## CONFIG_I2C_SENSOR IS NOT SET## MICE## CONFIG_BUSMOUSE IS NOT SET# CONFIG_QIC02_TAPE IS NOT SET## IPMI## CONFIG_IPMI_HANDLER IS NOT SET## WATCHDOG CARDS## CONFIG_WATCHDOG IS NOT SET# CONFIG_HW_RANDOM IS NOT SETCONFIG_NVRAM=MCONFIG_RTC=M# CONFIG_GEN_RTC IS NOT SET# CONFIG_DTLK IS NOT SET# CONFIG_R3964 IS NOT SET# CONFIG_APPLICOM IS NOT SET## FTAPE, THE FLOPPY TAPE DEVICE DRIVER## CONFIG_FTAPE IS NOT SETCONFIG_AGP=Y# CONFIG_AGP_ALI IS NOT SET# CONFIG_AGP_ATI IS NOT SET# CONFIG_AGP_AMD IS NOT SET# CONFIG_AGP_AMD64 IS NOT SETCONFIG_AGP_INTEL=Y# CONFIG_AGP_NVIDIA IS NOT SET# CONFIG_AGP_SIS IS NOT SET# CONFIG_AGP_SWORKS IS NOT SET# CONFIG_AGP_VIA IS NOT SETCONFIG_DRM=Y# CONFIG_DRM_TDFX IS NOT SET# CONFIG_DRM_GAMMA IS NOT SET# CONFIG_DRM_R128 IS NOT SET# CONFIG_DRM_RADEON IS NOT SET# CONFIG_DRM_I810 IS NOT SET# CONFIG_DRM_I830 IS NOT SETCONFIG_DRM_MGA=Y# CONFIG_DRM_SIS IS NOT SET# CONFIG_MWAVE IS NOT SET# CONFIG_RAW_DRIVER IS NOT SET# CONFIG_HANGCHECK_TIMER IS NOT SET## MULTIMEDIA DEVICES#CONFIG_VIDEO_DEV=M## VIDEO FOR LINUX### VIDEO ADAPTERS## CONFIG_VIDEO_PMS IS NOT SET# CONFIG_VIDEO_BWQCAM IS NOT SET# CONFIG_VIDEO_CPIA IS NOT SET# CONFIG_VIDEO_SAA5249 IS NOT SET# CONFIG_TUNER_3036 IS NOT SET# CONFIG_VIDEO_ZORAN IS NOT SET# CONFIG_VIDEO_SAA7134 IS NOT SET# CONFIG_VIDEO_MXB IS NOT SET# CONFIG_VIDEO_DPC IS NOT SET# CONFIG_VIDEO_HEXIUM_ORION IS NOT SET# CONFIG_VIDEO_HEXIUM_GEMINI IS NOT SET## RADIO ADAPTERS## CONFIG_RADIO_CADET IS NOT SET# CONFIG_RADIO_RTRACK IS NOT SET# CONFIG_RADIO_RTRACK2 IS NOT SET# CONFIG_RADIO_AZTECH IS NOT SET# CONFIG_RADIO_GEMTEK IS NOT SET# CONFIG_RADIO_GEMTEK_PCI IS NOT SET# CONFIG_RADIO_MAXIRADIO IS NOT SET# CONFIG_RADIO_MAESTRO IS NOT SET# CONFIG_RADIO_SF16FMI IS NOT SET# CONFIG_RADIO_TERRATEC IS NOT SET# CONFIG_RADIO_TRUST IS NOT SET# CONFIG_RADIO_TYPHOON IS NOT SET# CONFIG_RADIO_ZOLTRIX IS NOT SET## DIGITAL VIDEO BROADCASTING DEVICES## CONFIG_DVB IS NOT SET# CONFIG_VIDEO_BTCX IS NOT SET## GRAPHICS SUPPORT## CONFIG_FB IS NOT SET# CONFIG_VIDEO_SELECT IS NOT SET## CONSOLE DISPLAY DRIVER SUPPORT#CONFIG_VGA_CONSOLE=Y# CONFIG_MDA_CONSOLE IS NOT SETCONFIG_DUMMY_CONSOLE=Y## SOUND#CONFIG_SOUND=M## ADVANCED LINUX SOUND ARCHITECTURE## CONFIG_SND IS NOT SET## OPEN SOUND SYSTEM#CONFIG_SOUND_PRIME=M# CONFIG_SOUND_BT878 IS NOT SET# CONFIG_SOUND_CMPCI IS NOT SET# CONFIG_SOUND_EMU10K1 IS NOT SET# CONFIG_SOUND_FUSION IS NOT SET# CONFIG_SOUND_CS4281 IS NOT SET# CONFIG_SOUND_ES1370 IS NOT SET# CONFIG_SOUND_ES1371 IS NOT SET# CONFIG_SOUND_ESSSOLO1 IS NOT SET# CONFIG_SOUND_MAESTRO IS NOT SET# CONFIG_SOUND_ICH IS NOT SET# CONFIG_SOUND_SONICVIBES IS NOT SET# CONFIG_SOUND_TRIDENT IS NOT SET# CONFIG_SOUND_MSNDCLAS IS NOT SET# CONFIG_SOUND_MSNDPIN IS NOT SET# CONFIG_SOUND_VIA82CXXX IS NOT SETCONFIG_SOUND_OSS=M# CONFIG_SOUND_TRACEINIT IS NOT SET# CONFIG_SOUND_DMAP IS NOT SET# CONFIG_SOUND_SGALAXY IS NOT SET# CONFIG_SOUND_ADLIB IS NOT SET# CONFIG_SOUND_ACI_MIXER IS NOT SET# CONFIG_SOUND_CS4232 IS NOT SET# CONFIG_SOUND_SSCAPE IS NOT SET# CONFIG_SOUND_GUS IS NOT SET# CONFIG_SOUND_VMIDI IS NOT SET# CONFIG_SOUND_TRIX IS NOT SET# CONFIG_SOUND_MSS IS NOT SET# CONFIG_SOUND_MPU401 IS NOT SET# CONFIG_SOUND_NM256 IS NOT SET# CONFIG_SOUND_MAD16 IS NOT SET# CONFIG_SOUND_PAS IS NOT SET# CONFIG_SOUND_PSS IS NOT SETCONFIG_SOUND_SB=M# CONFIG_SOUND_AWE32_SYNTH IS NOT SET# CONFIG_SOUND_WAVEFRONT IS NOT SET# CONFIG_SOUND_MAUI IS NOT SET# CONFIG_SOUND_YM3812 IS NOT SET# CONFIG_SOUND_OPL3SA1 IS NOT SET# CONFIG_SOUND_OPL3SA2 IS NOT SET# CONFIG_SOUND_YMFPCI IS NOT SET# CONFIG_SOUND_UART6850 IS NOT SET# CONFIG_SOUND_AEDSP16 IS NOT SET# CONFIG_SOUND_TVMIXER IS NOT SET# CONFIG_SOUND_KAHLUA IS NOT SET# CONFIG_SOUND_ALI5455 IS NOT SET# CONFIG_SOUND_FORTE IS NOT SET# CONFIG_SOUND_RME96XX IS NOT SET# CONFIG_SOUND_AD1980 IS NOT SET## USB SUPPORT#CONFIG_USB=M# CONFIG_USB_DEBUG IS NOT SET## MISCELLANEOUS USB OPTIONS#CONFIG_USB_DEVICEFS=Y## USB HOST CONTROLLER DRIVERS## CONFIG_USB_EHCI_HCD IS NOT SET# CONFIG_USB_OHCI_HCD IS NOT SETCONFIG_USB_UHCI_HCD=M## USB DEVICE CLASS DRIVERS## CONFIG_USB_AUDIO IS NOT SET## USB BLUETOOTH TTY CAN ONLY BE USED WITH DISABLED BLUETOOTH SUBSYSTEM## CONFIG_USB_MIDI IS NOT SET# CONFIG_USB_ACM IS NOT SETCONFIG_USB_PRINTER=MCONFIG_USB_STORAGE=M# CONFIG_USB_STORAGE_DEBUG IS NOT SET# CONFIG_USB_STORAGE_FREECOM IS NOT SET# CONFIG_USB_STORAGE_ISD200 IS NOT SET# CONFIG_USB_STORAGE_DPCM IS NOT SET## USB HUMAN INTERFACE DEVICES (HID)#CONFIG_USB_HID=MCONFIG_USB_HIDINPUT=Y# CONFIG_USB_HIDDEV IS NOT SET## USB HID BOOT PROTOCOL DRIVERS## CONFIG_USB_KBD IS NOT SET# CONFIG_USB_MOUSE IS NOT SET# CONFIG_USB_AIPTEK IS NOT SET# CONFIG_USB_WACOM IS NOT SET# CONFIG_USB_KBTAB IS NOT SET# CONFIG_USB_POWERMATE IS NOT SET# CONFIG_USB_XPAD IS NOT SET## USB IMAGING DEVICES## CONFIG_USB_SCANNER IS NOT SET# CONFIG_USB_MICROTEK IS NOT SET## USB MULTIMEDIA DEVICES## CONFIG_USB_DABUSB IS NOT SET# CONFIG_USB_IBMCAM IS NOT SET# CONFIG_USB_KONICAWC IS NOT SETCONFIG_USB_OV511=M# CONFIG_USB_PWC IS NOT SET# CONFIG_USB_SE401 IS NOT SET# CONFIG_USB_STV680 IS NOT SET# CONFIG_USB_W9968CF IS NOT SET## USB NETWORK ADAPTORS## CONFIG_USB_KAWETH IS NOT SET# CONFIG_USB_PEGASUS IS NOT SET# CONFIG_USB_USBNET IS NOT SET## USB PORT DRIVERS## CONFIG_USB_USS720 IS NOT SET## USB SERIAL CONVERTER SUPPORT## CONFIG_USB_SERIAL IS NOT SET## USB MISCELLANEOUS DRIVERS## CONFIG_USB_TIGL IS NOT SET# CONFIG_USB_LCD IS NOT SET## FILE SYSTEMS#CONFIG_EXT2_FS=Y# CONFIG_EXT2_FS_XATTR IS NOT SETCONFIG_EXT3_FS=YCONFIG_EXT3_FS_XATTR=Y# CONFIG_EXT3_FS_POSIX_ACL IS NOT SET# CONFIG_EXT3_FS_SECURITY IS NOT SETCONFIG_JBD=Y# CONFIG_JBD_DEBUG IS NOT SETCONFIG_FS_MBCACHE=YCONFIG_REISERFS_FS=Y# CONFIG_REISERFS_CHECK IS NOT SETCONFIG_REISERFS_PROC_INFO=Y# CONFIG_JFS_FS IS NOT SET# CONFIG_XFS_FS IS NOT SETCONFIG_MINIX_FS=MCONFIG_ROMFS_FS=MCONFIG_QUOTA=YCONFIG_QFMT_V1=MCONFIG_QFMT_V2=MCONFIG_QUOTACTL=YCONFIG_AUTOFS_FS=MCONFIG_AUTOFS4_FS=M## CD-ROMDVD FILESYSTEMS#CONFIG_ISO9660_FS=MCONFIG_JOLIET=Y# CONFIG_ZISOFS IS NOT SETCONFIG_UDF_FS=Y## DOSFATNT FILESYSTEMS#CONFIG_FAT_FS=MCONFIG_MSDOS_FS=MCONFIG_VFAT_FS=MCONFIG_NTFS_FS=M# CONFIG_NTFS_DEBUG IS NOT SET# CONFIG_NTFS_RW IS NOT SET## PSEUDO FILESYSTEMS#CONFIG_PROC_FS=YCONFIG_PROC_KCORE=YCONFIG_DEVPTS_FS=Y# CONFIG_DEVPTS_FS_XATTR IS NOT SETCONFIG_TMPFS=Y# CONFIG_HUGETLBFS IS NOT SET# CONFIG_HUGETLB_PAGE IS NOT SETCONFIG_RAMFS=Y## MISCELLANEOUS FILESYSTEMS#CONFIG_CRAMFS=M# CONFIG_VXFS_FS IS NOT SET# CONFIG_HPFS_FS IS NOT SET# CONFIG_QNX4FS_FS IS NOT SET# CONFIG_SYSV_FS IS NOT SET# CONFIG_UFS_FS IS NOT SET## NETWORK FILE SYSTEMS#CONFIG_NFS_FS=MCONFIG_NFS_V3=YCONFIG_NFSD=MCONFIG_NFSD_V3=YCONFIG_LOCKD=MCONFIG_LOCKD_V4=YCONFIG_EXPORTFS=MCONFIG_SUNRPC=MCONFIG_SMB_FS=MCONFIG_SMB_NLS_DEFAULT=YCONFIG_SMB_NLS_REMOTE=CP437CONFIG_CIFS=M# CONFIG_NCP_FS IS NOT SET# CONFIG_CODA_FS IS NOT SET## PARTITION TYPES## CONFIG_PARTITION_ADVANCED IS NOT SETCONFIG_MSDOS_PARTITION=Y## NATIVE LANGUAGE SUPPORT#CONFIG_NLS=YCONFIG_NLS_DEFAULT=ISO8859-1CONFIG_NLS_CODEPAGE_437=M# CONFIG_NLS_CODEPAGE_737 IS NOT SET# CONFIG_NLS_CODEPAGE_775 IS NOT SETCONFIG_NLS_CODEPAGE_850=M# CONFIG_NLS_CODEPAGE_852 IS NOT SET# CONFIG_NLS_CODEPAGE_855 IS NOT SET# CONFIG_NLS_CODEPAGE_857 IS NOT SET# CONFIG_NLS_CODEPAGE_860 IS NOT SET# CONFIG_NLS_CODEPAGE_861 IS NOT SET# CONFIG_NLS_CODEPAGE_862 IS NOT SET# CONFIG_NLS_CODEPAGE_863 IS NOT SET# CONFIG_NLS_CODEPAGE_864 IS NOT SET# CONFIG_NLS_CODEPAGE_865 IS NOT SET# CONFIG_NLS_CODEPAGE_866 IS NOT SET# CONFIG_NLS_CODEPAGE_869 IS NOT SET# CONFIG_NLS_CODEPAGE_936 IS NOT SET# CONFIG_NLS_CODEPAGE_950 IS NOT SET# CONFIG_NLS_CODEPAGE_932 IS NOT SET# CONFIG_NLS_CODEPAGE_949 IS NOT SET# CONFIG_NLS_CODEPAGE_874 IS NOT SET# CONFIG_NLS_ISO8859_8 IS NOT SET# CONFIG_NLS_CODEPAGE_1250 IS NOT SET# CONFIG_NLS_CODEPAGE_1251 IS NOT SETCONFIG_NLS_ISO8859_1=M# CONFIG_NLS_ISO8859_2 IS NOT SET# CONFIG_NLS_ISO8859_3 IS NOT SET# CONFIG_NLS_ISO8859_4 IS NOT SET# CONFIG_NLS_ISO8859_5 IS NOT SET# CONFIG_NLS_ISO8859_6 IS NOT SET# CONFIG_NLS_ISO8859_7 IS NOT SET# CONFIG_NLS_ISO8859_9 IS NOT SET# CONFIG_NLS_ISO8859_13 IS NOT SET# CONFIG_NLS_ISO8859_14 IS NOT SETCONFIG_NLS_ISO8859_15=M# CONFIG_NLS_KOI8_R IS NOT SET# CONFIG_NLS_KOI8_U IS NOT SETCONFIG_NLS_UTF8=M## KERNEL HACKING## CONFIG_DEBUG_KERNEL IS NOT SETCONFIG_DEBUG_SPINLOCK_SLEEP=YCONFIG_FRAME_POINTER=YCONFIG_X86_EXTRA_IRQS=YCONFIG_X86_FIND_SMP_CONFIG=YCONFIG_X86_MPPARSE=Y## SECURITY OPTIONS## CONFIG_SECURITY IS NOT SET## CRYPTOGRAPHIC OPTIONS#CONFIG_CRYPTO=YCONFIG_CRYPTO_HMAC=YCONFIG_CRYPTO_NULL=MCONFIG_CRYPTO_MD4=MCONFIG_CRYPTO_MD5=MCONFIG_CRYPTO_SHA1=MCONFIG_CRYPTO_SHA256=MCONFIG_CRYPTO_SHA512=MCONFIG_CRYPTO_DES=MCONFIG_CRYPTO_BLOWFISH=MCONFIG_CRYPTO_TWOFISH=MCONFIG_CRYPTO_SERPENT=MCONFIG_CRYPTO_AES=MCONFIG_CRYPTO_CAST5=MCONFIG_CRYPTO_CAST6=MCONFIG_CRYPTO_DEFLATE=M# CONFIG_CRYPTO_TEST IS NOT SET## LIBRARY ROUTINES#CONFIG_CRC32=MCONFIG_ZLIB_INFLATE=MCONFIG_ZLIB_DEFLATE=MCONFIG_X86_BIOS_REBOOT=YCONFIG_PC=YSTEPS TO REPRODUCE:","SUMMARY":"2.6.2 KERNEL PANIC WHEN USING IPSEC","CLASS":1}
{"ID_DEFECT":"2135","DESCRIPTION":"PROBLEM DESCRIPTION:THIS IS A SECURITY VULNERABILITY.SETSOCKOPT() SYSCALL IP_MSFILTER OPTION WILL LEAK KERNEL MEMORY INFORMATIONBECAUSE OF LOGIC ERROR.IMSF_NUMSRC MEMBER OF STRUCT IP_MSFILTER IS DATA SUBMITTED BY THE USER.WHEN SETSOCKOPT()S OPTLEN IS SMALLER THAN IP_MSFILTER_SIZE(IMSF_NUMSRC),KERNEL WILL COPY UNNECESSARY DATA (LINE 1871 OF NETIPV4IGMP.C).THIS DATA IS ACQUIRABLE USING GETSOCKOPT() SYSCALL WITH IP_MSFILTER OPTION.PS1: EACH MACRO OF IP_MSFILTER_SIZE, IP_SFLSIZE, AND GROUP_FILTER_SIZE     AWAKES INTEGER OVERFLOW, WHEN THE VALUE GIVEN BY THE USER IS USED     AS IT WAS.     # IP_MSFILTER OPTION, MCAST_MSFILTER OPTION     THIS LEADS TO THE ABILITY OF A LOCAL USER TO CRASH A KERNEL (DOS).PS2: IPV6 SETSOCKOPT() MCAST_MSFILTER OPTION ALSO HAS THE SAME PROBLEM.STEPS TO REPRODUCE: THIS IS A SAMPLE CODE.----------------------------------------------------------------------#INCLUDE <UNISTD.H>#INCLUDE <STDIO.H>#INCLUDE <STRING.H>#INCLUDE <CTYPE.H>#INCLUDE <SYSSOCKET.H>#INCLUDE <NETINETIN.H>#INCLUDE <SYSSOCKET.H>#INCLUDE <ARPAINET.H>#DEFINE MCAST_INCLUDE  1#DEFINE IP_MSFILTER   41STRUCT IP_MSFILTER  UNSIGNED INT IMSF_MULTIADDR; UNSIGNED INT IMSF_INTERFACE; UNSIGNED INT IMSF_FMODE; UNSIGNED INT IMSF_NUMSRC; UNSIGNED INT IMSF_SLIST[1];;#DEFINE IP_MSFILTER_SIZE(NUMSRC) TT(SIZEOF(STRUCT IP_MSFILTER) - SIZEOF(UNSIGNED INT) TT+ (NUMSRC) * SIZEOF(UNSIGNED INT))#DEFINE SIZETT1024#DEFINE MULTICASTT224.0.0.0#DEFINE ADDRTT192.168.0.3 * INTERFACE ADDR *INT MAIN(INT ARGC,CHAR *ARGV[])TINT I,J,S,RET,LEN;TSTRUCT IP_MREQN MREQ;TSTRUCT IP_MSFILTER *IMSFP;TCHAR BUF[IP_MSFILTER_SIZE(SIZE)];TS = SOCKET(PF_INET,SOCK_STREAM,0);TPRINTF(SOCKET S[%D],S);TIF(S==-1)TTRETURN -1;TMREQ.IMR_MULTIADDR.S_ADDR = INET_ADDR(MULTICAST);TMREQ.IMR_ADDRESS.S_ADDR = INET_ADDR(ADDR);TMREQ.IMR_IFINDEX = 0;TRET = SETSOCKOPT(S,SOL_IP,IP_ADD_MEMBERSHIP,&MREQ,SIZEOF(MREQ));TPRINTF(SETSOCKOPT1 RET[%D],RET);TIF(RET)TTRETURN -2;TWHILE(GETCHAR()!=EOF)TTTMEMSET(BUF,0,SIZEOF(BUF));TTIMSFP = (STRUCT IP_MSFILTER *)BUF;TTIMSFP->IMSF_MULTIADDR = (UNSIGNED INT)INET_ADDR(MULTICAST);TTIMSFP->IMSF_INTERFACE = (UNSIGNED INT)INET_ADDR(ADDR);TTIMSFP->IMSF_FMODE = MCAST_INCLUDE;TTIMSFP->IMSF_NUMSRC = SIZE;TTRET = SETSOCKOPT(S,SOL_IP,IP_MSFILTER,BUF,IP_MSFILTER_SIZE(0));TTPRINTF(SETSOCKOPT2 RET[%D],RET);TTIF(RET)TTTBREAK;TTLEN = SIZEOF(BUF);TTRET = GETSOCKOPT(S,SOL_IP,IP_MSFILTER,BUF,&LEN);TTPRINTF(GETSOCKOPT RET[%D] LEN[%D],RET,LEN);TTIF(RET)TTTBREAK;TTPRINTF(---);TTFOR(I=IP_MSFILTER_SIZE(0);I<LEN;I++)TTTTTPRINTF();TTTFOR(J=0;J<16&&(I+J)<LEN;J++)TTTTPRINTF(%02X ,BUF[I+J]&0XFF);TTTIF(J!=16)TTTTTTTFOR(;J<16;J++)TTTTTPRINTF(   );TTTTTTPRINTF( | );TTTFOR(J=0;J<16&&(I+J)<LEN;J++)TTTTTTTIF(ISPRINT(BUF[I+J]))TTTTTPRINTF(%C,BUF[I+J]);TTTTELSETTTTTPRINTF(.);TTTTTTI += J;TTTTPRINTF(---);TTCLOSE(S);TRETURN 0;---------------------------------------------------------------------- THIS IS A PATCH ONLY TO THE PROBLEM OF IPV4 SETSOCKOPT() IP_MSFILTER OPTION.------------------------------------------------------------------------- IP_SOCKGLUE.C-2.6.3TWED FEB 18 12:57:21 2004+++ IP_SOCKGLUE.CTTHU FEB 19 01:05:39 2004@@ -631,6 +631,15 @@ TTTTKFREE(MSF); TTTTBREAK; TTT+TTT*+TTT *TIP_MSFILTERS IMSF_SLIST AND IP_SF_SOCKLISTS SL_ADDR ARE THE+TTT *TSAME SIZES (__U32). THEREFORE, A REQUIRED CHECK IS ONLY THIS.+TTT *+TTTIF(((IP_SFLSIZE(MSF->IMSF_NUMSRC) - IP_SFLSIZE(0)) < MSF->IMSF_NUMSRC) ||+TTTT(IP_MSFILTER_SIZE(MSF->IMSF_NUMSRC) > OPTLEN)) +TTTTKFREE(MSF);+TTTTGOTO E_INVAL;+TTT TTTERR = IP_MC_MSFILTER(SK, MSF, 0); TTTKFREE(MSF); TTTBREAK;----------------------------------------------------------------------","SUMMARY":"SETSOCKOPT() SYSCALL IP_MSFILTER OPTION LOGIC ERROR LEADS TO LEAKING KERNEL MEMORY INFORMATION","CLASS":1}
{"ID_DEFECT":"3610","DESCRIPTION":"DISTRIBUTION: FEDORA CORE 2HARDWARE ENVIRONMENT: PENTIUM III @800MHZ, 384 MB MEMORY, ADAPTEC AIC-7892A U160SCSI CONTROLLER, SEAGATE   MODEL: ST39204LW DRIVE, LITE-ON LNE100TX NIC, GATEWAYGP 800 COMPUTER. THIS MACHINE IS THE AMANDA TAPE SERVER.SOFTWARE ENVIRONMENT: AMANDA 2.4.4P2 SOFTWARE, FEDORA CORE 2 ENVIRONMENT WITHVANILLA 2.6.9 KERNEL.PROBLEM DESCRIPTION: AMANDA CLIENTS EXCHANGES UDP PACKETS WITH THE SERVER GIVINGIT A TCP PORT NUMBER WITH WHICH TO CONNECT IN ORDER TO RECEIVE FILES TO BEDUMPED TO TAPE. UNDER KERNEL-2.6.8.1 THE SOFWARE PERFORMS PERFECTLY. UNDERKERNEL-2.6.9, WITH EXACTLY THE SAME AMANDA SOFTWARE, THE UDP PACKET EXCHANGESEEMS TO OCCUR, BUT NO TCP CONNECTION BETWEEN CLIENT AND SERVER OCCURS. THECLIENT EVENTUALLY TIMES OUT WITH MESSAGES LIKE:SENDBACKUP: TIME 0.000: STREAM_SERVER: WAITING FOR CONNECTION: 0.0.0.0.32951SENDBACKUP: TIME 0.000: STREAM_SERVER: WAITING FOR CONNECTION: 0.0.0.0.32952SENDBACKUP: TIME 0.000: STREAM_SERVER: WAITING FOR CONNECTION: 0.0.0.0.32953SENDBACKUP: TIME 0.000: WAITING FOR CONNECT ON 32951, THEN 32952, THEN 32953SENDBACKUP: TIME 29.995: STREAM_ACCEPT: TIMEOUT AFTER 30 SECONDSSENDBACKUP: TIME 29.995: TIMEOUT ON DATA PORT 32951SENDBACKUP: TIME 59.990: STREAM_ACCEPT: TIMEOUT AFTER 30 SECONDSSENDBACKUP: TIME 59.990: TIMEOUT ON MESG PORT 32952SENDBACKUP: TIME 89.987: STREAM_ACCEPT: TIMEOUT AFTER 30 SECONDSSENDBACKUP: TIME 89.987: TIMEOUT ON INDEX PORT 32953SENDBACKUP: TIME 89.987: PID 3008 FINISH TIME THU OCT 21 12:30:38 2004RUNNING TCPDUMP ON BOTH CLIENT AND SERVER SHOWS NO TCP TRAFFIC AT ALL. I HAVECOMPLETELY DISABLED IPTABLES IN AN EFFORT TO ALLOW THE TRAFFIC TO PASS. NOEFFECT. RE-COMPILING THE AMANDA SOFTWARE HAD NO EFFECT. SWITCHING BACK TOKERNEL-2.6.8.1 ALLOWS IT TO RUN NORMALLY.LSPCI -VVV00:00.0 HOST BRIDGE: INTEL CORP. 440BXZXDX - 82443BXZXDX HOST BRIDGE (REV 03)        CONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR-STEPPING- SERR+ FASTB2B-        STATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT+ >SERR- <PERR-        LATENCY: 64        REGION 0: MEMORY AT F8000000 (32-BIT, PREFETCHABLE)        CAPABILITIES: [A0] AGP VERSION 1.0                STATUS: RQ=32 ISO- ARQSZ=0 CAL=0 SBA+ ITACOH- GART64- HTRANS-64BIT- FW- AGP3- RATE=X1,X2                COMMAND: RQ=1 ARQSZ=0 CAL=0 SBA- AGP- GART64- 64BIT- FW- RATE=<NONE>00:01.0 PCI BRIDGE: INTEL CORP. 440BXZXDX - 82443BXZXDX AGP BRIDGE (REV 03)(PROG-IF 00 [NORMAL DECODE])        CONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE+ MEMWINV+ VGASNOOP- PARERR-STEPPING- SERR+ FASTB2B-        STATUS: CAP- 66MHZ+ UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        LATENCY: 128        BUS: PRIMARY=00, SECONDARY=01, SUBORDINATE=01, SEC-LATENCY=64        IO BEHIND BRIDGE: 0000F000-00000FFF        MEMORY BEHIND BRIDGE: F5000000-F5FFFFFF        PREFETCHABLE MEMORY BEHIND BRIDGE: FC000000-FDFFFFFF        BRIDGECTL: PARITY- SERR- NOISA+ VGA+ MABORT- >RESET- FASTB2B+00:07.0 ISA BRIDGE: INTEL CORP. 82371ABEBMB PIIX4 ISA (REV 02)        CONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE+ MEMWINV- VGASNOOP- PARERR-STEPPING- SERR- FASTB2B-        STATUS: CAP- 66MHZ- UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        LATENCY: 000:07.1 IDE INTERFACE: INTEL CORP. 82371ABEBMB PIIX4 IDE (REV 01) (PROG-IF 80[MASTER])        CONTROL: IO+ MEM- BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR-STEPPING- SERR- FASTB2B-        STATUS: CAP- 66MHZ- UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        LATENCY: 64        REGION 4: IO PORTS AT 1820 [SIZE=16]00:07.2 USB CONTROLLER: INTEL CORP. 82371ABEBMB PIIX4 USB (REV 01) (PROG-IF 00[UHCI])        CONTROL: IO+ MEM- BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR-STEPPING- SERR- FASTB2B-        STATUS: CAP- 66MHZ- UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        LATENCY: 64        INTERRUPT: PIN D ROUTED TO IRQ 9        REGION 4: IO PORTS AT 1800 [SIZE=32]00:07.3 BRIDGE: INTEL CORP. 82371ABEBMB PIIX4 ACPI (REV 02)        CONTROL: IO+ MEM+ BUSMASTER- SPECCYCLE- MEMWINV- VGASNOOP- PARERR-STEPPING- SERR- FASTB2B-        STATUS: CAP- 66MHZ- UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        INTERRUPT: PIN ? ROUTED TO IRQ 900:0E.0 SCSI STORAGE CONTROLLER: ADAPTEC AIC-7892A U160M (REV 02)        SUBSYSTEM: ADAPTEC 29160 ULTRA160 SCSI CONTROLLER        CONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR-STEPPING- SERR+ FASTB2B-        STATUS: CAP+ 66MHZ+ UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        LATENCY: 72 (10000NS MIN, 6250NS MAX), CACHE LINE SIZE 08        INTERRUPT: PIN A ROUTED TO IRQ 11        BIST RESULT: 00        REGION 0: IO PORTS AT 1000 [DISABLED]        REGION 1: MEMORY AT F4000000 (64-BIT, NON-PREFETCHABLE) [SIZE=4K]        CAPABILITIES: [DC] POWER MANAGEMENT VERSION 2                FLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MAPME(D0-,D1-,D2-,D3HOT-,D3COLD-)                STATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-00:10.0 ETHERNET CONTROLLER: LITE-ON COMMUNICATIONS INC LNE100TX (REV 20)        SUBSYSTEM: NETGEAR FA310TX        CONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR-STEPPING- SERR+ FASTB2B-        STATUS: CAP- 66MHZ- UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        LATENCY: 64        INTERRUPT: PIN A ROUTED TO IRQ 9        REGION 0: IO PORTS AT 1400        REGION 1: MEMORY AT F4001000 (32-BIT, NON-PREFETCHABLE) [SIZE=256]01:00.0 VGA COMPATIBLE CONTROLLER: NVIDIA CORPORATION NV5M64 [RIVA TNT2 MODEL64MODEL 64 PRO] (REV 15) (PROG-IF 00 [VGA])        SUBSYSTEM: VISIONTEK: UNKNOWN DEVICE 0002        CONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR-STEPPING- SERR- FASTB2B-        STATUS: CAP+ 66MHZ+ UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        LATENCY: 64 (1250NS MIN, 250NS MAX)        INTERRUPT: PIN A ROUTED TO IRQ 11        REGION 0: MEMORY AT F5000000 (32-BIT, NON-PREFETCHABLE)        REGION 1: MEMORY AT FC000000 (32-BIT, PREFETCHABLE) [SIZE=32M]        CAPABILITIES: [60] POWER MANAGEMENT VERSION 1                FLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MAPME(D0-,D1-,D2-,D3HOT-,D3COLD-)                STATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-        CAPABILITIES: [44] AGP VERSION 2.0                STATUS: RQ=32 ISO- ARQSZ=0 CAL=0 SBA- ITACOH- GART64- HTRANS-64BIT- FW- AGP3- RATE=X1,X2,X4                COMMAND: RQ=1 ARQSZ=0 CAL=0 SBA- AGP- GART64- 64BIT- FW- RATE=<NONE>MORE PROCCPUINFOPROCESSOR       : 0VENDOR_ID       : GENUINEINTELCPU FAMILY      : 6MODEL           : 8MODEL NAME      : PENTIUM III (COPPERMINE)STEPPING        : 3CPU MHZ         : 795.899CACHE SIZE      : 256 KBFDIV_BUG        : NOHLT_BUG         : NOF00F_BUG        : NOCOMA_BUG        : NOFPU             : YESFPU_EXCEPTION   : YESCPUID LEVEL     : 2WP              : YESFLAGS           : FPU VME DE PSE TSC MSR PAE MCE CX8 SEP MTRR PGE MCA CMOV PATPSE36 MMX FXSR SSEBOGOMIPS        : 1572.86MORE PROCMODULESUHCI_HCD 29136 0 - LIVE 0XD8997000MORE PROCIOMEM00000000-0009F3FF : SYSTEM RAM0009F400-0009FFFF : RESERVED000A0000-000BFFFF : VIDEO RAM AREA000C0000-000CFFFF : VIDEO ROM000D0000-000D65FF : ADAPTER ROM000E4000-000EFFFF : ADAPTER ROM000F0000-000FFFFF : SYSTEM ROM00100000-040FD7FF : SYSTEM RAM  00100000-003296B0 : KERNEL CODE  003296B1-003FBCBF : KERNEL DATA040FD800-040FF7FF : ACPI TABLES040FF800-040FFBFF : ACPI NON-VOLATILE STORAGE040FFC00-17FFFFFF : SYSTEM RAMF4000000-F4000FFF : 0000:00:0E.0  F4000000-F4000FFF : AIC7XXXF4001000-F40010FF : 0000:00:10.0  F4001000-F40010FF : TULIPF5000000-F5FFFFFF : PCI BUS #01  F5000000-F5FFFFFF : 0000:01:00.0F8000000-FBFFFFFF : 0000:00:00.0FC000000-FDFFFFFF : PCI BUS #01  FC000000-FDFFFFFF : 0000:01:00.0    FC000000-FC17FFFF : VESAFBFFFE7000-FFFFFFFF : RESERVED0000-001F : DMA10020-0021 : PIC10040-0043 : TIMER00050-0053 : TIMER10060-006F : KEYBOARD0070-0077 : RTC0080-008F : DMA PAGE REG00A0-00A1 : PIC200C0-00DF : DMA200F0-00FF : FPU0170-0177 : IDE101F0-01F7 : IDE002F8-02FF : SERIAL0376-0376 : IDE103C0-03DF : VESAFB03F6-03F6 : IDE003F8-03FF : SERIAL0CF8-0CFF : PCI CONF11000-10FF : 0000:00:0E.01400-14FF : 0000:00:10.0  1400-14FF : TULIP1800-181F : 0000:00:07.2  1800-181F : UHCI_HCD1820-182F : 0000:00:07.1  1820-1827 : IDE0  1828-182F : IDE17000-701F : 0000:00:07.38000-803F : 0000:00:07.3MORE PROCSCSISCSIATTACHED DEVICES:HOST: SCSI0 CHANNEL: 00 ID: 00 LUN: 00  VENDOR: SEAGATE  MODEL: ST39204LW        REV: 0006  TYPE:   DIRECT-ACCESS                    ANSI SCSI REVISION: 03HOST: SCSI0 CHANNEL: 00 ID: 06 LUN: 00  VENDOR: SEAGATE  MODEL: DAT    06240-XXX REV: 8110  TYPE:   SEQUENTIAL-ACCESS                ANSI SCSI REVISION: 03STEPS TO REPRODUCE: RUN AMANDA SERVER ON KERNEL-2.6.9.","SUMMARY":"KERNEL-2.6.9 BREAKS AMANDA","CLASS":1}
{"ID_DEFECT":"8320","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID *NOT* OCCUR: I THINK ALL 2.6 KERNELSDISTRIBUTION: DEBIAN (WITH VANILLA KERNEL)HARDWARE ENVIRONMENT: PCSOFTWARE ENVIRONMENT: DEBIANPROBLEM DESCRIPTION:WHEN YOU REPLACE ROUTE (VIA IP R R ), NO NETLINK MESSAGE IS SENT. OR IS IT FEATURE?STEPS TO REPRODUCE:1. RUN IP MONITOR ALL ON ONE CONSOLE2. DO IP R R EXISTING_ROUTE VIA DST ON SECOND CONSOLE3. NO MESSAGE ON CONSOLE ONESMALL PATCH FOR FIB_HASH (TESTED) BUT USE CAREFULLY I AM NEWBIE :-) :--- FIB_HASH.C.OLD      2007-04-11 10:39:34.895667672 +0200+++ FIB_HASH.C  2007-04-11 10:41:34.623466280 +0200@@ -457,6 +457,8 @@                        FIB_RELEASE_INFO(FI_DROP);                        IF (STATE & FA_S_ACCESSED)                                RT_CACHE_FLUSH(-1);+                       RTMSG_FIB(RTM_NEWROUTE, KEY, FA, CFG->FC_DST_LEN, TB->TB_ID,+                                 &CFG->FC_NLINFO);                        RETURN 0;                AND FOR FIB_TRIE (NOT TESTED):--- FIB_TRIE.C.OLD      2007-04-11 10:39:22.728517360 +0200+++ FIB_TRIE.C  2007-04-11 10:40:40.778651936 +0200@@ -1205,6 +1205,8 @@                        FIB_RELEASE_INFO(FI_DROP);                        IF (STATE & FA_S_ACCESSED)                                RT_CACHE_FLUSH(-1);+                       RTMSG_FIB(RTM_NEWROUTE, HTONL(KEY), NEW_FA, PLEN, TB->TB_ID,+                                 &CFG->FC_NLINFO);                        GOTO SUCCEEDED;                ","SUMMARY":"REPLACING ROUTE IN KERNEL DOESNT SEND NETLINK MESSAGE","CLASS":1}
{"ID_DEFECT":"9661","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: 2.6.24-RC6-GIT3DISTRIBUTION: DEBIAN GNU LINUX 4.0ETCHHARDWARE ENVIRONMENT: INTEL DG965SS, 4GB RAM, ONBOARD E1000, NO HDDSOFTWARE ENVIRONMENT: DEBIAN GNU LINUX 4.0R2 X86_64PROBLEM DESCRIPTION: STARTING WITH -GIT4 RELEASE THE SYSTEM WONT BOOT FROM NETWORK. BOOTING WITH ROOT=DEVNFS IP=DHCP FOR EXAMPLE ENDS IN ASKING THE USER TO INSERT A BOOT FLOPPY. THIS IS OBVIOUSLY NOT THE EXPECTED RESULT WHEN BOOTING FROM NETWORK. THE CAUSE SEEM TO BE THE CHANGESET A6C05C3D064DBB83BE88CBA3189BEB5DB9D2DFC3. LOOKING AT THE CODE I FOUND THAT IC_ENABLE DOESNT GET SET AS EXPECTED. THIS PREVENTS THE KERNEL FROM INITIALIZING THE IP CONFIGURATION. THE PATCH & MY LK CONF (FOR REFERENCE) ARE ATTACHED. THIS MAY BE NOT THE IDEAL WAY OF SOLVING THIS, THERE ARE PROBABLY BETTER ONES. THIS ONE WORKS FOR ME :)","SUMMARY":"BOOTING FROM NFSROOT FAILS","CLASS":1}
{"ID_DEFECT":"9778","DESCRIPTION":"LATEST WORKING KERNEL VERSION: 2.6.24-RC7EARLIEST FAILING KERNEL VERSION: 2.6.24-RC8DISTRIBUTION: UBUNTU GUTSYHARDWARE ENVIRONMENT: AMD64, ATHEROS 5212 CHIPSETSOFTWARE ENVIRONMENT: FAIRLY RECENT MADWIFI SVN.PROBLEM DESCRIPTION: PATCH [PATCH][NEIGH] FIX RACE BETWEEN NEIGH_PARMS_RELEASE AND NEIGHTBL_FILL_PARMS (9CD40029423701C376391DA59D2C6469672B4BED) CAUSES THE ERROR DESCRIBED IN THE SUBJECT LINE TO OCCUR WHEN SEEKING TO UNLOAD A DEVICE. ALSO SEEN BY SOME OF MY TUXONICE USERS WITH E1000 AND PPP42.STEPS TO REPRODUCE: RUN A KERNEL WITH THE ABOVE PATCH, BRING UP A (NONLOOPBACK) INTERFACE, SEEK TO TAKE IT DOWN.","SUMMARY":"UNREGISTER_NETDEVICE: WAITING FOR [DEVICE] TO BECOME FREE","CLASS":1}
{"ID_DEFECT":"9811","DESCRIPTION":"LATEST WORKING KERNEL VERSION: NONEEARLIEST FAILING KERNEL VERSION: 2.6.18 (VERIFIED, BUT MOST LIKELY ANY)DISTRIBUTION: DEBIANHARDWARE ENVIRONMENT: SOFTWARE ENVIRONMENT:PROBLEM DESCRIPTION: FROM GARY.MANCHON@GMAIL.COM :AFTER A BAD NETWORK INTERFACE CONFIGURATION (IFCONFIG ETH0 127.0.0.1),I CANNOT RECOVER THE NETWORK WITHOUT REBOOTING THE KERNEL.THIS IS MY WORKING CONFIGURATION :# IFCONFIGETH0      LINK ENCAP:ETHERNET  HWADDR 00:90:3E:1F:1C:17          INET ADDR:192.168.240.195  BCAST:192.168.247.255  MASK:255.255.248.0          UP BROADCAST RUNNING MULTICAST  MTU:1500  METRIC:1          RX PACKETS:26 ERRORS:0 DROPPED:0 OVERRUNS:0 FRAME:0          TX PACKETS:0 ERRORS:0 DROPPED:0 OVERRUNS:0 CARRIER:0          COLLISIONS:0 TXQUEUELEN:1000          RX BYTES:2633 (2.5 KIB)  TX BYTES:0 (0.0 B)LO        LINK ENCAP:LOCAL LOOPBACK          INET ADDR:127.0.0.1  MASK:255.0.0.0          UP LOOPBACK RUNNING  MTU:16436  METRIC:1          RX PACKETS:0 ERRORS:0 DROPPED:0 OVERRUNS:0 FRAME:0          TX PACKETS:0 ERRORS:0 DROPPED:0 OVERRUNS:0 CARRIER:0          COLLISIONS:0 TXQUEUELEN:0          RX BYTES:0 (0.0 B)  TX BYTES:0 (0.0 B)# ROUTEKERNEL IP ROUTING TABLEDESTINATION     GATEWAY         GENMASK         FLAGS METRIC REF    USE IFACE192.168.240.0   *               255.255.248.0   U     0      0        0 ETH0DEFAULT         192.168.240.1   0.0.0.0         UG    0      0        0 ETH0# PING -C 1 66.102.11.99PING 66.102.11.99 (66.102.11.99): 56 DATA BYTES64 BYTES FROM 66.102.11.99: ICMP_SEQ=0 TTL=63 TIME=4.5 MS--- 66.102.11.99 PING STATISTICS ---1 PACKETS TRANSMITTED, 1 PACKETS RECEIVED, 0% PACKET LOSSROUND-TRIP MINAVGMAX = 4.54.54.5 MSSTEPS TO REPRODUCE:# IFCONFIG ETH0 127.0.0.1# IFCONFIG ETH0 192.168.240.195 NETMASK 255.255.248.0# ROUTE ADD DEFAULT GW 192.168.240.1FROM BJU00F8RN MORK <BJORN@MORK.NO> :I SUSPECT THAT THE PROBLEM MIGHT BE THIS CODE IN NETIPV4DEVINET.C ,WHICH SETS IFA_SCOPE TO RT_SCOPE_HOST IF YOU CONFIGURE A LOOPBACKADDRESS (1278) ON ANY INTERFACE.  I GUESS ITS THERE TO PROTECT US FROMSENDING PACKETS WITH A LOOPBACK SOURCE ADDRESS, WHICH WOULNDT LOOK TOOGOOD:STATIC INT INET_SET_IFA(STRUCT NET_DEVICE *DEV, STRUCT IN_IFADDR *IFA)TSTRUCT IN_DEVICE *IN_DEV = __IN_DEV_GET_RTNL(DEV);TASSERT_RTNL();TIF (!IN_DEV) TTINET_FREE_IFA(IFA);TTRETURN -ENOBUFS;TTIPV4_DEVCONF_SETALL(IN_DEV);TIF (IFA->IFA_DEV != IN_DEV) TTBUG_TRAP(!IFA->IFA_DEV);TTIN_DEV_HOLD(IN_DEV);TTIFA->IFA_DEV = IN_DEV;TTIF (LOOPBACK(IFA->IFA_LOCAL))TTIFA->IFA_SCOPE = RT_SCOPE_HOST;TRETURN INET_INSERT_IFA(IFA);THE REAL PROBLEM IS THAT THERES NEVER ANYTHING RESETTING THIS SCOPE IFYOU CHANGE THE ADDRESS LATER.  THE ATTACHED PATCH FIXES THIS.DHCP232:~# IP ADDR SHOW DEV ETH02: ETH0: <BROADCAST,MULTICAST,UP,10000> MTU 1500 QDISC PFIFO_FAST QLEN 1000    LINKETHER 00:AA:00:FF:00:FF BRD FF:FF:FF:FF:FF:FF    INET 192.168.3.23224 BRD 192.168.3.255 SCOPE GLOBAL ETH0    INET6 2001:16D8:FFB4:0:2AA:FF:FEFF:FF64 SCOPE GLOBAL DYNAMIC        VALID_LFT 2591971SEC PREFERRED_LFT 604771SEC    INET6 FE80::2AA:FF:FEFF:FF64 SCOPE LINK        VALID_LFT FOREVER PREFERRED_LFT FOREVERDHCP232:~# IFCONFIG ETH0 127.0.0.1DHCP232:~# IP ADDR SHOW DEV ETH02: ETH0: <BROADCAST,MULTICAST,UP,10000> MTU 1500 QDISC PFIFO_FAST QLEN 1000    LINKETHER 00:AA:00:FF:00:FF BRD FF:FF:FF:FF:FF:FF    INET 127.0.0.18 BRD 127.255.255.255 SCOPE HOST ETH0    INET6 2001:16D8:FFB4:0:2AA:FF:FEFF:FF64 SCOPE GLOBAL DYNAMIC        VALID_LFT 2591951SEC PREFERRED_LFT 604751SEC    INET6 FE80::2AA:FF:FEFF:FF64 SCOPE LINK        VALID_LFT FOREVER PREFERRED_LFT FOREVERDHCP232:~# IFCONFIG ETH0 192.168.3.232DHCP232:~# IP ADDR SHOW DEV ETH02: ETH0: <BROADCAST,MULTICAST,UP,10000> MTU 1500 QDISC PFIFO_FAST QLEN 1000    LINKETHER 00:AA:00:FF:00:FF BRD FF:FF:FF:FF:FF:FF    INET 192.168.3.23224 BRD 192.168.3.255 SCOPE HOST ETH0    INET6 2001:16D8:FFB4:0:2AA:FF:FEFF:FF64 SCOPE GLOBAL DYNAMIC        VALID_LFT 2591933SEC PREFERRED_LFT 604733SEC    INET6 FE80::2AA:FF:FEFF:FF64 SCOPE LINK        VALID_LFT FOREVER PREFERRED_LFT FOREVERNOTICE HOW THE SCOPE CHANGES FROM GLOBAL TO HOST WHEN CONFIGURING127.0.0.1, AND JUST NEVER CHANGES BACK.  IT WILL STAY THAT WAY FOREVER,OR UNTIL SOMETHING CHANGES THE SCOPE OR DELETES THE ADDRESS.DELETING THE ADDRESSS AND RE-ADDING IT WILL WORK AROUND THE PROBLEM:DHCP232:~# IP ADDR DEL 192.168.3.23224 DEV ETH0DHCP232:~# IFCONFIG ETH0 192.168.3.232DHCP232:~# IP ADDR SHOW DEV ETH02: ETH0: <BROADCAST,MULTICAST,UP,10000> MTU 1500 QDISC PFIFO_FAST QLEN 1000    LINKETHER 00:AA:00:FF:00:FF BRD FF:FF:FF:FF:FF:FF    INET 192.168.3.23224 BRD 192.168.3.255 SCOPE GLOBAL ETH0    INET6 2001:16D8:FFB4:0:2AA:FF:FEFF:FF64 SCOPE GLOBAL DYNAMIC        VALID_LFT 2591963SEC PREFERRED_LFT 604763SEC    INET6 FE80::2AA:FF:FEFF:FF64 SCOPE LINK        VALID_LFT FOREVER PREFERRED_LFT FOREVERBJU00F8RN","SUMMARY":"LOOPBACK ADDRESS TO ETH0 INTERFACE CHANGES SCOPE PERMANENTLY","CLASS":1}
{"ID_DEFECT":"9873","DESCRIPTION":"LATEST WORKING KERNEL VERSION: - EARLIEST FAILING KERNEL VERSION: 2.6.24-06481-GAA62999DISTRIBUTION: UBUNTUPROBLEM DESCRIPTION:USING ICMPSIC ON A BOX TRIGGERS THE OOOPSSTEPS TO REPRODUCE:START ICMPSIC -S 192.168.0.201 -D 192.168.0.201 -P 35000 -R 22361 -K 33000ON THE MACHINE CONTAINING THOSE INTERFACES WILL COMPLETELY LOCK IT UP[  360.552115] ------------[ CUT HERE ]------------[  360.552235] KERNEL BUG AT NETIPV4ICMP.C:874![  360.552235] INVALID OPCODE: 0000 [#1] PREEMPT DEBUG_PAGEALLOC[  360.552235] MODULES LINKED IN:[  360.552235] [  360.552235] PID: 3899, COMM: ICMPSIC NOT TAINTED (2.6.24-06481-GAA62999 #20)[  360.552235] EIP: 0060:[<C05EB1B3>] EFLAGS: 00010282 CPU: 0[  360.552235] EIP IS AT ICMP_TIMESTAMP+0X830XD0[  360.552235] EAX: FFFFFFF2 EBX: CAE7D700 ECX: 00000000 EDX: FFFFFFFC[  360.552235] ESI: 003F04D0 EDI: CADED000 EBP: C08EFEB4 ESP: C08EFE48[  360.552235]  DS: 007B ES: 007B FS: 0000 GS: 0033 SS: 0068[  360.552235] PROCESS ICMPSIC (PID: 3899, TI=C08EF000 TASK=CACF0000 TASK.TI=CACBF000)[  360.552235] STACK: 00000004 00000001 CF449060 C0BFB720 CF0DF4F0 CF0DF4F0 CF081850 D8053F00 [  360.552235]        D8053F00 00000004 CAE7D700 C08EFED4 C0899628 C08EFE90 C0603442 00000000 [  360.552235]        CF097090 C0603420 C08EFEB4 C05B73DD 00000000 C05C5C10 00000001 47A3C2A2 [  360.552235] CALL TRACE:[  360.552235]  [<C0603442>] ? IPT_HOOK+0X220X30[  360.552235]  [<C0603420>] ? IPT_HOOK+0X00X30[  360.552235]  [<C05B73DD>] ? NF_ITERATE+0X5D0X90[  360.552235]  [<C05C5C10>] ? IP_LOCAL_DELIVER_FINISH+0X00X170[  360.552235]  [<C05EADF6>] ? ICMP_RCV+0XE60X200[  360.552235]  [<C05C5C77>] ? IP_LOCAL_DELIVER_FINISH+0X670X170[  360.552235]  [<C05C60ED>] ? IP_LOCAL_DELIVER+0X2D0XA0[  360.552235]  [<C05C5C10>] ? IP_LOCAL_DELIVER_FINISH+0X00X170[  360.552235]  [<C05C59CF>] ? IP_RCV_FINISH+0XDF0X320[  360.552235]  [<C05B74CA>] ? NF_HOOK_SLOW+0XBA0XE0[  360.552235]  [<C05C58F0>] ? IP_RCV_FINISH+0X00X320[  360.552235]  [<C05C5FEB>] ? IP_RCV+0X16B0X240[  360.552235]  [<C05C58F0>] ? IP_RCV_FINISH+0X00X320[  360.552235]  [<C05C5E80>] ? DO_SOFTIRQ+0X8A0XD0[  360.552235]  [<C0128EB4>] ? LOCAL_BH_ENABLE+0XA40X110[  360.552235]  [<C05A43D0>] ? DEV_QUEUE_XMIT+0XA00X340[  360.552235]  [<C01547AD>] ? __RCU_READ_UNLOCK+0X7D0X90[  360.552235]  [<C05C9D4D>] ? IP_FINISH_OUTPUT+0X12D0X2D0[  360.552235]  [<C05CA9A9>] ? IP_OUTPUT+0X790XD0[  360.552235]  [<C05E4B40>] ? DST_OUTPUT+0X00X10[  360.552235]  [<C05E4F71>] ? RAW_SEND_HDRINC+0X1210X310[  360.552235]  [<C05E4B40>] ? DST_OUTPUT+0X00X10[  360.552235]  [<C05E60CD>] ? RAW_SENDMSG+0X36D0X3A0[  360.552235]  [<C05EE914>] ? INET_SENDMSG+0X340X60[  360.552235]  [<C0595C54>] ? SOCK_SENDMSG+0XC40XF0[  360.552235]  [<C01373B0>] ? AUTOREMOVE_WAKE_FUNCTION+0X00X50[  360.552235]  [<C01050D3>] ? RESTORE_NOCHECK+0X120X15[  360.552235]  [<C0144BF4>] ? TRACE_HARDIRQS_ON+0XC40X150[  360.552235]  [<C01050D3>] ? RESTORE_NOCHECK+0X120X15[  360.552235]  [<C043FF06>] ? COPY_FROM_USER+0X460X80[  360.552235]  [<C0595F45>] ? __LOCK_RELEASE+0X460X70[  360.552235]  [<C01070E5>] ? DO_SOFTIRQ+0X550XD0[  360.552235]  [<C0596E37>] ? SYS_SOCKETCALL+0X1870X260[  360.552235]  [<C0104FEA>] ? SYSENTER_PAST_ESP+0X5F0XA5[  360.552235]  =======================[  360.552235] CODE: F7 EA 69 F6 E8 03 00 00 C1 F9 1F C1 FA 06 29 CA 8D 04 16 31 D2 0F C8 8D 4D AC 89 45 B0 89 45 B4 89 D8 E8 C1 02 89 5D 98 C7 45 9C 00 00 00 [  360.552235] EIP: [<C05EB1B3>] ICMP_TIMESTAMP+0X830XD0 SS:ESP 0068:C08EFE48[  360.552276] KERNEL PANIC - NOT SYNCING: FATAL EXCEPTION IN INTERRUPTUSING THE ICMPSIC COMMAND FROM ANOTHER BOX DOESNT DO A THING, USING 127.0.0.1 WILL ALSO WORK.","SUMMARY":"BUG AT NETIPV4ICMP.C:874","CLASS":1}
{"ID_DEFECT":"9937","DESCRIPTION":"LATEST WORKING KERNEL VERSION:EARLIEST FAILING KERNEL VERSION: 2.6.24.2DISTRIBUTION: SLACKWARE  DEBIAN GNULINUXHARDWARE ENVIRONMENT: HP PROLIANT DL380 G5 (DEBIAN), SLACKWARE ACER TRAVELMATE 4001 LAPTOPSOFTWARE ENVIRONMENT: PROBLEM DESCRIPTION: KERNEL OOPS WHENEVER BONDING DRIVER WITH MAX_BONDS=2 (OR > 2) IS LOADED ...STEPS TO REPRODUCE:MODPROBE BONDING MODE=0 MIIMON=100 MAX_BONDS=2 ORMODPROBE BONDING MAX_BONDS=2 DMESG OUTPUT (FROM SLACKWARE LAPTOP  X86):BUG: UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT VIRTUAL ADDRESS 00000000PRINTING EIP: C028EEAF *PDE = 00000000OOPS: 0000 [#1] SMPMODULES LINKED IN: BONDING SND_SEQ_DUMMY SND_SEQ_OSS SND_SEQ_MIDI_EVENT SND_SEQ SND_SEQ_DEVICE SND_PCM_OSS SND_MIXER_OSS NTFS PCMCIA YENTA_SOCKET RSRC_NONSTATIC TIFM_7XX1 TIFM_CORE PCMCIA_CORE SND_INTEL8X0 SND_AC97_CODEC AC97_BUS SND_PCM I2C_I801 SND_TIMER SND I2C_CORE SHPCHP SND_PAGE_ALLOC EHCI_HCD UHCI_HCD PCI_HOTPLUGPID: 2729, COMM: MODPROBE NOT TAINTED (2.6.24.2 #2)EIP: 0060:[<C028EEAF>] EFLAGS: 00010282 CPU: 0EIP IS AT STRNICMP+0X170X61EAX: D8162800 EBX: 00000000 ECX: 00000010 EDX: 00000062ESI: 00000010 EDI: 00000000 EBP: D8162801 ESP: D82C9F60 DS: 007B ES: 007B FS: 00D8 GS: 0033 SS: 0068PROCESS MODPROBE (PID: 2729, TI=D82C8000 TASK=DF926550 TASK.TI=D82C8000)STACK: D8162C80 00000000 E0C76814 00000000 E0C67170 00000001 DF80B700 E0C77180       00000001 00000000 0000000C D82C8000 E0AFE05E E0C6ED14 E0C6CE70 E0C76C00       0805C098 0000000C C014E355 B7E7A008 0805C098 C0106F12 B7E7A008 00019477CALL TRACE: [<E0C67170>] BOND_CREATE+0X4A0X162 [BONDING] [<E0AFE05E>] BONDING_INIT+0X5E0XF0 [BONDING] [<C014E355>] SYS_INIT_MODULE+0X910X11B [<C0106F12>] SYSCALL_CALL+0X70XB [<C0470000>] SCTP_SETSOCKOPT_BINDX+0XE80X127 =======================CODE: 08 FE DC BA 98 C7 40 0C 76 54 32 10 C7 40 10 F0 E1 D2 C3 C3 55 89 C5 57 89 D7 31 D2 56 89 CE 53 31 DB 85 C9 74 42 0F B6 55 00 45 <0F> B6 1F 47 84 D2 74 35 84 DB 74 31 38 DA 74 2A 0F B6 C2 88 D1EIP: [<C028EEAF>] STRNICMP+0X170X61 SS:ESP 0068:D82C9F60---[ END TRACE 75761717808BF4EE ]---DMESG OUTPUT (FROM DEBIAN X86_64 - HP PROLIANT DL380):UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT 0000000000000000 RIP: [<FFFFFFFF8030271E>] STRNICMP+0X120X5FPGD 223005067 PUD 223B22067 PMD 0OOPS: 0000 [1] SMPCPU 7MODULES LINKED IN: BONDING MPTCTL MPTBASE FAN AC BATTERY IPV6 DM_SNAPSHOT DM_MIRROR DM_MOD LOOP USBHID IDE_CD CDROM BNX2 GENERIC THERMAL IPMI_SI PIIX SERIO_RAW EVDEV SHPCHPPSMOUSE PCI_HOTPLUG CONTAINER PCSPKR IDE_CORE IPMI_MSGHANDLER UHCI_HCD BUTTON PROCESSOR EHCI_HCD E1000 EXT3 JBD MBCACHE REISERFS CCISSPID: 12469, COMM: MODPROBE NOT TAINTED 2.6.24.2 #1RIP: 0010:[<FFFFFFFF8030271E>]  [<FFFFFFFF8030271E>] STRNICMP+0X120X5FRSP: 0018:FFFF81022339FE00  EFLAGS: 00010202RAX: FFFF81022307E6C0 RBX: FFFFFFFF88233918 RCX: 00000000000020E7RDX: 0000000000000010 RSI: 0000000000000000 RDI: FFFF81022307E000RBP: 0000000000000000 R08: FFFF810223B90362 R09: 0000000000000010R10: FFFFFFFF8822D60B R11: 0000000000000001 R12: 0000000000000000R13: FFFFFFFF88234B00 R14: FFFF81022307E7C8 R15: 0000000000000000FS:  00002B07AA3166E0(0000) GS:FFFF81022743BD00(0000) KNLGS:0000000000000000CS:  0010 DS: 0000 ES: 0000 CR0: 000000008005003BCR2: 0000000000000000 CR3: 000000022339C000 CR4: 00000000000006E0DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000DR3: 0000000000000000 DR6: 00000000FFFF0FF0 DR7: 0000000000000400PROCESS MODPROBE (PID: 12469, THREADINFO FFFF81022339E000, TASK FFFF8102239AA000)STACK:  FFFFFFFF882200CE FFFF8102239AD000 0000000000000001 FFFF8102274273C0 0000000000000000 0000000000000001 FFFFC20011BEF960 FFFF810225C88540 FFFFFFFF8809F7BF FFFFFFFF882340C0 FFFFFFFF882340C0 FFFF8102263F7F00CALL TRACE: [<FFFFFFFF882200CE>] :BONDING:BOND_CREATE+0X4E0X30E [<FFFFFFFF8809F7BF>] :BONDING:BONDING_INIT+0X7BF0X85D [<FFFFFFFF8024F752>] SYS_INIT_MODULE+0X176D0X183F [<FFFFFFFF8020BE8E>] SYSTEM_CALL+0X7E0X83CODE: 8A 0E 48 FF C7 48 FF C6 45 84 C0 74 36 84 C9 74 32 41 38 C8RIP  [<FFFFFFFF8030271E>] STRNICMP+0X120X5F RSP <FFFF81022339FE00>CR2: 0000000000000000---[ END TRACE BA3D7089E7DA64FA ]---","SUMMARY":"BUG IN BONDING DRIVER - KERNEL OOPS WHENEVER DRIVER IS LOADED WITH MAX_BONDS PARAMETER","CLASS":1}
{"ID_DEFECT":"10323","DESCRIPTION":"REPRODUCER:1.  BOOT LATEST LINUS GIT TREE (2.6.24-RC6).2.  RUN  FOLLOWING COMMANDS:BRCTL ADDBR BR0BRCTL STP BR0 OFFBRCTL ADDIF BR0 ETH0BRCTH ADDIF BR0 ETH1IFCONFIG BR0 UPIFCONFIG ETH0 UPIFCONFIG ETH1 UP3.  TRY AND PASS TRAFFIC BETWEEN HOSTS CONNECTED TO ETH0 AND ETH1.4.  OBSERVE PANIC:UG: UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT 0000000000000078IP: [<FFFFFFFF8123B5D8>] __IP_ROUTE_OUTPUT_KEY+0X1870X93DPGD 0OOPS: 0000 [1] SMP DEBUG_PAGEALLOCCPU 0MODULES LINKED IN: BRIDGE RFCOMM L2CAP BLUETOOTH AUTOFS4 SUNRPC IPT_REJECT XT_TCPUDP NF_CONNTRACK_IPV4 XT_STATE NF_CONNTRACK IPTABLE_FILTER IP_TABLES IP6TABLE_FILTER IP6_TABLES X_TABLES CPUFREQ_O]PID: 0, COMM: SWAPPER NOT TAINTED 2.6.25-RC6.SKY2.TESTING #3RIP: 0010:[<FFFFFFFF8123B5D8>]  [<FFFFFFFF8123B5D8>] __IP_ROUTE_OUTPUT_KEY+0X1870X93DRSP: 0018:FFFFFFFF815885E0  EFLAGS: 00010202RAX: FFFFFFFF814C1FD8 RBX: 0000000000000000 RCX: 0000000000000002RDX: FFFFFFFF813D57A0 RSI: 0000000000000001 RDI: 0000000000000000RBP: FFFFFFFF815886A0 R08: 0000000000000001 R09: 0000000000000000R10: FFFFFFFF8123B451 R11: FFFF81006995EB40 R12: 0000000000000000R13: FFFFFFFF815887C8 R14: 0000000000000000 R15: FFFFFFFF81588770FS:  0000000000000000(0000) GS:FFFFFFFF81416000(0000) KNLGS:0000000000000000CS:  0010 DS: 0018 ES: 0018 CR0: 000000008005003BCR2: 0000000000000078 CR3: 0000000000201000 CR4: 00000000000006A0DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000DR3: 0000000000000000 DR6: 00000000FFFF0FF0 DR7: 0000000000000400PROCESS SWAPPER (PID: 0, THREADINFO FFFFFFFF814C0000, TASK FFFFFFFF813D57A0)STACK:  FFFFFFFF815887C8 0000000000000002 0000000000000001 FFFF81007C6AC560 0000000000000002 0000000000000000 FFFF8100010083B8 FFFFFFFF81588618 FFFFFFFF81588618 0000000181588658 0000000000000002 0000000000000246CALL TRACE: <IRQ>  [<FFFFFFFF812635B7>] ? ICMP_SEND+0X14F0X5A4 [<FFFFFFFF8126373A>] ICMP_SEND+0X2D20X5A4 [<FFFFFFFF8832907F>] :IPT_REJECT:REJECT_TG+0X450X396 [<FFFFFFFF882FF7A5>] :IP_TABLES:IPT_DO_TABLE+0X4B30X556 [<FFFFFFFF810A3232>] ? CHECK_OBJECT+0X1590X209 [<FFFFFFFF88305081>] :IPTABLE_FILTER:IPT_HOOK+0X180X1B [<FFFFFFFF81238324>] NF_ITERATE+0X410X81 [<FFFFFFFF883917BB>] ? :BRIDGE:BR_NF_FORWARD_FINISH+0X00X109 [<FFFFFFFF812383E5>] NF_HOOK_SLOW+0X810XFB [<FFFFFFFF883917BB>] ? :BRIDGE:BR_NF_FORWARD_FINISH+0X00X109 [<FFFFFFFF88391AB1>] :BRIDGE:BR_NF_FORWARD_IP+0X1ED0X214 [<FFFFFFFF81238324>] NF_ITERATE+0X410X81 [<FFFFFFFF8838CFB9>] ? :BRIDGE:BR_FORWARD_FINISH+0X00X53 [<FFFFFFFF812383E5>] NF_HOOK_SLOW+0X810XFB [<FFFFFFFF8838CFB9>] ? :BRIDGE:BR_FORWARD_FINISH+0X00X53 [<FFFFFFFF8838D06A>] :BRIDGE:__BR_FORWARD+0X5E0X6E [<FFFFFFFF8838D093>] :BRIDGE:BR_FORWARD+0X190X25 [<FFFFFFFF8838DAF1>] :BRIDGE:BR_HANDLE_FRAME_FINISH+0X1290X14D [<FFFFFFFF883921EF>] :BRIDGE:BR_NF_PRE_ROUTING_FINISH+0X3530X364 [<FFFFFFFF88391E9C>] ? :BRIDGE:BR_NF_PRE_ROUTING_FINISH+0X00X364 [<FFFFFFFF8123844E>] ? NF_HOOK_SLOW+0XEA0XFB [<FFFFFFFF88391E9C>] ? :BRIDGE:BR_NF_PRE_ROUTING_FINISH+0X00X364 [<FFFFFFFF8839289E>] :BRIDGE:BR_NF_PRE_ROUTING+0X69E0X6BD [<FFFFFFFF81238324>] NF_ITERATE+0X410X81 [<FFFFFFFF8838D9C8>] ? :BRIDGE:BR_HANDLE_FRAME_FINISH+0X00X14D [<FFFFFFFF812383E5>] NF_HOOK_SLOW+0X810XFB [<FFFFFFFF8838D9C8>] ? :BRIDGE:BR_HANDLE_FRAME_FINISH+0X00X14D [<FFFFFFFF8838DCCC>] :BRIDGE:BR_HANDLE_FRAME+0X1B70X1DF [<FFFFFFFF8121C701>] NETIF_RECEIVE_SKB+0X33D0X480 [<FFFFFFFF881525E0>] :SKY2:SKY2_POLL+0X9690XCB9 [<FFFFFFFF8104AF26>] ? KTIME_GET+0X110X42 [<FFFFFFFF8121ADC8>] NET_RX_ACTION+0XD90X20E [<FFFFFFFF81039B87>] __DO_SOFTIRQ+0X700XF1 [<FFFFFFFF8100D25C>] CALL_SOFTIRQ+0X1C0X28 [<FFFFFFFF8100E485>] DO_SOFTIRQ+0X390X8A [<FFFFFFFF810396C0>] IRQ_EXIT+0X4E0X8F [<FFFFFFFF8100E781>] DO_IRQ+0X1450X167 [<FFFFFFFF8100C5E6>] RET_FROM_INTR+0X00XF <EOI>  [<FFFFFFFF8103184E>] ? SCHED_CLOCK_IDLE_WAKEUP_EVENT+0X440X6A [<FFFFFFFF81186DC8>] ? ACPI_IDLE_ENTER_SIMPLE+0X1AF0X220 [<FFFFFFFF81186DBE>] ? ACPI_IDLE_ENTER_SIMPLE+0X1A50X220 [<FFFFFFFF811FD94C>] ? CPUIDLE_IDLE_CALL+0X800XB2 [<FFFFFFFF811FD8CC>] ? CPUIDLE_IDLE_CALL+0X00XB2 [<FFFFFFFF8100B141>] ? DEFAULT_IDLE+0X00X73 [<FFFFFFFF8100B0F9>] ? CPU_IDLE+0XAA0XF2 [<FFFFFFFF81291ED6>] ? REST_INIT+0X5A0X5CCODE: 48 85 DB 0F 85 11 FF FF FF 48 C7 C2 B6 B5 23 81 BE 01 00 00 00 48 C7 C7 80 37 3E 81 E8 03 A0 E1 FF E8 9F E3 DF FF 45 0F B6 77 14 <49> 8B 44 24 78 4C 8D 9D 70 FF FF FF 41 8B 5F 10 41 BA 10 0RIP  [<FFFFFFFF8123B5D8>] __IP_ROUTE_OUTPUT_KEY+0X1870X93D RSP <FFFFFFFF815885E0>CR2: 0000000000000078---[ END TRACE 7B7B0A93664F745C ]---KERNEL PANIC - NOT SYNCING: AIEE, KILLING INTERRUPT HANDLER!OTHER INFO:IN THIS CASE ETH0 AND ETH1 ARE BOTH SKY2 CARDS, BUT IM GUESSING THAT DOESNT MAKE ANY DIFFERENCE.I DID SOME QUICK DEBUGGING AND FOUND THAT THE PANIC IS A RESULT OF ND_NET = NULL HERE (LINE 444): 430  431 VOID ICMP_SEND(STRUCT SK_BUFF *SKB_IN, INT TYPE, INT CODE, __BE32 INFO) 432  433         STRUCT IPHDR *IPH; 434         INT ROOM; 435         STRUCT ICMP_BXM ICMP_PARAM; 436         STRUCT RTABLE *RT = (STRUCT RTABLE *)SKB_IN->DST; 437         STRUCT IPCM_COOKIE IPC; 438         __BE32 SADDR; 439         U8  TOS; 440         STRUCT NET *NET; 441  442         IF (!RT) 443                 GOTO OUT; 444         NET = RT->U.DST.DEV->ND_NET; 445 I KNOW THATS NOT MUCH INFO, BUT I DIDNT HAVE A TON OF TIME TO RESEARCH THIS ONE YET.","SUMMARY":"PANIC USING BRIDGING ON LINUS KERNEL 2.6.25-RC6","CLASS":1}
{"ID_DEFECT":"10748","DESCRIPTION":"LATEST WORKING KERNEL VERSION: 2.6.25EARLIEST FAILING KERNEL VERSION: 2.6.26-RC1DISTRIBUTION: KUBUNTU HARDYHARDWARE ENVIRONMENT: AMDSOFTWARE ENVIRONMENT:PROBLEM DESCRIPTION: ON A DEFAULT KUBUNTU HARDY INSTALL, I FETCHED THE GIT TREE FROM LINUS; COMPILED AND INSTALLED THE KERNEL. THIS PERSISTS EVEN WITH 2.6.26-RC2+ (COMMIT F26A3988917913B3D11B2BD741601A2C64AB9204)IF THIS ISNT KNOWN, ILL BISECT AND REPORT THE BAD COMMITSTEPS TO REPRODUCE: SUDO DHCLIENT ETH2 RETURNSDROP_PRIVILEGES: COULD NOT KEEP CAPABILITIES: INVALID ARGUMENTETH2 IS AN E1000E CARD.","SUMMARY":"DHCLIENT FAILS TO RUN; CAPABILITIES ERROR","CLASS":1}
{"ID_DEFECT":"11244","DESCRIPTION":"SUBJECT    : OOPS IN RT_CACHE_INVALIDATE (2.6.27-RC1-2B12A4C)SUBMITTER  : MARCIN SLUSARZ <MARCIN.SLUSARZ@GMAIL.COM>DATE       : 2008-08-03 17:02REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=121778302016450&W=4HANDLED-BY : SVEN WEGENER <SVEN.WEGENER@STEALER.NET>PATCH      : HTTP:MARC.INFO?L=LINUX-KERNEL&M=121779482531865&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.26.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"OOPS IN RT_CACHE_INVALIDATE (2.6.27-RC1-2B12A4C)","CLASS":1}
{"ID_DEFECT":"11440","DESCRIPTION":"SUBJECT    : [2.6.27-RC4-GIT5] IPV4: SYSCTL FIXES CAUSES CANNOT OPEN PROCSYSNETIPV4ROUTEFLUSHSUBMITTER  : RUFUS & AZRAEL <RUFUS-AZRAEL@NUMERICABLE.FR>DATE       : 2008-08-26 16:54REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=121976978001228&W=4HANDLED-BY : AL VIRO <VIRO@ZENIV.LINUX.ORG.UK>PATCH      : HTTP:LKML.ORGLKML2008826236THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.26.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"IPV4: SYSCTL FIXES CAUSES CANNOT OPEN PROCSYSNETIPV4ROUTEFLUSH","CLASS":1}
{"ID_DEFECT":"13627","DESCRIPTION":"USING OPENVPN ON 2.6.29.4 AND 2.6.30 WORKS BUT 2.6.31-RC1 DOESNT.I CAN PING (ICMP) THE REMOTE END, AND SEE THE PACKETS GOING BACK AND FORTH USING TCPDUMP, BUT THEY DONT APPEAR TO BE REACHING THE UPPER LAYERS.TRACEROUTE WITH -U (UDP) AND -T (TCP SYN) OPTIONS (IE. RAW PACKET SOCKET) WORKS.THERE ARE NO IPTABLES FILTERS IN PLACE. NOTHING UNUSUAL APPEARS IN DMESG OR SYSLOG.ROOT@THINKPAD:~# PING 172.17.2.1PING 172.17.2.1 (172.17.2.1) 56(84) BYTES OF DATA.64 BYTES FROM 172.17.2.1: ICMP_SEQ=1 TTL=64 TIME=97.9 MS64 BYTES FROM 172.17.2.1: ICMP_SEQ=2 TTL=64 TIME=108 MS64 BYTES FROM 172.17.2.1: ICMP_SEQ=3 TTL=64 TIME=184 MS64 BYTES FROM 172.17.2.1: ICMP_SEQ=4 TTL=64 TIME=96.0 MS^C--- 172.17.2.1 PING STATISTICS ---4 PACKETS TRANSMITTED, 4 RECEIVED, 0% PACKET LOSS, TIME 3004MSRTT MINAVGMAXMDEV = 96.022121.776184.46536.510 MS# TCPTRACEROUTE -N 192.168.1.1 1TRACEROUTE TO 192.168.1.1 (192.168.1.1), 30 HOPS MAX, 60 BYTE PACKETS 1  192.168.1.1  90.230 MS  105.535 MS  104.833 MS~# TELNET 172.17.2.1 1TRYING 172.17.2.1...^C# TCPDUMP -N -P -I TUN0TCPDUMP: VERBOSE OUTPUT SUPPRESSED, USE -V OR -VV FOR FULL PROTOCOL DECODELISTENING ON TUN0, LINK-TYPE RAW (RAW IP), CAPTURE SIZE 96 BYTES15:28:44.450554 IP 172.17.2.10.46287 > 172.17.2.1.1: FLAGS [S], SEQ 434762695, WIN 5840, OPTIONS [MSS 1460,SACKOK,TS VAL 169108 ECR 0,NOP,WSCALE 6], LENGTH 015:28:44.542303 IP 172.17.2.1.1 > 172.17.2.10.46287: FLAGS [R.], SEQ 0, ACK 434762696, WIN 0, LENGTH 0# IP LINK1: LO: <LOOPBACK,UP,LOWER_UP> MTU 16436 QDISC NOQUEUE STATE UNKNOWN    LINKLOOPBACK 00:00:00:00:00:00 BRD 00:00:00:00:00:004: WMASTER0: <UP,LOWER_UP> MTU 0 QDISC PFIFO_FAST STATE UNKNOWN QLEN 1000    LINKIEEE802.11 00:14:A4:04:DF:09 BRD 00:00:00:00:00:005: WLAN0: <BROADCAST,MULTICAST,UP,LOWER_UP> MTU 1500 QDISC PFIFO_FAST STATE UP QLEN 1000    LINKETHER 00:14:A4:04:DF:09 BRD FF:FF:FF:FF:FF:FF8: TUN0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> MTU 1500 QDISC PFIFO_FAST STATE UNKNOWN QLEN 100    LINK[65534]# IP ADDR1: LO: <LOOPBACK,UP,LOWER_UP> MTU 16436 QDISC NOQUEUE STATE UNKNOWN    LINKLOOPBACK 00:00:00:00:00:00 BRD 00:00:00:00:00:00    INET 127.0.0.18 SCOPE HOST LO    INET6 ::1128 SCOPE HOST       VALID_LFT FOREVER PREFERRED_LFT FOREVER4: WMASTER0: <UP,LOWER_UP> MTU 0 QDISC PFIFO_FAST STATE UNKNOWN QLEN 1000    LINKIEEE802.11 00:14:A4:04:DF:09 BRD 00:00:00:00:00:005: WLAN0: <BROADCAST,MULTICAST,UP,LOWER_UP> MTU 1500 QDISC PFIFO_FAST STATE UP QLEN 1000    LINKETHER 00:14:A4:04:DF:09 BRD FF:FF:FF:FF:FF:FF    INET 192.168.10.11824 BRD 192.168.10.255 SCOPE GLOBAL WLAN0    INET6 FE80::214:A4FF:FE04:DF0964 SCOPE LINK       VALID_LFT FOREVER PREFERRED_LFT FOREVER8: TUN0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> MTU 1500 QDISC PFIFO_FAST STATE UNKNOWN QLEN 100    LINK[65534]    INET 172.17.2.10 PEER 172.17.2.932 SCOPE GLOBAL TUN0# IP ROUTE172.17.2.9 DEV TUN0  PROTO KERNEL  SCOPE LINK  SRC 172.17.2.10192.168.1.024 VIA 172.17.2.9 DEV TUN0  METRIC 20172.17.2.024 VIA 172.17.2.9 DEV TUN0192.168.10.024 DEV WLAN0  PROTO KERNEL  SCOPE LINK  SRC 192.168.10.118DEFAULT VIA 192.168.10.1 DEV WLAN0","SUMMARY":"TUNNEL DEVICE IGNORES TCPUDP TRAFFIC","CLASS":1}
{"ID_DEFECT":"20312","DESCRIPTION":"SYSTEM FREEZES WHEN SETTING PROCSYSNETIPV4TCP_ADV_WIN_SCALE TO A MULTIPLE OF 32 AND CAUSING NETWORK TRAFFIC (FOR EXAMPLE SSH, WGET, FIREFOX, ETC). DOES NOT HAPPEN WITH PINGIT ALSO HAPPENS WITH KERNEL 2.6.26 (DEBIAN LENNY). THERE IS NO OUTPUT VIA DMESG, NO LOGGING ABOUT ANY SYSTEM EVENTS IN VARLOGMESSAGES OR VARLOGSYSLOG AND NOTHING OR ON TTY1FOR EXAMPLE ECHO 32 > PROCSYSNETIPV4TCP_ADV_WIN_SCALEWGET WWW.KERNEL.ORGI TESTED16 >> WORKING32 >> FREEZE33 >> WORKING31 >> WORKING64 >> FREEZE65 >> WORKING96 >> FREEZE128 >> FREEZE","SUMMARY":"SYSTEM FREEZE WITH MULTIPLES OF 32 IN PROCSYSNETIPV4TCP_ADV_WIN_SCALE","CLASS":1}
{"ID_DEFECT":"32452","DESCRIPTION":"THE IP_PKTINFO CMSG IS MISSING THE IF INDEX, IE. IPI_IFINDEX == 0 (BUT THE ADDRESS IS NON-ZERO).  THIS CAUSES AVAHI-DAEMON TO ABORT.","SUMMARY":"IP_PKTINFO CMSG LACKS IF INDEX","CLASS":1}
{"ID_DEFECT":"951","DESCRIPTION":"DISTRIBUTION: DEBIAN GNULINUX 3.0 RC1 (UNSTABLE)  HARDWARE ENVIRONMENT: ATHLON-XP 1600+ MOTHERBOARD ABIT KG7 SCSI ADAPTER TEKRAM DC395 YAMAHA SCSI CD-ROM RECORDER CRW2100S  SOFTWARE ENVIRONMENT: CDRECORD 2.01A15 GCC 3.3   PROBLEM DESCRIPTION: SYSTEM FREEZE WHEN I BURN A CDROM WITH A ISO IMAGE READ FROM A REISERFS PARTITION.  STEPS TO REPRODUCE: BURN A CDROM WITH A ISO IMAGE USING CDRECORD.    KERNEL BOOT MESSAGES:  LINUX VERSION 2.6.0-TEST1 (ROOT@ELEKTRO) (GCC VERSION 3.3 (DEBIAN)) #3 WED JUL 1 6 19:58:51 CEST 2003 VIDEO MODE TO BE USED FOR RESTORE IS F00 BIOS-PROVIDED PHYSICAL RAM MAP:  BIOS-E820: 0000000000000000 - 000000000009FC00 (USABLE)  BIOS-E820: 000000000009FC00 - 00000000000A0000 (RESERVED)  BIOS-E820: 00000000000F0000 - 0000000000100000 (RESERVED)  BIOS-E820: 0000000000100000 - 000000000FFF0000 (USABLE)  BIOS-E820: 000000000FFF0000 - 000000000FFF3000 (ACPI NVS)  BIOS-E820: 000000000FFF3000 - 0000000010000000 (ACPI DATA)  BIOS-E820: 00000000FFFF0000 - 0000000100000000 (RESERVED) 255MB LOWMEM AVAILABLE. ON NODE 0 TOTALPAGES: 65520   DMA ZONE: 4096 PAGES, LIFO BATCH:1   NORMAL ZONE: 61424 PAGES, LIFO BATCH:14   HIGHMEM ZONE: 0 PAGES, LIFO BATCH:1 ACPI: RSDP (V000 761686                     ) @ 0X000F6810 ACPI: RSDT (V001 761686 AWRDACPI 16944.11825) @ 0X0FFF3000 ACPI: FADT (V001 761686 AWRDACPI 16944.11825) @ 0X0FFF3040 ACPI: DSDT (V001 761686 AWRDACPI 00000.04096) @ 0X00000000 ACPI: BIOS PASSES BLACKLIST ACPI: MADT NOT PRESENT BUILDING ZONELIST FOR NODE : 0 KERNEL COMMAND LINE: BOOT_IMAGE=KERNEL2.6 RO ROOT=302 LOCAL APIC DISABLED BY BIOS -- REENABLING. FOUND AND ENABLED LOCAL APIC! INITIALIZING CPU#0 PID HASH TABLE ENTRIES: 1024 (ORDER 10: 8192 BYTES) DETECTED 1401.660 MHZ PROCESSOR. CONSOLE: COLOUR VGA+ 80X25 CALIBRATING DELAY LOOP... 2760.70 BOGOMIPS MEMORY: 255240K262080K AVAILABLE (2299K KERNEL CODE, 6112K RESERVED, 641K DATA,  376K INIT, 0K HIGHMEM) DENTRY CACHE HASH TABLE ENTRIES: 32768 (ORDER: 5, 131072 BYTES) INODE-CACHE HASH TABLE ENTRIES: 16384 (ORDER: 4, 65536 BYTES) MOUNT-CACHE HASH TABLE ENTRIES: 512 (ORDER: 0, 4096 BYTES) -> DEV -> DEVCONSOLE -> ROOT CPU: L1 I CACHE: 64K (64 BYTESLINE), D CACHE 64K (64 BYTESLINE) CPU: L2 CACHE: 256K (64 BYTESLINE) CPU:     AFTER GENERIC, CAPS: 0383FBFF C1CBFBFF 00000000 00000020 CPU: AMD ATHLON(TM) 4 PROCESSOR STEPPING 02 ENABLING FAST FPU SAVE AND RESTORE... DONE. ENABLING UNMASKED SIMD FPU EXCEPTION SUPPORT... DONE. CHECKING HLT INSTRUCTION... OK. POSIX CONFORMANCE TESTING BY UNIFIX ENABLED EXTINT ON CPU#0 ESR VALUE BEFORE ENABLING VECTOR: 00000000 ESR VALUE AFTER ENABLING VECTOR: 00000000 USING LOCAL APIC TIMER INTERRUPTS. CALIBRATING APIC TIMER ... ..... CPU CLOCK SPEED IS 1401.0430 MHZ. ..... HOST BUS CLOCK SPEED IS 266.0939 MHZ. INITIALIZING RT NETLINK SOCKET PCI: USING CONFIGURATION TYPE 1 MTRR: V2.0 (20020519) BIO: POOL OF 256 SETUP, 14KB (56 BYTESBIO) BIOVEC POOL[0]:   1 BVECS: 256 ENTRIES (12 BYTES) BIOVEC POOL[1]:   4 BVECS: 256 ENTRIES (48 BYTES) BIOVEC POOL[2]:  16 BVECS: 256 ENTRIES (192 BYTES) BIOVEC POOL[3]:  64 BVECS: 256 ENTRIES (768 BYTES) BIOVEC POOL[4]: 128 BVECS: 256 ENTRIES (1536 BYTES) BIOVEC POOL[5]: 256 BVECS: 256 ENTRIES (3072 BYTES) ACPI: SUBSYSTEM REVISION 20030619 SPURIOUS 8259A INTERRUPT: IRQ7. ACPI: INTERPRETER ENABLED ACPI: USING PIC FOR INTERRUPT ROUTING ACPI: PCI ROOT BRIDGE [PCI0] (00:00) PCI: PROBING PCI HARDWARE (BUS 00) ACPI: PCI INTERRUPT ROUTING TABLE [_SB_.PCI0._PRT] ACPI: PCI INTERRUPT LINK [LNKA] (IRQS 1 3 4 5 6 7 *10 11 12 14 15) ACPI: PCI INTERRUPT LINK [LNKB] (IRQS 1 3 4 5 6 7 10 *11 12 14 15) ACPI: PCI INTERRUPT LINK [LNKC] (IRQS 1 3 4 5 6 7 10 11 12 14 15, DISABLED) ACPI: PCI INTERRUPT LINK [LNKD] (IRQS 1 3 4 *5 6 7 10 11 12 14 15) LINUX PLUG AND PLAY SUPPORT V0.96 (C) ADAM BELAY SCSI SUBSYSTEM INITIALIZED ACPI: PCI INTERRUPT LINK [LNKC] ENABLED AT IRQ 11 PCI: USING ACPI FOR IRQ ROUTING PCI: IF YOU EXPERIENCE PROBLEMS, TRY USING OPTION PCI=NOACPI OR EVEN ACPI=OFF  RIVAFB: NVIDIA DEVICECHIPSET 10DE0151 RIVAFB: RIVA MTRR SET TO ON RIVAFB: PCI NVIDIA NV10 FRAMEBUFFER VER 0.9.5B (NVIDIAGEFORCE2-G, 64MB @ 0XD0000 000) CONSOLE: SWITCHING TO COLOUR FRAME BUFFER DEVICE 80X30 PTY: 256 UNIX98 PTYS CONFIGURED APM: BIOS VERSION 1.2 FLAGS 0X07 (DRIVER VERSION 1.16AC) APM: OVERRIDDEN BY ACPI. ENABLING SEP ON CPU 0 NTFS DRIVER 2.1.4 [FLAGS: RO]. UDF: REGISTERING FILESYSTEM ACPI: PROCESSOR [CPU0] (SUPPORTS C1, 2 THROTTLING STATES) LP: DRIVER LOADED BUT NO DEVICES FOUND REAL TIME CLOCK DRIVER V1.11 LINUX AGPGART INTERFACE V0.100 (C) DAVE JONES AGPGART: DETECTED AMD 761 CHIPSET AGPGART: MAXIMUM MAIN MEMORY TO USE FOR AGP MEMORY: 203M AGPGART: AGP APERTURE IS 64M @ 0XD8000000 SERIAL: 825016550 DRIVER $REVISION: 1.90 $ IRQ SHARING DISABLED TTYS0 AT IO 0X3F8 (IRQ = 4) IS A 16550A TTYS1 AT IO 0X2F8 (IRQ = 3) IS A 16550A PARPORT0: PC-STYLE AT 0X378 [PCSPP,TRISTATE,EPP] PARPORT0: CPP_DAISY: AA5500FF(38) PARPORT0: ASSIGN_ADDRS: AA5500FF(38) PARPORT0: CPP_DAISY: AA5500FF(38) PARPORT0: ASSIGN_ADDRS: AA5500FF(38) LP0: USING PARPORT0 (POLLING). PARPORT_PC: VIA 686A PARALLEL PORT: IO=0X378 ANTICIPATORY SCHEDULING ELEVATOR FLOPPY DRIVE(S): FD0 IS 1.44M FDC 0 IS A POST-1991 82077 LOOP: LOADED (MAX 8 DEVICES) 8139TOO FAST ETHERNET DRIVER 0.9.26 ETH0: REALTEK RTL8139 FAST ETHERNET AT 0XD5852000, 00:E0:4C:E1:1E:B3, IRQ 11 ETH0:  IDENTIFIED 8139 CHIP TYPE RTL-8139C LINUX VIDEO CAPTURE INTERFACE: V1.00 UNIFORM MULTI-PLATFORM E-IDE DRIVER REVISION: 7.00ALPHA2 IDE: ASSUMING 33MHZ SYSTEM BUS SPEED FOR PIO MODES; OVERRIDE WITH IDEBUS=XX VP_IDE: IDE CONTROLLER AT PCI SLOT 0000:00:07.1 VP_IDE: CHIPSET REVISION 6 VP_IDE: NOT 100% NATIVE MODE: WILL PROBE IRQS LATER IDE: ASSUMING 33MHZ SYSTEM BUS SPEED FOR PIO MODES; OVERRIDE WITH IDEBUS=XX VP_IDE: VIA VT82C686B (REV 40) IDE UDMA100 CONTROLLER ON PCI0000:00:07.1     IDE0: BM-DMA AT 0XD400-0XD407, BIOS SETTINGS: HDA:DMA, HDB:PIO     IDE1: BM-DMA AT 0XD408-0XD40F, BIOS SETTINGS: HDC:DMA, HDD:PIO HDA: IC35L040AVER07-0, ATA DISK DRIVE IDE0 AT 0X1F0-0X1F7,0X3F6 ON IRQ 14 HDC: TOSHIBA DVD-ROM SD-M1612, ATAPI CDDVD-ROM DRIVE IDE1 AT 0X170-0X177,0X376 ON IRQ 15 HDA: MAX REQUEST SIZE: 128KIB HDA: HOST PROTECTED AREA => 1 HDA: 80418240 SECTORS (41174 MB) W1916KIB CACHE, CHS=797801663, UDMA(100)  HDA: HDA1 HDA2 HDA3 HDA4 < HDA5 > HDC: ATAPI 48X DVD-ROM DRIVE, 512KB CACHE, UDMA(33) UNIFORM CD-ROM DRIVER REVISION: 3.12 DC395X: TEKRAM DC395(UUWF), DC315(U) - ASIC TRM-S1040 V2.02, 20030420 DC395X: USED SETTINGS: ADAPTERID=07, SPEED=0(20.0MHZ), DEVMODE=0X57 DC395X:                ADAPTMODE=0X0F, TAGS=4(16), DELAYRESET=1S DC395X:  : CONNECTORS: INT50  TERMINATION: AUTO LOW HIGH DC395X: PERFORMING INITIAL SCSI BUS RESET SCSI0 : TEKRAM DC395(UUWF), DC315(U) - ASIC TRM-S1040 V2.02, 20030420 DC395X: TARGET 03:  SYNC: 48NS OFFSET 7 (20.8 MBS)   VENDOR: YAMAHA    MODEL: CRW2100S          REV: 1.0K   TYPE:   CD-ROM                             ANSI SCSI REVISION: 02 SR0: SCSI-1 DRIVE ATTACHED SCSI CD-ROM SR0 AT SCSI0, CHANNEL 0, ID 3, LUN 0 ATTACHED SCSI GENERIC SG0 AT SCSI0, CHANNEL 0, ID 3, LUN 0,  TYPE 5 CONSOLE: SWITCHING TO COLOUR FRAME BUFFER DEVICE 80X30 MICE: PS2 MOUSE DEVICE COMMON FOR ALL MICE INPUT: IMPS2 LOGITECH WHEEL MOUSE ON ISA0060SERIO1 SERIO: I8042 AUX PORT AT 0X60,0X64 IRQ 12 INPUT: AT SET 2 KEYBOARD ON ISA0060SERIO0 SERIO: I8042 KBD PORT AT 0X60,0X64 IRQ 1 ADVANCED LINUX SOUND ARCHITECTURE DRIVER VERSION 0.9.4 (MON JUN 09 12:01:18 2003  UTC). ALSA DEVICE LIST:   #0: SOUND BLASTER LIVE! (REV.8) AT 0XE000, IRQ 5 NET4: LINUX TCPIP 1.0 FOR NET4.0 IP: ROUTING CACHE HASH TABLE OF 2048 BUCKETS, 16KBYTES TCP: HASH TABLES CONFIGURED (ESTABLISHED 16384 BIND 32768) IP_CONNTRACK VERSION 2.1 (2047 BUCKETS, 16376 MAX) - 160 BYTES PER CONNTRACK IP_TABLES: (C) 2000-2002 NETFILTER CORE TEAM NET4: UNIX DOMAIN SOCKETS 1.0SMP FOR LINUX NET4.0. UDF-FS DEBUG FSUDFLOWLEVEL.C:65:UDF_GET_LAST_SESSION: CDROMMULTISESSION NOT SU                                            PPORTED: RC=-22 UDF-FS DEBUG FSUDFSUPER.C:1472:UDF_FILL_SUPER: MULTI-SESSION=0 UDF-FS DEBUG FSUDFSUPER.C:460:UDF_VRS: STARTING AT SECTOR 16 (2048 BYTE SECTOR                                            S) UDF-FS DEBUG FSUDFSUPER.C:1208:UDF_CHECK_VALID: FAILED TO READ BYTE 32768. ASS                                            UMING OPEN DISC. SKIPPING VALIDITY CHECK UDF-FS DEBUG FSUDFMISC.C:286:UDF_READ_TAGGED: LOCATION MISMATCH BLOCK 256, TAG                                             0 != 256 UDF-FS DEBUG FSUDFSUPER.C:1262:UDF_LOAD_PARTITION: NO ANCHOR BLOCK FOUND UDF-FS: NO PARTITION FOUND (1) FOUND REISERFS FORMAT 3.6 WITH STANDARD JOURNAL REISERFS JOURNAL PARAMS: DEVICE HDA2, SIZE 8192, JOURNAL FIRST BLOCK 18, MAX TRA                                            NS LEN 1024, MAX BATCH 900, MAX COMMIT AGE 30, MAX TRANS AGE 30 REISERFS: CHECKING TRANSACTION LOG (HDA2) FOR (HDA2) USING R5 HASH TO SORT NAMES VFS: MOUNTED ROOT (REISERFS FILESYSTEM) READONLY. FREEING UNUSED KERNEL MEMORY: 376K FREED NTFS VOLUME VERSION 3.1. ETH0: SETTING HALF-DUPLEX BASED ON AUTO-NEGOTIATED PARTNER ABILITY 0000.","SUMMARY":"SYSTEM FREEZE BURNING WITH CDRECORD","CLASS":1}
{"ID_DEFECT":"1084","DESCRIPTION":"DISTRIBUTION: RED HAT 7.3HARDWARE ENVIRONMENT: HP DL380 G3, DUAL P4 2.4GHZ (HYPERTHREADING), 512MB, 2 X 36G DISCS IN RAID 1, HP SMART ARRAY 5I (V. 2.36)SOFTWARE ENVIRONMENT: NO EXTERNAL PACKAGES, JUST USING RH 7.3 .RPM.GCC VERSION 2.96 (RPM RELEASE 110)PROBLEM DESCRIPTION:DURING THE BOOT PROCESS, THE KERNEL WILL PANIC JUST AFTER IT INITIALIZES THE COMPAQ CISS DRIVE (V.2.5.0):UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT VIRTUAL ADDRESS 0000019A PRINTING EIP:C0216249*PDE = 00000000OOPS: 0002 [#1]CPU:    0EIP:    0060:[<C0216249>]    NOT TAINTEDEFLAGS: 00010202EIP IS AT BLK_QUEUE_HARDSECT_SIZE+0X90X20EAX: 00000020 EBX: DF79E050 ECX: 00000000 EDX: 00000000ESI: 00000000 EDI: DF7B0002 EBP: 00000000 ESP: DFF7BEE8DS: 007B ES: 007B SS: 0068PROCESS SWAPPER (PID:1, THREADINFO=DFF7A000 TASK=C1527000)STACK: (LOTS OF HEXAS)CALL: TRACE: [<C0387944>] CCISS_INIT_ONE+0X4D40X510 [<C018B40C>] SYSFS_CREATE+0X5C0X80 [<C01F6DCC>] PCI_DEVICE_PROBE_STATIC+0X2C0X50(..) <0>KERNEL PANIC: ATTEMPTED TO KILL INIT!I HAVE THE WHOLE MESSAGE AS A SCREENSHOT, WHICH I CAN SEND TO ANYONE INTERESTED.STEPS TO REPRODUCE:COMPILE THE KERNEL WITH COMPAQ SMART ARRAY 5XXX SUPORT AND BOOT.USING THE SAME .CONFIG FILE I WAS ABLE TO COMPILE A 2.6.0-TEST2 WHICH WORKED FINE.","SUMMARY":"KERNEL PANIC WHILE INITIALIZING HP SMART ARRAY (CCISS)","CLASS":1}
{"ID_DEFECT":"1094","DESCRIPTION":"DISTRIBUTION: DEBIAN SIDHARDWARE ENVIRONMENT: UHCI INTEL CORP. 82801BABAM USB (HUB #2) (REV 12)SOFTWARE ENVIRONMENT: MOUNT-2.11Z, GCC-3.3.1, (ON GCC-3.2.2 TOO)PROBLEM DESCRIPTION: AFTER UNPLUGGING AN USB MP3 PLAYER THAT USES SCSI_MOD, SD_MOD AND USB-STORAGE, THE KERNEL PRINTS OUT THESE:I REPORTED THIS AS EARLY AS 2.5.69.STEPS TO REPRODUCE:COMPILE THE KERNEL WITH SCSI_MOD, SD_MOD, USB-STORAGE (ALL NEEDED TO TRANSFER FILES TO THE USB DEVICE).PLUG IN THE DEVICE.YOU CAN MOUNT IT, COPY FILES, WHATEVER.HERES WHAT YOU GET ABOUT:CLASS_DEV_RELEASE AT DRIVERSBASECLASS.C:201ANDKOBJECT_CLEANUP AT LIBKOBJECT.C:402###HUB 1-0:0: PORT 2, STATUS 100, CHANGE 3, 12 MBSUSB 1-2: USB DISCONNECT, ADDRESS 3DRIVERSUSBCOREMESSAGE.C: NUKING URBS FOR DEVICE 1-2USB 1-2: UNREGISTERING INTERFACESUSB-STORAGE: STORAGE_DISCONNECT() CALLEDUSB-STORAGE: USB_STOR_STOP_TRANSPORT CALLEDUSB-STORAGE: -- DISSOCIATE_DEVDEVICE CLASS 1:0:0:0 DOES NOT HAVE A RELEASE() FUNCTION, IT IS BROKEN AND MUST BE FIXED.BADNESS IN CLASS_DEV_RELEASE AT DRIVERSBASECLASS.C:201CALL TRACE: [KOBJECT_CLEANUP+131133] KOBJECT_CLEANUP+0X830X85 [CLASS_DEVICE_UNREGISTER+1935] CLASS_DEVICE_UNREGISTER+0X130X23 [SCSI_DEVICE_UNREGISTER+3147] SCSI_DEVICE_UNREGISTER+0X1F0X2F   [SCSI_REMOVE_DEVICE+1521] SCSI_REMOVE_DEVICE+0XF0X15 [SCSI_FORGET_HOST+2539] SCSI_FORGET_HOST+0X190X27    [SCSI_REMOVE_HOST+5570] SCSI_REMOVE_HOST+0X370X46   [STORAGE_DISCONNECT+138187] STORAGE_DISCONNECT+0X8A0XBB [USB_UNBIND_INTERFACE+117119] USB_UNBIND_INTERFACE+0X750X77 [DEVICE_RELEASE_DRIVER+98100] DEVICE_RELEASE_DRIVER+0X620X64 [BUS_REMOVE_DEVICE+94165] BUS_REMOVE_DEVICE+0X5E0XA5 [DEVICE_DEL+93147] DEVICE_DEL+0X5D0X93 [DEVICE_UNREGISTER+1935] DEVICE_UNREGISTER+0X130X23 [USB_DISCONNECT+293367] USB_DISCONNECT+0X1250X16F   [HUB_PORT_CONNECT_CHANGE+914919] HUB_PORT_CONNECT_CHANGE+0X3920X397 [HUB_EVENTS+9481148] HUB_EVENTS+0X3B40X47C [HUB_THREAD+42214] HUB_THREAD+0X2A0XD6 [DEFAULT_WAKE_FUNCTION+046] DEFAULT_WAKE_FUNCTION+0X00X2E [HUB_THREAD+0214] HUB_THREAD+0X00XD6 [KERNEL_THREAD_HELPER+511] KERNEL_THREAD_HELPER+0X50XBKOBJECT SDA1 DOES NOT HAVE A RELEASE() FUNCTION, IT IS BROKEN AND MUST BE FIXED.BADNESS IN KOBJECT_CLEANUP AT LIBKOBJECT.C:402CALL TRACE: [KOBJECT_CLEANUP+95133] KOBJECT_CLEANUP+0X5F0X85 [DELETE_PARTITION+109144] DELETE_PARTITION+0X6D0X90 [DEL_GENDISK+47200] DEL_GENDISK+0X2F0XC8 [SD_REMOVE+32112] SD_REMOVE+0X200X70 [DEVICE_RELEASE_DRIVER+98100] DEVICE_RELEASE_DRIVER+0X620X64 [BUS_REMOVE_DEVICE+94165] BUS_REMOVE_DEVICE+0X5E0XA5 [DEVICE_DEL+93147] DEVICE_DEL+0X5D0X93 [DEVICE_UNREGISTER+1935] DEVICE_UNREGISTER+0X130X23 [SCSI_REMOVE_DEVICE+1521] SCSI_REMOVE_DEVICE+0XF0X15 [SCSI_FORGET_HOST+2539] SCSI_FORGET_HOST+0X190X27    [SCSI_REMOVE_HOST+5570] SCSI_REMOVE_HOST+0X370X46    [STORAGE_DISCONNECT+138187] STORAGE_DISCONNECT+0X8A0XBB [USB_UNBIND_INTERFACE+117119] USB_UNBIND_INTERFACE+0X750X77 [DEVICE_RELEASE_DRIVER+98100] DEVICE_RELEASE_DRIVER+0X620X64 [BUS_REMOVE_DEVICE+94165] BUS_REMOVE_DEVICE+0X5E0XA5 [DEVICE_DEL+93147] DEVICE_DEL+0X5D0X93 [DEVICE_UNREGISTER+1935] DEVICE_UNREGISTER+0X130X23 [USB_DISCONNECT+293367] USB_DISCONNECT+0X1250X16F   [HUB_PORT_CONNECT_CHANGE+914919] HUB_PORT_CONNECT_CHANGE+0X3920X397 [HUB_EVENTS+9481148] HUB_EVENTS+0X3B40X47C [HUB_THREAD+42214] HUB_THREAD+0X2A0XD6 [DEFAULT_WAKE_FUNCTION+046] DEFAULT_WAKE_FUNCTION+0X00X2E [HUB_THREAD+0214] HUB_THREAD+0X00XD6 [KERNEL_THREAD_HELPER+511] KERNEL_THREAD_HELPER+0X50XBKOBJECT IOSCHED DOES NOT HAVE A RELEASE() FUNCTION, IT IS BROKEN AND MUST BE FIXED.BADNESS IN KOBJECT_CLEANUP AT LIBKOBJECT.C:402  CALL TRACE: [KOBJECT_CLEANUP+95133] KOBJECT_CLEANUP+0X5F0X85 [ELV_UNREGISTER_QUEUE+2656] ELV_UNREGISTER_QUEUE+0X1A0X38    [BLK_UNREGISTER_QUEUE+3079] BLK_UNREGISTER_QUEUE+0X1E0X4F [UNLINK_GENDISK+33136] UNLINK_GENDISK+0X210X88 [DEL_GENDISK+92200] DEL_GENDISK+0X5C0XC8 [SD_REMOVE+32112] SD_REMOVE+0X200X70 [DEVICE_RELEASE_DRIVER+98100] DEVICE_RELEASE_DRIVER+0X620X64 [BUS_REMOVE_DEVICE+94165] BUS_REMOVE_DEVICE+0X5E0XA5 [DEVICE_DEL+93147] DEVICE_DEL+0X5D0X93 [DEVICE_UNREGISTER+1935] DEVICE_UNREGISTER+0X130X23 [SCSI_REMOVE_DEVICE+1521] SCSI_REMOVE_DEVICE+0XF0X15 [SCSI_FORGET_HOST+2539] SCSI_FORGET_HOST+0X190X27    [SCSI_REMOVE_HOST+5570] SCSI_REMOVE_HOST+0X370X46 [STORAGE_DISCONNECT+138187] STORAGE_DISCONNECT+0X8A0XBB [USB_UNBIND_INTERFACE+117119] USB_UNBIND_INTERFACE+0X750X77 [DEVICE_RELEASE_DRIVER+98100] DEVICE_RELEASE_DRIVER+0X620X64 [BUS_REMOVE_DEVICE+94165] BUS_REMOVE_DEVICE+0X5E0XA5 [DEVICE_DEL+93147] DEVICE_DEL+0X5D0X93 [DEVICE_UNREGISTER+1935] DEVICE_UNREGISTER+0X130X23 [USB_DISCONNECT+293367] USB_DISCONNECT+0X1250X16F [HUB_PORT_CONNECT_CHANGE+914919] HUB_PORT_CONNECT_CHANGE+0X3920X397 [HUB_EVENTS+9481148] HUB_EVENTS+0X3B40X47C [HUB_THREAD+42214] HUB_THREAD+0X2A0XD6 [DEFAULT_WAKE_FUNCTION+046] DEFAULT_WAKE_FUNCTION+0X00X2E [HUB_THREAD+0214] HUB_THREAD+0X00XD6 [KERNEL_THREAD_HELPER+511] KERNEL_THREAD_HELPER+0X50XBKOBJECT QUEUE DOES NOT HAVE A RELEASE() FUNCTION, IT IS BROKEN AND MUST BE FIXED.BADNESS IN KOBJECT_CLEANUP AT LIBKOBJECT.C:402CALL TRACE: [KOBJECT_CLEANUP+95133] KOBJECT_CLEANUP+0X5F0X85 [BLK_UNREGISTER_QUEUE+4479] BLK_UNREGISTER_QUEUE+0X2C0X4F [UNLINK_GENDISK+33136] UNLINK_GENDISK+0X210X88 [DEL_GENDISK+92200] DEL_GENDISK+0X5C0XC8 [SD_REMOVE+32112] SD_REMOVE+0X200X70 [DEVICE_RELEASE_DRIVER+98100] DEVICE_RELEASE_DRIVER+0X620X64 [BUS_REMOVE_DEVICE+94165] BUS_REMOVE_DEVICE+0X5E0XA5 [DEVICE_DEL+93147] DEVICE_DEL+0X5D0X93 [DEVICE_UNREGISTER+1935] DEVICE_UNREGISTER+0X130X23 [SCSI_REMOVE_DEVICE+1521] SCSI_REMOVE_DEVICE+0XF0X15 [SCSI_FORGET_HOST+2539] SCSI_FORGET_HOST+0X190X27    [SCSI_REMOVE_HOST+5570] SCSI_REMOVE_HOST+0X370X46    [STORAGE_DISCONNECT+138187] STORAGE_DISCONNECT+0X8A0XBB [USB_UNBIND_INTERFACE+117119] USB_UNBIND_INTERFACE+0X750X77 [DEVICE_RELEASE_DRIVER+98100] DEVICE_RELEASE_DRIVER+0X620X64 [BUS_REMOVE_DEVICE+94165] BUS_REMOVE_DEVICE+0X5E0XA5 [DEVICE_DEL+93147] DEVICE_DEL+0X5D0X93 [DEVICE_UNREGISTER+1935] DEVICE_UNREGISTER+0X130X23 [USB_DISCONNECT+293367] USB_DISCONNECT+0X1250X16F   [HUB_PORT_CONNECT_CHANGE+914919] HUB_PORT_CONNECT_CHANGE+0X3920X397 [HUB_EVENTS+9481148] HUB_EVENTS+0X3B40X47C [HUB_THREAD+42214] HUB_THREAD+0X2A0XD6 [DEFAULT_WAKE_FUNCTION+046] DEFAULT_WAKE_FUNCTION+0X00X2E [HUB_THREAD+0214] HUB_THREAD+0X00XD6 [KERNEL_THREAD_HELPER+511] KERNEL_THREAD_HELPER+0X50XBDEVICE CLASS HOST1 DOES NOT HAVE A RELEASE() FUNCTION, IT IS BROKEN AND MUST BE FIXED.BADNESS IN CLASS_DEV_RELEASE AT DRIVERSBASECLASS.C:201CALL TRACE: [KOBJECT_CLEANUP+131133] KOBJECT_CLEANUP+0X830X85 [DEVICE_DEL+104147] DEVICE_DEL+0X680X93 [SCSI_HOST_PUT+3147] SCSI_HOST_PUT+0X1F0X2F [USB_STOR_RELEASE_RESOURCES+249254] USB_STOR_RELEASE_RESOURCES+0XF90XFE [USB_UNBIND_INTERFACE+117119] USB_UNBIND_INTERFACE+0X750X77 [DEVICE_RELEASE_DRIVER+98100] DEVICE_RELEASE_DRIVER+0X620X64 [BUS_REMOVE_DEVICE+94165] BUS_REMOVE_DEVICE+0X5E0XA5 [DEVICE_DEL+93147] DEVICE_DEL+0X5D0X93 [DEVICE_UNREGISTER+1935] DEVICE_UNREGISTER+0X130X23 [USB_DISCONNECT+293367] USB_DISCONNECT+0X1250X16F   [HUB_PORT_CONNECT_CHANGE+914919] HUB_PORT_CONNECT_CHANGE+0X3920X397 [HUB_EVENTS+9481148] HUB_EVENTS+0X3B40X47C [HUB_THREAD+42214] HUB_THREAD+0X2A0XD6 [DEFAULT_WAKE_FUNCTION+046] DEFAULT_WAKE_FUNCTION+0X00X2E [HUB_THREAD+0214] HUB_THREAD+0X00XD6 [KERNEL_THREAD_HELPER+511] KERNEL_THREAD_HELPER+0X50XB","SUMMARY":"UNPLUGGING USB MP3 PLAYER FROM CAUSES THESE PRINTOUTS. MAY BE RELATED TO SCSI SUBSYTEM.","CLASS":1}
{"ID_DEFECT":"1235","DESCRIPTION":"DISTRIBUTION: DEBIANHARDWARE ENVIRONMENT: ATHLON 700MHZSOFTWARE ENVIRONMENT:PROBLEM DESCRIPTION:RMMOD IDE_SCSI:UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT VIRTUAL ADDRESS 00000024 PRINTING EIP:C0171047*PDE = 00000000OOPS: 0002 [#1]CPU:    0EIP:    0060:[<C0171047>]    NOT TAINTEDEFLAGS: 00010202EIP IS AT SIMPLE_RMDIR+0X270X50EAX: 00000000   EBX: DA831440   ECX: DA83145C   EDX: FFFFFFD9ESI: DBEAE980   EDI: C8A24000   EBP: DA83145C   ESP: C8A25ED0DS: 007B   ES: 007B   SS: 0068PROCESS RMMOD (PID: 548, THREADINFO=C8A24000 TASK=C897C750)STACK: DA831440 DBEAE380 DA831140 DA831440 C018409C DBEAE980 DA831440 DBEA4F00       DA831440 C018417C DA831440 DBEA4F00 DF10B8C4 E090CE60 E090CDA0 C8A24000       C020E563 DF10B8C4 C046FF60 DF10B8C4 DF10B8A0 C024B000 DF10B8C4 C0507090CALL TRACE: [<C018409C>] REMOVE_DIR+0X4C0X70 [<C018417C>] SYSFS_REMOVE_DIR+0XAC0X110 [<C020E563>] KOBJECT_DEL+0X430X70 [<C024B000>] DEVICE_DEL+0X700XA0 [<E090B00D>] IDESCSI_CLEANUP+0X4D0X60 [IDE_SCSI] [<C027E011>] IDE_UNREGISTER_DRIVER+0X710XC8 [<E090BB27>] EXIT_IDESCSI_MODULE+0X270X2B [IDE_SCSI] [<C01327FB>] SYS_DELETE_MODULE+0X11B0X140 [<C0146B24>] SYS_MUNMAP+0X440X70 [<C010915B>] SYSCALL_CALL+0X70XB","SUMMARY":"RMMOD OF IDE-SCSI RESULTS IN AN OOPS","CLASS":1}
{"ID_DEFECT":"1329","DESCRIPTION":"DISTRIBUTION: GENTOO LINUXHARDWARE ENVIRONMENT: P4 2.2GHZ, 384MB RDRAMSOFTWARE ENVIRONMENT: GCC-3.3.1.20030916, GLIBC-2.3.2.20030919 + NPTL 0.60PROBLEM DESCRIPTION: MODPROBING THE DRIVER JUST OOPS (AND SOME TIMES LOCKS UPTHE COMPUTER)STEPS TO REPRODUCE:1. MAKE MENUCONFUG2. COMPILE ATP870U AS A MODULE3. MODPROBEINSMOD ITRESULTS : AEC671X_DETECT:   ACARD AEC-671X PCI ULTRAW SCSI-3 HOST ADAPTER: 0    IO:DF00, IRQ:23.         ID:  6  MATSHITACD-R   CW-7503  1.09         ID:  7  HOST ADAPTERUNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT VIRTUAL ADDRESS 000004AC PRINTING EIP:D9B7E022*PDE = 00000000OOPS: 0000 [#1]PREEMPTCPU:    0EIP:    0060:[<D9B7E022>]    NOT TAINTED VLIEFLAGS: 00010202EIP IS AT ATP870U_DETECT+0X13F0X91E [ATP870U]EAX: 00000001   EBX: FFFFFFFF   ECX: 00000001   EDX: 00000398ESI: 0000DF3B   EDI: 00000033   EBP: D6444000   ESP: D5975BFCDS: 007B   ES: 007B   SS: 0068PROCESS MODPROBE (PID: 4968, THREADINFO=D5974000 TASK=D65C86A0)STACK: C032B220 0000DF00 00000040 D9B7ED7A D6444000 C013C1EA 00000001 00000000       D64441BC 0000DF3A C032C954 D5974000 00000001 0000DF00 00000282 07170154       0000DF00 00000000 0000DF20 00000000 002000A0 C032C907 00000010 C032CB9CCALL TRACE: [<C013C1EA>] BUFFERED_RMQUEUE+0XD60X182 [<C0145AA9>] DO_ANONYMOUS_PAGE+0X1330X224 [<C0146100>] HANDLE_MM_FAULT+0XD60X166 [<C011C1F7>] DO_PAGE_FAULT+0X31A0X4FF [<C017A8EC>] LOAD_ELF_BINARY+0X5C90XB51 [<C01381E6>] FIND_GET_PAGE+0X2D0X56 [<C01393E4>] FILEMAP_NOPAGE+0X2730X301 [<C0145D7F>] DO_NO_PAGE+0X1E50X376 [<C0146100>] HANDLE_MM_FAULT+0XD60X166 [<C011C1F7>] DO_PAGE_FAULT+0X31A0X4FF [<C013BDBA>] __RMQUEUE+0XCC0X131 [<C013C1EA>] BUFFERED_RMQUEUE+0XD60X182 [<C014D7DC>] MAP_AREA_PMD+0X660X8E [<C014D6CA>] UNMAP_AREA_PMD+0X4B0X56 [<D9B7B000>] ATP870U_INTR_HANDLE+0X00X78E [ATP870U] [<C014DBBC>] VFREE+0X270X35 [<C0135E4D>] LOAD_MODULE+0X6D40X908 [<D9B7EB7A>] ATP870U_RELEASE+0X00XA6 [ATP870U] [<D9B8203E>] INIT_THIS_SCSI_DRIVER+0X3E0XF4 [ATP870U] [<C0136198>] SYS_INIT_MODULE+0X1170X228 [<C02D259B>] SYSCALL_CALL+0X70XBCODE: FF C6 44 24 3D 00 C7 44 24 18 00 00 00 00 21 E2 89 54 24 2C 8B 44 24 18 8B4C 24 30 8B 94 84 40 03 00 00 85 D2 0F 84 60 03 00 00 <8B> 82 14 01 00 00 89 4424 34 0F B6 82 0C 01 00 00 88 44 24 3E","SUMMARY":"ATP870U DRIVER OOPS","CLASS":1}
{"ID_DEFECT":"1562","DESCRIPTION":"DISTRIBUTION: 2.6-TEST5HARDWARE ENVIRONMENT: XSERIES 343SOFTWARE ENVIRONMENT:2.6-TEST5PROBLEM DESCRIPTION: AFTER REBOOTING FROM COMPILING THE 2.6-TEST5 KERNEL ONAN XSERIES 343 WITH A SCSI DRIVE AND ERROR OCCURS.  THE FOLLOWING ERROR ISDISPLAYED:VFS: CANNOT OPEN DEVICE SDA3 OR UNKNOWN-BLOCK(0,0)PLEAE APPEND A CORRECT ROOT=BOOT OPTIONKERNEL PANIC: VFS UNABLE TO MOUNT ROOT FS ON UNKNOWN BLOCK (0,0)THIS HAPPENS WITH THE 2.6-TEST5 KERNEL AND ON THE XSERIES 343.  IT WORK JUST FINES FOR 2.4-18 USING THE SAME DRIVER. I ALSO TRIED IT ON AN XSERIES 330 WITH THE SAME DRIVER AND IT WORKS JUST FINE TOO. THE DRIVER IS THE ADAPTEC AIC7XXX SUPPORT (OLD DRIVER).THE LSPCI INFORMATION SHOWS THE FOLLOWING:01:07.0 SCSI STORAGE CONTROLLER: ADAPTEC AIC-7899P U160M (REV 01)01:07.1 SCSI STORAGE CONTROLLER: ADAPTEC AIC-7899P U160M (REV 01STEPS TO REPRODUCE:1. INSTALLCOMPILE THE 2.6-TEST5 KERNEL2. REBOOT THE MACHINE","SUMMARY":"SCSI DRIVER DOES NOT LOAD AFTER COMPILINGREBOOTING 2.6-TEST5 KERNEL ON XSERIES 343","CLASS":1}
{"ID_DEFECT":"1743","DESCRIPTION":"DISTRIBUTION: SLACKWARE 9.1 (ALL CURRENT UPDATES) HARDWARE ENVIRONMENT:   ABIT KD7 AMD 2600+ (333MHZ FSB) 1GB DDR 333MHZ CORSAIR LSI 53C1010-33 SCSI CONTROLLER IBM 1C35L036UCPR15-0 80P ULTRA3 SCSI DRIVE (CONNECTED VIA PLUG ADAPTER) (LINUX) IBM DESKSTAR IDE DRIVE (WINDOWS) LG DVD-ROM LITE-ON 40X12X48 CD-RW SOUNDBLASTER LIVE GEFORCE4 440 MX   SOFTWARE ENVIRONMENT:  GCC 3.3.2  PROBLEM DESCRIPTION:  SCSI_SYM53C8XX_2 & FUSION MPT DRIVERS CANNOT BOOT. SCSI_SYM53C8XX_2 DRIVER BOOTS JUST FINE WITH IDENTICAL SETTINGS ON 2.4.23 ON SAME MACHINE. I TURNED ON VERBOSE SCSI ERROR REPORTING AND SAW THAT THE DRIVER WAS THERE, IT APPEARED TO DETECT THE SCSI CARD, BUT I STILL GET:  VFS: CANNOT OPEN ROOT DEVICE 801 OR SDA1  IT SCROLLS BY PRETTY FAST SO I CANT GET MUCH MORE THEN THAT, I MIGHT BE ABLE TO FIND OUT SOME OTHER THINGS IF SOMEONE ASKS FOR SOMETHING SPECIFIC.  RELAVENT .CONFIG FROM 2.6 ------------------------- # SCSI DEVICE SUPPORT # CONFIG_SCSI=Y CONFIG_SCSI_PROC_FS=Y  # # SCSI SUPPORT TYPE (DISK, TAPE, CD-ROM) # CONFIG_BLK_DEV_SD=Y # CONFIG_CHR_DEV_ST IS NOT SET # CONFIG_CHR_DEV_OSST IS NOT SET # CONFIG_BLK_DEV_SR IS NOT SET CONFIG_CHR_DEV_SG=Y  # # SOME SCSI DEVICES (E.G. CD JUKEBOX) SUPPORT MULTIPLE LUNS # CONFIG_SCSI_MULTI_LUN=Y CONFIG_SCSI_REPORT_LUNS=Y CONFIG_SCSI_CONSTANTS=Y # CONFIG_SCSI_LOGGING IS NOT SET  # SCSI LOW-LEVEL DRIVERS # # CONFIG_BLK_DEV_3W_XXXX_RAID IS NOT SET # CONFIG_SCSI_ACARD IS NOT SET # CONFIG_SCSI_AACRAID IS NOT SET # CONFIG_SCSI_AIC7XXX IS NOT SET # CONFIG_SCSI_AIC7XXX_OLD IS NOT SET # CONFIG_SCSI_AIC79XX IS NOT SET # CONFIG_SCSI_ADVANSYS IS NOT SET # CONFIG_SCSI_MEGARAID IS NOT SET # CONFIG_SCSI_SATA IS NOT SET # CONFIG_SCSI_BUSLOGIC IS NOT SET # CONFIG_SCSI_CPQFCTS IS NOT SET # CONFIG_SCSI_DMX3191D IS NOT SET # CONFIG_SCSI_EATA IS NOT SET # CONFIG_SCSI_EATA_PIO IS NOT SET # CONFIG_SCSI_FUTURE_DOMAIN IS NOT SET # CONFIG_SCSI_GDTH IS NOT SET # CONFIG_SCSI_IPS IS NOT SET # CONFIG_SCSI_INIA100 IS NOT SET CONFIG_SCSI_PPA=M CONFIG_SCSI_IMM=M # CONFIG_SCSI_IZIP_EPP16 IS NOT SET # CONFIG_SCSI_IZIP_SLOW_CTR IS NOT SET CONFIG_SCSI_SYM53C8XX_2=Y CONFIG_SCSI_SYM53C8XX_DMA_ADDRESSING_MODE=1 CONFIG_SCSI_SYM53C8XX_DEFAULT_TAGS=16 CONFIG_SCSI_SYM53C8XX_MAX_TAGS=64 # CONFIG_SCSI_SYM53C8XX_IOMAPPED IS NOT SET # CONFIG_SCSI_QLOGIC_ISP IS NOT SET # CONFIG_SCSI_QLOGIC_FC IS NOT SET # CONFIG_SCSI_QLOGIC_1280 IS NOT SET # CONFIG_SCSI_DC395X IS NOT SET # CONFIG_SCSI_NSP32 IS NOT SET # CONFIG_SCSI_DEBUG IS NOT SET ---------------------------------------   RELAVENT .CONFIG FROM 2.4.23 --------------------------- # SCSI SUPPORT # CONFIG_SCSI=Y  # # SCSI SUPPORT TYPE (DISK, TAPE, CD-ROM) # CONFIG_BLK_DEV_SD=Y CONFIG_SD_EXTRA_DEVS=40 # CONFIG_CHR_DEV_ST IS NOT SET # CONFIG_CHR_DEV_OSST IS NOT SET CONFIG_BLK_DEV_SR=Y CONFIG_BLK_DEV_SR_VENDOR=Y CONFIG_SR_EXTRA_DEVS=2 CONFIG_CHR_DEV_SG=Y  # # SOME SCSI DEVICES (E.G. CD JUKEBOX) SUPPORT MULTIPLE LUNS # CONFIG_SCSI_DEBUG_QUEUES=Y CONFIG_SCSI_MULTI_LUN=Y # CONFIG_SCSI_CONSTANTS IS NOT SET # CONFIG_SCSI_LOGGING IS NOT SET  # SCSI LOW-LEVEL DRIVERS # # CONFIG_BLK_DEV_3W_XXXX_RAID IS NOT SET # CONFIG_SCSI_7000FASST IS NOT SET # CONFIG_SCSI_ACARD IS NOT SET # CONFIG_SCSI_AHA152X IS NOT SET # CONFIG_SCSI_AHA1542 IS NOT SET # CONFIG_SCSI_AHA1740 IS NOT SET # CONFIG_SCSI_AACRAID IS NOT SET # CONFIG_SCSI_AIC7XXX IS NOT SET # CONFIG_SCSI_AIC79XX IS NOT SET # CONFIG_SCSI_AIC7XXX_OLD IS NOT SET # CONFIG_SCSI_DPT_I2O IS NOT SET # CONFIG_SCSI_ADVANSYS IS NOT SET # CONFIG_SCSI_IN2000 IS NOT SET # CONFIG_SCSI_AM53C974 IS NOT SET # CONFIG_SCSI_MEGARAID IS NOT SET # CONFIG_SCSI_MEGARAID2 IS NOT SET # CONFIG_SCSI_BUSLOGIC IS NOT SET # CONFIG_SCSI_CPQFCTS IS NOT SET # CONFIG_SCSI_DMX3191D IS NOT SET # CONFIG_SCSI_DTC3280 IS NOT SET # CONFIG_SCSI_EATA IS NOT SET # CONFIG_SCSI_EATA_DMA IS NOT SET # CONFIG_SCSI_EATA_PIO IS NOT SET # CONFIG_SCSI_FUTURE_DOMAIN IS NOT SET # CONFIG_SCSI_GDTH IS NOT SET # CONFIG_SCSI_GENERIC_NCR5380 IS NOT SET # CONFIG_SCSI_IPS IS NOT SET # CONFIG_SCSI_INITIO IS NOT SET # CONFIG_SCSI_INIA100 IS NOT SET CONFIG_SCSI_PPA=M CONFIG_SCSI_IMM=M CONFIG_SCSI_IZIP_EPP16=Y # CONFIG_SCSI_IZIP_SLOW_CTR IS NOT SET # CONFIG_SCSI_NCR53C406A IS NOT SET # CONFIG_SCSI_NCR53C7XX IS NOT SET CONFIG_SCSI_SYM53C8XX_2=Y CONFIG_SCSI_SYM53C8XX_DMA_ADDRESSING_MODE=1 CONFIG_SCSI_SYM53C8XX_DEFAULT_TAGS=16 CONFIG_SCSI_SYM53C8XX_MAX_TAGS=64 # CONFIG_SCSI_SYM53C8XX_IOMAPPED IS NOT SET # CONFIG_SCSI_PAS16 IS NOT SET # CONFIG_SCSI_PCI2000 IS NOT SET # CONFIG_SCSI_PCI2220I IS NOT SET # CONFIG_SCSI_PSI240I IS NOT SET # CONFIG_SCSI_QLOGIC_FAS IS NOT SET # CONFIG_SCSI_QLOGIC_ISP IS NOT SET # CONFIG_SCSI_QLOGIC_FC IS NOT SET # CONFIG_SCSI_QLOGIC_1280 IS NOT SET # CONFIG_SCSI_SEAGATE IS NOT SET # CONFIG_SCSI_SIM710 IS NOT SET # CONFIG_SCSI_SYM53C416 IS NOT SET # CONFIG_SCSI_DC390T IS NOT SET # CONFIG_SCSI_T128 IS NOT SET # CONFIG_SCSI_U14_34F IS NOT SET # CONFIG_SCSI_ULTRASTOR IS NOT SET # CONFIG_SCSI_NSP32 IS NOT SET # CONFIG_SCSI_DEBUG IS NOT SET   LILO.CONF ------------------------ # LILO CONFIGURATION FILE # GENERATED BY LILOCONFIG # # START LILO GLOBAL SECTION LBA32 # ALLOW BOOTING PAST 1024TH CYLINDER WITH A RECENT BIOS #APPEND=HDD=IDE-SCSI DEFAULT=LINUX BOOT=DEVSDA MESSAGE = BOOTBOOT_MESSAGE.TXT PROMPT TIMEOUT = 30 # OVERRIDE DANGEROUS DEFAULTS THAT REWRITE THE PARTITION TABLE: CHANGE-RULES RESET # NORMAL VGA CONSOLE VGA = NORMAL IMAGE = BOOTCONF260 ROOT = DEVSDA1 LABEL = LINUX READ-ONLY IMAGE = BOOTCONF2.4.23RC5 ROOT = DEVSDA1 LABEL = LINUX-2.4 READ-ONLY   STEPS TO REPRODUCE: COMPILE, COPY ARCHI386BOOTBZIMAGE & SYSTEM.MAP TO BOOT, UPDATE LILO, REBOOT.","SUMMARY":"UNABLE TO BOOT SCSI DRIVE LSI53C1010-33","CLASS":1}
{"ID_DEFECT":"2236","DESCRIPTION":"DISTRIBUTION: DEBIAN UNSTABLE (SID)HARDWARE ENVIRONMENT:MAINBOARD: ASUS A7V333CPU: AMD ATHLON(TM) XP 1700+RAM: 768MBSCSI-CONTROLLER: DAWICONTROL DC-2975 USOFTWARE ENVIRONMENT:KERNEL 2.6.X ( X<=3) - LILO V22.5.8 AS BOOT MANAGERPROBLEM DESCRIPTION:TERSE:I DO OWN AN SCSI HOST CONTROLLER FROM DAWICONTROL ( HTTP:WWW.DAWICONTROL.COM ). MODEL NAME IS DC-2975 U. USING THIS CONTROLLER WITH DRIVER SYM53C8XX IS POSSIBLE WHEN OPTION WIDE:0 ISACTIVE.THIS WORKED FINE WITH KERNEL 2.4.X. THE NEW SYM53C8XX_2 DRIVER BREAKS THIS AS THEOPTION IS NOT LONGER SUPPORTED ALTHOUGH IT IS DOCUMENTED.VERBOSE:THIS CONTROLLER ONLY HAS NARROW CONNECTORS, BUT USES A CHIP WHICH WOULD SUPPORTWIDE DEVICES. THIS PROBLEM IS KNOWN AND DOCUMENTED WITHIN THE 2.6.X KERNELDOCUMENTATION - FILE DOCUMENTATIONSCSISYM53C8XX_2.TXT:> 10.2.9 MAX WIDE>         WIDE:1      WIDE SCSI ENABLED>         WIDE:0      WIDE SCSI DISABLED>   SOME SCSI BOARDS USE A 875 (ULTRA WIDE) AND ONLY SUPPLY NARROW CONNECTORS.>   IF YOU HAVE CONNECTED A WIDE DEVICE WITH A 50 PINS TO 68 PINS CABLE >   CONVERTER, ANY ACCEPTED WIDE NEGOTIATION WILL BREAK FURTHER DATA TRANSFERS.>   IN SUCH A CASE, USING WIDE:0 IN THE BOOTUP COMMAND WILL BE HELPFULL. THE CONTROLLER WORKS FINE WITH LINUX 2.4.X WHEN WIDE:0 IS SET. BUTIT LOOKS LIKE THIS OPTION IS NOT SUPPORTED WITH LINUX 2.6.3.WHEN BOOTING 2.6.3 KERNELS I DO GET PARITY ERRORS. I DO GET THE SAMEERRORS WHEN RUNNING KERNEL 2.4.X WITHOUT THE OPTION WIDE:0.I WAS ABLE TO GET MY SCSI CONTROLLER RUNNING WITH 2.6.XSYM53C8XX_2 BYAPPLYING A CRUDE HACK. I WILL TRY TO ATTACH IT TO THIS REPORT.STEPS TO REPRODUCE:BOOT KERNEL 2.6.3 WITH SCSI CONTROLLER DAWICONTROL DC-2975 U INSTALLED.  REGARDS        FLORIAN","SUMMARY":"SYM53C8XX: TOO NOISY DURING DOMAIN VALIDATION  LACKS BOOT PARAMETER TO TURN WIDE TRANSFERS OFF","CLASS":1}
{"ID_DEFECT":"3218","DESCRIPTION":"DISTRIBUTION: SUSE 9.1 AMD_64HARDWARE ENVIRONMENT: DUAL OPTERON1 FUJITSU   MODEL: MAP3367NP2 WDIGTL    MODEL: WDE4550 ULTRA2SOFTWARE ENVIRONMENT: BOOTPROBLEM DESCRIPTION:IN SCSI_SCAN.C AROUND LINE 600-TTIF (ADDLEN > 255) -TTTADDLEN = 255;+TTIF (ADDLEN > 254) +TTTADDLEN = 254;AS REPORTED IN THE MESSAGES, 255 IS AN ODD VALUE, REDUCING IT TO AN ALMOSTEQUIVALENT EVEN VALUE SHOULD RESOLVE THE ISSUE AND IS UNLIKELY TO BREAK EXISTINGBEHAVIOUR. I HAVENT READ THE SCSI SPECS IN MANY YEARS, BUT I WOULD THINK THATWITH SUCH AN EXPLICIT ERROR MESSAGE, THAT THRE IS SOMETHING THERE WITH ASHOULD IF NOT A MUST REGARDING EVEN SIZED BUFFER LENGTHS. IT DOES SEEM ODDTHAT THE FIRST WD COMPLAINS, BUT THE SECOND, WHICH SHOULD BE IDENTICAL, IS NOT.THIS DRIVE IS ON THE SECOND CONTROLLER OF THE CARD. THAT SHOULDNT AFFECT THEVALIDITY OF THE FIX, BUT I THOUHJT IT MERITED A COMMENT.FROM BOOT.MSG:-------------------------------------<5>SCSI SUBSYSTEM INITIALIZED<6>SYM0: <875> REV 0X37 AT PCI 0000:00:07.0 IRQ 18<4>SYM0: SYMBIOS NVRAM, ID 7, FAST-20, SE, PARITY CHECKING<4>SYM0: OPEN DRAIN IRQ LINE DRIVER, USING ON-CHIP SRAM<4>SYM0: USING LOADSTORE-BASED FIRMWARE.<5>SYM0: SCSI BUS HAS BEEN RESET.<6>SCSI0 : SYM-2.1.18I<5>  VENDOR: FUJITSU   MODEL: MAP3367NP         REV: 0108<5>  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 03<6>SYM0:0:0: TAGGED COMMAND QUEUING ENABLED, COMMAND QUEUE DEPTH 16.<6>SYM0:0: FAST-20 WIDE SCSI 40.0 MBS ST (50.0 NS, OFFSET 16)<5>SCSI DEVICE SDA: 71775284 512-BYTE HDWR SECTORS (36749 MB)<5>SCSI DEVICE SDA: DRIVE CACHE: WRITE BACK<6> SDA: SDA1 SDA2 SDA3<5>ATTACHED SCSI DISK SDA AT SCSI0, CHANNEL 0, ID 0, LUN 0<6>SYM0:4: FAST-20 WIDE SCSI 40.0 MBS ST (50.0 NS, OFFSET 16)<4>SYM0:4:0:ODD TRANSFER IN DATA IN PHASE.<4>SYM0:4:0:COMMAND FAILED (87 0 10).<4>SYM0:4:0:ODD TRANSFER IN DATA IN PHASE.<4>SYM0:4:0:COMMAND FAILED (87 0 10).<4>SYM0:4:0:ODD TRANSFER IN DATA IN PHASE.<4>SYM0:4:0:COMMAND FAILED (87 0 10).<6>SCSI SCAN: 255 BYTE INQUIRY FAILED WITH CODE 458752.  CONSIDERBLIST_INQUIRY_36 FOR THIS DEVICE<5>  VENDOR: WDIGTL    MODEL: WDE4550 ULTRA2    REV: 1.22<5>  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 02<6>SYM0:4:0: TAGGED COMMAND QUEUING ENABLED, COMMAND QUEUE DEPTH 16.<5>SCSI DEVICE SDB: 8890000 512-BYTE HDWR SECTORS (4552 MB)<5>SCSI DEVICE SDB: DRIVE CACHE: WRITE BACK<6> SDB: SDB1<5>ATTACHED SCSI DISK SDB AT SCSI0, CHANNEL 0, ID 4, LUN 0<6>SYM1: <875> REV 0X37 AT PCI 0000:00:07.1 IRQ 19<4>SYM1: SYMBIOS NVRAM, ID 7, FAST-20, SE, PARITY CHECKING<4>SYM1: OPEN DRAIN IRQ LINE DRIVER, USING ON-CHIP SRAM<4>SYM1: USING LOADSTORE-BASED FIRMWARE.<5>SYM1: SCSI BUS HAS BEEN RESET.<6>SCSI1 : SYM-2.1.18I<6>SYM1:0: FAST-20 WIDE SCSI 40.0 MBS ST (50.0 NS, OFFSET 16)<4>SYM1:0:0:ODD TRANSFER IN DATA IN PHASE.<4>SYM1:0:0:COMMAND FAILED (87 0 10).<4>SYM1:0:0:ODD TRANSFER IN DATA IN PHASE.<4>SYM1:0:0:COMMAND FAILED (87 0 10).<4>SYM1:0:0:ODD TRANSFER IN DATA IN PHASE.<4>SYM1:0:0:COMMAND FAILED (87 0 10).<6>SCSI SCAN: 255 BYTE INQUIRY FAILED WITH CODE 458752.  CONSIDERBLIST_INQUIRY_36 FOR THIS DEVICE<5>  VENDOR: WDIGTL    MODEL: WDE4550 ULTRA2    REV: 1.22<5>  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 02<6>SYM1:0:0: TAGGED COMMAND QUEUING ENABLED, COMMAND QUEUE DEPTH 16.<5>SCSI DEVICE SDC: 8890000 512-BYTE HDWR SECTORS (4552 MB)<5>SCSI DEVICE SDC: DRIVE CACHE: WRITE THROUGH<6> SDC: SDC1<5>ATTACHED SCSI DISK SDC AT SCSI1, CHANNEL 0, ID 0, LUN 0STEPS TO REPRODUCE:SHOULD REPRODUCE WITH ANY ANY SIMILARLY PICKY CONTROLLER.","SUMMARY":"ODD TRANSFER IN DATA IN PHASE - INQUIRY FAILED","CLASS":1}
{"ID_DEFECT":"4228","DESCRIPTION":"THIS WAS AN EXCHANGE ON LINUX-SCSI; IM FILING IT HERE TO KEEP TRACK OF IT.-----FWIW... I JUST UPGRADED FROM 2.4.9 TO 2.6.10. 2.6.10 KEPT PRINTING PHASECHANGE 6-7 MESSAGES. I PATCHED TO SYM53C8XX_2 2.1.18N, BUT THAT DIDNTHELP. SO I MODIFIED SCSI_SCAN.C AND SYM_HIPD.C SYM_PREPARE_NEGO TO NEVERTRY PPR. THAT MADE THE MESSAGES GO AWAY.00:0A.0 SCSI STORAGE CONTROLLER: SYMBIOS LOGIC INC. (FORMERLY NCR) 53C1010+ULTRA3 SCSI ADAPTER (REV 01)(ON A TEKRAM DC390U3W)  VENDOR: SEAGATE   MODEL: SX150176LC        REV: BA08  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 02(=ST150176LC, FAST-40, LVD)IT SOUNDS LIKE PPR ONLY DOES ANYTHING FOR FAST-80 AND ABOVE DRIVES SO IGUESS IM OK NOW.-- UNS-----LET ME GET THIS STRAIGHT.  THIS DRIVE IS ON AN LVD BUS, CAPABLE OF FAST-40,REPORTS BEING CAPABLE OF PPR IN ITS MODE PAGE AND *STILL* FUCKS UP WHENASKED TO DO PPR?GOOGLING FOR SX150176LC SHOWS ME SEVERAL PEOPLE WITH LATER REVISIONFIRMWARE (BA09, BA0F, BA11, BA12), SO MAYBE YOU CAN GET A FIRMWAREUPGRADE OUT OF SEAGATE.IM A LITTLE DISAPPOINTED THAT 2.1.18N DIDNT FIX IT THOUGH.  COULD YOUREVERT YOUR LOCAL CHANGES, BOOT WITH SYM53C8XX.DEBUG=0X200 AND SENDME THE RESULTS?-----> LET ME GET THIS STRAIGHT.  THIS DRIVE IS ON AN LVD BUS,I THINK SO. IT MUST BE, TO NEGOTIATE FASTER THAN 10 MEGATRANSFERS, IGUESS?> CAPABLE OF FAST-40,YES:SYM0:2: FAST-40 WIDE SCSI 80.0 MBS ST (25.0 NS, OFFSET 15)WHEN PPR IS DISABLED.> REPORTS BEING CAPABLE OF PPR IN ITS MODE PAGENOT SURE. CAN SCSIINFO OR SOMETHING REPORT THAT? BTW IT REPORTS ANSI SCSIREVISION 02, I DONT KNOW IF THATS SCSI-2 OR SCSI-3.","SUMMARY":"SOME DEVICES STILL FAIL TO DO PPR","CLASS":1}
{"ID_DEFECT":"4829","DESCRIPTION":"IVE ENCOUNTERED A PROBLEM WHEN USING THE SYM53C8XX_2 DRIVER WITH ASCSI TARGET DEVICE THAT DOESNT SUPPORT SYNCHRONOUS TRANSFER (SYNC),NOR PPR:IN RESPONSE TO AN INQUIRY COMMAND, MY SCSI DEVICE WILL RETURN INQUIRYDATA WHERE THE SYNC BIT (OF BYTE 7) IS CLEARED. THUS, THE SDTR FLAG(IN STRUCT SCSI_DEVICE) WILL NEVER BE SET (SEEDRIVERSSCSISCSI_SCAN.C: SCSI_ADD_LUN()).THE SDTR FLAG IS LATER ON CHECKED BY THE SPI_SUPPORT_SYNC()FUNCTION, IN SYM_CHECK_GOALS() (SEE SYM53C8XX_2SYM_HIPD.C).THIS IS WHERE THE ROOT OF THE PROBLEM IS, I THINK:AS THE TARGET DEVICE DOESNT SUPPORT SYNC, THE SYM_CHECK_GOALS()FUNCTION WILL CLEAR ALL FIELDS WITHIN THE SYM_TRANS STRUCTURE(INCLUDING GOAL->PERIOD).AS A RESULT, THE SYM_PREPARE_NEGO() FUNCTION (ALSO IN SYM_HIPD.C) WILLTRY TO USE PPR (PARALLEL PROTOCOL REQUEST) FOR NEGOTIATION (ASGOAL->PERIOD < 0).NOW, MY TARGET DEVICE DOESNT SUPPORT PPR (EXTENDED MESSAGE 0X04)EITHER. SO IT WILL REJECT THIS MESSAGE. THUS WE WILL END UP INSYM_NEGO_DEFAULT() (ALSO IN SYM_HIPD.C).THE SYM_NEGO_DEFAULT() FUNCTION WILL BASICALLY SETTP->TGOAL.CHECK_NEGO = 1, THUS RESTARTING THE NEGOTIATION (WITH THECOMMENT THAT A TARGET THAT UNDERSTANDS A PPR MESSAGE SHOULD NEVERREJECT IT...).BUT - A TARGET THAT *DOESNT* UNDERSTAND PPR WILL REJECT IT, AND INTHAT CASE IT DOESNT MAKE SENSE TO JUST RESTART NEGOTIATION. IT WILLEVENTUALLY END UP IN SYM_PREPARE_NEGO() AGAIN, AND AS THE TARGET STILLDOESNT UNDERSTAND SYNC, IT WILL GO FOR PPR AGAIN. AND AGAIN. ANDAGAIN.THE RESULT BEING THAT MY TARGET DEVICE RECEIVES AN ENDLESS SEQUENCE OFPPR MESSAGES.SO, TO SUMMARIZE:IN THE CURRENT IMPLEMENTATION, THE SYM_PREPARE_NEGO() FUNCTION WILLALWAYS GO FOR PPR, AS SOON AS THE SYNC BIT IS CLEARED (WHICH IS A BITODD).AND IT ALSO LOOKS ODD TO ME TO TRY PPR ALL OVER AGAIN (AND AGAIN) WITHA TARGET DEVICE THAT ALREADY HAS REJECTED IT ONCE. A TARGET THATUNDERSTANDS PPR WILL OF COURSE NOT REJECT IT. BUT A TARGET DEVICE THAT*DOESNT* UNDERSTAND IT WILL. AND IF THAT TARGET DEVICE DOESNTSUPPORT SYNC EITHER, THEN WE WILL BASICALLY END UP IN AN ENDLESS LOOPOF PPRS HERE.","SUMMARY":"PROBLEM WITH SYM53C8XX_2 AND TARGET DEVICES THAT DOESNT SUPPORT SYNCPPR","CLASS":1}
{"ID_DEFECT":"5244","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: 2.6.13DISTRIBUTION: DEBIAN TESTINGHARDWARE ENVIRONMENT: DELL POWEREDGE 1300, MEGARAID WITH TWO SCSI DRIVES INRAID1, TWO CPUSSOFTWARE ENVIRONMENT:LINUX RTIX-NM-003 2.6.13 #8 SMP WED AUG 31 16:38:12 EDT 2005 I686 GNULINUXGNU C                  2.95.4GNU MAKE               3.80BINUTILS               2.16.1UTIL-LINUX             2.12PMOUNT                  2.12PMODULE-INIT-TOOLS      3.2-PRE1E2FSPROGS              1.37REISERFSPROGS          LINEREISER4PROGS           LINELINUX C LIBRARY        2.3.5DYNAMIC LINKER (LDD)   2.3.5PROCPS                 3.2.5NET-TOOLS              1.60CONSOLE-TOOLS          0.2.3SH-UTILS               5.2.1PROBLEM DESCRIPTION:WHEN BOOTING WITH 2.6.14-RC1, MY RAID1 ARRAY IS SEEN AS A 0 MEGABYTE DRIVE. THISCAUSES THE KERNEL TO NOT BE ABLE TO MOUNT THE FILESYSTEM, AND THUS, A PANIC.2.6.13:MEGARAID: FOUND 0X8086:0X1960:BUS 0:SLOT 13:FUNC 1SCSI0:FOUND MEGARAID CONTROLLER AT 0XF8802000, IRQ:185MEGARAID: [1.06:1P00] DETECTED 1 LOGICAL DRIVES.MEGARAID: CHANNEL[0] IS RAID.MEGARAID: CHANNEL[1] IS RAID.SCSI0 : LSI LOGIC MEGARAID 1.06 254 COMMANDS 16 TARGS 5 CHANS 7 LUNSSCSI0: SCANNING SCSI CHANNEL 0 FOR LOGICAL DRIVES.  VENDOR: MEGARAID  MODEL: LD0 RAID1  8568R  REV: 1.06  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 02SCSI0: SCANNING SCSI CHANNEL 4 [P0] FOR PHYSICAL DEVICES.SCSI0: SCANNING SCSI CHANNEL 5 [P1] FOR PHYSICAL DEVICES.ST: VERSION 20050501, FIXED BUFSIZE 32768, SG SEGS 256SCSI DEVICE SDA: 17547264 512-BYTE HDWR SECTORS (8984 MB)                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^SDA: ASKING FOR CACHE DATA FAILEDSDA: ASSUMING DRIVE CACHE: WRITE THROUGHSCSI DEVICE SDA: 17547264 512-BYTE HDWR SECTORS (8984 MB)SDA: ASKING FOR CACHE DATA FAILEDSDA: ASSUMING DRIVE CACHE: WRITE THROUGH SDA: SDA1ATTACHED SCSI DISK SDA AT SCSI0, CHANNEL 0, ID 0, LUN 02.6.14-RC1:MEGARAID: FOUND 0X8086:0X1960:BUS 0:SLOT 13:FUNC 1SCSI0:FOUND MEGARAID CONTROLLER AT 0XF8802000, IRQ:185MEGARAID: [1.06:1P00] DETECTED 1 LOGICAL DRIVES.MEGARAID: CHANNEL[0] IS RAID.MEGARAID: CHANNEL[1] IS RAID.SCSI0 : LSI LOGIC MEGARAID 1.06 254 COMMANDS 16 TARGS 5 CHANS 7 LUNSSCSI0: SCANNING SCSI CHANNEL 0 FOR LOGICAL DRIVES.  VENDOR: MEGARAID  MODEL: LD0 RAID1  8568R  REV: 1.06  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 02SCSI0: SCANNING SCSI CHANNEL 4 [P0] FOR PHYSICAL DEVICES.SCSI0: SCANNING SCSI CHANNEL 5 [P1] FOR PHYSICAL DEVICES.ST: VERSION 20050830, FIXED BUFSIZE 32768, SG SEGS 256SDA : SECTOR SIZE 0 REPORTED, ASSUMING 512.SCSI DEVICE SDA: 1 512-BYTE HDWR SECTORS (0 MB)                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^SDA: ASKING FOR CACHE DATA FAILEDSDA: ASSUMING DRIVE CACHE: WRITE THROUGHSDA : SECTOR SIZE 0 REPORTED, ASSUMING 512.SCSI DEVICE SDA: 1 512-BYTE HDWR SECTORS (0 MB)SDA: ASKING FOR CACHE DATA FAILEDSDA: ASSUMING DRIVE CACHE: WRITE THROUGH SDA: SDA1ATTACHED SCSI DISK SDA AT SCSI0, CHANNEL 0, ID 0, LUN 0","SUMMARY":"MEGARAID HW RAID1 DETECTED AS ZERO SIZE DRIVE","CLASS":1}
{"ID_DEFECT":"5616","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: 2.6.14DISTRIBUTION: DEBIAN TESTINGHARDWARE ENVIRONMENT:  DELL POWEREDGE 1300 WITH PERC2DC WITH RAID1 ARRAY0000:00:0D.1 I2O: INTEL CORPORATION 80960RP [I960RP MICROPROCESSOR] (REV 02)(PROG-IF 01)        SUBSYSTEM: DELL POWEREDGE EXPANDABLE RAID CONTROLLER 2DC        CONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR-STEPPING- SERR+ FASTB2B-        STATUS: CAP+ 66MHZ- UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        LATENCY: 64, CACHE LINE SIZE: 0X08 (32 BYTES)        INTERRUPT: PIN A ROUTED TO IRQ 185        REGION 0: MEMORY AT F7000000 (32-BIT, PREFETCHABLE) [SIZE=4M]        EXPANSION ROM AT 50000000 [DISABLED] [SIZE=32K]        CAPABILITIES: [80] POWER MANAGEMENT VERSION 2                FLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MAPME(D0-,D1-,D2-,D3HOT-,D3COLD-)                STATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-PROBLEM DESCRIPTION:DURING BOOT WITH 2.6.15-RC1-GIT4, SYSTEM FREEZES DURING INIT OF MEGARAID DEVICE(CONFIG_MEGARAID_LEGACY=Y). NUMLOCK, ETC DO NOT RESPOND. SYSTEM NEVER RECOVERS.SAME CONFIGHARDWARE WORKS FINE IN 2.6.14. SETUP IS A RAID1 ARRAY.DMESG FROM 2.6.15-RC1-GIT4:ACPI: PCI INTERRUPT 0000:00:0D.1[A] -> GSI 17 (LEVEL, LOW) -> IRQ 185MEGARAID: FOUND 0X8086:0X1960:BUS 0:SLOT 13:FUNC 1SCSI0:FOUND MEGARAID CONTROLLER AT 0XF8802000, IRQ:185MEGARAID: [1.06:1P00] DETECTED 1 LOGICAL DRIVES.MEGARAID: CHANNEL[0] IS RAID.MEGARAID: CHANNEL[1] IS RAID.SCSI0 : LSI LOGIC MEGARAID 1.06 254 COMMANDS 16 TARGS 5 CHANS 7 LUNSDMESG FROM 2.6.14:ACPI: PCI INTERRUPT 0000:00:0D.1[A] -> GSI 17 (LEVEL, LOW) -> IRQ 185MEGARAID: FOUND 0X8086:0X1960:BUS 0:SLOT 13:FUNC 1SCSI0:FOUND MEGARAID CONTROLLER AT 0XF8802000, IRQ:185MEGARAID: [1.06:1P00] DETECTED 1 LOGICAL DRIVES.MEGARAID: CHANNEL[0] IS RAID.MEGARAID: CHANNEL[1] IS RAID.SCSI0 : LSI LOGIC MEGARAID 1.06 254 COMMANDS 16 TARGS 5 CHANS 7 LUNSSCSI0: SCANNING SCSI CHANNEL 0 FOR LOGICAL DRIVES.  VENDOR: MEGARAID  MODEL: LD0 RAID1  8568R  REV: 1.06  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 02SCSI0: SCANNING SCSI CHANNEL 4 [P0] FOR PHYSICAL DEVICES.SCSI0: SCANNING SCSI CHANNEL 5 [P1] FOR PHYSICAL DEVICES.ST: VERSION 20050830, FIXED BUFSIZE 32768, SG SEGS 256SCSI DEVICE SDA: 17547264 512-BYTE HDWR SECTORS (8984 MB)SDA: ASKING FOR CACHE DATA FAILEDSDA: ASSUMING DRIVE CACHE: WRITE THROUGHSCSI DEVICE SDA: 17547264 512-BYTE HDWR SECTORS (8984 MB)SDA: ASKING FOR CACHE DATA FAILEDSDA: ASSUMING DRIVE CACHE: WRITE THROUGH SDA: SDA1ATTACHED SCSI DISK SDA AT SCSI0, CHANNEL 0, ID 0, LUN 0","SUMMARY":"LEGACY MEGARAID FREEZES DURING BOOT","CLASS":1}
{"ID_DEFECT":"6092","DESCRIPTION":"DAVID BINDERMAN <DCB314@HOTMAIL.COM> REPORTED THE FOLLOWING BUG:I JUST TRIED TO COMPILE THE LINUX KERNEL VERSION 2.6.11.12WITH THE MOST EXCELLENT INTEL C COMPILER. IT SAIDDRIVERSSCSIPCMCIAAHA152X_STUB.C(313): REMARK #592: VARIABLE TMP IS USEDBEFORE ITS VALUE IS SET       TMP.DEVICE->HOST = INFO->HOST;       ^THIS IS CLEARLY BROKEN CODE, SINCE THE FIELD TMP.DEVICE HAS NOT BEENINITIALISED, AND SO ISNT POINTING TO ANYTHING.","SUMMARY":"DRIVERSSCSIPCMCIAAHA152X_STUB.C: AHA152X_RESUME(): VARIABLE USED BEFORE SET","CLASS":1}
{"ID_DEFECT":"6357","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR:DISTRIBUTION: DEBIAN SARGEHARDWARE ENVIRONMENT: HP NETSERVER LH3 WITH NETRAID (DRIVER MEGARAID)SOFTWARE ENVIRONMENT: WITHOUT, I TRY TO UPDATEPROBLEM DESCRIPTION:HELLO FROM FRANCE,I INSTALL WITH MY CD, DEBIAN WITH A 2.4.8 KERNEL. MY SCSI CARD WAS OK WITH THE MEGARAID DRIVER. I TRY TO UPDATE THE KERNEL WITH THE 2.6.16.1 VERSION. BUT AFTER THE BOOT HANG ON MY SCSI CARD. I READ THIS, A NEW DRIVER FOR THE MEGARAID IS PRESENT ON THE 2.6 KERNEL. AND IT DOESNT WORK WITH MY OLD CARD.HOW CAN I COPY, COMPILE, .... THE MEGARAID DRIVER OF 2.4 KERNEL IN 2.6 KENEL.I START IN THE WORLD LINUX AND KERNEL. CAN YOU EXPLAIN WITH MORE SENTENCETHANKSSTEPS TO REPRODUCE:","SUMMARY":"MEGARAID DRIVER IS MORE RECENT FOR MY HARDWARE","CLASS":1}
{"ID_DEFECT":"6593","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: VANILLA 2.6.17-RC4DISTRIBUTION: GENTOOHARDWARE ENVIRONMENT: ADAPTEC SCSI CARD 29160, MSI K7-MASTER MOTHERBOARDSOFTWARE ENVIRONMENT: KERNEL 2.6.14 AND HIGHERPROBLEM DESCRIPTION:WHEN I UPGRADED THE KERNEL FROM VANILLA 2.6.13.4 TO 2.6.14.X AND HIGHER, THEPLEXTOR CDR PX-W4012 (SCSI ID 3) IS ENCOUNTERING ERRORS WHEN INSERTING ANDMOUNTING A CD. THE SCSI CHANNEL IS THEN RESTARTED AGAIN AND AGAIN.THE WEIRD THING IS THE PLEXTOR SCSI CD-ROM PX-40TS READER IS NOT IMPACTED BYTHIS ISSUE. SO IT DOES ONLY IMPACT SOME SPECIFIC DRIVES.I DO NOT THINK IT IS RELATED TO THIS BUG :HTTP:BUGZILLA.KERNEL.ORGSHOW_BUG.CGI?ID=5659USING OLDER KERNEL (<2.6.14 SERIES) DO NOT SHOW THIS ISSUE ! I EVEN TRIED LATEST GENTOO KERNEL AVAILABLE AND THE SAME PROBLEM OCCUR, WHEREAS THE GENTOO 2.6.16R7ALMOST PERMIT TO ACCESS TO CD BETWEEN 2 CHANNEL RESET.--------------DMESG-----------------------------------------------------------ACPI: PCI INTERRUPT 0000:00:09.0[A] -> GSI 17 (LEVEL, LOW) -> IRQ 17SCSI0 : ADAPTEC AIC7XXX EISAVLBPCI SCSI HBA DRIVER, REV 7.0        <ADAPTEC 29160 ULTRA160 SCSI ADAPTER>        AIC7892: ULTRA160 WIDE CHANNEL A, SCSI ID=7, 32253 SCBS  VENDOR: QUANTUM   MODEL: ATLAS10K2-TY184L  REV: DDD6  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 03SCSI0:A:0:0: TAGGED QUEUING ENABLED.  DEPTH 32 TARGET0:0:0: BEGINNING DOMAIN VALIDATION TARGET0:0:0: WIDE ASYNCHRONOUS TARGET0:0:0: FAST-80 WIDE SCSI 160.0 MBS DT (12.5 NS, OFFSET 127) TARGET0:0:0: ENDING DOMAIN VALIDATION  VENDOR: MAXTOR    MODEL: ATLAS10K4_36WLS   REV: DFV0  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 03SCSI0:A:1:0: TAGGED QUEUING ENABLED.  DEPTH 32 TARGET0:0:1: BEGINNING DOMAIN VALIDATION TARGET0:0:1: WIDE ASYNCHRONOUS TARGET0:0:1: FAST-80 WIDE SCSI 160.0 MBS DT (12.5 NS, OFFSET 127) TARGET0:0:1: ENDING DOMAIN VALIDATION  VENDOR: MAXTOR    MODEL: ATLAS10K4_36WLS   REV: DFV0  TYPE:   DIRECT-ACCESS                      ANSI SCSI REVISION: 03SCSI0:A:2:0: TAGGED QUEUING ENABLED.  DEPTH 32 TARGET0:0:2: BEGINNING DOMAIN VALIDATION TARGET0:0:2: WIDE ASYNCHRONOUS TARGET0:0:2: FAST-80 WIDE SCSI 160.0 MBS DT (12.5 NS, OFFSET 127) TARGET0:0:2: ENDING DOMAIN VALIDATION  VENDOR: PLEXTOR   MODEL: CD-R   PX-W4012S  REV: 1.05  TYPE:   CD-ROM                             ANSI SCSI REVISION: 02 TARGET0:0:3: BEGINNING DOMAIN VALIDATION TARGET0:0:3: FAST-20 SCSI 20.0 MBS ST (50 NS, OFFSET 15) TARGET0:0:3: DOMAIN VALIDATION SKIPPING WRITE TESTS TARGET0:0:3: ENDING DOMAIN VALIDATION  VENDOR: PLEXTOR   MODEL: CD-ROM PX-40TS    REV: 1.14  TYPE:   CD-ROM                             ANSI SCSI REVISION: 02 TARGET0:0:4: BEGINNING DOMAIN VALIDATION TARGET0:0:4: FAST-20 SCSI 20.0 MBS ST (50 NS, OFFSET 15) TARGET0:0:4: DOMAIN VALIDATION SKIPPING WRITE TESTS TARGET0:0:4: ENDING DOMAIN VALIDATIONSCSI DEVICE SDA: 35860910 512-BYTE HDWR SECTORS (18361 MB)SDA: WRITE PROTECT IS OFFSDA: MODE SENSE: F5 00 10 08SCSI DEVICE SDA: DRIVE CACHE: WRITE BACK W FUASCSI DEVICE SDA: 35860910 512-BYTE HDWR SECTORS (18361 MB)SDA: WRITE PROTECT IS OFFSDA: MODE SENSE: F5 00 10 08SCSI DEVICE SDA: DRIVE CACHE: WRITE BACK W FUA SDA: SDA1 SDA2 SDA3SD 0:0:0:0: ATTACHED SCSI DISK SDASCSI DEVICE SDB: 71833096 512-BYTE HDWR SECTORS (36779 MB)SDB: WRITE PROTECT IS OFFSDB: MODE SENSE: ED 00 10 08SCSI DEVICE SDB: DRIVE CACHE: WRITE BACK W FUASCSI DEVICE SDB: 71833096 512-BYTE HDWR SECTORS (36779 MB)SDB: WRITE PROTECT IS OFFSDB: MODE SENSE: ED 00 10 08SCSI DEVICE SDB: DRIVE CACHE: WRITE BACK W FUA SDB: SDB1 SDB2 < SDB5 >SD 0:0:1:0: ATTACHED SCSI DISK SDBSCSI DEVICE SDC: 71833096 512-BYTE HDWR SECTORS (36779 MB)SDC: WRITE PROTECT IS OFFSDC: MODE SENSE: ED 00 10 08SCSI DEVICE SDC: DRIVE CACHE: WRITE BACK W FUASCSI DEVICE SDC: 71833096 512-BYTE HDWR SECTORS (36779 MB)SDC: WRITE PROTECT IS OFFSDC: MODE SENSE: ED 00 10 08SCSI DEVICE SDC: DRIVE CACHE: WRITE BACK W FUA SDC: SDC1 SDC2 < SDC5 >SD 0:0:2:0: ATTACHED SCSI DISK SDCSR0: SCSI3-MMC DRIVE: 40X40X WRITER CDRW XAFORM2 CDDA TRAYSR 0:0:3:0: ATTACHED SCSI CD-ROM SR0SR1: SCSI-1 DRIVESR 0:0:4:0: ATTACHED SCSI CD-ROM SR1SD 0:0:0:0: ATTACHED SCSI GENERIC SG0 TYPE 0SD 0:0:1:0: ATTACHED SCSI GENERIC SG1 TYPE 0SD 0:0:2:0: ATTACHED SCSI GENERIC SG2 TYPE 0SR 0:0:3:0: ATTACHED SCSI GENERIC SG3 TYPE 5SR 0:0:4:0: ATTACHED SCSI GENERIC SG4 TYPE 5 --SNIP--AFTER INSERTING A CD IN THE TRAY AND PMOUNTHAL TRYING TO MOUNT IT :-- DMESG NEW MESSAGES WITH VANILLA KERNEL 2.6.14 ------------------------------SR0: HMM, SEEMS THE DRIVE DOESNT SUPPORT MULTISESSION CDS TARGET0:0:3: FAST-20 SCSI 20.0 MBS ST (50 NS, OFFSET 15) (SCSI0:A:3:0): NO OR INCOMPLETE CDB SENT TO DEVICE. SCSI0: ISSUED CHANNEL A BUS RESET. 1 SCBS ABORTED (SCSI0:A:3:0): NO OR INCOMPLETE CDB SENT TO DEVICE. (SCSI0:A:3:0): PROTOCOL VIOLATION IN MESSAGE-IN PHASE.  ATTEMPTING TO ABORT. (SCSI0:A:3:0): UNEXPECTED BUSFREE IN MESSAGE-IN PHASE SEQADDR == 0X16C (SCSI0:A:3:0): NO OR INCOMPLETE CDB SENT TO DEVICE. SCSI0: ISSUED CHANNEL A BUS RESET. 1 SCBS ABORTED (SCSI0:A:3:0): NO OR INCOMPLETE CDB SENT TO DEVICE. (SCSI0:A:3:0): PROTOCOL VIOLATION IN MESSAGE-IN PHASE.  ATTEMPTING TO ABORT. (SCSI0:A:3:0): UNEXPECTED BUSFREE IN MESSAGE-IN PHASE SEQADDR == 0X16C (SCSI0:A:3:0): NO OR INCOMPLETE CDB SENT TO DEVICE. SCSI0: ISSUED CHANNEL A BUS RESET. 1 SCBS ABORTED SR 0:0:3:0: SCSI ERROR: RETURN CODE = 0X70000--DMESG NEW MESSAGE WITH GENTOO KERNEL 2.6.16R7-------------------------------(SCSI0:A:3:0): NO OR INCOMPLETE CDB SENT TO DEVICE.SCSI0: ISSUED CHANNEL A BUS RESET. 1 SCBS ABORTEDSR 0:0:3:0: SCSI ERROR: RETURN CODE = 0X10002END_REQUEST: IO ERROR, DEV SR0, SECTOR 63128BUFFER IO ERROR ON DEVICE SR0, LOGICAL BLOCK 15782(SCSI0:A:3:0): NO OR INCOMPLETE CDB SENT TO DEVICE.SCSI0: ISSUED CHANNEL A BUS RESET. 1 SCBS ABORTEDVFS: BUSY INODES ON CHANGED MEDIA.(SCSI0:A:3:0): NO OR INCOMPLETE CDB SENT TO DEVICE.SCSI0: ISSUED CHANNEL A BUS RESET. 1 SCBS ABORTEDSTEPS TO REPRODUCE: INSERT A CD IN THE TRAY, CLOSE THE DOOR AND WAIT THE VOLUMEIS MOUNTED BY PMOUNT (OR MANUALLY MOUNTED DOING THE SAME RESULT)","SUMMARY":"PLEXTOR CDR PX-W4012 AND KERNEL > 2.6.13","CLASS":1}
{"ID_DEFECT":"7279","DESCRIPTION":"IN REFERENCE TO HTTP:BUGS.DEBIAN.ORG380272 ABOUT SYM2 INCORRECTLY CLAIMINGTHE INTEGRATED STORAGE RAID OF SOME COMPAQ SERVERS INSTEAD LEAVING IT TO CPQARRAY.THE FIX THATS ALREADY IN THE TREEHTTP:WWW.KERNEL.ORGGIT?P=LINUXKERNELGITTORVALDSLINUX-2.6.GIT;A=COMMIT;H=B2B3C121076961333977F485F0D54C22121DF920IS ABOUT PCI_DEVICE_ID_LSI_53C1510 0X000A BUT THE BUG REPORT IS ABOUTPCI_DEVICE_ID_NCR_53C1510 0X0010. I HAVE ONE SUCH COMPAQ HERE AND SYM2 STILL CLAIMS IT WITH THE LATEST POST 2.6.18KERNEL TREE.PERHAPS THE PROPER FIX IS TO APPLY THE SAME PCI_DEVICE_ID_LSI_53C1510 TWEAK TOPCI_DEVICE_ID_NCR_53C1510","SUMMARY":"SYM2 STILL CLAIMS THE 53C1510 INTEGRATED STORAGE RAID","CLASS":1}
{"ID_DEFECT":"7919","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID *NOT* OCCUR: 2.6.17.14OTHER KERNELS TESTED AND RESULTS:    OK 2.6.15.7    OK 2.6.16.37     OK 2.6.17.14     BAD 2.6.18.6    BAD 2.6.18-1.2869.FC6    BAD 2.6.19.2 +    BAD 2.6.20-RC5NOTE: 2.6.18-1.2869.FC6 IS A FEDORA MODIFIED KERNEL, ALL OTHERS ARE FROM KERNEL.ORGDISTRIBUTION: FEDORA HARDWARE ENVIRONMENT: I386  ARCH    I386   MODEL    DELL POWEREDGE 1300   PROCESSOR    PENTIUM III (COPPERMINE) 697.929 MHZ.   SCSI    ADAPTEC AHA-2940UUWD  AIC-7881U   DISKS    3 QUANTUM ATLAS V 9 WLS IN RAID 5 SOFTWARE RAID ATTACHED TO ADAPTECH               CARD ABOVE   TAPE    HP C1537A ATTACHED TO ADAPTECH CARD ABOVESOFTWARE ENVIRONMENT: TAR AND MTPROBLEM DESCRIPTION: I USUALLY SPECIFY A TAPE BLOCK SIZE, SUCH AS MT SETBLK 4096. IF I ACCESS THETAPE DRIVE WITH THE WRONG TAPE BLOCK SIZE, FOR INSTANCE TAR -CVF DEVTAPEFOO, THE SCREEN FILLS WITH KERNEL ERRORS. IF I USE THE CORRECT BLOCK SIZE, ASIN TAR -B 8 -CVF DEVTAPE FOO, IT WORKS FINE. IF I USE THE WRONG BLOCK SIZE IHAVE TO REBOOT TO MAKE THE TAPE DRIVE RESPOND AGAIN.IVE SEEN THIS PROBLEM ON THREE SYSTEMS WITH IDENTICAL SCSI CARDS AND DIFFERENTTAPE DRIVES, SO THAT MAKES ME THINK ITS THE AIC7XXX DRIVER. IVE TESTED WITHSEVERAL KERNELS TO TRY AND ISOLATE WHEN THIS PROBLEM WAS INTRODUCED. MOREDETAILS BELOW.INTERESTINGLY, MY MAIN TESTING SYSTEM IS RUNNING SOFTWARE RAID FROM THE SAMESCSI CARD WITH NO PROBLEMS, SO THIS SEEMS SPECIFIC TO TAPE DRIVES. THE OTHERMACHINE IVE SEEN THIS ON HAD A SEPARATE RAID CARD, SO YOU CANT BLAME IT ON MYSOFTWARE RAID SETUP.STEPS TO REPRODUCE: GET A ADAPTEC AHA-2940UUWD  AIC-7881U CARD AND A TAPE DRIVE,INSTALL A RECENT KERNELSET THE TAPE BLOCK SIZE - MT SETBLK 4096READ FROM OR WRITE TO TAPE USING WRONG BLOCK SIZE - TAR -B 7 -CVF DEVTAPE FOO","SUMMARY":"TAPE DIES IF WRONG BLOCK SIZE USED","CLASS":1}
{"ID_DEFECT":"7980","DESCRIPTION":"THE SCSI_WAIT_SCAN MODULE SHOULD BE ALWAYS AVAILABLE, EVEN IF SCSI WAS BUILD INTO THE KERNEL (NOT AS MODULE). E.G. IM HAVING TWO SCSI-CONTROLLERS IN ONE MACHINE, ONE AS MODULE AND ONE FROM WHICH THE MACHINE IS BOOTING. CURRENTLY THIS DOES NOT WORK, BECAUSE IM GETTING FAILURES FOR DEVICES OF THE DRIVER WHICH IS BUILD AS A MODULE. AND BECAUSE SCSI IS NOT BUILD AS MODULE, THE SCSI_WAIT_SCAN MODULE IS NOT AVAILABLE.","SUMMARY":"SCSI_WAIT_SCAN MODULE SHOULD BE ALWAYS AVAILABLE","CLASS":1}
{"ID_DEFECT":"9113","DESCRIPTION":"REFERENCES      : HTTP:LKML.ORGLKML2007102243LAST KNOWN GOOD : 2.6.22.9SUBMITTER       : BURTON WINDLE <BWINDLE@FINT.ORG>HANDLED-BY      : ADRIAN BUNK <BUNK@KERNEL.ORG>CAUSED-BY       : FUJITA TOMONORI <FUJITA.TOMONORI@LAB.NTT.CO.JP>                  COMMIT 3F6270EF76F2CE5C134615A470685D6C2A66C07E                  [SCSI] MEGARAID_OLD: CONVERT TO USE THE DATA BUFFER ACCESSORS","SUMMARY":"2.6.23-RC9 BOOT FAILURE (MEGARAID?)","CLASS":1}
{"ID_DEFECT":"9775","DESCRIPTION":"LATEST WORKING KERNEL VERSION:EARLIEST FAILING KERNEL VERSION: DISTRIBUTION: GENTOOHARDWARE ENVIRONMENT: ML150G3, (2CORE CPU, 64BIT)  AHA3944AUWD CARD, STORAGETEK L80 +2X DLT8000SOFTWARE ENVIRONMENT: GENTOOPROBLEM DESCRIPTION: KERNEL PANIC STEPS TO REPRODUCE:PANIC IF THE L80 IS POWERED UP WHEN THE KERNEL BOOTS. 100% ON ANY FAILING KERNEL.NOT ALL KERNELS FAIL BUT MOST DO.GIT BISECT ACROSS LINUSS TREE DID NOT PRODUCE A CONVINCING PATCH.ORIGINALLY FILED HERE: HTTP:BUGS.GENTOO.ORGSHOW_BUG.CGI?ID=200708I HAVE JOINED THE LINUX-SCSI LIST AND WILL..CONTINUE","SUMMARY":"HOST_MSG_LOOP INVALID SCB FF","CLASS":1}
{"ID_DEFECT":"11045","DESCRIPTION":"LATEST WORKING KERNEL VERSION: 2.6.25EARLIEST FAILING KERNEL VERSION: 2.6.26-RC7DISTRIBUTION: DEBIAN (BUT VANILLA KERNEL)HARDWARE ENVIRONMENT: IBM XSERIES 335SOFTWARE ENVIRONMENT: ERROR AND HANGUP AT BOOTPROBLEM DESCRIPTION: MPT FUSION ERROR, UNBOOTABLE, SEE BELOWSTEPS TO REPRODUCE: SEE BELOW----DETAILED DESCRIPTION:HI ALL,IM NO KERNEL EXPERT, I HOPE I MADE NO MISTAKES IN THIS REPORT. IT SEEMS TO ME THAT A BUG WAS ADDED TO THE MPT FUSION DRIVER IN 2.6.26 (RC7).I COMPILED 2.6.26-RC7 ON A MACHINE WITH CONTROLLER LSI53C1080 AND IT CANNOT BOOT. DOING THE SAME WITH 2.6.25, BASICALLY THE SAME CONFIG FILE, BOOTS WITHOUT PROBLEMS.I TRIED TO FORWARD-PORT THE FUSION DRIVER FROM 2.6.25 TO 2.6.26-RC7 BY SIMPLY COPYING OVER THE DIRECTORY DRIVERSMESSAGEFUSION FROM 2.6.25 TO 2.6.26-RC7 BUT UNFORTUNATELY THIS DOESNT COMPILE, SO I AM STUCK NOT BEING ABLE TO USE 2.6.26 ON THIS MACHINE (ACTUALLY I HAVE NOT TRIED VERSIONS OF 2.6.26 EARLIER THAN RC7... I DONT HAVE MUCH TIME NOW).I CONNECTED A SERIAL CABLE IN ORDER TO OBTAIN THE BOOT ERROR MESSAGE. I OBTAINED TWO OF THOSE ON DIFFERENT BOOTS. I WILL PASTE THESE AT THE END OF THIS POST.THIS IS THE VERBOSE LSPCI OF THE CONTROLLER (OBTAINED WITH 2.6.25):----------------------------------------01:01.0 SCSI STORAGE CONTROLLER: LSI LOGIC  SYMBIOS LOGIC 53C1030 PCI-X FUSION-MPT DUAL ULTRA320 SCSI (REV 07)        SUBSYSTEM: IBM UNKNOWN DEVICE 026D        CONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR+ STEPPING- SERR+ FASTB2B- DISINTX-        STATUS: CAP+ 66MHZ+ UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-        LATENCY: 72 (4250NS MIN, 4500NS MAX), CACHE LINE SIZE: 32 BYTES        INTERRUPT: PIN A ROUTED TO IRQ 22        REGION 0: IO PORTS AT 2300 [SIZE=256]        REGION 1: MEMORY AT FBFF0000 (64-BIT, NON-PREFETCHABLE) [SIZE=64K]        REGION 3: MEMORY AT FBFE0000 (64-BIT, NON-PREFETCHABLE) [SIZE=64K]        CAPABILITIES: [50] POWER MANAGEMENT VERSION 2                FLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)                STATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-        CAPABILITIES: [58] MESSAGE SIGNALLED INTERRUPTS: MASK- 64BIT+ QUEUE=00 ENABLE-                ADDRESS: 0000000000000000  DATA: 0000        CAPABILITIES: [68] PCI-X NON-BRIDGE DEVICE                COMMAND: DPERE- ERO- RBC=512 OST=1                STATUS: DEV=01:01.0 64BIT+ 133MHZ+ SCD- USC- DC=SIMPLE DMMRBC=2048 DMOST=8 DMCRS=16 RSCEM- 266MHZ- 533MHZ-        KERNEL DRIVER IN USE: MPTSPI        KERNEL MODULES: MPTSPI----------------------------------------THIS IS AN EXCERPT OF THE DMESG ON 2.6.25 WHERE THE CONTROLLER WORKS:--------------------------------------------------------------------FUSION MPT BASE DRIVER 3.04.06COPYRIGHT (C) 1999-2007 LSI CORPORATIONFUSION MPT SPI HOST DRIVER 3.04.06...MPTBASE: IOC0: INITIATING BRINGUP...IOC0: LSI53C1030 B2: CAPABILITIES=INITIATORPROBING IDE INTERFACE IDE1...HDC: LG CD-ROM CRN-8245B, ATAPI CDDVD-ROM DRIVESCSI0 : IOC0: LSI53C1030 B2, FWREV=01000E00H, PORTS=1, MAXQ=222, IRQ=22...SCSI0 : IOC0: LSI53C1030 B2, FWREV=01000E00H, PORTS=1, MAXQ=222, IRQ=22HDC: HOST MAX PIO4 WANTED PIO255(AUTO-TUNE) SELECTED PIO4HDC: UDMA33 MODE SELECTEDIDE1 AT 0X170-0X177,0X376 ON IRQ 15TG3.C:V3.90 (APRIL 12, 2008)ACPI: PCI INTERRUPT 0000:02:01.0[A] -> GSI 24 (LEVEL, LOW) -> IRQ 24SCSI 0:0:0:0: DIRECT-ACCESS     IBM-ESXS DTN018C1UCDY10F  S23J PQ: 0 ANSI: 3 TARGET0:0:0: BEGINNING DOMAIN VALIDATION TARGET0:0:0: ENDING DOMAIN VALIDATION TARGET0:0:0: FAST-80 WIDE SCSI 160.0 MBS DT (12.5 NS, OFFSET 127)SCSI 0:0:1:0: DIRECT-ACCESS     IBM-ESXS DTN018C1UCDY10F  S23J PQ: 0 ANSI: 3 TARGET0:0:1: BEGINNING DOMAIN VALIDATION...ACPI: PCI INTERRUPT 0000:02:02.0[A] -> GSI 25 (LEVEL, LOW) -> IRQ 25 TARGET0:0:1: ENDING DOMAIN VALIDATION TARGET0:0:1: FAST-80 WIDE SCSI 160.0 MBS DT (12.5 NS, OFFSET 127)...HDC: ATAPI 24X CD-ROM DRIVE, 128KB CACHEUNIFORM CD-ROM DRIVER REVISION: 3.20SCSI 0:0:8:0: PROCESSOR         IBM      25P3495A S320  1 1    PQ: 0 ANSI: 2 TARGET0:0:8: BEGINNING DOMAIN VALIDATION TARGET0:0:8: ENDING DOMAIN VALIDATION TARGET0:0:8: ASYNCHRONOUSDRIVER SD NEEDS UPDATING - PLEASE USE BUS_TYPE METHODSSD 0:0:0:0: [SDA] 35548320 512-BYTE HARDWARE SECTORS (18201 MB)SD 0:0:0:0: [SDA] WRITE PROTECT IS OFFSD 0:0:0:0: [SDA] MODE SENSE: CB 00 00 08SD 0:0:0:0: ATTACHED SCSI GENERIC SG0 TYPE 0SCSI 0:0:1:0: ATTACHED SCSI GENERIC SG1 TYPE 0SCSI 0:0:8:0: ATTACHED SCSI GENERIC SG2 TYPE 3--------------------------------------------------------------------IT IS AN X86 32BIT PC COMPILE. THIS IS THE EXCERPT OF THE .CONFIG FILE GREPPING FOR FUSION------------------------------------CONFIG_FUSION=YCONFIG_FUSION_SPI=MCONFIG_FUSION_FC=MCONFIG_FUSION_SAS=MCONFIG_FUSION_MAX_SGE=40CONFIG_FUSION_CTL=MCONFIG_FUSION_LAN=M# CONFIG_FUSION_LOGGING IS NOT SET------------------------------------THIS IS THE BOOT ERROR MESSAGE OBTAINED WITH SERIAL CABLE. I LEFT IT RUNNING FOR 8 MINUTES FOR THIS. IT LOOPS SO THE MESSAGE NEVER ENDS.--------------------------------------------------------------------ACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!BUG: UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT 0000034CIP: [<F885CC5E>] :MPTSPI:MPTSPI_DV_RENEGOTIATE_WORK+0XA0X9FOOPS: 0000 [#1] SMPMODULES LINKED IN: IDE_PCI_GENERIC(+) FLOPPY MPTSPI(+) MPTSCSIH OHCI_HCD TG3 MPTBASE SCSI_TRANSPORT_SPI USBCORE SERVERWORKS IDE_CORE ATA_GENERIC LIBATA SCSI_MOD DOCK THERMAL PROCESSOR FAN THERMAL_SYSPID: 9, COMM: EVENTS0 NOT TAINTED (2.6.26-RC7 #1)EIP: 0060:[<F885CC5E>] EFLAGS: 00010282 CPU: 0EIP IS AT MPTSPI_DV_RENEGOTIATE_WORK+0XA0X9F [MPTSPI]EAX: F7A447C0 EBX: F7429900 ECX: F7A447C4 EDX: C1908988ESI: F7A447C0 EDI: 0000034C EBP: F7429904 ESP: F7477F80 DS: 007B ES: 007B FS: 00D8 GS: 0000 SS: 0068PROCESS EVENTS0 (PID: 9, TI=F7476000 TASK=F744D770 TASK.TI=F7476000)STACK: F744D8E0 C190B260 00000000 C1908984 F7429900 F7A447C0 F885CC54 F7429904       C012F253 F7429900 C012F934 F742990C 00000000 C012F9E8 00000000 F744D770       C0131BDC F7477FC4 F7477FC4 F7429900 C012F934 00000000 C0131B1B C0131AE3CALL TRACE: [<F885CC54>] MPTSPI_DV_RENEGOTIATE_WORK+0X00X9F [MPTSPI] [<C012F253>] RUN_WORKQUEUE+0X750XF6 [<C012F934>] WORKER_THREAD+0X00XBF [<C012F9E8>] WORKER_THREAD+0XB40XBF [<C0131BDC>] AUTOREMOVE_WAKE_FUNCTION+0X00X2B [<C012F934>] WORKER_THREAD+0X00XBF [<C0131B1B>] KTHREAD+0X380X5D [<C0131AE3>] KTHREAD+0X00X5D [<C0104573>] KERNEL_THREAD_HELPER+0X70X10 =======================CODE: 70 E8 9E F8 FF FF 8B 47 70 E8 44 B7 FE FF 8B 47 70 5A 5B 5E 5F 5D E9 89 F8 FF FF 58 5B 5E 5F 5D C3 55 57 56 53 83 EC 10 8B 78 10 <8B> 2F E8 C7 98 90 C7 66 83 BF 96 02 00 00 00 8B 85 3C 01 00 00EIP: [<F885CC5E>] MPTSPI_DV_RENEGOTIATE_WORK+0XA0X9F [MPTSPI] SS:ESP 0068:F7477F80---[ END TRACE E311270F757682E4 ]---MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTSCSI0 : IOC0: LSI53C1030 B2, FWREV=01000E00H, PORTS=1, MAXQ=222, IRQ=223 TARGET0:0:0: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDHDC: ATAPI 24X CD-ROM DRIVE, 128KB CACHEUNIFORM CD-ROM DRIVER REVISION: 3.20MPTSCSIH: IOC0: ATTEMPTING TASK ABORT! (SC=F7862E80)SCSI 0:0:0:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=1: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMD: RAID1 PERSONALITY REGISTERED FOR LEVEL 1DEVICE-MAPPER: IOCTL: 4.13.0-IOCTL (2007-10-18) INITIALISED: DM-DEVEL@REDHAT.COMMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!SCSI 0:0:0:0: MPTSCSIH: IOC0: COMPLETING CMDS: FW_CHANNEL 0, FW_ID 0, SC=F7862E80, MF = F7A62DA0, IDX=FMPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: TASK ABORT: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING TARGET RESET! (SC=F7862E80)SCSI 0:0:0:0: CDB: INQUIRY: 12 00 00 00 24 00 TARGET0:0:0: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:0: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:0: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTSCSIH: IOC0: ISSUE OF TASKMGMT FAILED!MPTSCSIH: IOC0: TARGET RESET: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING BUS RESET! (SC=F7862E80)SCSI 0:0:0:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=4: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: BUS RESET: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING HOST RESET! (SC=F7862E80)MPTBASE: IOC0: INITIATING RECOVERY TARGET0:0:0: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:0: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:0: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTSCSIH: IOC0: HOST RESET: SUCCESS (SC=F7862E80)SCSI 0:0:0:0: DEVICE OFFLINED - NOT READY AFTER ERROR RECOVERY TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:1: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTSCSIH: IOC0: ATTEMPTING TASK ABORT! (SC=F7862E80)SCSI 0:0:1:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=1: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!SCSI 0:0:1:0: MPTSCSIH: IOC0: COMPLETING CMDS: FW_CHANNEL 0, FW_ID 1, SC=F7862E80, MF = F7A62F80, IDX=14MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: TASK ABORT: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING TARGET RESET! (SC=F7862E80)SCSI 0:0:1:0: CDB: INQUIRY: 12 00 00 00 24 00 TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:1: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTSCSIH: IOC0: ISSUE OF TASKMGMT FAILED!MPTSCSIH: IOC0: TARGET RESET: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING BUS RESET! (SC=F7862E80)SCSI 0:0:1:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=4: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: BUS RESET: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING HOST RESET! (SC=F7862E80)MPTBASE: IOC0: INITIATING RECOVERY TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:1: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTSCSIH: IOC0: HOST RESET: SUCCESS (SC=F7862E80)SCSI 0:0:1:0: DEVICE OFFLINED - NOT READY AFTER ERROR RECOVERY TARGET0:0:2: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:2: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:2: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:2: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTSCSIH: IOC0: ATTEMPTING TASK ABORT! (SC=F7862E80)SCSI 0:0:2:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=1: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!SCSI 0:0:2:0: MPTSCSIH: IOC0: COMPLETING CMDS: FW_CHANNEL 0, FW_ID 2, SC=F7862E80, MF = F7A63160, IDX=19MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: TASK ABORT: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING TARGET RESET! (SC=F7862E80)SCSI 0:0:2:0: CDB: INQUIRY: 12 00 00 00 24 00 TARGET0:0:2: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:2: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:2: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTSCSIH: IOC0: ISSUE OF TASKMGMT FAILED!MPTSCSIH: IOC0: TARGET RESET: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING BUS RESET! (SC=F7862E80)SCSI 0:0:2:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=4: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: BUS RESET: FAILED (SC=F7862E80)MPTSCSIH: IOC0: ATTEMPTING HOST RESET! (SC=F7862E80)MPTBASE: IOC0: INITIATING RECOVERY TARGET0:0:2: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:2: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:2: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTSCSIH: IOC0: HOST RESET: SUCCESS (SC=F7862E80)SCSI 0:0:2:0: DEVICE OFFLINED - NOT READY AFTER ERROR RECOVERY TARGET0:0:3: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:3: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:3: FAST-5 WIDE SCSI 2.4 MBS ST RTI WRFLOW PCOMP (844 NS, OFFSET 68) TARGET0:0:3: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTSCSIH: IOC0: ATTEMPTING TASK ABORT! (SC=F7862E80)SCSI 0:0:3:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=1: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -THIS ONE I OBTAINED IT IN 5 MINUTES IN ANOTHER BOOT WITH A VERY SLIGHTLY DIFFERING .CONFIG FILE (NOT CHANGING IN THE MPT FUSION OPTIONS). YOU CAN SEE THAT THE STACK TRACE IS SLIGHTLY DIFFERENT.--------------------------------------------------------------------ACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYACPI: RESOURCE IS NOT AN IRQ ENTRYMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!BUG: UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT 0000034CIP: [<F8856C5E>] :MPTSPI:MPTSPI_DV_RENEGOTIATE_WORK+0XA0X9FOOPS: 0000 [#1] SMPMODULES LINKED IN: IDE_PCI_GENERIC(+) FLOPPY MPTSPI(+) MPTSCSIH MPTBASE SCSI_TRANSPORT_SPI OHCI_HCD USBCORE TG3 SERVERWORKS IDE_CORE ATA_GENERIC LIBATA SCSI_MOD DOCK THERMAL PROCESSOR FANPID: 9, COMM: EVENTS0 NOT TAINTED (2.6.26-RC7 #3)EIP: 0060:[<F8856C5E>] EFLAGS: 00010282 CPU: 0EIP IS AT MPTSPI_DV_RENEGOTIATE_WORK+0XA0X9F [MPTSPI]EAX: F783F480 EBX: F7429900 ECX: F783F484 EDX: C1908548ESI: F783F480 EDI: 0000034C EBP: F7429904 ESP: F7477F80 DS: 007B ES: 007B FS: 00D8 GS: 0000 SS: 0068PROCESS EVENTS0 (PID: 9, TI=F7476000 TASK=F744D770 TASK.TI=F7476000)STACK: 00000000 C012CEA5 F7429900 C1908544 F7429900 F783F480 F8856C54 F7429904       C012C82A F7429900 C012CEE7 F742990C 00000000 C012CF9B 00000000 F744D770       C012F190 F7477FC4 F7477FC4 F7429900 C012CEE7 00000000 C012F0CF C012F097CALL TRACE: [<C012CEA5>] QUEUE_DELAYED_WORK_ON+0X9A0XA6 [<F8856C54>] MPTSPI_DV_RENEGOTIATE_WORK+0X00X9F [MPTSPI] [<C012C82A>] RUN_WORKQUEUE+0X6C0XE4 [<C012CEE7>] WORKER_THREAD+0X00XBF [<C012CF9B>] WORKER_THREAD+0XB40XBF [<C012F190>] AUTOREMOVE_WAKE_FUNCTION+0X00X2B [<C012CEE7>] WORKER_THREAD+0X00XBF [<C012F0CF>] KTHREAD+0X380X5D [<C012F097>] KTHREAD+0X00X5D [<C01043C3>] KERNEL_THREAD_HELPER+0X70X10 =======================CODE: 70 E8 9E F8 FF FF 8B 47 70 E8 44 37 FF FF 8B 47 70 5A 5B 5E 5F 5D E9 89 F8 FF FF 58 5B 5E 5F 5D C3 55 57 56 53 83 EC 10 8B 78 10 <8B> 2F E8 FF CC 90 C7 66 83 BF 96 02 00 00 00 8B 85 3C 01 00 00EIP: [<F8856C5E>] MPTSPI_DV_RENEGOTIATE_WORK+0XA0X9F [MPTSPI] SS:ESP 0068:F7477F80---[ END TRACE E7EC2A28A4A72094 ]---MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTSCSI0 : IOC0: LSI53C1030 B2, FWREV=01000E00H, PORTS=1, MAXQ=222, IRQ=223 TARGET0:0:0: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDHDC: ATAPI 24X CD-ROM DRIVE, 128KB CACHEUNIFORM CD-ROM DRIVER REVISION: 3.20MPTSCSIH: IOC0: ATTEMPTING TASK ABORT! (SC=F7858E80)SCSI 0:0:0:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=1: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMD: RAID1 PERSONALITY REGISTERED FOR LEVEL 1DEVICE-MAPPER: IOCTL: 4.13.0-IOCTL (2007-10-18) INITIALISED: DM-DEVEL@REDHAT.COMMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!SCSI 0:0:0:0: MPTSCSIH: IOC0: COMPLETING CMDS: FW_CHANNEL 0, FW_ID 0, SC=F7858E80, MF = F79E2DA0, IDX=FMPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: TASK ABORT: FAILED (SC=F7858E80)MPTSCSIH: IOC0: ATTEMPTING TARGET RESET! (SC=F7858E80)SCSI 0:0:0:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: ISSUE OF TASKMGMT FAILED!MPTSCSIH: IOC0: TARGET RESET: FAILED (SC=F7858E80)MPTSCSIH: IOC0: ATTEMPTING BUS RESET! (SC=F7858E80)SCSI 0:0:0:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=4: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: BUS RESET: FAILED (SC=F7858E80)MPTSCSIH: IOC0: ATTEMPTING HOST RESET! (SC=F7858E80)MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTSCSIH: IOC0: HOST RESET: SUCCESS (SC=F7858E80)SCSI 0:0:0:0: DEVICE OFFLINED - NOT READY AFTER ERROR RECOVERY TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTSCSIH: IOC0: ATTEMPTING TASK ABORT! (SC=F7858080)SCSI 0:0:1:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=1: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!SCSI 0:0:1:0: MPTSCSIH: IOC0: COMPLETING CMDS: FW_CHANNEL 0, FW_ID 1, SC=F7858080, MF = F79E2F80, IDX=14MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: TASK ABORT: FAILED (SC=F7858080)MPTSCSIH: IOC0: ATTEMPTING TARGET RESET! (SC=F7858080)SCSI 0:0:1:0: CDB: INQUIRY: 12 00 00 00 24 00 TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILED TARGET0:0:1: ASYNCHRONOUS TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PARAMETERS FAILEDMPTSCSIH: IOC0: ISSUE OF TASKMGMT FAILED!MPTSCSIH: IOC0: TARGET RESET: FAILED (SC=F7858080)MPTSCSIH: IOC0: ATTEMPTING BUS RESET! (SC=F7858080)SCSI 0:0:1:0: CDB: INQUIRY: 12 00 00 00 24 00MPTSCSIH: IOC0: WARNING - TM HANDLER FOR TYPE=4: IOC NOT OPERATIONAL (0X40008112)!MPTSCSIH: IOC0: WARNING -  ISSUING HARDRESET!!MPTBASE: IOC0: INITIATING RECOVERYMPTBASE: IOC0: WARNING - IOC IS IN FAULT STATE!!!MPTBASE: IOC0: WARNING -            FAULT CODE = 8112HMPTBASE: IOC0: ERROR - DOORBELL ACK TIMEOUT (COUNT=4999), INTSTATUS=80000009!MPTBASE: IOC0: RECOVERED FROM IOC FAULTMPTSCSIH: IOC0: BUS RESET: FAILED (SC=F7858080)MPTSCSIH: IOC0: ATTEMPTING HOST RESET! (SC=F7858080)MPTBASE: IOC0: INITIATING RECOVERY TARGET0:0:1: MPTSPI: IOC0: DMA_ALLOC_COHERENT FOR PAR","SUMMARY":"BUG IN MPT FUSION 2.6.26-RC7 UNBOOTABLE","CLASS":1}
{"ID_DEFECT":"12195","DESCRIPTION":"LATEST WORKING KERNEL VERSION:2.6.27EARLIEST FAILING KERNEL VERSION:2.6.28-RC2DISTRIBUTION: RHEL 4U2HARDWARE ENVIRONMENT: IA64SOFTWARE ENVIRONMENT: PROBLEM DESCRIPTION: WHEN WE USE DD TOOL TO CLEAR A SCSI DISK. IT MAY GETINTO A KERNEL PANIC LIKE BELOW:UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE (ADDRESS 0000000000000044)KSOFTIRQD1[6]: OOPS 8813272891392 [1]MODULES LINKED IN:PID: 6, CPU 1, COMM:          KSOFTIRQD1PSR : 00001010081A6010 IFS : 8000000000000289 IP  : [<A000000100391CF0>]    NOT TAINTED (2.6.28-RC6)IP IS AT SCSI_SOFTIRQ_DONE+0X500X2E0UNAT: 0000000000000000 PFS : 0000000000000184 RSC : 0000000000000003RNAT: 0000000000000000 BSPS: 0000000000000000 PR  : 0000000000005A81LDRS: 0000000000000000 CCV : 0000000000000002 FPSR: 0009804C8A70433FCSD : 0000000000000000 SSD : 0000000000000000B0  : A00000010023F910 B6  : A000000100391CA0 B7  : A00000010000B220F6  : 1003E0000000000001D4C F7  : 1003E0000000000200000F8  : 1003E0000000080000000 F9  : 1003E0000054A28EB9332F10 : 1003EB59A50A4DBB025F6 F11 : 1003E00000000000000C7R1  : A000000100A1B720 R2  : E000000001105E48 R3  : E00000000CFF9518R8  : E00000000CFF9510 R9  : FFFFFFFFFFFF5E48 R10 : 0000000000000018R11 : 0000000000000044 R12 : E000000008A97E10 R13 : E000000008A90000R14 : E000000008A97E30 R15 : E000000008A97E38 R16 : 0000000000000020R17 : 0000000000000030 R18 : E00000000CFF9650 R19 : E00000000CFF95E0R20 : A00000010082EEA8 R21 : A000000100391CA0 R22 : E000000001E9AB70R23 : E000000001E9AAC8 R24 : E00000000CFF9540 R25 : E000000008A97E30R26 : E000000008A97E30 R27 : E00000000CFF9518 R28 : E000000008A97E38R29 : 0000000000000000 R30 : 0000000000000000 R31 : 0000000000000000CALL TRACE: [<A000000100012870>] SHOW_STACK+0X500XA0                                SP=E000000008A979E0 BSP=E000000008A90EB0 [<A000000100013150>] SHOW_REGS+0X8300X860                                SP=E000000008A97BB0 BSP=E000000008A90E68 [<A000000100022A60>] DIE+0X1C00X2C0                                SP=E000000008A97BB0 BSP=E000000008A90E20 [<A000000100042350>] IA64_DO_PAGE_FAULT+0X8300X960                                SP=E000000008A97BB0 BSP=E000000008A90DB8 [<A00000010000BA20>] IA64_NATIVE_LEAVE_KERNEL+0X00X270                                SP=E000000008A97C40 BSP=E000000008A90DB8 [<A000000100391CF0>] SCSI_SOFTIRQ_DONE+0X500X2E0                                SP=E000000008A97E10 BSP=E000000008A90D70 [<A00000010023F910>] BLK_DONE_SOFTIRQ+0X1700X1C0                                SP=E000000008A97E20 BSP=E000000008A90D58 [<A00000010006A8B0>] __DO_SOFTIRQ+0X1100X2E0                                SP=E000000008A97E30 BSP=E000000008A90CC8 [<A00000010006AAF0>] DO_SOFTIRQ+0X700XC0                                SP=E000000008A97E30 BSP=E000000008A90C68 [<A00000010006C2D0>] KSOFTIRQD+0XF00X240                                SP=E000000008A97E30 BSP=E000000008A90C40 [<A00000010008DF80>] KTHREAD+0XA00X120                                SP=E000000008A97E30 BSP=E000000008A90C10 [<A000000100014430>] KERNEL_THREAD_HELPER+0X300X60                                SP=E000000008A97E30 BSP=E000000008A90BE0 [<A00000010000A0C0>] START_KERNEL_THREAD+0X200X40                                SP=E000000008A97E30 BSP=E000000008A90BE0KERNEL PANIC - NOT SYNCING: AIEE, KILLING INTERRUPT HANDLER!STEPS TO REPRODUCE:WHILE TRUE; DO ECHO 3>PROCSYSVMDROP_CACHES; DD IF=DEVSDB2 OF=DEVZERO BS=1024K COUNT=8900; DONE;","SUMMARY":"DD MAKE KERNEL PANIC","CLASS":1}
{"ID_DEFECT":"12662","DESCRIPTION":"SUBJECT    : LINUX 2.6.29-RC3 KERNEL FAILURE WITH MPTSASSUBMITTER  : MORTEN P.D. STEVENS <MSTEVENS@WIN-PROFESSIONAL.COM>DATE       : 2009-02-05 22:29REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=123387302729741&W=4HANDLED-BY : ANDREW MORTON <AKPM@LINUX-FOUNDATION.ORG>PATCH      : HTTP:MARC.INFO?L=LINUX-KERNEL&M=123396429501103&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.28.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"LINUX 2.6.29-RC3 KERNEL FAILURE WITH MPTSAS","CLASS":1}
{"ID_DEFECT":"14577","DESCRIPTION":"CREATED ATTACHMENT 23725DMESG OF THE RUNNING (AND FAILING) 2.6.32-RC6 ON THIS SYSTEMWHEN BOOTING THIS SYSTEM WITH THE 2.6.32-RC6 KERNEL, WE SEE IMMEDIATE DATA CORRUPTION ON THE ROOT FILESYSTEM:[   21.813985] ADDING 4194296K SWAP ON DEVMAPPERSYSTEM-SWAP.  PRIORITY:-1 EXTENTS:1 ACROSS:4194296K [   21.903794] SD 0:0:0:0: [SDA] UNHANDLED SENSE CODE[   21.903865] SD 0:0:0:0: [SDA] RESULT: HOSTBYTE=DID_OK DRIVERBYTE=DRIVER_SENSE[   21.903998] SD 0:0:0:0: [SDA] SENSE KEY : HARDWARE ERROR [CURRENT] [   21.904219] SD 0:0:0:0: [SDA] ADD. SENSE: INTERNAL TARGET FAILURE[   21.904382] SD 0:0:0:0: [SDA] CDB: WRITE(10): 2A 00 00 00 01 BF 00 00 08 00[   21.905051] END_REQUEST: IO ERROR, DEV SDA, SECTOR 447[   21.905122] BUFFER IO ERROR ON DEVICE DM-0, LOGICAL BLOCK 0[   21.905191] LOST PAGE WRITE DUE TO IO ERROR ON DM-0[   21.905271] EXT3 FS ON DM-0, INTERNAL JOURNAL[   23.263958] SD 0:0:0:0: [SDA] UNHANDLED SENSE CODE[   23.264029] SD 0:0:0:0: [SDA] RESULT: HOSTBYTE=DID_OK DRIVERBYTE=DRIVER_SENSE[   23.264162] SD 0:0:0:0: [SDA] SENSE KEY : HARDWARE ERROR [CURRENT] [   23.264368] SD 0:0:0:0: [SDA] ADD. SENSE: INTERNAL TARGET FAILURE[   23.264531] SD 0:0:0:0: [SDA] CDB: WRITE(10): 2A 00 00 BC 11 CF 00 00 08 00[   23.265186] END_REQUEST: IO ERROR, DEV SDA, SECTOR 12325327[   23.265257] BUFFER IO ERROR ON DEVICE DM-1, LOGICAL BLOCK 492034[   23.265327] LOST PAGE WRITE DUE TO IO ERROR ON DM-1[   23.364800] KJOURNALD STARTING.  COMMIT INTERVAL 5 SECONDS[   23.423871] SD 0:0:0:0: [SDA] UNHANDLED SENSE CODE[   23.423874] SD 0:0:0:0: [SDA] RESULT: HOSTBYTE=DID_OK DRIVERBYTE=DRIVER_SENSE[   23.423877] SD 0:0:0:0: [SDA] SENSE KEY : HARDWARE ERROR [CURRENT] [   23.423880] SD 0:0:0:0: [SDA] ADD. SENSE: INTERNAL TARGET FAILURE[   23.423886] SD 0:0:0:0: [SDA] CDB: WRITE(10): 2A 00 00 80 01 BF 00 00 08 00[   23.423893] END_REQUEST: IO ERROR, DEV SDA, SECTOR 8389055[   23.423983] BUFFER IO ERROR ON DEVICE DM-1, LOGICAL BLOCK 0[   23.424052] LOST PAGE WRITE DUE TO IO ERROR ON DM-1ON 2.6.30 THE SYSTEM WORKS FINE (IN THAT IT DOESNT SHREDDER THE FILESYSTEMS ON BOOTUP). DMESG, LSPCI, LSSCSI ALL ATTACHED LATER.","SUMMARY":"DATA CORRUPTION WITH ADAPTEC 52445, FIRMWARE 5.2-0 (17380)","CLASS":1}
{"ID_DEFECT":"923","DESCRIPTION":"HARDWARE ENVIRONMENT:SIS900 NETWORK CARDPROBLEM DESCRIPTION:WHEN BOOTING I GET:BADNESS IN PCI_FIND_SUBSYS AT DRIVERSPCISEARCH.C:132CALL TRACE: [<C01C14F1>] PCI_FIND_SUBSYS+0XD10XE0 [<C01C152F>] PCI_FIND_DEVICE+0X2F0X40 [<C021371C>] SIS630_SET_EQ+0X5C0X2A0 [<C0213A13>] SIS900_TIMER+0XB30X1F0 [<C0213960>] SIS900_TIMER+0X00X1F0 [<C011FBA0>] RUN_TIMER_SOFTIRQ+0XB00X170 [<C011BC9A>] DO_SOFTIRQ+0X9A0XA0 [<C010AE49>] DO_IRQ+0XC90XF0 [<C0106F40>] DEFAULT_IDLE+0X00X40 [<C0106F40>] DEFAULT_IDLE+0X00X40 [<C010929C>] COMMON_INTERRUPT+0X180X20 [<C0106F40>] DEFAULT_IDLE+0X00X40 [<C0106F40>] DEFAULT_IDLE+0X00X40 [<C0106F64>] DEFAULT_IDLE+0X240X40 [<C0106FFA>] CPU_IDLE+0X3A0X50 [<C0105000>] _STEXT+0X00X30 [<C0350702>] START_KERNEL+0X1320X140 [<C0350470>] UNKNOWN_BOOTOPTION+0X00X120STEPS TO REPRODUCE:BOOT THE SYSTEM UP","SUMMARY":"SIS900 CAUSES BADNESS IN PCI_FIND_SUBSYS AT DRIVERSPCISEARCH.C:132","CLASS":1}
{"ID_DEFECT":"1239","DESCRIPTION":"DISTRIBUTION: SUSE 9.0 HARDWARE ENVIRONMENT: DUAL XEON 3GHZ, HT ENABLED PROBLEM DESCRIPTION:  RUNNING A 2.6.0-TEST5-BK3 ON A DUAL XEON MACHINE, PING PACKETS THAT ARE LARGER THAN THE MTU OF THE DEVICE HAVE WRONG CHECKSUMS AND ARE THROWN AWAY BY THE TARGET HOST. THE NETWORK CARD IS A NETXTREME BCM5703 (TG3) BUT THE EFFECT ALSO OCCURS WHEN PINGING LOCALHOST WITH PACKET SIZES BIGGER THAN THE MTU. THE SAME SYSTEM WITH A RECENT 2.4 KERNEL WORKS FINE IN THIS CONCERN.  STEPS TO REPRODUCE: PING -S 17000 LOCALHOST OR PING -S 2000 SOME_REMOTE_HOST","SUMMARY":"[TG3] MISCOMPUTING OF CHECKSUMS IF ICMP PKG > MTU","CLASS":1}
{"ID_DEFECT":"2071","DESCRIPTION":"DISTRIBUTION: GENTOO LINUXHARDWARE ENVIRONMENT: NETGEAR FA-311, USES THE NATSEMI 10100MBPS MODULE,INTELS 101001000MBPS (ONBOARD).SOFTWARE ENVIRONEMENT: GCC (GCC) 3.3.2 20040119 (GENTOO LINUX 3.3.2-R7,PROPOLICE-3.3-7) - SAME WITH GCC-3.4 20040204), 2.3.3_PRE20040207 USING NPTLINSTEAD OF LINUXTHREADS, LINUX-2.6.2-RC2-MM1.PROBLEM DESCRIPTION: TRYING TO BOOT THE KERNEL IT STALLS AT INITIALIZATION OFETH0ETH1. WHILE ETH0 IN CASE THE BOTH APPROPRIATE ETH0-IFACE MODULES ARE BUILTINTO THE KERNEL IMAGE, AND ETH1 IF THEY BOTH ARE COMPILED AS MODULES. I BELIEVEWAITING FOR ABOUT AN HOUR FOR IT TO LOAD IS ENOUGH TO CLAIM IT STALLS.FURTHERMORE, THE CURSORS STOPS BLINKING IMMEDIATELY.STEPS TO REPRODUCE: TRY TO BOOT A 2.6.2-VANILLA OR 2.6.2-MM1 OR LATER USING THE.CONFIG I HOPE ILL BE ABLE TO ATTACH ALONG WITH THE INIT SCRIPT FOR ETHINTERFACES (ETCINIT.DNET.ETH0).","SUMMARY":"(NET) INABILITY TO BOOT >=LINUX-2.6.2 DUE TO INITIALIZATION OF ETH DEVICES","CLASS":1}
{"ID_DEFECT":"2490","DESCRIPTION":"DISTRIBUTION: DEBIAN TESTINGHARDWARE ENVIRONMENT: SMP X86, INTEL 440FXSOFTWARE ENVIRONMENT:  GCC VERSION 2.95.4PROBLEM DESCRIPTION:WITH THE 2.6 SERIES (2.6.0 AND 2.6.5 TESTED) MY 3C905C NIC WONT DO BETTER THAN10BT HALF-DUPLEX. THIS IS SHOWN BY POOR TRANFER SPEEDS, AND SPEED SETTINGCONFIRMED WITH MII-TOOL. TRYING TO FORCE 100BT FULL-DUPLEX WITH MII-TOOL IN 2.6FAILS. HOWEVER, THE LEDS ON THE BACK OF NIC INDICATE 100BT, AS TO THE LIGHTS ONTHE SWITCH.WITH 2.4, THIS SAME SETUP GIVES 100BT FD, AS EXPECTED. 2.6 CONFIG:CONFIG_NET_ETHERNET=YCONFIG_MII=YCONFIG_NET_VENDOR_3COM=YCONFIG_VORTEX=YCONFIG_NET_PCI=Y2.4.21-RC23C59X: DONALD BECKER AND OTHERS. WWW.SCYLD.COMNETWORKVORTEX.HTMLSEE DOCUMENTATIONNETWORKINGVORTEX.TXT00:14.0: 3COM PCI 3C905C TORNADO AT 0XFC00. VERS LK1.1.16 00:01:03:2A:30:0A, IRQ 11  PRODUCT CODE 4A45 REV 00.12 DATE 10-17-00  INTERNAL CONFIG REGISTER IS 1800000, TRANSCEIVERS 0XA.  8K BYTE-WIDE RAM 5:3 RX:TX SPLIT, AUTOSELECTAUTONEGOTIATE INTERFACE.  MII TRANSCEIVER FOUND AT ADDRESS 24, STATUS 786D.  ENABLING BUS-MASTER TRANSMITS AND WHOLE-FRAME RECEIVES.00:14.0: SCATTERGATHER ENABLED. HW CHECKSUMS ENABLEDDUAL266:~# MII-TOOLETH0: NEGOTIATED 100BASETX-FD FLOW-CONTROL, LINK OK00:14.0 ETHERNET CONTROLLER: 3COM CORPORATION 3C905C-TXTX-M [TORNADO] (REV 30)TRANFER 50MB IN 13.3 SECONDSHOWEVER, UNDER 2.6.02.6.53C59X: DONALD BECKER AND OTHERS. WWW.SCYLD.COMNETWORKVORTEX.HTML0000:00:14.0: 3COM PCI 3C905C TORNADO AT 0XFC00. VERS LK1.1.19TRANFER SPEEDS ARE ABOUT 600KSEC.OTHER PEOPLE HAVE REPORTED THIS SAME ISSUE: SEEHTTP:MARC.THEAIMSGROUP.COM?L=LINUX-NETDEV&M=108124368304177&W=2","SUMMARY":"3C905C WONT DO FASTER THAN 10BT HD","CLASS":1}
{"ID_DEFECT":"2708","DESCRIPTION":"DISTRIBUTION: DEBIAN UNSTABLEHARDWARE ENVIRONMENT: I686, TEKRAM IRDA ON PL2303 USB SERIAL PORTSOFTWARE ENVIRONMENT: IRDA-UTILSUNSTABLE UPTODATE 0.9.16-3LIBMULTISYNC-PLUGIN-OPIEUNSTABLE UPTODATE 0.82-1LIBMULTISYNC-PLUGIN-IRMCUNSTABLE UPTODATE 0.82-1LIBMULTISYNC-PLUGIN-BACKUPUNSTABLE UPTODATE 0.82-1MULTISYNCUNSTABLE UPTODATE 0.82-1CONFIG_X86=YCONFIG_MMU=YCONFIG_UID16=YCONFIG_GENERIC_ISA_DMA=YCONFIG_EXPERIMENTAL=YCONFIG_CLEAN_COMPILE=YCONFIG_BROKEN_ON_SMP=YCONFIG_SWAP=YCONFIG_SYSVIPC=YCONFIG_SYSCTL=YCONFIG_LOG_BUF_SHIFT=14CONFIG_IKCONFIG=YCONFIG_IKCONFIG_PROC=YCONFIG_KALLSYMS=YCONFIG_FUTEX=YCONFIG_EPOLL=YCONFIG_IOSCHED_NOOP=YCONFIG_IOSCHED_AS=YCONFIG_IOSCHED_DEADLINE=YCONFIG_IOSCHED_CFQ=YCONFIG_MODULES=YCONFIG_MODULE_UNLOAD=YCONFIG_MODULE_FORCE_UNLOAD=YCONFIG_OBSOLETE_MODPARM=YCONFIG_KMOD=YCONFIG_X86_PC=YCONFIG_MPENTIUMIII=YCONFIG_X86_CMPXCHG=YCONFIG_X86_XADD=YCONFIG_X86_L1_CACHE_SHIFT=5CONFIG_RWSEM_XCHGADD_ALGORITHM=YCONFIG_X86_WP_WORKS_OK=YCONFIG_X86_INVLPG=YCONFIG_X86_BSWAP=YCONFIG_X86_POPAD_OK=YCONFIG_X86_GOOD_APIC=YCONFIG_X86_INTEL_USERCOPY=YCONFIG_X86_USE_PPRO_CHECKSUM=YCONFIG_X86_TSC=YCONFIG_X86_MCE=YCONFIG_NOHIGHMEM=YCONFIG_MTRR=YCONFIG_REGPARM=YCONFIG_PM=YCONFIG_PM_DISK=YCONFIG_PM_DISK_PARTITION=DEVHDA1CONFIG_ACPI_BOOT=YCONFIG_PCI=YCONFIG_PCI_GOANY=YCONFIG_PCI_BIOS=YCONFIG_PCI_DIRECT=YCONFIG_PCI_MMCONFIG=YCONFIG_PCI_NAMES=YCONFIG_BINFMT_ELF=YCONFIG_BLK_DEV_FD=MCONFIG_BLK_DEV_LOOP=MCONFIG_BLK_DEV_NBD=MCONFIG_IDE=YCONFIG_BLK_DEV_IDE=YCONFIG_BLK_DEV_IDEDISK=YCONFIG_IDEDISK_MULTI_MODE=YCONFIG_BLK_DEV_IDECD=YCONFIG_IDE_GENERIC=YCONFIG_BLK_DEV_IDEPCI=YCONFIG_IDEPCI_SHARE_IRQ=YCONFIG_BLK_DEV_GENERIC=YCONFIG_BLK_DEV_IDEDMA_PCI=YCONFIG_IDEDMA_PCI_AUTO=YCONFIG_BLK_DEV_ADMA=YCONFIG_BLK_DEV_PIIX=YCONFIG_BLK_DEV_IDEDMA=YCONFIG_IDEDMA_AUTO=YCONFIG_SCSI=MCONFIG_SCSI_PROC_FS=YCONFIG_BLK_DEV_SD=MCONFIG_SCSI_REPORT_LUNS=YCONFIG_SCSI_SPI_ATTRS=MCONFIG_SCSI_AIC7XXX=MCONFIG_AIC7XXX_CMDS_PER_DEVICE=32CONFIG_AIC7XXX_RESET_DELAY_MS=15000CONFIG_AIC7XXX_DEBUG_MASK=0CONFIG_SCSI_QLA2XXX=MCONFIG_I2O=MCONFIG_I2O_PCI=MCONFIG_I2O_PROC=MCONFIG_NET=YCONFIG_PACKET=YCONFIG_UNIX=YCONFIG_INET=YCONFIG_IP_MULTICAST=YCONFIG_IP_PNP=YCONFIG_IP_PNP_DHCP=YCONFIG_IRDA=MCONFIG_IRLAN=MCONFIG_IRCOMM=MCONFIG_IRDA_ULTRA=YCONFIG_IRDA_CACHE_LAST_LSAP=YCONFIG_IRDA_FAST_RR=YCONFIG_IRDA_DEBUG=YCONFIG_IRTTY_SIR=MCONFIG_DONGLE=YCONFIG_ESI_DONGLE=MCONFIG_ACTISYS_DONGLE=MCONFIG_TEKRAM_DONGLE=MCONFIG_LITELINK_DONGLE=MCONFIG_MA600_DONGLE=MCONFIG_GIRBIL_DONGLE=MCONFIG_MCP2120_DONGLE=MCONFIG_OLD_BELKIN_DONGLE=MCONFIG_ACT200L_DONGLE=MCONFIG_NETDEVICES=YCONFIG_NET_ETHERNET=YCONFIG_NET_VENDOR_3COM=YCONFIG_VORTEX=YCONFIG_INPUT=YCONFIG_INPUT_MOUSEDEV=YCONFIG_INPUT_MOUSEDEV_PSAUX=YCONFIG_INPUT_MOUSEDEV_SCREEN_X=1024CONFIG_INPUT_MOUSEDEV_SCREEN_Y=768CONFIG_SOUND_GAMEPORT=YCONFIG_SERIO=YCONFIG_SERIO_I8042=YCONFIG_INPUT_KEYBOARD=YCONFIG_KEYBOARD_ATKBD=YCONFIG_INPUT_MOUSE=YCONFIG_MOUSE_PS2=YCONFIG_VT=YCONFIG_VT_CONSOLE=YCONFIG_HW_CONSOLE=YCONFIG_SERIAL_8250=YCONFIG_SERIAL_8250_NR_UARTS=4CONFIG_SERIAL_CORE=YCONFIG_UNIX98_PTYS=YCONFIG_HW_RANDOM=MCONFIG_RTC=MCONFIG_GEN_RTC=MCONFIG_GEN_RTC_X=YCONFIG_AGP=YCONFIG_AGP_INTEL=YCONFIG_DRM=YCONFIG_DRM_MGA=YCONFIG_I2C=MCONFIG_I2C_CHARDEV=MCONFIG_I2C_ALGOBIT=MCONFIG_I2C_I801=MCONFIG_I2C_ISA=MCONFIG_I2C_SENSOR=MCONFIG_SENSORS_ADM1021=MCONFIG_SENSORS_DS1621=MCONFIG_SENSORS_FSCHER=MCONFIG_SENSORS_IT87=MCONFIG_SENSORS_LM75=MCONFIG_SENSORS_LM78=MCONFIG_SENSORS_LM80=MCONFIG_SENSORS_LM83=MCONFIG_SENSORS_LM85=MCONFIG_SENSORS_LM90=MCONFIG_SENSORS_VIA686A=MCONFIG_SENSORS_W83781D=MCONFIG_SENSORS_W83L785TS=MCONFIG_SENSORS_W83627HF=MCONFIG_SENSORS_EEPROM=MCONFIG_VIDEO_DEV=MCONFIG_VIDEO_BT848=MCONFIG_VIDEO_TUNER=MCONFIG_VIDEO_BUF=MCONFIG_VIDEO_BTCX=MCONFIG_VIDEO_IR=MCONFIG_VGA_CONSOLE=YCONFIG_DUMMY_CONSOLE=YCONFIG_SOUND=YCONFIG_SND=MCONFIG_SND_TIMER=MCONFIG_SND_PCM=MCONFIG_SND_HWDEP=MCONFIG_SND_RAWMIDI=MCONFIG_SND_OSSEMUL=YCONFIG_SND_MIXER_OSS=MCONFIG_SND_PCM_OSS=MCONFIG_SND_RTCTIMER=MCONFIG_SND_AC97_CODEC=MCONFIG_SND_BT87X=MCONFIG_SND_EMU10K1=MCONFIG_USB=MCONFIG_USB_DEVICEFS=YCONFIG_USB_UHCI_HCD=MCONFIG_USB_STORAGE=MCONFIG_USB_SERIAL=MCONFIG_USB_SERIAL_GENERIC=YCONFIG_USB_SERIAL_PL2303=MCONFIG_USB_LED=MCONFIG_REISERFS_FS=YCONFIG_ISO9660_FS=MCONFIG_JOLIET=YCONFIG_UDF_FS=MCONFIG_FAT_FS=MCONFIG_MSDOS_FS=MCONFIG_VFAT_FS=MCONFIG_PROC_FS=YCONFIG_PROC_KCORE=YCONFIG_SYSFS=YCONFIG_RAMFS=YCONFIG_NFS_FS=YCONFIG_NFS_V3=YCONFIG_ROOT_NFS=YCONFIG_LOCKD=YCONFIG_LOCKD_V4=YCONFIG_SUNRPC=YCONFIG_SMB_FS=MCONFIG_MSDOS_PARTITION=YCONFIG_NLS=YCONFIG_NLS_DEFAULT=ISO8859-1CONFIG_NLS_CODEPAGE_437=YCONFIG_NLS_ISO8859_1=YCONFIG_DEBUG_KERNEL=YCONFIG_EARLY_PRINTK=YCONFIG_DEBUG_STACKOVERFLOW=YCONFIG_DEBUG_SLAB=YCONFIG_MAGIC_SYSRQ=YCONFIG_DEBUG_SPINLOCK=YCONFIG_DEBUG_PAGEALLOC=YCONFIG_DEBUG_INFO=YCONFIG_DEBUG_SPINLOCK_SLEEP=YCONFIG_FRAME_POINTER=YCONFIG_4KSTACKS=YCONFIG_X86_BIOS_REBOOT=YCONFIG_X86_STD_RESOURCES=YCONFIG_PC=YPROBLEM DESCRIPTION:UNBRANDED (BUT APPARENTLY TEKRAM) IRDA DEVICE DOES NOT WORK, CAN SEE PHONE IN IRDADUMP OUTPUT, BUT WHEN YOU SEARCH FOR DEVICES IN MULTISYNC YOU GET NASTY ERRORS IN THE KERNEL LOG:MAY 14 22:42:07 TV KERNEL: USBCORE: REGISTERED NEW DRIVER USBFSMAY 14 22:42:07 TV KERNEL: USBCORE: REGISTERED NEW DRIVER HUBMAY 14 22:42:07 TV KERNEL: USB UNIVERSAL HOST CONTROLLER INTERFACE DRIVER V2.2MAY 14 22:42:07 TV KERNEL: PCI: FOUND IRQ 11 FOR DEVICE 0000:00:1F.2MAY 14 22:42:07 TV KERNEL: UHCI_HCD 0000:00:1F.2: INTEL CORP. 82801AA USBMAY 14 22:42:07 TV KERNEL: UHCI_HCD 0000:00:1F.2: IRQ 11, IO BASE 0000FF80MAY 14 22:42:07 TV KERNEL: UHCI_HCD 0000:00:1F.2: NEW USB BUS REGISTERED, ASSIGNED BUS NUMBER 1MAY 14 22:42:07 TV KERNEL: HUB 1-0:1.0: USB HUB FOUNDMAY 14 22:42:07 TV KERNEL: HUB 1-0:1.0: 2 PORTS DETECTEDMAY 14 22:42:08 TV KERNEL: USB 1-1: NEW FULL SPEED USB DEVICE USING ADDRESS 2MAY 14 22:42:17 TV KERNEL: DRIVERSUSBSERIALUSB-SERIAL.C: USB SERIAL SUPPORT REGISTERED FOR GENERICMAY 14 22:42:17 TV KERNEL: USBCORE: REGISTERED NEW DRIVER USBSERIALMAY 14 22:42:17 TV KERNEL: DRIVERSUSBSERIALUSB-SERIAL.C: USB SERIAL DRIVER CORE V2.0MAY 14 22:42:17 TV KERNEL: DRIVERSUSBSERIALUSB-SERIAL.C: USB SERIAL SUPPORT REGISTERED FOR PL-2303MAY 14 22:42:17 TV KERNEL: PL2303 1-1:1.0: PL-2303 CONVERTER DETECTEDMAY 14 22:42:17 TV KERNEL: USB 1-1: PL-2303 CONVERTER NOW ATTACHED TO TTYUSB0 (OR USBTTS0 FOR DEVFS)MAY 14 22:42:17 TV KERNEL: USBCORE: REGISTERED NEW DRIVER PL2303MAY 14 22:42:17 TV KERNEL: DRIVERSUSBSERIALPL2303.C: PROLIFIC PL2303 USB TO SERIAL ADAPTOR DRIVER V0.10MAY 14 22:42:58 TV KERNEL: NET: REGISTERED PROTOCOL FAMILY 23MAY 14 22:43:00 TV IRATTACH: EXECUTING: ECHO TV > PROCSYSNETIRDADEVNAMEMAY 14 22:43:00 TV IRATTACH: EXECUTING: ECHO 1 > PROCSYSNETIRDADISCOVERYMAY 14 22:43:00 TV IRATTACH: STARTING DEVICE IRDA0MAY 14 22:45:33 TV KERNEL: DRIVERSNETIRDASIR_DEV.C:341: SPIN_IS_LOCKED(DRIVERSNETIRDASIR_DEV.C:C786CBB0) ALREADY LOCKED BY DRIVERSNETIRDASIR_DEV.C142MAY 14 22:45:33 TV KERNEL: DRIVERSNETIRDASIR_DEV.C:346: SPIN_LOCK(DRIVERSNETIRDASIR_DEV.C:C786CBB0) ALREADY LOCKED BY DRIVERSNETIRDASIR_DEV.C142MAY 14 22:45:36 TV KERNEL: IRLAP, NO ACTIVITY ON LINK!MAY 14 22:45:45 TV LAST MESSAGE REPEATED 3 TIMESMAY 14 22:45:46 TV KERNEL: DRIVERSNETIRDASIR_DEV.C:341: SPIN_IS_LOCKED(DRIVERSNETIRDASIR_DEV.C:C786CBB0) ALREADY LOCKED BY DRIVERSNETIRDASIR_DEV.C142MAY 14 22:45:46 TV KERNEL: DRIVERSNETIRDASIR_DEV.C:346: SPIN_LOCK(DRIVERSNETIRDASIR_DEV.C:C786CBB0) ALREADY LOCKED BY DRIVERSNETIRDASIR_DEV.C142MAY 14 22:48:40 TV SHUTDOWN[671]: SHUTTING DOWN FOR SYSTEM REBOOTSTEPS TO REPRODUCE:THIS PROBLEM SEEMS QUITE REPEATABLE, I CAN PROVIDE FURTHER INFORMATION OR TESTING AS REQUIRED.MODPROBE UHCI-HCDMODPROBE PL2303IRATTACH DEVTTYUSB0 -D TEKRAM -SSTART MULTISYNC, SELECT IRMC DEVICE AND SEARCH FOR DEVICES, DEVICE FOUND BUT SERIAL NUMBER IS SERIAL NUMBER AND THE ABOVE MESSAGES APPEAR IN THE KERNEL LOG.I ALSO HAVE THE FOLLOWING THAT WAS GENERATED BY A DIFFERENT 2.6.6 BUILD ON THE SAME HARDWARE. SORRY I DONT HAVE THE KERNEL CONFIG FOR THIS KERNEL, HOWEVER I DO KNOW THAT PREEMPTITIVE KERNEL WAS TURNED ON AND ALL THE KERNEL DEBUG WAS TURNED OFF.MAY 14 18:57:58 TV IRATTACH: EXECUTING: ECHO TV > PROCSYSNETIRDADEVNAMEMAY 14 18:57:58 TV IRATTACH: EXECUTING: ECHO 1 > PROCSYSNETIRDADISCOVERYMAY 14 18:57:58 TV IRATTACH: STARTING DEVICE IRDA0MAY 14 18:58:55 TV KERNEL: CALL TRACE:MAY 14 18:58:55 TV KERNEL:  [<C024DB35>] SCHEDULE+0X5A50X5B0MAY 14 18:58:55 TV KERNEL:  [<CAB45655>] SIRDEV_RECEIVE+0X850X130 [SIR_DEV]MAY 14 18:58:55 TV KERNEL:  [<C0120A45>] WORKER_THREAD+0X2550X270MAY 14 18:58:55 TV KERNEL:  [<CAB390B0>] USB_SERIAL_PORT_SOFTINT+0X00XE0 [USBSERIAL]MAY 14 18:58:55 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:55 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:55 TV KERNEL:  [<C01207F0>] WORKER_THREAD+0X00X270MAY 14 18:58:55 TV KERNEL:  [<C0123C08>] KTHREAD+0X980XA0MAY 14 18:58:55 TV KERNEL:  [<C0123B70>] KTHREAD+0X00XA0MAY 14 18:58:55 TV KERNEL:  [<C010203D>] KERNEL_THREAD_HELPER+0X50X18MAY 14 18:58:55 TV KERNEL:MAY 14 18:58:55 TV KERNEL: CALL TRACE:MAY 14 18:58:55 TV KERNEL:  [<C024DB35>] SCHEDULE+0X5A50X5B0MAY 14 18:58:55 TV KERNEL:  [<C0120A45>] WORKER_THREAD+0X2550X270MAY 14 18:58:55 TV KERNEL:  [<CAB390B0>] USB_SERIAL_PORT_SOFTINT+0X00XE0 [USBSERIAL]MAY 14 18:58:55 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:55 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:55 TV KERNEL:  [<C01207F0>] WORKER_THREAD+0X00X270MAY 14 18:58:55 TV KERNEL:  [<C0123C08>] KTHREAD+0X980XA0MAY 14 18:58:55 TV KERNEL:  [<C0123B70>] KTHREAD+0X00XA0MAY 14 18:58:55 TV KERNEL:  [<C010203D>] KERNEL_THREAD_HELPER+0X50X18MAY 14 18:58:55 TV KERNEL:MAY 14 18:58:55 TV KERNEL: CALL TRACE:MAY 14 18:58:55 TV KERNEL:  [<C024DB35>] SCHEDULE+0X5A50X5B0MAY 14 18:58:55 TV KERNEL:  [<C0120A45>] WORKER_THREAD+0X2550X270MAY 14 18:58:55 TV KERNEL:  [<CAB390B0>] USB_SERIAL_PORT_SOFTINT+0X00XE0 [USBSERIAL]MAY 14 18:58:55 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:55 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:55 TV KERNEL:  [<C01207F0>] WORKER_THREAD+0X00X270MAY 14 18:58:55 TV KERNEL:  [<C0123C08>] KTHREAD+0X980XA0MAY 14 18:58:55 TV KERNEL:  [<C0123B70>] KTHREAD+0X00XA0MAY 14 18:58:55 TV KERNEL:  [<C010203D>] KERNEL_THREAD_HELPER+0X50X18MAY 14 18:58:55 TV KERNEL:MAY 14 18:58:56 TV KERNEL: CALL TRACE:MAY 14 18:58:56 TV KERNEL:  [<C024DB35>] SCHEDULE+0X5A50X5B0MAY 14 18:58:56 TV KERNEL:  [<C0120A45>] WORKER_THREAD+0X2550X270MAY 14 18:58:56 TV KERNEL:  [<CAB390B0>] USB_SERIAL_PORT_SOFTINT+0X00XE0 [USBSERIAL]MAY 14 18:58:56 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:56 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:56 TV KERNEL:  [<C01207F0>] WORKER_THREAD+0X00X270MAY 14 18:58:56 TV KERNEL:  [<C0123C08>] KTHREAD+0X980XA0MAY 14 18:58:56 TV KERNEL:  [<C0123B70>] KTHREAD+0X00XA0MAY 14 18:58:56 TV KERNEL:  [<C010203D>] KERNEL_THREAD_HELPER+0X50X18MAY 14 18:58:56 TV KERNEL:MAY 14 18:58:56 TV KERNEL: CALL TRACE:MAY 14 18:58:56 TV KERNEL:  [<C024DB35>] SCHEDULE+0X5A50X5B0MAY 14 18:58:56 TV KERNEL:  [<C0120A45>] WORKER_THREAD+0X2550X270MAY 14 18:58:56 TV KERNEL:  [<CAB390B0>] USB_SERIAL_PORT_SOFTINT+0X00XE0 [USBSERIAL]MAY 14 18:58:56 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:56 TV KERNEL:  [<C0110490>] DEFAULT_WAKE_FUNCTION+0X00X10MAY 14 18:58:56 TV KERNEL:  [<C01207F0>] WORKER_THREAD+0X00X270MAY 14 18:58:56 TV KERNEL:  [<C0123C08>] KTHREAD+0X980XA0MAY 14 18:58:56 TV KERNEL:  [<C0123B70>] KTHREAD+0X00XA0MAY 14 18:58:56 TV KERNEL:  [<C010203D>] KERNEL_THREAD_HELPER+0X50X18MAY 14 18:58:56 TV KERNEL:AND MANY MORE","SUMMARY":"(IRDA) SPIN_LOCK ALREADY LOCKED IN SIR_DEV.C","CLASS":1}
{"ID_DEFECT":"2960","DESCRIPTION":"DISTRIBUTION: SLACKWARE 10.0HARDWARE ENVIRONMENT: X86SOFTWARE ENVIRONMENT: KERNEL 2.6.7, IDEPROBLEM DESCRIPTION: THE TULIP DRIVER FOR NETWORK CARDS DOES NOT WORK WITH THE MICROSOFT MN-130 PCI ETHERNET ADAPTER EVEN THOUGH IT SHOULD. THIS OCCURS BECAUSE MS CHANGED THE PCI ID (APPARENTLY FROM READING MAILING LISTS). ANYWAY,ALL THAT IS NEEDED IS FOR THE LINE  0X1414, 0X0002, PCI_ANY_ID, PCI_ANY_ID, 0, 0, COMET,  TO BE ADDER AFTER LINE 201 IN TULIP_CORE.C - I DIDNT MAKE THIS UP BUT THE FIX HAS BEEN AROUND FOR A LONG TIME AND MAYBE NOBODY BOTHERED TO SUBMIT IT SINCE ITS STILL BROKEN. THERE ARE NO APPARENT SIDE EFFECTS EXCEPT FOR THE MICROSOFT HARDWARE WORKING IN LINUX...;)STEPS TO REPRODUCE: TRY AND USE THE UNMODIFIED DRIVER WITH THIS CARD.","SUMMARY":"(NET TULIP) NEW PCI ID","CLASS":1}
{"ID_DEFECT":"2987","DESCRIPTION":"PROBLEM DESCRIPTION:TG3 DRIVER LACKS STATE4 SUSPEND, SO IT IS IMPOSSIBLE TO DO SWSUSPEND WHILE TG3DRIVER IS INSERTED. STEPS TO REPRODUCE:ECHO 4 > PROCACPISLEEP   WHILE TG3 DRIVER RUNNING","SUMMARY":"(NET TG3) DRIVER LACKS STATE 4 SUSPEND","CLASS":1}
{"ID_DEFECT":"3189","DESCRIPTION":"DISTRIBUTION: ANYHARDWARE ENVIRONMENT: JS20 (PPC64)0000:11:01.1 ETHERNET CONTROLLER: BROADCOM CORPORATION NETXTREME BCM5704SGIGABIT ETHERNET (REV 03)SOFTWARE ENVIRONMENT:VANILLA 2.6.8-RC4 KERNELGCC VERSION 3.3.3PROBLEM DESCRIPTION:NETWORK COMMUNICATIONS DO NOT WORK, BUT THE INTERFACE REPORTS ITSELF AS BEING UPIN IFCONFIG.  THE ERROR TG3: ETH1: HW AUTONEG FAILED ! HAPPENS EVERYTIME YOU TRY TO BRINGTHE INTERFACE UP (EITHER INITIALLY, OR IFCONFIG ETH1 DOWNIFCONFIG ETH1 UP).HERE ARE THE OTHER RELATED DMESG ENTRIES:ETH1: TIGON3 [PARTNO(NONE) REV 2003 PHY(SERDES)] (PCIX:133MHZ:64-BIT)101001000BASET ETHERNET 00:0D:60:1E:80:53ETH1: HOSTTXDS[1] RXCSUMS[1] LINKCHGREG[0] MIIRQ[0] ASF[0] SPLIT[0] WIRESPEED[1]TSOCAP[1]STEPS TO REPRODUCE:BOOT.","SUMMARY":"TG3 FAILS WITH HW AUTONEG FAILED","CLASS":1}
{"ID_DEFECT":"3509","DESCRIPTION":"DISTRIBUTION: DEBIAN GNULINUX (PURE64)HARDWARE ENVIRONMENT: AMD64 (ABIT KV8-PRO)PROBLEM DESCRIPTION:EVERYTIME ANYTHING TRIES TO BRING MY LOOPBACK DEVICE UP I GET THE FOLLOWING MESSAGEETH0: NO IPV6 ROUTERS PRESENTDISABLED PRIVACY EXTENSIONS ON DEVICE FFFFFFFF803422C0(LO)DEVFS_MK_DEV: COULD NOT APPEND TO PARENT FOR SOUNDAUDIOUNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT 0000000000000148 RIP: <FFFFFFFFA00A1B8B>:VIA_VELOCITY:VELOCITY_NETDEV_EVENT+27PML4 3DF15067 PGD 35AA0067 PMD 0 OOPS: 0000 [1] CPU 0 MODULES LINKED IN: SND_PCM_OSS SND_MIXER_OSS NVIDIA IPV6 AF_PACKET TSDEV MOUSEDEV JOYDEV USBHID UHCI_HCD EVDEV EHCI_HCD VIA82CXXX_AUDIO UART401 SOUND AC97_CODEC SATA_VIA LIBATA SCSI_MOD CAPABILITY COMMONCAP SND_IOCTL32 SND_VIA82XX SND_AC97_CODEC SND_PCM SND_TIMER SND_PAGE_ALLOC GAMEPORT SND_MPU401_UART SND_RAWMIDI SND_SEQ_DEVICE SND SOUNDCORE VIA_VELOCITY IDE_CD CDROM GENRTC EXT3 JBD MBCACHE IDE_GENERIC VIA82CXXX IDE_DISK IDE_CORE UNIX FONT VESAFB CFBCOPYAREA CFBIMGBLT CFBFILLRECTPID: 2819, COMM: IFCONFIG TAINTED: P   2.6.8-3-AMD64-K8RIP: 0010:[<FFFFFFFFA00A1B8B>] <FFFFFFFFA00A1B8B>:VIA_VELOCITY:VELOCITY_NETDEV_EVENT+27RSP: 0018:000001003545DDF8  EFLAGS: 00010206RAX: 0000000000000000 RBX: FFFFFFFFA00A5710 RCX: 00000000000007CFRDX: 000001003F5AE0C0 RSI: 0000000000000001 RDI: FFFFFFFFA00A5710RBP: 000001003D856E00 R08: 0000000000000000 R09: 0000000000000003R10: 0000000000000000 R11: 0000000000000001 R12: 0000000000000001R13: 000001003545DE98 R14: 0000000000008916 R15: 0000000000000000FS:  000000000090F090(0000) GS:FFFFFFFF803C1400(0000) KNLGS:0000000000000000CS:  0010 DS: 0000 ES: 0000 CR0: 000000008005003BCR2: 0000000000000148 CR3: 0000000000101000 CR4: 00000000000006E0PROCESS IFCONFIG (PID: 2819, THREADINFO 000001003545C000, TASK 0000010035A542F0)STACK: FFFFFFFF8034BEF0 FFFFFFFF8013E9FF 000001003D856E00 000001003DF87810        000001003DF87800 FFFFFFFF8026F932 000001003D856E00 000001003545DE88        00000000FFFFFF97 FFFFFFFF80270207 CALL TRACE:<FFFFFFFF8013E9FF>NOTIFIER_CALL_CHAIN+31 <FFFFFFFF8026F932>INET_INSERT_IFA+370        <FFFFFFFF80270207>DEVINET_IOCTL+1015 <FFFFFFFF80272127>INET_IOCTL+87        <FFFFFFFF8022A7A8>SOCK_IOCTL+584 <FFFFFFFF8017A9CB>SYS_IOCTL+507        <FFFFFFFF80111E69>ERROR_EXIT+0 <FFFFFFFF8011162A>SYSTEM_CALL+126        CODE: 48 8B 80 48 01 00 00 48 85 C0 74 1E 48 8B 40 10 48 85 C0 74 RIP <FFFFFFFFA00A1B8B>:VIA_VELOCITY:VELOCITY_NETDEV_EVENT+27 RSP <000001003545DDF8>CR2: 0000000000000148STEPS TO REPRODUCE:THIS SEEMS TO OCCUR EVERYTIME I (OR AN INIT SCRIPT) TRIES TO BRING LO UPALAN","SUMMARY":"NULL POINTER DEREFERENCE WHILST BRINGING UP LOOPBACK DEVICE.","CLASS":1}
{"ID_DEFECT":"3869","DESCRIPTION":"DISTRIBUTION: FEDORA CORE 3HARDWARE ENVIRONMENT: INTEL D915 GEV MOBO, MARVELL GIGABIT LAN ETCSOFTWARE ENVIRONMENT: FEDORA CORE 3PROBLEM DESCRIPTION: SK98LIN.KOSTEPS TO REPRODUCE: JUST BOOT ANY DISTRO - DRIVER IS NEVER DETECTEDI WENT TO THE SYSKONNECT SITE AND FOUND A PATCH FOR THE DRIVER DATED OCTOBER 20,2004, PATCHED THE DRIVER IN 2.6.9 KERNEL AND IT NOW WORKS. COULD THE MAINTAINERPLEASE EXPLAIN WHY NOTHING HAS BEEN ACCOMPLISHED SINCE 2.6.7 KERNEL ON THIS?","SUMMARY":"(NET SK98LIN) DRIVER FAILS ON ALL KERNELS POST 2.6.7","CLASS":1}
{"ID_DEFECT":"3992","DESCRIPTION":"DISTRIBUTION:HARDWARE ENVIRONMENT:VMWARE GSX MACHINESOFTWARE ENVIRONMENT:GENTOOPROBLEM DESCRIPTION:BONDING INTERFACE GOING DOWN AND DOWN SLAVE LINKSTEPS TO REPRODUCE:2 VIRTUAL PCIDENTICAL GENTOO LINUX (COPY)1 NIC FOR BOTH VIRTUAL PCUP 2 OPENVPN LINK TROUCH NIC TO ANOTHER VIRTUAL PC (TAP0 AND TAP1)[ETHERNET BRIDGE]LINK BOTH VPN1 AND VPN2 - OK!(INDEPENDING LINK LIKE:192.168.1.1-192.168.1.2 AND 192.168.2.1-192.168.2.2)BONDING VPN1 & VPN2 ?? BOND0 (BONDING DEFAULT SETUP -> NOTHING FAILOVER SETINGS)LINK ??!(192.168.100.1-192.168.100.2)SETTING ARP MONITOR IN BONDING (TUNTAP DRIVER NOT SUPPORT MII STATUS)LINK DOWN!ARP REQUEST GO FROM BOND0(MACHINE1)[FROM TAP0 & TAP1] TO BOND0(MACHINE2) - OK.ARP ANSWER BOND0(MACHINE2) INTERFACE - OK!!!! BOND0(MACHINE2) -> TAP0(TAP1)(MACHINE2) - NOTING!!!(ARP ANSWER BROKEN)RESULTAT ARP REQUEST NOT COMPLITESITUATION ANALOG BOTH SIDEFOR MONITORING USE TCPDUMP","SUMMARY":"(NET BONDING) NOT CORRECT WORK FUNCTION ARP MONITORING. BROKEN LINK.","CLASS":1}
{"ID_DEFECT":"4065","DESCRIPTION":"DISTRIBUTION: FEDORA CORE 2 WITH VARIOUS 2.6 KERNELSHARDWARE ENVIRONMENT: HP PROLIANT DL360 G4SOFTWARE ENVIRONMENT: AFTER NEW OS INSTALLATIONPROBLEM DESCRIPTION:AFTER INSTALLING FEDORA CORE 2 I TRIED TO INSTALL THE MODULE FOR THE FDDISK-5544 CARD WITH THE NEXT RESULTS. THE BIOS AND THE OS DETECTED THE CARD BUT IFOUND A ERROR MESSAGE AND THE INTERFACE DOES NOT WORK. LOOKS LIKE KERNEL PROBLEM.I TRIED ALSO TO COMPILE THE NEWEST KERNEL 2.6.10 WITH SAME RESULTS. ALSO TOCOMPILE AS A DRIVER (WITHOUT MODULES) AND THE SAME.THE DMESG SAYS:SYSKONNECT FDDI PCI ADAPTER DRIVER 2.07SKFP:INVALID PCI REGION SIZE: 2048SKFDDI: PROBE OF 0000.0A.01.0  FAILED WITH ERROR -5 (THIS HAPPEN AT BOOTING TIME OR WHEN I INSTALL THE MODULE WITH INSMOD).STEPS TO REPRODUCE:INSMOD SKFP.KO FOR EXAMPLE, BUT I HAVE THE SAME REBOOTING THE MACHINE.ANY HELP WILL BE APPRECIATED.THANKS A LOT IN ADVANCE.BEST REGARDS,ALBERT ORTIZ","SUMMARY":"(NET SKFP) SYSKONNECT FDDI SK-5544 NOT WORKING","CLASS":1}
{"ID_DEFECT":"4219","DESCRIPTION":"PROBLEM DESCRIPTION: WE HAVE AN ALLIED TELESYN 2701 FTX NETWORK CARDS. THESE CARDS HAS 2 INTERFACES:A FIBEROPTIC 100 MBIT AND A TP 10100MBIT INTERFACE. THESE CARDS ARE BASED ONAMD PCNET-PRO (AM79C976) CHIP. WE COONNECTED TWO SUCH CARDS USING FIBEROPTICCABLES SO DIODE ON THE CARDS INDICATES 100MBIT LINK. BUT LINUX CANT DETECTTHIS. IT ALLWAYS SAYS LINK IS DOWN. HOWEVER, NETWORK WORKS, BUT SPEED IS VERYLOW, ABOUT 1 MBIT.","SUMMARY":"PCNET32 FIBEROPTIC DO NOT WORKS ON ALLIED TELESYN 2701FTX","CLASS":1}
{"ID_DEFECT":"4380","DESCRIPTION":"DISTRIBUTION: DEBIAN TESTINGHARDWARE ENVIRONMENT:A NORMAL PC WITH PENTIUM M AND A VT6122 PCI BOARD.LSPCI -VV:0000:02:04.0 ETHERNET CONTROLLER: VIA TECHNOLOGIES, INC. VT6120VT6121VT6122GIGABIT ETHERNET ADAPTER (REV 11)        SUBSYSTEM: VIA TECHNOLOGIES, INC.: UNKNOWN DEVICE 0110        CONTROL: IO+ MEM+ BUSMASTER- SPECCYCLE- MEMWINV+ VGASNOOP- PARERR-STEPPING- SERR+ FASTB2B-        STATUS: CAP+ 66MHZ+ UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT-<TABORT- <MABORT- >SERR- <PERR-        INTERRUPT: PIN A ROUTED TO IRQ 201        REGION 0: IO PORTS AT 4000 [SIZE=256]        REGION 1: MEMORY AT E0201000 (32-BIT, NON-PREFETCHABLE) [SIZE=256]        CAPABILITIES: [50] POWER MANAGEMENT VERSION 2                FLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=0MAPME(D0+,D1+,D2+,D3HOT+,D3COLD+)                STATUS: D3 PME-ENABLE- DSEL=0 DSCALE=0 PME-SOFTWARE ENVIRONMENT:DEBIAN TESTING WITH 2.6.8 OR 2.6.10 KERNEL.PROBLEM DESCRIPTION:THE VIA VELOCITY GE-DRIVER ISNT WORKING AFTER SETTING MTU TO HIGHERTHEN 1500 (AND SETTING IT TO LOWER THAN 1500 ISNT ALLOWED BY THEDRIVER, SEE BUG 4001).ONLY A FEW FRAMES GO THROUGH AFTER SETTING THE MTU TO HIGHER THEN 1500(IFCONFIG ETHX MTU 1600), AND IN SOME CASES NO FRAMES AT ALL. THE SIZEOF THE FRAMES DONT SEEM TO MAKE ANY DIFFERENCE. ETHEREAL INDICATESTHAT THE RECEIVER STOPS WORKING. SENDING OF FRAMES STILL WORKS.WHEN THIS HAS OCCURED MUST THE INTERFACE BE TAKEN DOWN AND THEN UP INORDER TO GET IT WORKING AGAIN. JUST SETTING THE MTU TO 1500 AGAIN DONOT SOLVE THE PROBLEM. ALSO, THE KERNEL LOAD WAS 0.67 WHEN THISOCCURED, ON AN IDLE SYSTEM. THE LOAD WENT DOWN TO <0.05 AFTER TAKINGTHE INTERFACE DOWN.ONE ODDITY IN THE DRIVER CODE IS THIS:--------------------------------------------------------------------------STATIC INT VELOCITY_OPEN(STRUCT NET_DEVICE *DEV)        STRUCT VELOCITY_INFO *VPTR = DEV->PRIV;        INT RET;        VPTR->RX_BUF_SZ = (DEV->MTU <= 1504 ? PKT_BUF_SZ : DEV->MTU + 32);        RET = VELOCITY_INIT_RINGS(VPTR);--------------------------------------------------------------------------STATIC INT VELOCITY_CHANGE_MTU(STRUCT NET_DEVICE *DEV, INT NEW_MTU)        STRUCT VELOCITY_INFO *VPTR = DEV->PRIV;        UNSIGNED LONG FLAGS;        INT OLDMTU = DEV->MTU;        INT RET = 0;        IF ((NEW_MTU < VELOCITY_MIN_MTU) || NEW_MTU > (VELOCITY_MAX_MTU))                 VELOCITY_PRT(MSG_LEVEL_ERR, KERN_NOTICE %S: INVALID MTU.,                                 VPTR->DEV->NAME);                RETURN -EINVAL;                IF (NEW_MTU != OLDMTU)                 SPIN_LOCK_IRQSAVE(&VPTR->LOCK, FLAGS);                NETIF_STOP_QUEUE(DEV);                VELOCITY_SHUTDOWN(VPTR);                VELOCITY_FREE_TD_RING(VPTR);                VELOCITY_FREE_RD_RING(VPTR);                DEV->MTU = NEW_MTU;                IF (NEW_MTU > 8192)                        VPTR->RX_BUF_SZ = 9 * 1024;                ELSE IF (NEW_MTU > 4096)                        VPTR->RX_BUF_SZ = 8192;                ELSE                        VPTR->RX_BUF_SZ = 4 * 1024;                RET = VELOCITY_INIT_RD_RING(VPTR);--------------------------------------------------------------------------AND PKT_BUF_SZ IS SET TO 1540. THE RESULTING SIZE OF THE RDS ISNTTHE SAME AFTER CHANGING THE MTU TO FIRST 1600 AND THEN BACK TO 1500 ASWHEN SET TO 1500 IN OPEN.STEPS TO REPRODUCE:# IFCONFIG ETH0 MTU 1600THEN RUN PING. ANDERS","SUMMARY":"(NET VIA_VELOCITY) RECEIVER HANG AFTER SETTING MTU >1500","CLASS":1}
{"ID_DEFECT":"4551","DESCRIPTION":"WE HAVE AN ALLIED TELESYN0000:01:09.0 ETHERNET CONTROLLER: ADVANCED MICRO DEVICES [AMD] 79C970 [PCNET32LANCE] (REV 36)WE PASS PCNET32.OPTIONS=14 AT THE BOOT.THE 100 MBITS LED IS ON AND MII-TOOLS SAYS THAT THE CARD IS 100MBIT HALF-DUPLEXBUT THE CARD SHOULD BE ON FULL DUPLEX ACCORDING TO THE 14 OPTIONS.IF WE FORCE IN FULL-DUPLEX WITH MII-TOOLS, IT SEEMS THAT THERE IS NO PROBLEM.WE HAVE TRIED TO PASS PCNET32.FULL_DUPLEX=1 AS ARGUMENTS AND THERE IS NO CHANGE.","SUMMARY":"(NET PCNET32) DONT FOLLOW MODULE OPTIONS PASS AT THE BOOT","CLASS":1}
{"ID_DEFECT":"5368","DESCRIPTION":"IPW2200 MODULE OOPSES WHEN I DO IWLIST ETH0 SCAN GIVING DIFFERENT BACKTRACES BUT WITH SAME PROBLEM :  BACKTRACE #1:  DIVIDE ERROR: 0000 [#1] LAST SYSFS FILE: POWERSTATE MODULES LINKED IN: MD5 IPV6 SND_PCM_OSS SND_MIXER_OSS SND_SEQ_DUMMY SND_SEQ_OSS SND_SEQ_MIDI_EVENT SND_SEQ SND_SEQ_DEVICE ETH1394 OHCI_HCD E100 OHCI1394 YENTA_SOCKET RSRC_NONSTATIC PCMCIA_CORE I2C_I801 I2C_CORE EHCI_HCD UHCI_HCD SND_HDA_INTEL USBCORE SND_HDA_CODEC SND_PCM SND_TIMER SND SND_PAGE_ALLOC I915 DRM SONY_ACPI CPUFREQ_POWERSAVE CPUFREQ_ONDEMAND IEEE80211_CRYPT_TKIP IEEE80211_CRYPT_CCMP IEEE80211_CRYPT_WEP IPW2200 FIRMWARE_CLASS IEEE80211 IEEE80211_CRYPT CPU:    0 EIP:    0060:[<E003F659>]    NOT TAINTED VLI EFLAGS: 00010083   (2.6.14-RC2-MM1) EIP IS AT IEEE80211_WX_GET_SCAN+0X9990XA60 [IEEE80211] EAX: FFFA8920   EBX: 00000000   ECX: 00000000   EDX: FFFFFFFF ESI: 00000000   EDI: FFFA8920   EBP: D1665EB3   ESP: D1665CE0 DS: 007B   ES: 007B   SS: 0068 PROCESS IWLIST (PID: 14016, THREADINFO=D1664000 TASK=D0C4DA70) STACK: D1665EB0 00000010 E004013B 00000036 E0040137 DD4C004F DE5462FC D1B3D056        6C000000 00000005 D1B3D09D D1B3E000 00000286 DD4C0000 D1665F38 DE546240               00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000               CALL TRACE:                [<E005DD11>] IPW_ABORT_SCAN+0X210X30 [IPW2200]                 [<E005DF93>] IPW_REQUEST_SCAN+0X2730X280 [IPW2200]                  [<C0140AB5>] PREP_NEW_PAGE+0X550X70                   [<C0281A91>] WIRELESS_PROCESS_IOCTL+0X1F10X6B0                    [<C014B8E5>] DO_ANONYMOUS_PAGE+0XC50X110                     [<E005E950>] IPW_WX_GET_SCAN+0X00X10 [IPW2200]                      [<C0277DE9>] DEV_IOCTL+0X1A90X280                       [<C026DA6A>] SOCK_IOCTL+0X20A0X210                        [<C026D860>] SOCK_IOCTL+0X00X210                         [<C0169896>] DO_IOCTL+0X560X70                          [<C01699EE>] VFS_IOCTL+0X5E0X1C0                           [<C0169B8D>] SYS_IOCTL+0X3D0X70                            [<C0102E6F>] SYSENTER_PAST_ESP+0X540X75                            CODE: 04 B6 8D 04 80 8D 3C 85 00 00 00 00 0F BE 41 30 89 D9 C1 E1 04 29 D9 29 C2 89 D0 C1 E0 05 29 D0 8D 04 41 0F AF D0 29 D7 89 F8 99 <F7> FE 3C 64 88 84 24 84 01 00 00 76 0E B0 64 88 84 24 84 01 00  BACKTRACE #2:  DIVIDE ERROR: 0000 [#1] LAST SYSFS FILE: DEVICESPCI0000:000000:00:1D.7USB55-0:1.0BINTERFACEPROTOCOL MODULES LINKED IN: MD5 IPV6 SND_PCM_OSS SND_MIXER_OSS SND_SEQ_DUMMY SND_SEQ_OSS SND_SEQ_MIDI_EVENT SND_SEQ SND_SEQ_DEVICE ACX ETH1394 OHCI_HCD OHCI1394 YENTA_SOCKET RSRC_NONSTATIC PCMCIA_CORE I2C_I801 I2C_CORE EHCI_HCD USBHID UHCI_HCD SND_HDA_INTEL USBCORE SND_HDA_CODEC SND_PCM SND_TIMER SND SND_PAGE_ALLOC I915 DRM SONY_ACPI CPUFREQ_POWERSAVE CPUFREQ_ONDEMAND IEEE80211_CRYPT_TKIP IEEE80211_CRYPT_CCMP IEEE80211_CRYPT_WEP IPW2200 FIRMWARE_CLASS IEEE80211 IEEE80211_CRYPT E100 CPU:    0 EIP:    0060:[<E004F659>]    NOT TAINTED VLI EFLAGS: 00010093   (2.6.14-RC2-MM1) EIP IS AT IEEE80211_WX_GET_SCAN+0X9990XA60 [IEEE80211] EAX: FFFED752   EBX: 00000000   ECX: 00000000   EDX: FFFFFFFF ESI: 00000000   EDI: FFFED752   EBP: CB547EB3   ESP: CB547CE0 DS: 007B   ES: 007B   SS: 0068 PROCESS IWLIST (PID: 19655, THREADINFO=CB546000 TASK=D1052550) STACK: CB547EB0 00000010 E005013B 00000036 E0050137 DD5C0153 DE8682FC DBF9D052        6C000000 00000008 DBF9D099 DBF9E000 00000286 DD5C0108 CB547F38 DE868240               00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000               CALL TRACE:                [<E006DF0D>] IPW_REQUEST_SCAN+0X1ED0X280 [IPW2200]                 [<C0140AB5>] PREP_NEW_PAGE+0X550X70                  [<C0281A91>] WIRELESS_PROCESS_IOCTL+0X1F10X6B0                   [<C014B8E5>] DO_ANONYMOUS_PAGE+0XC50X110                    [<E006E950>] IPW_WX_GET_SCAN+0X00X10 [IPW2200]                     [<C0277DE9>] DEV_IOCTL+0X1A90X280                      [<C026DA6A>] SOCK_IOCTL+0X20A0X210                       [<C026D860>] SOCK_IOCTL+0X00X210                        [<C0169896>] DO_IOCTL+0X560X70                         [<C01699EE>] VFS_IOCTL+0X5E0X1C0                          [<C0169B8D>] SYS_IOCTL+0X3D0X70                           [<C0102E6F>] SYSENTER_PAST_ESP+0X540X75                           CODE: 04 B6 8D 04 80 8D 3C 85 00 00 00 00 0F BE 41 30 89 D9 C1 E1 04 29 D9 29 C2 89 D0 C1 E0 05 29 D0 8D 04 41 0F AF D0 29 D7 89 F8 99 <F7> FE 3C 64 88 84 24 84 01 00 00 76 0E B0 64 88 84 24 84 01 00","SUMMARY":"IPW2200 MODULE OOOPSES KERNEL DUE TO DIVISION BY ZERO","CLASS":1}
{"ID_DEFECT":"5519","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR:2.6.13(LAST TESTED)DISTRIBUTION: SLES 9HARDWARE ENVIRONMENT: DUAL OPTERONSOFTWARE ENVIRONMENT: NAPROBLEM DESCRIPTION: VLAN DRIVER CANNOT CONFIGURE BONDING DEVICE.AFTER IFENSLAVE OF A VLAN CAPABLE DEVICE TO A BONDING DEVICE, THE BONDING DEVICESTILL MARKS ITSELF AS NOT VLAN CAPABLE.THIS APPEARS TO BE A PROBLEM WITH THE BOND_DEV->FEATURES FLAGS BEING CLEARED BYTHE VLAN CAPABILITIES CODE WHICH BOND_COMPUTE_FEATURES THEN WIPES OUT BY USINGBOND->BOND_FEATURES.I ADDED:        BOND->BOND_FEATURES = BOND_DEV->FEATURES;BEFORE        BOND_COMPUTE_FEATURES(BOND);IN BOND_MAIN.C BOND_ENSLAVE() TO FIX THIS ISSUE FOR ME.","SUMMARY":"(NET BONDING) DRIVER MARKS ITSELF AS NOT VLAN CAPABLE","CLASS":1}
{"ID_DEFECT":"5559","DESCRIPTION":"DISTRIBUTION: DEBIAN SARGEHARDWARE ENVIRONMENT:   MOTHERBOARD: INTEL D945GTPLKR    ONBOARD 82573E   CONNECTED TO 10100 HUB (NOT GIGABIT)PROBLEM DESCRIPTION:THE E1000 MODULE DETECTS AN 82573E ON THE D945GTPLKR MOTHERBOARD, AND THEREFOREENABLES TX_PACKET_FILTERING.  THE KERNEL THEN CONSISTENTLY CRASHES ON THE VERYFIRST TRANSMIT, IN E1000_TRANSFER_DHCP_INFO() AT E1000_MAIN.C:2173:   IF (NTOHS(UDP->DEST) == 67) BECAUSE IT DEREFERENCES UDP, OBTAINED FROM SKB->H.UH, WHICH IS NULL.  THISPROBLEM OCCURS WHETHER E1000 IS COMPILED AS A MODULE OR BUILT-IN TO THE KERNEL.MY TEMPORARY FIX FOR THIS IS TO HAVE E1000_ENABLE_TX_PACKET_FILTERING() INE1000_HW.C ALWAYS SET HW->TX_PACKET_FILTERING TO FALSE AND RETURN FALSEREGARDLESS OF 82573 DETECTION.  IF TX_PACKET_FILTERING IS FALSE, THENE1000_TRANSFER_DHCP_INFO() IS NEVER CALLED, THUS AVOIDING THE PROBLEM.EVERYTHING ELSE APPEARS TO WORK CORRECTLY.  FOR TAKING ADVANTAGE OF 82573ECAPABILITIES, HOWEVER, THIS SEEMS NOT TO BE THE APPROPRIATE LONG-TERM FIX.","SUMMARY":"E1000 DRIVER CRASHES ON NULL DEREFERENCE","CLASS":1}
{"ID_DEFECT":"5681","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR:PROBABLY NEVER SINCE THE CODE SEEMS TO HAVE BEEN ADDED IN THE CURRENT STATE.DISTRIBUTION:FEDORA CORE RAWHIDEHARDWARE ENVIRONMENT:HPCOMPAQ NX7010PROBLEM DESCRIPTION:THE RESUME FUNCTION FOR 8139CP IS HORRIBLY BROKEN. IT HAS TWO MAJOR PROBLEMS: * IT ASSUMES THE INTERFACE IS UP AND ACTIVATES THE HARDWARE. IF THE INTERFACEISNT UP, THEN INSERTING THE NETWORK CABLE WILL CAUSE AN INTERRUPT WHICH IN TURNKILLS THE INTERRUPT. A REBOOT OF THE MACHINE IS NECESSARY TO GET THINGS BACK TONORMAL. * IT DOESNT PROPERLY RESET THE HARDWARE. AT MINIMUM A IFCONFIG DOWNUP ISNEEDED TO GET THINGS GOING. SOMETIMES THE MODULE NEEDS TO BE UNLOADED ANDRELOADED AGAIN. THE EFFECT IS THAT NOTHING CAN BE SENTRECIEVED. NO ERRORS OCCURSO IT PROBABLY THINKS EVERYTHING IS PEACHY.STEPS TO REPRODUCE:1. SUSPEND TO DISK.2. RESUME.3. SWEAR IN FRUSTRATION WHEN YOU CANNOT RECONNECT TO THE NETWORK.I HAVE A PATCH IN -MM THAT FORCES THE INTERRUPT HANDLER TO BE LOADED AT ALLTIMES (TO SOLVE THE FIRST PROBLEM). ITS A DIRTY SOLUTION BUT WAS ALL I COULDCOME UP WITH ON MY OWN.","SUMMARY":"8139CP HAS BROKEN SUSPENDRESUME FUNCTION","CLASS":1}
{"ID_DEFECT":"5890","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: 2.6.13.3 (NO MORE RECENTVERSION WE USE)DISTRIBUTION: CENTOS 4.2HARDWARE ENVIRONMENT: AMD ATHLON(TM) 64 X2 DUAL CORE PROCESSOR 4400+, 4GB RAM,NVIDIDA NFORCE3 NETWORK CARD, YUKON GIGABIT ETHERNET 101001000BASE-T ADAPTERSOFTWARE ENVIRONMENT: PROBLEM DESCRIPTION:THE DRIVER IS PROPERLY LOADED AND DEVICE IS ALSO PROPERLY CONFIGURED, BUT ICANT PING OTHER NODE (DEVICE IS USED TO P2P CONNECTION ONLY).WHEN I TRY TO USE TCPDUMP ON THAT INTERFACE, I CAN SEE OUTGOING PACKETS TO OTHERNODE AND RARELY SOME STRANGE MESSAGE ARE DISPLAY ON OTHER NODE WHEN I USETCPDUMP ON PAIR DEVICE THERE:...19:10:36.903542 IP TRUNCATED-IP - 38 BYTES MISSING! 10.99.0.1 > 10.99.0.2: ICMP64: ECHO REQUEST SEQ 619:10:37.913470 IP TRUNCATED-IP - 38 BYTES MISSING! 10.99.0.1 > 10.99.0.2: ICMP64: ECHO REQUEST SEQ 619:10:39.881524 IP 10.99.0.1 > 10.99.0.2: ICMP 64: ECHO REQUEST SEQ 619:10:46.903458 IP 10.99.0.1 > 10.99.0.2: ICMP 64: ECHO REQUEST SEQ 619:10:46.920733 IP TRUNCATED-IP - 38 BYTES MISSING! 10.99.0.1 > 10.99.0.2: ICMP64: ECHO REQUEST SEQ 619:11:05.901484 IP 10.99.0.1 > 10.99.0.2: ICMP 64: ECHO REQUEST SEQ 34...WHEN I LEAVE PROGRAM PING TO TRIES PING FROM BAD NODE, SOMETIMES I CAN SEEMESSAGE LIKE THIS:64 BYTES FROM 10.99.0.2: ICMP_SEQ=182 TTL=64 TIME=3981 MSWRONG DATA BYTE #20 SHOULD BE 0X14 BUT WAS 0X0#16     10 11 12 13 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0#48     0 0 0 0 0 0 0 064 BYTES FROM 10.99.0.2: ICMP_SEQ=182 TTL=64 TIME=5021 MS (DUP!)WRONG DATA BYTE #20 SHOULD BE 0X14 BUT WAS 0X0#16     10 11 12 13 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0#48     0 0 0 0 0 0 0 0DMESG OUTPUT WHEN I LOAD DRIVER:ACPI: PCI INTERRUPT 0000:05:0C.0[A] -> LINK [APC2] -> GSI 17 (LEVEL, LOW) -> IRQ 233ACPI: PCI INTERRUPT 0000:05:0C.0[A] -> LINK [APC2] -> GSI 17 (LEVEL, LOW) -> IRQ 233ETH0: YUKON GIGABIT ETHERNET 101001000BASE-T ADAPTER      PREFPORT:A  RLMTMODE:CHECK LINK STATEADDRCONF(NETDEV_UP): ETH0: LINK IS NOT READYETH0: NETWORK CONNECTION UP USING PORT A    SPEED:           1000    AUTONEGOTIATION: YES    DUPLEX MODE:     FULL    FLOWCTRL:        SYMMETRIC    ROLE:            SLAVE    IRQ MODERATION:  DISABLED    SCATTER-GATHER:  ENABLEDADDRCONF(NETDEV_CHANGE): ETH0: LINK BECOMES READYI HAVE COMPILED DRIVER FROM MANUFACTURER SITE(HTTP:WWW.SYSKONNECT.COMSYSKONNECTSUPPORTDRIVERHTMSK9ELIN.HTM) AND IT ISWORKING CORRECTLY. PACKETS ARE TRANSMITTED.DMESG OUTPUT OF SELFCOMPILED DRIVER DOWNLOADED FROM MANUFACTURER SITE:SK98LIN: NETWORK DEVICE DRIVER V8.28.1.3(C)COPYRIGHT 1999-2005 MARVELL(R).ACPI: PCI INTERRUPT 0000:05:0C.0[A] -> LINK [APC2] -> GSI 17 (LEVEL, LOW) -> IRQ 233ETH0: YUKON GIGABIT ETHERNET 101001000BASE-T ADAPTER      PREFPORT:A  RLMTMODE:CHECK LINK STATEADDRCONF(NETDEV_UP): ETH0: LINK IS NOT READYETH0: NETWORK CONNECTION UP USING PORT A    SPEED:           1000    AUTONEGOTIATION: YES    DUPLEX MODE:     FULL    FLOWCTRL:        SYMMETRIC    ROLE:            SLAVE    IRQ MODERATION:  DISABLED    SCATTER-GATHER:  ENABLED    TX-CHECKSUM:     ENABLED    RX-CHECKSUM:     ENABLED    RX-POLLING:      ENABLEDADDRCONF(NETDEV_CHANGE): ETH0: LINK BECOMES READY----BUT WITH SELFCOMPILED DRIVER ANOTHER PROBLEM EXITS. WHEN I LOAD DRBD MODULE(WWW.DRBD.ORG), I CANT DO PING AS WELL AND THERE IS NO CONNECTION BETWEENTHESES NODES.---IN THE PAST, I HAVE ALSO PROBLEMS WITH DRBD AND SK98LIN, BUT ONLY WITHSELFCOMPILED SK98LIN MODULE ON KERNEL 2.6.13.3. THERE WERE KERNEL PANIC EVERYTIME I LOAD SK98LIN DRIVER. BUT IT WORKS CORRECTLY WITH INCLUDED DRIVER FROM2.6.13.3----SO, THE MAJOR PROBLEM IS, THAT SK98LIN MODULE DOESNT WORK FOR ME ON 2.6.15 ANDALSO, THAT MANUFACTURER DRIVER DOESNT WORK WITH DRBD, BUT IT IS NOT YOURPROBLEM, I THINK?!----IF THINK I SEND ALL INFORMATION I COULD, IF I CAN SEND MORE, PLEASE LET ME KNOEWHICH AND HOW TO DO THAT.STEPS TO REPRODUCE:JUST TRY PING TO SOME NODE FROM MACHINE WITH THIS NETWORK CARD.","SUMMARY":"DRIVER SK98LIN NOT WORKING (NO COMMUNICATION WITH OTHER NODE)","CLASS":1}
{"ID_DEFECT":"5992","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: NONE FOUND YET, SEEMS TO AFFECTALL RECENT 2.6.X KERNELS ON MY SYSTEMDISTRIBUTION: UBUNTU (BREEZY)HARDWARE ENVIRONMENT: FOXCONN MOTHERBOARD WITH R8169 INTEGRATED (GIGABITETHERNET VERSION). LSPCI -VVV OUTPUT SUPPLIED.SOFTWARE ENVIRONMENT: LINUX KERNEL 2.6.15.1 (WITH UBUNTU BREEZY). OUTPUT FROMDMESG SUPPLIED.PROBLEM DESCRIPTION: R8169 GETS A BAD MAC ADDRESS. AFTER THAT OCCURS, NO NETWORKCONNECTIVITY IS POSSIBLE. ATTEMPTING TO USE IFCONFIG TO RECONFIGURE THEINTERFACE CAUSES A HANG. SYSTEM ALSO HANGS AT DECONFIGURING NETWORK INTERFACESPHASE OF SHUTDOWN.STEPS TO REPRODUCE: BOOT MY SYSTEM. NETWORKING SIMPLY DOESNT WORK.MORE INFORMATION:R8169 DRIVER AND LINUX KERNEL 2.6.15.1 FAILS TO WORK WITH MY REALTEK 8169ETHERNET CONTROLLER. THIS IS THE GIGABIT ETHERNET-CAPABLE EMBEDDED VERSION WHICHIS INTEGRATED INTO A FOXCONN 925A01-8EKRS2 MOTHERBOARD.WHENEVER THE SYSTEM BOOTS, THE R8169 DRIVER DOES NOT PICK UP THE MACADDRESS FOR THE CARD; IT REPORTS THE MAC ADDRRESS AS BEINGFF:FF:FF:FF:FF:FF. (I HAVE ALSO TRIED VARIOUS 2.6.12, 2.6.13, 2.6.14KERNELS WITH THE SAME EXPERIENCE). MY FIRST THOUGHT WAS A BROKEN CHIP, BUT THISBOX HAS SIMILAR ISSUES WITH OTHER NETWORK CARDS WHICH ILL MENTION LATER.WHEN I RUN IFCONFIG, THIS REPORTS:ETH0      LINK ENCAP:ETHERNET  HWADDR FF:FF:FF:FF:FF:FF             INET ADDR:192.168.0.9  BCAST:192.168.255.255  MASK:255.255.0.0             UP BROADCAST RUNNING MULTICAST  MTU:1500  METRIC:1             RX PACKETS:0 ERRORS:0 DROPPED:4294967290 OVERRUNS:0 FRAME:0             TX PACKETS:0 ERRORS:0 DROPPED:0 OVERRUNS:0 CARRIER:0             COLLISIONS:0 TXQUEUELEN:1000             RX BYTES:0 (0.0 B)  TX BYTES:0 (0.0 B)             INTERRUPT:21 BASE ADDRESS:0X4800THE IP ADDRESS HAS BEEN ASSIGNED STATICALLY IN ETCNETWORKINTERFACESAS I DONT USE DHCP (AND I DOUBT DHCP WOULD CURRENTLY WORK ANYWAY). IF ITRY TO USE IFCONFIG ETH0 HW ETHER TO SET THE MAC ADDRESS THEN IFCONFIGJUST HANGS.I AM UNABLE TO PING ANYWHERE IN MY NETWORK OR BEYOND THE GATEWAY, NORCAN I ESTABLISH ANY NETWORK CONNECTIONS TO ANY OTHER MACHINE. GIVEN THATTHERE APPEARS TO BE SOMETHING WRONG AT THE LINK LAYER, I WOULDNT EXPECTHIGHER LAYER DIAGNOSTICS TO REVEAL MUCH, BUT I FIGURED IT WAS WORTH A TRY.IN ADDITION, MY SYSTEM TENDS TO HANG AT THE DECONFIGURING NETWORKINTERFACES STAGE OF SYSTEM SHUTDOWN.I HAVE TRIED BUILDING THE R8169 MODULE BOTH WITH AND WITHOUT GIGABITETHERNET SUPPORT AND USING MMIO VERSUS PIO - NO LUCK.FROM BROWSING AROUND THE WEB, SOME PEOPLE SUGGEST CHANGING THE PLUG ANDPLAY OS SETTING IN THE BIOS, ONLY MY BIOS DOESNT APPEAR TO HAVE ANYSUCH SETTING. THE ONLY OPTION IN THE PNP AREA WAS TO RESET THE ESCDDATA, SO I TRIED THIS TO SEE IF THAT WOULD HELP, BUT STILL THE ISSUEPERSISTED.SOME REPORTS SEEMED TO SUGGEST AN ISSUE WITH IRQ ASSIGNMENT AND ACPI,SO I TRIED BOOTING WITH KERNEL OPTIONS INCLUDING NOLAPIC, ACPI=OFF,ACPI=NOIRQ, PCI=NOACPI, PCI=ROUTEIRQ AND VARIOUS COMBINATIONS OF THESE. NONE OFTHEM WORKED (IN FACT NOLAPIC HANGS MY SYSTEM DURING BOOT-UP).I INCLUDE THE OUTPUT FROM LSPCI -VVV AND DMESG SO YOU CAN SEE WHAT ISHAPPENING. I ALSO USED DONALD BECKERS RTL8169-DIAG PROGRAM, BUT THATCOMPLAINED THAT A RECOGNIZED CHIP HAS BEEN FOUND, BUT IT DOES NOTAPPEAR TO EXIST IN IO SPACE.INCIDENTALLY, I TRIED SOME KNOWN GOOD 3COM AND D-LINK NETWORK CARDS INTHIS MACHINE (BOTH WITH AND WITHOUT THE REALTEK ENABLED IN THE BIOS) ANDI COULDNT GET THEM TO WORK EITHER FOR SIMILAR REASONS. IF IT WERE JUSTTHE REALTEK I MIGHT ASSUME IT WAS A DEFECTIVE CHIP, BUT THE LACK OFABILITY TO GET ANY NETWORK CARD WORKING ON THIS MACHINE SUGGESTS ADEEPER ISSUE.IM HAPPY TO TRY TESTING NEW PATCHES OR SETTINGS, BUT WOULD APPRECIATESOME TIPS ON WHAT TO DO NEXT. IN ALL OTHER RESPECTS MY SYSTEM IS HAPPYAND STABLE, IT JUST LACKS A WORKING NETWORK CONNECTION.THANKS IN ADVANCE.ANDREW","SUMMARY":"R8169 DRIVER - NO NETWORK CONNECTION, HANG AT SHUTDOWN","CLASS":1}
{"ID_DEFECT":"6032","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR:DISTRIBUTION:DEBIAN 3.2 ETCH GNULINUX 2.6.15.3HARDWARE ENVIRONMENT:0000:00:00.0 HOST BRIDGE: SILICON INTEGRATED SYSTEMS [SIS] 741741GXM741 HOST(REV 03)0000:00:01.0 PCI BRIDGE: SILICON INTEGRATED SYSTEMS [SIS]: UNKNOWN DEVICE 00030000:00:02.0 ISA BRIDGE: SILICON INTEGRATED SYSTEMS [SIS] SIS963 [MUTIOL MEDIAIO] (REV 25)0000:00:02.1 SMBUS: SILICON INTEGRATED SYSTEMS [SIS]: UNKNOWN DEVICE 00160000:00:02.5 IDE INTERFACE: SILICON INTEGRATED SYSTEMS [SIS] 5513 [IDE]0000:00:02.7 MULTIMEDIA AUDIO CONTROLLER: SILICON INTEGRATED SYSTEMS [SIS] SOUNDCONTROLLER (REV A0)0000:00:03.0 USB CONTROLLER: SILICON INTEGRATED SYSTEMS [SIS] USB 1.0 CONTROLLER(REV 0F)0000:00:03.1 USB CONTROLLER: SILICON INTEGRATED SYSTEMS [SIS] USB 1.0 CONTROLLER(REV 0F)0000:00:03.2 USB CONTROLLER: SILICON INTEGRATED SYSTEMS [SIS] USB 2.0 CONTROLLER0000:00:04.0 ETHERNET CONTROLLER: SILICON INTEGRATED SYSTEMS [SIS] SIS900 PCIFAST ETHERNET (REV 90)0000:00:0A.0 PCI BRIDGE: DIGITAL EQUIPMENT CORPORATION DECCHIP 21152 (REV 01)0000:01:00.0 VGA COMPATIBLE CONTROLLER: SILICON INTEGRATED SYSTEMS [SIS]661FXM661FXM661MX741M741760M760 PCIAGP0000:03:00.0 ETHERNET CONTROLLER: DIGITAL EQUIPMENT CORPORATION DECCHIP 2114243(REV 30)0000:03:04.0 ETHERNET CONTROLLER: DIGITAL EQUIPMENT CORPORATION DECCHIP 2114243(REV 30)0000:03:08.0 ETHERNET CONTROLLER: DIGITAL EQUIPMENT CORPORATION DECCHIP 2114243(REV 30)0000:03:0C.0 ETHERNET CONTROLLER: DIGITAL EQUIPMENT CORPORATION DECCHIP 2114243(REV 30)SOFTWARE ENVIRONMENT:GNU C                  4.0.3GNU MAKE               3.81BETA4BINUTILS               2.16.91UTIL-LINUX             2.12PMOUNT                  2.12PMODULE-INIT-TOOLS      3.2.2E2FSPROGS              1.39-WIPREISERFSPROGS          LINEREISER4PROGS           LINELINUX C LIBRARY        2.3.5DYNAMIC LINKER (LDD)   2.3.5PROCPS                 3.2.5NET-TOOLS              1.60CONSOLE-TOOLS          0.2.3SH-UTILS               5.2.1UDEV                   081PROBLEM DESCRIPTION:AS SOON AS I FAKE ME MAC ADDRESS I AM NOT ABLE TO EITHER SEND NOR RECEIVEPACKAGES OVER THIS INTERFACE.STEPS TO REPRODUCE:ETCINIT.DCHMAC#!BINBASH## SET UP RANDOM MAC FOR ETH0#CASE $1 INSTART)    ECHO SETTING UP RANDOM MAC FOR ETH0    IFCONFIG ETH0 DOWN    MACCHANGER -R ETH0    ;;STOP)    ECHO SETTING UP REAL MAC FOR ETH0    IFCONFIG ETH0 DOWN    MACCHANGER -M 00:11:5B:XX:XX:XX ETH0    ;;*)    ECHO USAGE: ETCINIT.DCHMAC START|STOP    EXIT 1    ;;ESAC","SUMMARY":"LINUX 2.6.15.3 NETWORKING BUG IN R8169 DEVICE DRIVER WHILE HAVING MAC CHANGED","CLASS":1}
{"ID_DEFECT":"6398","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: NADISTRIBUTION: FEDORA CORE 5HARDWARE ENVIRONMENT:00:00.0 MEMORY CONTROLLER: NVIDIA CORPORATION CK804 MEMORY CONTROLLER (REV A3)00:01.0 ISA BRIDGE: NVIDIA CORPORATION CK804 ISA BRIDGE (REV A3)00:01.1 SMBUS: NVIDIA CORPORATION CK804 SMBUS (REV A2)00:02.0 USB CONTROLLER: NVIDIA CORPORATION CK804 USB CONTROLLER (REV A2)00:02.1 USB CONTROLLER: NVIDIA CORPORATION CK804 USB CONTROLLER (REV A3)00:06.0 IDE INTERFACE: NVIDIA CORPORATION CK804 IDE (REV A2)00:08.0 IDE INTERFACE: NVIDIA CORPORATION CK804 SERIAL ATA CONTROLLER (REV A3)00:09.0 PCI BRIDGE: NVIDIA CORPORATION CK804 PCI BRIDGE (REV A2)00:0A.0 BRIDGE: NVIDIA CORPORATION CK804 ETHERNET CONTROLLER (REV A3)00:0B.0 PCI BRIDGE: NVIDIA CORPORATION CK804 PCIE BRIDGE (REV A3)00:0C.0 PCI BRIDGE: NVIDIA CORPORATION CK804 PCIE BRIDGE (REV A3)00:0D.0 PCI BRIDGE: NVIDIA CORPORATION CK804 PCIE BRIDGE (REV A3)00:0E.0 PCI BRIDGE: NVIDIA CORPORATION CK804 PCIE BRIDGE (REV A3)00:18.0 HOST BRIDGE: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] HYPERTRANSPORT TECHNOLOGY CONFIGURATION00:18.1 HOST BRIDGE: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] ADDRESS MAP00:18.2 HOST BRIDGE: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] DRAM CONTROLLER00:18.3 HOST BRIDGE: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] MISCELLANEOUS CONTROL01:09.0 FIREWIRE (IEEE 1394): VIA TECHNOLOGIES, INC. IEEE 1394 HOST CONTROLLER (REV 80)01:0A.0 ETHERNET CONTROLLER: MARVELL TECHNOLOGY GROUP LTD. 88E8001 GIGABIT ETHERNET CONTROLLER (REV 13)01:0B.0 MULTIMEDIA AUDIO CONTROLLER: CREATIVE LABS SB LIVE! EMU10K1 (REV 0A)01:0B.1 INPUT DEVICE CONTROLLER: CREATIVE LABS SB LIVE! MIDIGAME PORT (REV 0A)05:00.0 VGA COMPATIBLE CONTROLLER: NVIDIA CORPORATION GEFORCE 7800 GTX (REV A1)SOFTWARE ENVIRONMENT:PROBLEM DESCRIPTION:I AM RUNNIG A 2.6.16.1 KERNEL ON A DFI LP NF4 SLI-DR EXPERT MOBO, WHICH HAS AN NVIDIA CHIPSET WITH ONBOARD NIC. THE NIC WORKS FINE WITH THE FORCEDETH DRIVER, PERFOMANCE IS OK (GOOD). THE SYSTEM IS A X86_64 FC5 INSTALL ON A DUAL CORE OPTERON 170 CPU WITH 2GB (2X1GB IN DUAL CHANNEL) OF RAM INSTALLED.WHEN I SUSPEND THE MACHINE USING ACPI S3 OR SWSUP AND RESUME IT THE NETWORK IS DEAD. I CANNOT RECIVE AN PACKAGES. IFDOWN  IFUP DOES NOT HELP. RESTARTING THE NETWORK USING SBINSERVICE NETWORK RESTART ALSO DOES NOT GET NETWORK WORKING. UNLOADING AND LOADING THE DRIVER (MODPROBE -R FORCEDETH;MODPROBE FORCEDETH) HAS THE SAME RESULT-> DEAD NETWORK.I HAVE TO REBOOT IN ORDER TO GET THE NETWORK WORKING AGAIN. I HAVE A STATIC IP SO NO DHCP ISSUE.THIS MAKES SUSPEND USELES ON MY BOX, BECAUSE I HAVE TO REBOOT ANYWAY TO GET MY NETWORK WORKING.WHAT COULD BE CAUSING THIS? IF THERE IS ANY INFO THAT I CAN PROVIDE TO HELP FIXING THIS BUG TELL ME.I ALSO NOTICED THIS (DONT KNOW IF IT IS RELATED OR NOT BUT DOUBT IT):CAT PROCINTERRUPTS          CPU0       CPU1 0:     640968     628532    IO-APIC-EDGE  TIMER 1:       4763       4745    IO-APIC-EDGE  I8042 8:          0          0    IO-APIC-EDGE  RTC 9:          0          0   IO-APIC-LEVEL  ACPI14:       1552       1082    IO-APIC-EDGE  IDE015:      44443      44261    IO-APIC-EDGE  IDE116:      57625      44633   IO-APIC-LEVEL  LIBATA17:     972904          0   IO-APIC-LEVEL  ETH0STEPS TO REPRODUCE:SUSPEND OR HIBERNATERESUMETRY TO DO ANYTHING WITH THE ONBAORD NIC.I MAILED THIS TO LKML BUT GOT NO REPLY SO I FILLED IT AS A BUG.","SUMMARY":"FORCEDETH BROKEN POWERMANAGEMENTIRQ HANDLING ?","CLASS":1}
{"ID_DEFECT":"6711","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: NA - OCCURED SINCE 2.6.13, FIRST KERNEL ON MACHINEDISTRIBUTION: GENTOOHARDWARE ENVIRONMENT: AMD64SOFTWARE ENVIRONMENT: GENTOOLINUXPROBLEM DESCRIPTION: VIA VELOCITY ALWAYS THINKS CABLE IS PLUGGED IN ACCORDING TO NETPLUG ANDOR IFPLUGDSTEPS TO REPRODUCE:INSTALL GENTOOEMERGE BASELAYOUT-1.12.1EMERGE NETPLUGREMOVE NETWORK CABLEETCINIT.DNET.ETH0 RESTARTEXAMINE LOG TO SEE NETPLUG CLAIMING ETH0 HAS A CABLE INSERTED","SUMMARY":"VIA VELOCITY REPORTS INCORRECT CABLE INOUT STATUS","CLASS":1}
{"ID_DEFECT":"6986","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: NONE (THIS IS STILL OCCURING IN2.6.18-RC4)DISTRIBUTION: UBUNTUHARDWARE ENVIRONMENT: IBM T40PSOFTWARE ENVIRONMENT: UBUNTU DAPPER UP-TO-DATE, 686 KERNELPROBLEM DESCRIPTION: SEE HTTP:LKML.ORGLKML2003122030STEPS TO REPRODUCE: JUST USE ANY GRAPHING APPLET AND SET THE UPDATE INTERVALSMALLER THAN 2 SECONDS (NETSPEED HAS 1 SECOND PER DEFAULT, I USE IT AT 500MS)SEE UBUNTU BUG :HTTPS:LAUNCHPAD.NETDISTROSUBUNTU+SOURCELINUX-SOURCE-2.6.15+BUG55989","SUMMARY":"E1000 DOESNT UPDATE TRAFIC COUNTERS FREQUENTLY ENOUGH","CLASS":1}
{"ID_DEFECT":"7050","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: LINUS HEAD + SKY2 FIX FROM STEPHENDISTRIBUTION: DEBIAN TESTINGHARDWARE ENVIRONMENT: INTEL MAC MINI X86 CORE DUOSOFTWARE ENVIRONMENT: 32 BIT LIBC6 2.3.6PROBLEM DESCRIPTION:SKY2 NETWORK DRIVER IN MY MACHINE STARTS TO HANG AS SOON AS I SSH IN VIA IPV6 AND START EDITING ETCPASSWD. THIS IS REPRODUCABLEAUG 20 20:52:10 MINI KERNEL: SKY2 V1.5 ADDR 0X90200000 IRQ 17 YUKON-EC (0XB6) REV 2 AUG 20 20:52:10 MINI KERNEL: SKY2 ETH0: ADDR 00:16:CB:A3:91:3C AUG 20 20:52:12 MINI KERNEL: SKY2 ETH0: ENABLING INTERFACE AUG 20 20:52:12 MINI KERNEL: SKY2 ETH0: LINK IS UP AT 100 MBPS, FULL DUPLEX, FLOW CONTROL BOTH AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: HW ERROR INTERRUPT STATUS 0X30 AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: RAM DATA READ PARITY ERROR AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: RAM DATA WRITE PARITY ERROR AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: HW ERROR INTERRUPT STATUS 0X8 AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: MAC PARITY ERROR AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: HW ERROR INTERRUPT STATUS 0X20 AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: RAM DATA READ PARITY ERROR AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: HW ERROR INTERRUPT STATUS 0X8 AUG 20 21:01:34 MINI KERNEL: SKY2 ETH0: MAC PARITY ERROR AUG 21 11:23:49 MINI KERNEL: SKY2 V1.5 ADDR 0X90200000 IRQ 17 YUKON-EC (0XB6) REV 2 AUG 21 11:23:49 MINI KERNEL: SKY2 ETH0: ADDR 00:16:CB:A3:91:3C AUG 21 11:23:50 MINI KERNEL: SKY2 ETH0: ENABLING INTERFACE AUG 21 11:23:50 MINI KERNEL: SKY2 ETH0: LINK IS UP AT 100 MBPS, FULL DUPLEX, FLOW CONTROL BOTH AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: HW ERROR INTERRUPT STATUS 0X30 AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: RAM DATA READ PARITY ERROR AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: RAM DATA WRITE PARITY ERROR AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: HW ERROR INTERRUPT STATUS 0X8 AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: MAC PARITY ERROR AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: HW ERROR INTERRUPT STATUS 0X20 AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: RAM DATA READ PARITY ERROR AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: HW ERROR INTERRUPT STATUS 0X8 AUG 21 18:38:44 MINI KERNEL: SKY2 ETH0: MAC PARITY ERROR AUG 21 18:48:31 MINI KERNEL: SKY2 V1.5 ADDR 0X90200000 IRQ 17 YUKON-EC (0XB6) REV 2 AUG 21 18:48:31 MINI KERNEL: SKY2 ETH0: ADDR 00:16:CB:A3:91:3C AUG 21 18:48:32 MINI KERNEL: SKY2 ETH0: ENABLING INTERFACE AUG 21 18:48:32 MINI KERNEL: SKY2 ETH0: LINK IS UP AT 100 MBPS, FULL DUPLEX, FLOW CONTROL BOTH AUG 21 20:53:56 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:53:56 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:53:56 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:01 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:01 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:01 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:06 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:06 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:06 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:11 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:11 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:11 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:16 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:16 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:16 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:21 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:21 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:21 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:26 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:26 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:26 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:31 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:31 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:31 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:36 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:36 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:36 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:41 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:41 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:41 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:46 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:46 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:46 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:54:51 MINI KERNEL: SKY2 ETH0: TX TIMEOUT AUG 21 20:54:51 MINI KERNEL: SKY2 ETH0: TRANSMIT RING 53 .. 30 REPORT=54 DONE=54 AUG 21 20:54:51 MINI KERNEL: SKY2 STATUS REPORT LOST? AUG 21 20:56:17 MINI KERNEL: SKY2 V1.5 ADDR 0X90200000 IRQ 17 YUKON-EC (0XB6) REV 2 AUG 21 20:56:17 MINI KERNEL: SKY2 ETH0: ADDR 00:16:CB:A3:91:3C AUG 21 20:56:18 MINI KERNEL: SKY2 ETH0: ENABLING INTERFACE AUG 21 20:56:18 MINI KERNEL: SKY2 ETH0: LINK IS UP AT 100 MBPS, FULL DUPLEX, FLOW CONTROL BOTHSTEPS TO REPRODUCE:SEE PROBLEM DESCRIPTION","SUMMARY":"SKY2 HANGS ON MY MAC MINI AS SOON AS I SSH IN VIA IPV6 AND EDIT ETCPASSWD USING VIM (REPRODUCABLE)","CLASS":1}
{"ID_DEFECT":"7082","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR: 2.6.17.11DISTRIBUTION: MANDRIVA 2007.0 BETA 2HARDWARE ENVIRONMENT: DESKTOP BOX BASED ON ASUS A7V133-C MOTHERBOARD (VIACHIPSET), ATHLON XP 1600+, REALTEK RTL-8029(AS) PCI ETHERNET CONTROLLER.SOFTWARE ENVIRONMENT:PROBLEM DESCRIPTION: 2.6.17.11 SUSPENDS AND RESUMES SUCCESSFULLY EVEN WITH HIGH NETWORK ACTIVITY. 2.6.18-RC1 AND LATER KERNELS HANG WHEN SUSPENDING DURING NETWORK ACTIVITY.THEYRE STUCK JUST AFTER SWSUSP: CRITICAL SECTION: DONE. WHEN I WAIT A FEWMINUTES, A SOFT LOCKUP EXCEPTION OCCURS. I MUST SHUT DOWN NETWORK AND UNLOADNE2K-PCI AND 8390 MODULES IN ORDER TO SUSPENDRESUME RELIABLY.THIS REGRESSION IS DUE TO GIT COMMIT 53E4D30DD666D7F83598957EE4A415EEFB47C9A6. (SEE HTTP:WWW.KERNEL.ORGGIT?P=LINUXKERNELGITTORVALDSLINUX-2.6.GIT;A=COMMITDIFF;H=53E4D30DD666D7F83598957EE4A415EEFB47C9A6).REVERTING THIS PATCH ON 2.6.18-RC4-MM3 MADE ME ABLE TO SUSPENDRESUME DURINGNETWORK ACTIVITY WITHOUT SHUTTING DOWN NETWORK.STEPS TO REPRODUCE: - BOOT TO RUNLEVEL 1- SET UP NETWORK (SERVICE NETWORK START). IFCONFIG LOOKS LIKE THIS:# IFCONFIG ETH0      LINK ENCAP:ETHERNET  HWADDR 00:40:95:46:6E:2D            INET ADR:192.168.0.3  BCAST:192.168.0.255  MASQUE:255.255.255.0          UP BROADCAST RUNNING MULTICAST  MTU:1500  METRIC:1...LO        LINK ENCAP:BOUCLE LOCALE            INET ADR:127.0.0.1  MASQUE:255.0.0.0...- ECHO 5 > PROCSYSKERNELPRINTK- ECHO REBOOT > SYSPOWERDISK- ECHO DISK > SYSPOWERSTART","SUMMARY":"SUSPEND WITH NE2K-PCI HANGS","CLASS":1}
{"ID_DEFECT":"7502","DESCRIPTION":"SINCE KERNEL 2.6.18 SUNHME GIVES ME A IRQ NOBODY CARED AND TRANSMIT TIMEOUTS. 2.6.17 WORKED FINE. THE NIC IS A SUN HAPPYMEAL QUAD-PORT AND MY ARCHITECTURE IS X86.THE SAME PROBLEM IS DESCRIBED AT HTTP:BUGS.DEBIAN.ORGCGI-BINBUGREPORT.CGI?BUG=397460 AND IT SEEMS THE PROBLEM IS INTRODUCED BY HTTP:WWW.KERNEL.ORGGIT?P=LINUXKERNELGITSTABLELINUX-2.6.18.Y.GIT;A=COMMIT;H=050BBB196392B9C178F82B1205A23DD2F915EE93RELEVANT DMESG PART:OCT 27 01:12:27 MERKUR ETH0: LINK IS UP USING INTERNAL TRANSCEIVER AT 100MBS, FULL DUPLEX.OCT 27 01:12:29 MERKUR IRQ 19: NOBODY CARED (TRY BOOTING WITH THE IRQPOLL OPTION)OCT 27 01:12:29 MERKUR HANDLERS:OCT 27 01:12:29 MERKUR [<0031333E>] (0X31333E)OCT 27 01:12:29 MERKUR DISABLING IRQ #19OCT 27 01:12:32 MERKUR ETH1: LINK IS UP USING INTERNAL TRANSCEIVER AT 100MBS, FULL DUPLEX.OCT 27 01:14:03 MERKUR NETDEV WATCHDOG: ETH1: TRANSMIT TIMED OUTOCT 27 01:14:03 MERKUR ETH1: TRANSMIT TIMED OUT, RESETTINGOCT 27 01:14:03 MERKUR ETH1: HAPPY STATUS 03030000 TX[000003FF:00000301]","SUMMARY":"SUNHME NOT WORKING WITH 2.6.18 ON X86","CLASS":1}
{"ID_DEFECT":"7969","DESCRIPTION":"SOFTWARE ENVIRONMENT: 2.6.19 WITH MSI ENABLEDPROBLEM DESCRIPTION:AFTER A S3 RESUME, I GOT IRQ 20 NOBODY CARED...,AND THEN IRQ 20 IS DISABLED.I TRIED DIFFERENT WORKAROUNDS AND FINALLY FOUND THE TWO BELOW MAKE SENSE TO ME:1. BOOT OPTION PCI=NOMSI. AT THIS TIME, ETH0 INTERRUPT IS ROUTED TO IRQ #20 RATHER THAN PCI-MSI-EDGE 219.2. RMMOD TG3 DRIVER BEFORE SUSPEND AND MODPROBE IT AFTER RESUME.SO, I THINK ITS A TG3 DRIVER S3 PROBLEM.IMO, AFTER RESUME FROM S3, TG3 DRIVER FORGETS THE WHOLE PCI-MSI THING AND ROUTES THE NET CARD INTERRUPT TO IRQ #20, WHILE LEAVES THE ACTUAL INTERRUPT HANDLER WAITING FOR PCI-MSI-EDGE *219.THIS EXPLAINS WHY KERNEL CAN NOT FIND A HANDLER FOR IRQ #20 AND THE ETH0 INTERRUPTS FROM PROCINTERRUPTS STOP GROWING AFTER RESUME.STEPS TO REPRODUCE:BUILD KERNEL WITH CONFIG_PCI_MSI ENABLED.ECHO MEM >SYSPOWERSTATEPRESS THE POWER BUTTON","SUMMARY":"TG3 DRIVER: S3 PROBLEM IN MSI MODE","CLASS":1}
{"ID_DEFECT":"8043","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID *NOT* OCCUR: 2.4.32DISTRIBUTION: UNIVENTION CORPORATE SERVERHARDWARE ENVIRONMENT: I386, PCI I2O RAID CONTROLLER SOFTWARE ENVIRONMENT: LINUX 2.6.18.7PROBLEM DESCRIPTION:I AM INSTALLING WINDOWS CLIENTS USING THE UNATTENDED PROJECT. SHORT DESCRIPTIONOF THIS: A PC BOOTS A FREEDOS-IMAGE USING PXE. FROM WITHIN FREEDOS, ALL WINDOWSINSTALLATION FILES (ABOUT 500MB) ARE COPIED TO THE LOCAL DISK FOR LATERINSTALLATION. I HAVE ENCOUNTERED A VERY STRANGE PROBLEM USING THE E1000 NETWORKDRIVER. AT SOME POINT (THE EXACT POINT DIFFERS, BUT THIS CAN ALWAYS BEREPRODUCED), COMMUNICATION BETWEEN THE LINUX SERVER AND THE DOS CLIENT TOTALLYBREAKS DOWN. I WILL ATTACH A TCPDUMP TRACE. IN THE TRACE YOU CAN SEE THATPACKAGES ARE BEING SENT OUT TO THE CLIENT, BUT THEY EITHER DONT ARRIVE AT THECLIENT, OR THE REPLY PACKETS ARE LOST. THIS LEADS TO ERRORS ON THE DOS CLIENTTHAT CANNOT BE RECOVERED FROM.THIS ERROR ONLY OCCURS USING A 2.6-KERNEL AND THE E1000 DRIVER. SWITCHING TO A2.4.32-KERNEL OR USING A DIFFERENT NETWORK CARD (WE SUCCESSFULLY TESTED THISWITH A REALTEK 8139) MAKE THE PROBLEM GO AWAY. THIS CAN ONLY BE REPRODUCED WITHSOME CLIENTS, WHERE ALL MACHINES OF THE SAME CLASS EITHER SHOW OR DONT SHOWTHIS BEHAVIOUR. THIS HAS BEEN REPRODUCED AT A CUSTOMER SITE WITH TWO MORE LINUXMACHINES ON DIFFERENT NETWORKS. ALL THIS INDICATES THAT THIS PROBLEM IS NOTCAUSED BY FAULTY HARDWARE AND IS RELATED TO THE E1000 DRIVER.THIS CAN BE REPRODUCED WITH DISTRIBUTION KERNELS 2.6.18.1 AND 2.6.14.7 ANDVANILLA 2.6.18.7. I CANNOT TEST THIS WITH MORE RECENT KERNELS, AS THE HARDWAREAVAILABLE FOR TESTS DOES NOT BOOT WITH 2.6.192.6.20 KERNELS (ISSUE RELATED TOTHE I2O RAID CONTROLLER).WHAT IVE TRIED SO FAR TO WORK AROUND THIS ISSUE:- ADD THE PARAMETER DEBUG=16, RXDESCRIPTORS=4096, AND FLOWCONTROL=1 TO E1000 MODULE- ETHTOOL -K ETH0 TSO OFF- ETHTOOL -K ETH0 SG OFF- ECHO 0 > PROCSYSNETIPV4TCP_WINDOW_SCALINGNOTHING OF THIS HELPED.WHICH FURTHER INFORMATION IS NEEDED TO TRACK THIS DOWN?STEPS TO REPRODUCE:I CAN DESCRIBE THE ENTIRE SETUP NEEDED FOR REPRODUCTION (INCLUDING UNATTENDEDWINDOWS SETUP) IF THIS IS DESIRED.","SUMMARY":"CURIOUS COMMUNICATION BREAKAGE WITH E1000 AND NBT","CLASS":1}
{"ID_DEFECT":"8381","DESCRIPTION":"DISTRIBUTION: DEBIAN UNSTABLEHARDWARE ENVIRONMENT: ATHLON 3000+ ON A K8N-E-DELUXESOFTWARE ENVIRONMENT: LINUX 2.6.21-RC5PROBLEM DESCRIPTION: THE INTEGRATED NIC OF MY MOTHERBOARD SUPPORTS WOL PROPERTLYWHEN I HALD MY COMPUTER. BUT WHEN I USE SUSPEND TO RAM OR SUSPEND TO DISK, WOLDOESNT WORK ANYMORE. STEPS TO REPRODUCE:STEPS THAT WORKS :1 POWER ON THE COMPUTER2 BOOT LINUX3 EXECUTE ETHTOOL -S ETH0 WOL G4 HALT5 SEND A MAGIC PACKET WITH WAKEONLAN FROM ANOTHER COMPUTERSTEPS THAT DOESNT WORK :1 POWER ON THE COMPUTER2 BOOT LINUX3 EXECUTE ETHTOOL -S ETH0 WOL G4 CAT MEM > SYSPOWERSTATE5 SEND A MAGIC PACKET WITH WAKEONLAN FROM ANOTHER COMPUTERSAME THING WITH S2DISK.ID LIKE TO USE WOL + SUSPEND TO RAM.#LSPCISERVER:HOMEMATTHIEU# LSPCI00:00.0 HOST BRIDGE: NVIDIA CORPORATION NFORCE3 250GB HOST BRIDGE (REV A1)00:01.0 ISA BRIDGE: NVIDIA CORPORATION NFORCE3 250GB LPC BRIDGE (REV A2)00:01.1 SMBUS: NVIDIA CORPORATION NFORCE 250GB PCI SYSTEM MANAGEMENT (REV A1)00:02.0 USB CONTROLLER: NVIDIA CORPORATION CK8S USB CONTROLLER (REV A1)00:02.1 USB CONTROLLER: NVIDIA CORPORATION CK8S USB CONTROLLER (REV A1)00:02.2 USB CONTROLLER: NVIDIA CORPORATION NFORCE3 EHCI USB 2.0 CONTROLLER (REV A2)00:05.0 BRIDGE: NVIDIA CORPORATION CK8S ETHERNET CONTROLLER (REV A2)00:06.0 MULTIMEDIA AUDIO CONTROLLER: NVIDIA CORPORATION NFORCE3 250GB AC97AUDIO CONTROLLER (REV A1)00:08.0 IDE INTERFACE: NVIDIA CORPORATION CK8S PARALLEL ATA CONTROLLER (V2.5)(REV A2)00:0A.0 IDE INTERFACE: NVIDIA CORPORATION CK8S SERIAL ATA CONTROLLER (V2.5) (REV A2)00:0B.0 PCI BRIDGE: NVIDIA CORPORATION NFORCE3 250GB AGP HOST TO PCI BRIDGE (REV A2)00:0E.0 PCI BRIDGE: NVIDIA CORPORATION NFORCE3 250GB PCI-TO-PCI BRIDGE (REV A2)00:18.0 HOST BRIDGE: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON]HYPERTRANSPORT TECHNOLOGY CONFIGURATION00:18.1 HOST BRIDGE: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] ADDRESS MAP00:18.2 HOST BRIDGE: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] DRAMCONTROLLER00:18.3 HOST BRIDGE: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON]MISCELLANEOUS CONTROL01:00.0 VGA COMPATIBLE CONTROLLER: ATI TECHNOLOGIES INC RV280 [RADEON 9200 SE](REV 01)02:0A.0 ETHERNET CONTROLLER: 3COM CORPORATION 3C905B 100BASETX [CYCLONE] (REV 24)02:0B.0 FIREWIRE (IEEE 1394): VIA TECHNOLOGIES, INC. IEEE 1394 HOST CONTROLLER(REV 80)02:0C.0 MASS STORAGE CONTROLLER: SILICON IMAGE, INC. SII 3114[SATALINKSATARAID] SERIAL ATA CONTROLLER (REV 02)SERVER:HOMEMATTHIEU# LSMODMODULE                  SIZE  USED BYNFS                   242008  0 NFSD                  253320  17 EXPORTFS                6080  1 NFSDLOCKD                  65904  3 NFS,NFSDNFS_ACL                 4160  2 NFS,NFSDSUNRPC                172840  13 NFS,NFSD,LOCKD,NFS_ACLPPDEV                   9864  0 LP                     13128  0 CPUFREQ_POWERSAVE       2368  1 BUTTON                  9568  0 AC                      6536  0 BATTERY                11720  0 EXT2                   63952  1 XFS                   485096  7 RADEONFB              103552  1 FB_DDC                  3136  1 RADEONFBI2C_ALGO_BIT            8328  1 RADEONFBIT87                   23632  0 HWMON_VID               3328  1 IT87I2C_ISA                 6784  1 IT87EEPROM                  8656  0 POWERNOW_K8            11032  1 FREQ_TABLE              5320  1 POWERNOW_K8SBP2                   23940  0 LOOP                   17872  0 ANALOG                 11424  0 SND_INTEL8X0           36200  0 SND_MPU401              9576  0 SND_MPU401_UART         8896  1 SND_MPU401SND_AC97_CODEC        110936  1 SND_INTEL8X0I2C_NFORCE2             6592  0 SND_RAWMIDI            26080  1 SND_MPU401_UARTSND_SEQ_DEVICE          9044  1 SND_RAWMIDIPSMOUSE                39760  0 GAMEPORT               16784  1 ANALOGSHPCHP                 34460  0 PCI_HOTPLUG            16520  1 SHPCHPAC97_BUS                3136  1 SND_AC97_CODECI2C_CORE               24216  7RADEONFB,FB_DDC,I2C_ALGO_BIT,IT87,I2C_ISA,EEPROM,I2C_NFORCE2PARPORT_PC             36968  1 PARPORT                39308  3 PPDEV,LP,PARPORT_PCSERIO_RAW               7748  0 PCSPKR                  3456  0 SND_PCM                82572  2 SND_INTEL8X0,SND_AC97_CODECSND_TIMER              23560  1 SND_PCMSND                    60456  8SND_INTEL8X0,SND_MPU401,SND_MPU401_UART,SND_AC97_CODEC,SND_RAWMIDI,SND_SEQ_DEVICE,SND_PCM,SND_TIMERSOUNDCORE               8928  1 SNDSND_PAGE_ALLOC         10768  2 SND_INTEL8X0,SND_PCMK8TEMP                  6656  0 EVDEV                  11328  0 EXT3                  130640  1 JBD                    57392  1 EXT3MBCACHE                 9480  2 EXT2,EXT3DM_MIRROR              20416  0 DM_SNAPSHOT            17032  0 DM_MOD                 59312  19 DM_MIRROR,DM_SNAPSHOTRAID456               118560  1 MD_MOD                 76188  3 RAID456XOR                     6288  1 RAID456IDE_CD                 40672  0 CDROM                  36072  1 IDE_CDIDE_DISK               16832  3 SD_MOD                 22040  10 PATA_AMD               15584  0 SATA_NV                22468  1 ATA_GENERIC             9860  0 FLOPPY                 61640  0 SATA_SIL               13704  4 OHCI1394               34312  0 LIBATA                119656  4 PATA_AMD,SATA_NV,ATA_GENERIC,SATA_SILSCSI_MOD              155544  3 SBP2,SD_MOD,LIBATAIEEE1394              100408  2 SBP2,OHCI13943C59X                  46388  0 MII                     6272  1 3C59XGENERIC                 6468  0 [PERMANENT]AMD74XX                15728  0 [PERMANENT]IDE_CORE              139744  4 IDE_CD,IDE_DISK,GENERIC,AMD74XXFORCEDETH              46280  0 EHCI_HCD               32780  0 OHCI_HCD               20932  0 THERMAL                16400  0 PROCESSOR              27004  2 POWERNOW_K8,THERMALFAN                     6152  0","SUMMARY":"(NET FORCEDETH) DOESNT WOL ON SUSPEND","CLASS":1}
{"ID_DEFECT":"8443","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID *NOT* OCCUR: 2.6.20-15DISTRIBUTION: DEBIAN ETCH (JUST BASIC INSTALLATION VIA NETINSTALL CD)HARDWARE ENVIRONMENT:MAINBOARD MSI K9NBPM2-FID (NFORCE 430 CHIPSET) OR GA-M61P-S3 (NFORCE 430 CHIPSET)REALTEK RTL8211 GIGABIT ETHERNET CONTROLLER(ONBOARD)AMD ATHLON 64 X2 4200+ 4 GB DDR2-667 RAMSOFTWARE ENVIRONMENT: DEBIAN ETCHPROBLEM DESCRIPTION:MAC-ADDRESS OF THE ONBOARD LAN CONTROLLER IS 00:1A:4D:63:A4:9CIF I TRY TO CONFIGURE THE ETHERNET CARD VIA DHCP, A DHCP REQUEST IS STARTED WITHFOLLOWING MAC-ADDRESS: 9C:A4:63:4D:1A:00 IFCONFIG ETH0 SHOWS THE MAC-ADDRESS BACKWARDS, TOO (-> 9C:A4:63:4D:1A:00)","SUMMARY":"(NET FORCEDETH) V0.56 DELIVERS MAC-ADDRESS BACKWARDS","CLASS":1}
{"ID_DEFECT":"8472","DESCRIPTION":"DISTRIBUTION:GENTOOAMD64PROBLEM DESCRIPTION: WHEN TRY TO UP ETH0 GERNEL PRODUCES ERRORS:AFTER ETCINIT.DNET.ETH0 STARTI CANT ESTABLISH ANY CONNECTIONIN VARLOGMESSAGES I SEE:MAY 13 19:16:49 LOCALHOST APIC ERROR ON CPU0: 04(08)MAY 13 19:16:49 LOCALHOST ATL1: ETH0 LINK IS UP 100 MBPS FULL DUPLEXMAY 13 19:16:49 LOCALHOST APIC ERROR ON CPU0: 08(08)MAY 13 19:16:49 LOCALHOST APIC ERROR ON CPU0: 08(08)...SOMETIMES SYSTEM REBOOTING WITHOUT ANY ERROR IN LOGSTHERE IS WORKAROUND:ADD PCI=NOMSI INTO KERNEL BOOT COMAND LINE.","SUMMARY":"ATL1 MODULE APIC ERROR WHEN MSI ENABLED IN KERNEL 2.6.21","CLASS":1}
{"ID_DEFECT":"9208","DESCRIPTION":"MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR:LINUX-2.6.23-GIT-13DISTRIBUTION:GENTOOHARDWARE ENVIRONMENT:MACBOOK REVISION2SOFTWARE ENVIRONMENT:GCC-4.2.2, GLIBC-2.6.1-R0, 2.6.23-GIT14...17 X86_64SYS-DEVELBINUTILS:  2.18-R1SYS-APPSMODULE-INIT-TOOLS-3.2.2-R3PROBLEM DESCRIPTION:ON DMESGSKY2 ETH0: ENABLING INTERFACESKY2 ETH0: LINK IS UP AT 100 MBPS, FULL DUPLEX, FLOW CONTROL BOTHHDA: SELECTED MODE 0X44APPLETOUCH: INCOMPLETE DATA PACKAGE (FIRST BYTE: 2, LENGTH: 4).UNABLE TO HANDLE KERNEL NULL POINTER DEREFERENCE AT 00000000000003B0 RIP:  [<FFFFFFFF804AE161>] UNREGISTER_NETDEVICE+0X210X180PGD ABB2067 PUD 3EE9067 PMD 0 OOPS: 0000 [1] SMP CPU 1 MODULES LINKED IN: SND_HDA_INTEL SND_PCM SND_PAGE_ALLOC I2C_I801 SKY2PID: 4791, COMM: MODPROBE NOT TAINTED 2.6.23-GIT17 #2RIP: 0010:[<FFFFFFFF804AE161>]  [<FFFFFFFF804AE161>] UNREGISTER_NETDEVICE+0X210X180RSP: 0018:FFFF81000A9ADDF8  EFLAGS: 00010246RAX: 0000000000000000 RBX: 0000000000000000 RCX: 00000000FFFFFFFFRDX: 0000000000000000 RSI: 0000000000000000 RDI: FFFFFFFF80639050RBP: FFFF810003DA5E80 R08: 0000000000000000 R09: 000000000000102AR10: 0000000000000000 R11: FFFFFFFF8029F6A0 R12: FFFF8100022C0800R13: FFFFFFFF8800C440 R14: FFFFFFFF8800C498 R15: FFFFFFFF8800C490FS:  00002B16510C3B00(0000) GS:FFFF810002076E40(0000) KNLGS:0000000000000000CS:  0010 DS: 0000 ES: 0000 CR0: 000000008005003BCR2: 00000000000003B0 CR3: 000000000AAF4000 CR4: 00000000000026E0DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000DR3: 0000000000000000 DR6: 00000000FFFF0FF0 DR7: 0000000000000400PROCESS MODPROBE (PID: 4791, THREADINFO FFFF81000A9AC000, TASK FFFF810003E1A740)STACK:  0000000000000000 FFFFFFFF804AE2D1 0000000000000000 FFFFFFFF88004670 FFFF8100022C0870 FFFF8100022C0800 FFFF8100022C6870 FFFFFFFF80393A4C FFFFFFFF8800C440 FFFF8100022C0870 FFFFFFFF8800C440 FFFFFFFF803F91C2CALL TRACE: [<FFFFFFFF804AE2D1>] UNREGISTER_NETDEV+0X110X20 [<FFFFFFFF88004670>] :SKY2:SKY2_REMOVE+0X400XF0 [<FFFFFFFF80393A4C>] PCI_DEVICE_REMOVE+0X2C0X60 [<FFFFFFFF803F91C2>] __DEVICE_RELEASE_DRIVER+0X820XC0 [<FFFFFFFF803F9805>] DRIVER_DETACH+0XF50X100 [<FFFFFFFF803F8C2D>] BUS_REMOVE_DRIVER+0X8D0XB0 [<FFFFFFFF80393AB8>] PCI_UNREGISTER_DRIVER+0X180X90 [<FFFFFFFF8025E19D>] SYS_DELETE_MODULE+0X14D0X1E0 [<FFFFFFFF80384E82>] __UP_WRITE+0X220X130 [<FFFFFFFF8020BC5E>] SYSTEM_CALL+0X7E0X83CODE: 8B 83 B0 03 00 00 85 C0 75 39 48 89 DA 48 89 DE 48 C7 C7 20 RIP  [<FFFFFFFF804AE161>] UNREGISTER_NETDEVICE+0X210X180 RSP <FFFF81000A9ADDF8>CR2: 00000000000003B0STEPS TO REPRODUCE:RMMOD SKY2","SUMMARY":"OOPS ON SKY2, DELETE_MODULE CAUSES SIGKILL","CLASS":1}
{"ID_DEFECT":"9248","DESCRIPTION":"SUBJECT         : 2.6.24-RC1 FAILS WITH LOCKUP AND BUG:SUBMITTER       : ROMANO GIANNETTI <ROMANOL@UPCOMILLAS.ES>REFERENCES      : HTTP:LKML.ORGLKML20071024232HANDLED-BY      : INGO MOLNAR <MINGO@ELTE.HU>                  PETER ZIJLSTRA <A.P.ZIJLSTRA@CHELLO.NL>                  STEPHEN HEMMINGER <SHEMMINGER@LINUX-FOUNDATION.ORG>PATCH           : HTTP:LKML.ORGLKML20071026382","SUMMARY":"2.6.24-RC1 FAILS WITH LOCKUP AND BUG:","CLASS":1}
{"ID_DEFECT":"9257","DESCRIPTION":"SUBJECT         : 2.6.24-RC1 KILLS ONBOARD R8169 (RTL8111B) NICSUBMITTER       : SERGEY S. KOSTYLIOV <RATHAMAHATA@GMAIL.COM>REFERENCES      : HTTP:LKML.ORGLKML20071028144HANDLED-BY      : FRANCOIS ROMIEU <ROMIEU@FR.ZOREIL.COM>","SUMMARY":"2.6.24-RC1 KILLS ONBOARD R8169 (RTL8111B) NIC","CLASS":1}
{"ID_DEFECT":"9548","DESCRIPTION":"+++ THIS BUG WAS INITIALLY CREATED AS A CLONE OF BUG #9547 +++MOST RECENT KERNEL WHERE THIS BUG DID NOT OCCUR:NONEDISTRIBUTION:FEDORA 8HARDWARE ENVIRONMENT:SIS 191 PCI GIGABIT ETHERNET ADAPTER. BOTH ARE EXPECTED TO    APPEARS IN LAN ON MOTHERBOARD  SIS 968 SOUTH BRIDGE.SOFTWARE ENVIRONMENT:FEDORA 8PROBLEM DESCRIPTION:THE SIS190.KO MODULE DOESNT WORK WITH SIS 968 SOUTH BRIDGE.  YOU HAVE TO ADD THIS LINES:+       IF (!ISA_BRIDGE)+               ISA_BRIDGE = PCI_GET_DEVICE(PCI_VENDOR_ID_SI, 0X0968, NULL);+    ON SI190.C    THE SAME PROBLEM HAS BEEN RESOLVED FOR SIS966:    LOOK ON:    HTTP:BUGS.DEBIAN.ORG435547     DRIVERSNETSIS190.C |    3 +++ 1 FILES CHANGED, 3 INSERTIONS(+), 0 DELETIONS(-)DIFF --GIT ADRIVERSNETSIS190.C BDRIVERSNETSIS190.CINDEX EC2AD9F..D470B19 100644--- ADRIVERSNETSIS190.C+++ BDRIVERSNETSIS190.C@@ -1593,6 +1593,9 @@ STATIC INT __DEVINIT SIS190_GET_MAC_ADDR_FROM_APC(STRUCT PCI_DEV *PDEV,                  PCI_NAME(PDEV));         ISA_BRIDGE = PCI_GET_DEVICE(PCI_VENDOR_ID_SI, 0X0965, NULL);+       IF (!ISA_BRIDGE)+               ISA_BRIDGE = PCI_GET_DEVICE(PCI_VENDOR_ID_SI, 0X0966, NULL);+        IF (!ISA_BRIDGE)                 NET_PROBE(TP, KERN_INFO %S: CAN NOT FIND ISA BRIDGE.,                          PCI_NAME(PDEV));STEPS TO REPRODUCE:     HARDWARE PROBLEM YOU HAVE TO REPRODUCE THE PROBLEM IN A PC WITH SIS968 AND SIS191","SUMMARY":"SIS190 CHECK FOR ISA BRIDGE ON SIS968","CLASS":1}
{"ID_DEFECT":"9739","DESCRIPTION":"SUBJECT         : [PATCH] FIX 2.6.24-RC7 REGRESSION IN ASIX.CSUBMITTER       : RUSS DILL <RUSS.DILL@GMAIL.COM>DATE            : 2008-01-08 15:17REFERENCES      : HTTP:LKML.ORGLKML200818435HANDLED-BY      : RUSS DILL <RUSS.DILL@GMAIL.COM>PATCH           : HTTP:LKML.ORGLKML200818435","SUMMARY":"[PATCH] FIX 2.6.24-RC7 REGRESSION IN ASIX.C","CLASS":1}
{"ID_DEFECT":"9757","DESCRIPTION":"SUBJECT         : [REGRESSION] 2.6.24-RC7: E1000: DETECTED TX UNIT HANGSUBMITTER       : FRANS POP <ELENDIL@PLANET.NL>DATE            : 2008-01-15 06:25REFERENCES      : HTTP:LKML.ORGLKML20081154HANDLED-BY      : DAVID MILLER <DAVEM@DAVEMLOFT.NET>PATCH           : HTTP:LKML.ORGLKML20081159","SUMMARY":"[REGRESSION] 2.6.24-RC7: E1000: DETECTED TX UNIT HANG","CLASS":1}
{"ID_DEFECT":"9806","DESCRIPTION":"PROBLEM DESCRIPTION:THE TUNTAP DRIVER ONLY PERMITS ONE-WAY TRANSITIONS OF IFF_NO_PI OR IFF_ONE_QUEUE DURING THE LIFETIME OF A TAPTUN INTERFACE.  NOTE THAT TUN_SET_IFF CONTAINS 541         IF (IFR->IFR_FLAGS & IFF_NO_PI) 542                 TUN->FLAGS |= TUN_NO_PI; 543  544         IF (IFR->IFR_FLAGS & IFF_ONE_QUEUE) 545                 TUN->FLAGS |= TUN_ONE_QUEUE;THIS IS EASILY FIXED BY ADDING ELSE BRANCHES WHICH CLEAR THESE BITS.STEPS TO REPRODUCE:THIS IS EASILY REPRODUCED BY SETTING AN INTERFACE PERSISTANT USING TUNCTL THEN ATTEMPTING TO OPEN IT AS IFF_TAP OR IFF_TUN, WITHOUT ASSERTING THE IFF_NO_PI FLAG.  THE IOCTL() WILL SUCCEED AND THE IFR.FLAGS WORD IS NOT MODIFIED, BUT THE INTERFACE REMAINS IN IFF_NO_PI MODE (AS IT WAS SET BY TUNCTL).","SUMMARY":"(TUN DEV) IMPOSSIBLE TO DEASSERT IFF_ONE_QUEUE OR IFF_NO_PI","CLASS":1}
{"ID_DEFECT":"9824","DESCRIPTION":"PROBLEM DESCRIPTION:THE ASIX NETWORK DRIVER WORKS AS EXPECTED FOR GIGABIT ETHERNET. HOWEVER IT FAILS ON A 100BASETFULL CONNECTION. WIRESHARK AND STATISTICS SHOW THAT THE ADAPTER ACTUALLY DOESNT SEND NOTHING. (THE INTERFACE ON THE OTHER END DOESNT INCREASE THE PACKETS COUNT.)STEPS TO REPRODUCE:CONNECT A AX88178 DEVICE WITH AN 100MBIT NETWORK.ILL TRY TO FIND A GIT PATCH WHICH CAUSED THE ERROR.","SUMMARY":"ASIX BROKEN FOR SPEEDS < 1000BASETFULL","CLASS":1}
{"ID_DEFECT":"9940","DESCRIPTION":"LATEST WORKING KERNEL VERSION: NAEARLIEST FAILING KERNEL VERSION: 2.6.24DISTRIBUTION: GENTOO 2007.0HARDWARE ENVIRONMENT: HP COMPAQ DC7800PSOFTWARE ENVIRONMENT: NAPROBLEM DESCRIPTION:THE E1000E DRIVER DOESNT STRIP THE ETHERNET FRAME CRC IS USED WITH THE 82566DM-2 CHIP.THIS WILL RESULT, AMONG OTHER THINGS, THAT BRIDGING DOESNT WORK TOGETHER WITH THIS CHIP.REVERTING COMMIT 140A74802894E9DB57E5CD77CCFF77E590ECE5F3 FIXES THIS ISSUE BUT HAS PERFORMANCE IMPLICATIONS.STEPS TO REPRODUCE:SEND A PING AND MONITOR THE RESPONCE WITH TCPDUMP.","SUMMARY":"E1000E DRIVER WITH 82566DM-2 CONTROLLER DOESNT STRIP CRC FROM FRAMES","CLASS":1}
{"ID_DEFECT":"10031","DESCRIPTION":"SUBJECT         : [2.6.25-RC2] E100: TRYING TO FREE ALREADY-FREE IRQ 11 DURING SUSPEND ...SUBMITTER       : ANDREY BORZENKOV <ARVIDJAAR@MAIL.RU>DATE            : 2008-02-16 13:36REFERENCES      : HTTP:LKML.ORGLKML2008217125THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.24.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"[2.6.25-RC2] E100: TRYING TO FREE ALREADY-FREE IRQ 11 DURING SUSPEND ...","CLASS":1}
{"ID_DEFECT":"10473","DESCRIPTION":"LATEST WORKING KERNEL VERSION: 2.6.24.4 (FROM DEBIAN)EARLIEST FAILING KERNEL VERSION: 2.6.25 (VANILLA)DISTRIBUTION: DEBIANPROBLEM DESCRIPTION:WHILE BOOTING THE NEW 2.6.25 KERNEL, IT ENTERS AN INFINITE LOOPING DISPLAYING B44: ETH0: POWERING DOWN PHY.THE SYSTEM ISNT FREEZED AS MAGICK SYSRQ KEYS WORKS, BUT IT JUST STAY DISPLAYING THOSE MESSAGES. I AM UNABLE TO DUMP ANY INFORMATION USING SYSRQ, HOWEVER (AS THE B44(...) MESSAGES ARE TOO FAST).I WILL ATTACH LSPCI OUTPUT AND MY .CONFIG","SUMMARY":"INFINITE LOOP B44: ETH0: POWERING DOWN PHY","CLASS":1}
{"ID_DEFECT":"10577","DESCRIPTION":"LATEST WORKING KERNEL VERSION:EARLIEST FAILING KERNEL VERSION:DISTRIBUTION: DEBIANHARDWARE ENVIRONMENT: INTEL CLASSICR+ WITH INTEL ETHEREXPRESS 16SOFTWARE ENVIRONMENT: DEBIAN TESTING (LENNY)PROBLEM DESCRIPTION:I WAS UNABLE TO ACCESS A COMPUTER CONTAINING AN INTEL ETHEREXPRESS16 NETWORK CARD USING IPV6.I TRACED THIS TO FAILURE OF NEIGHBOUR DISCOVERY. WHEN I USED ANIP -6 NEIGH ADD COMMAND, ON THE COMPUTER ATTEMPTING ACCESS, TOINSERT A BINDING BETWEEN THE IPV6 ADDRESS OF THE COMPUTER WITHTHE INTEL ETHEREXPRESS 16 NETWORK CARD AND THE CARDS ETHERNETADDRESS, I WAS ABLE TO ACCESS THAT COMPUTER USING IPV6.NEIGHBOUR DISCOVERY REQUIRES WORKING MULTICAST. THE DRIVERSOURCES FILE EEXPRESS.C CONTAINS AN APPROXIMATELY 30 LINEFUNCTION EEXP_SETUP_FILTER USED WHEN LOADING MULTICAST ADDRESSES.I FOUND 3 PROBLEMS IN THIS FUNCTION1)  IT WROTE THE NUMBER OF MULTICAST ADDRESSES TO THE CARD INSTEAD    OF THE NUMBER OF BYTES IN THE MULTICAST ADDRESSES.2)  WHEN LOADING MULTIPLE MULTICAST ADDRESSES IT LOADED THE FIRST    ONE PROVIDED MULTIPLE TIMES INSTEAD OF LOADING EACH ONE ONCE.3)  THE SETTING OF POINTER DATA FROM DMI->DMI_ADDR OCCURED BEFORE    THE TEST FOR THE ERROR SITUATION OF DMI BEING NULL.CORRECTING THESE PROBLEMS ALLOWS THE COMPUTER WITH THE INTELETHEREXPRESS 16 NETWORK CARD TO FOUND BY IPV6 NEIGHBOUR DISCOVERY.P.S. THERE IS SOME INFORMATION ON THE INTEL ETHEREXPRESS 16 ATHTTP:WWW.INTEL.COMSUPPORTETHEREXPRESSVINTAGESBCS-013500.HTMDATASHEET FOR THE INTEL 82586 ETHERNET CONTROLLER USED BY THE CARDHTTP:WWW.DATASHEETCATALOG.COMDATASHEETS_PDF825882586.SHTML--- EEXPRESS.C.000      2008-01-24 22:58:37.000000000 +0000+++ EEXPRESS.C  2008-04-30 00:17:51.000000000 +0100@@ -201,9 +201,9 @@        0X0000,CMD_MCAST,        0X0076,                 * LINK TO NEXT COMMAND * #DEFINE CONF_NR_MULTICAST 0X44-       0X0000,                 * NUMBER OF MULTICAST ADDRESSES *+       0X0000,                 * NUMBER OF BYTES IN MULTICAST ADDRESS(ES) * #DEFINE CONF_MULTICAST 0X46        0X0000, 0X0000, 0X0000, * SOME ADDRESSES *        0X0000, 0X0000, 0X0000,        0X0000, 0X0000, 0X0000,@@ -1568,9 +1568,9 @@  STATIC VOID EEXP_SETUP_FILTER(STRUCT NET_DEVICE *DEV) -       STRUCT DEV_MC_LIST *DMI = DEV->MC_LIST;+       STRUCT DEV_MC_LIST *DMI;        UNSIGNED SHORT IOADDR = DEV->BASE_ADDR;        INT COUNT = DEV->MC_COUNT;        INT I;        IF (COUNT > 8) @@ -1579,19 +1579,20 @@                COUNT = 8;                OUTW(CONF_NR_MULTICAST & ~31, IOADDR+SM_PTR);-       OUTW(COUNT, IOADDR+SHADOW(CONF_NR_MULTICAST));-       FOR (I = 0; I < COUNT; I++) -               UNSIGNED SHORT *DATA = (UNSIGNED SHORT *)DMI->DMI_ADDR;+       OUTW(6*COUNT, IOADDR+SHADOW(CONF_NR_MULTICAST));+       FOR (I = 0, DMI = DEV->MC_LIST; I < COUNT; I++, DMI = DMI->NEXT) +               UNSIGNED SHORT *DATA;                IF (!DMI)                         PRINTK(KERN_INFO %S: TOO FEW MULTICAST ADDRESSES, DEV->NAME);                        BREAK;                                IF (DMI->DMI_ADDRLEN != ETH_ALEN)                         PRINTK(KERN_INFO %S: INVALID MULTICAST ADDRESS LENGTH GIVEN., DEV->NAME);                        CONTINUE;                +               DATA = (UNSIGNED SHORT *)DMI->DMI_ADDR;                OUTW((CONF_MULTICAST+(6*I)) & ~31, IOADDR+SM_PTR);                OUTW(DATA[0], IOADDR+SHADOW(CONF_MULTICAST+(6*I)));                OUTW((CONF_MULTICAST+(6*I)+2) & ~31, IOADDR+SM_PTR);                OUTW(DATA[1], IOADDR+SHADOW(CONF_MULTICAST+(6*I)+2));","SUMMARY":"IPV6 TO INTEL ETHEREXPRESS 16 FAILS - MULTICAST PROBLEMS","CLASS":1}
{"ID_DEFECT":"10665","DESCRIPTION":"LATEST WORKING KERNEL VERSION:EARLIEST FAILING KERNEL VERSION:DISTRIBUTION: UBUNTU 8.04HARDWARE ENVIRONMENT: THOSHIBA SATELLITE NOTEBOOKSOFTWARE ENVIRONMENT: UBUNTU ALTERNATE I386 INSTALLATION PROBLEM DESCRIPTION:HI, I JUST TRIED TO INSTALL UBUNTU 8.04 WITH THE I386 ALTERNATE CD ON A BRAND NEW TOSHIBA SATELLITE NOTEBOOK. INSTALLATION REPRODUCIBLY FAILS DUE TO A KERNEL CRASH AT THE MOMENT WHEN THE R8169 DRIVER IS INSERTED. ILL ATTACH DMESG AND LSPCI OUTPUT. REGARDSSTEPS TO REPRODUCE:","SUMMARY":"KERNEL CRASH ON REALTEK RTL8101E ETHERNET CONTROLLER","CLASS":1}
{"ID_DEFECT":"10690","DESCRIPTION":"HARDWARE ENVIRONMENT: APPLE USB ETHERNET ADAPTERPROBLEM DESCRIPTION:THE ATTACHED PATCH ADDS SUPPORT FOR THE APPLE USB ETHERNET ADAPTER.HTTP:STORE.APPLE.COM1-800-MY-APPLEWEBOBJECTSAPPLESTORE.WOAWARSLID?NPLM=MB442ZA","SUMMARY":"[PATCH] ADD SUPPORT FOR APPLE USB ETHERNET ADAPTER","CLASS":1}
{"ID_DEFECT":"10994","DESCRIPTION":"LATEST WORKING KERNEL VERSION: NONEEARLIEST FAILING KERNEL VERSION: ALLDISTRIBUTION: NAHARDWARE ENVIRONMENT: DUAL CORE CELERON, AP5SDZVM ASUS BOARDPROBLEM DESCRIPTION:PHY->ID[0] = 0X004DPHY->ID[1] = 0XD021APPEARS THAT THIS PARTICULAR BOARD HAS AN UNKNOWN MII CHIP, ABOVE IS THE TWO IDS.IM USING LATEST SIS190.C AND WILL TRY THE ABOVE IDS SHORTLY TO SEE IF IT AT LEAST WORKS. HAVE NO CLUE WHAT BRAND THIS PHY IS THO.STEPS TO REPRODUCE:MODPROBE SIS190   ON THE ABOVE ASUS MOTHERBOARD.","SUMMARY":"SIS191 UNKNOWN PHY (004D:D021)","CLASS":1}
{"ID_DEFECT":"11189","DESCRIPTION":"SUBJECT    : RE: LINUX-NEXT: TREE FOR JULY 18: SKY2 WOL BROKENSUBMITTER  : RAFAEL J. WYSOCKI <RJW@SISK.PL>DATE       : 2008-07-20 0:20:10REFERENCES : HTTP:MARC.INFO?L=LINUX-NEXT&M=121651311115104&W=4HANDLED-BY : STEPHEN HEMMINGER <SHEMMINGER@VYATTA.COM>PATCH      : HTTP:MARC.INFO?L=LINUX-NETDEV&M=121694346401281&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.26.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"SKY2 WOL BROKEN","CLASS":1}
{"ID_DEFECT":"11228","DESCRIPTION":"SUBJECT    : P54USB BROKEN BY COMMIT B19FA1FSUBMITTER  : LARRY FINGER <LARRY.FINGER@LWFINGER.NET>DATE       : 2008-08-02 3:06REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=121764647801783&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.26.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"P54USB BROKEN BY COMMIT B19FA1F","CLASS":1}
{"ID_DEFECT":"11436","DESCRIPTION":"SUBJECT    : IXGBE: FIX VLAN FILTERINGSUBMITTER  : JEFF KIRSHER <JEFFREY.T.KIRSHER@INTEL.COM>DATE       : 2008-08-27 1:30REFERENCES : HTTP:MARC.INFO?L=LINUX-NETDEV&M=121980061622847&W=4HANDLED-BY : ALEXANDER DUYCK <ALEXANDER.H.DUYCK@INTEL.COM>PATCH      : HTTP:MARC.INFO?L=LINUX-NETDEV&M=121980061622847&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.26.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"IXGBE: FIX VLAN FILTERING","CLASS":1}
{"ID_DEFECT":"11701","DESCRIPTION":"SUBJECT    : REGRESSION IN 2.6.27-RC7: WAKE ON LAN WITH SKY2 BROKENSUBMITTER  : TINO KEITEL <TINO.KEITEL@GMX.DE>DATE       : 2008-09-24 8:05REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=122224359222164&W=4HANDLED-BY : RAFAEL J. WYSOCKI <RJW@SISK.PL>PATCH      : HTTP:MARC.INFO?L=LINUX-KERNEL&M=122298334522551&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.26.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"SKY2 WOL REGRESSION","CLASS":1}
{"ID_DEFECT":"11865","DESCRIPTION":"LATEST WORKING KERNEL VERSION: 2.6.27EARLIEST FAILING KERNEL VERSION: 2.6.27DISTRIBUTION: GENTOOHARDWARE ENVIRONMENT: 2X750P3 1G RAM W 00:14.0 ETHERNET CONTROLLER: INTEL CORPORATION 8255789 [ETHERNET PRO 100] (REV 08)PROBLEM DESCRIPTION:AS OF KERNEL VERSION 2.6.27, WOL HAS STOPPED WORKING.  THE BOX NO LONGER POWERS ON AFTER THE MAGIC PACKET HAS BEEN SENT.  REBOOTING USING KERNEL-2.6.26*, WOL *DOES* WORK!STEPS TO REPRODUCE:(NOT NEEDED.  SELF EXPLANATORY.)I NOTICED 3 LINES OF CODE IN E100.C ADDEDMODIFIED SINCE 2.6.26*, HOWEVER, I REVERSED 2 LINES OF CODE TO 2.6.26 AND THE OTHER LINE WAS JUST ADDED AN ADDITIONAL POINTER, FOR WHICH I LEFT ALONE.  RECOMPILED, REBOOTED AND WOL STILL DIDNT WORK USING 2.6.27.  IM GUESSING, THE SOURCE OF THIS BUG LIES ELSEWHERE.","SUMMARY":"WOL FOR E100 DOESNT WORK ANYMORE","CLASS":1}
{"ID_DEFECT":"11914","DESCRIPTION":"SUBJECT    : 2.6.28-RC2 HATES MY E1000ESUBMITTER  : JONATHAN CORBET <CORBET@LWN.NET>DATE       : 2008-10-30 23:44REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=122541033604141&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.27.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"2.6.28-RC2 HATES MY E1000E","CLASS":1}
{"ID_DEFECT":"12867","DESCRIPTION":"SUBJECT    : [BUG] 2.6.29-RC7 BROKE R8169 MAC ON THECUS N2100 ARM BOARDSUBMITTER  : MIKAEL PETTERSSON <MIKPE@IT.UU.SE>DATE       : 2009-03-09 20:29REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=123663065403760&W=4HANDLED-BY : FRANCOIS ROMIEU <ROMIEU@FR.ZOREIL.COM>THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.28.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"2.6.29-RC7 BROKE R8169 MAC ON THECUS N2100 ARM BOARD","CLASS":1}
{"ID_DEFECT":"12886","DESCRIPTION":"LATEST WORKING KERNEL VERSION:  -EARLIEST FAILING KERNEL VERSION: COMMIT 5177B3240A6608FC0C9C05CC32F4855C6540F8D5DISTRIBUTION: FEDORA (WITH STANDARD MAINLINE KERNEL)HARDWARE ENVIRONMENT: ASUS A7V880-MOTHERBOARDSOFTWARE ENVIRONMENT: FEDORA 9PROBLEM DESCRIPTION: THE SKGE-DRIVERS COMMIT FROM LAST OCTOBER SEEMS TO HAVE BROKEN THE WAKE-ON-LAN FEATURE FROM MY MACHINE. REVERTING THE ABOVE MENTIONED COMMIT FIXES THE PROBLEM AGAIN IE. WOL IS WORKING AGAIN WITHOUT PROBLEMS.THE BROKEN PATCH DID NOT PRODUCE ANY ERRORS OR SUCH, ONLY SYMPTOM WAS THAT WOL DID NOT WORK ANYMORE. THE LOADING OF THE NVIDIA MODULE DID NOT CHANGE THE SITUATION AT ALL (FOR THE RECORD).VALEN#ROOT>LSPCI -VV00:00.0 HOST BRIDGE: VIA TECHNOLOGIES, INC. KT880 HOST BRIDGE (REV 80)TSUBSYSTEM: ASUSTEK COMPUTER INC. UNKNOWN DEVICE 8122TCONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR+ FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ+ UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT+ >SERR- <PERR- INTX-TLATENCY: 96TREGION 0: MEMORY AT E0000000 (32-BIT, PREFETCHABLE) [SIZE=256M]TCAPABILITIES: [80] AGP VERSION 3.5TTSTATUS: RQ=32 ISO- ARQSZ=0 CAL=2 SBA+ ITACOH- GART64- HTRANS- 64BIT- FW+ AGP3+ RATE=X8TTCOMMAND: RQ=1 ARQSZ=0 CAL=0 SBA- AGP- GART64- 64BIT- FW- RATE=<NONE>TCAPABILITIES: [50] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-00:00.1 HOST BRIDGE: VIA TECHNOLOGIES, INC. KT880 HOST BRIDGETSUBSYSTEM: ASUSTEK COMPUTER INC. UNKNOWN DEVICE 8122TCONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP- 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 000:00.2 HOST BRIDGE: VIA TECHNOLOGIES, INC. KT880 HOST BRIDGETSUBSYSTEM: ASUSTEK COMPUTER INC. UNKNOWN DEVICE 8122TCONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP- 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 000:00.3 HOST BRIDGE: VIA TECHNOLOGIES, INC. KT880 HOST BRIDGETSUBSYSTEM: ASUSTEK COMPUTER INC. UNKNOWN DEVICE 8122TCONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP- 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 000:00.4 HOST BRIDGE: VIA TECHNOLOGIES, INC. KT880 HOST BRIDGETSUBSYSTEM: ASUSTEK COMPUTER INC. UNKNOWN DEVICE 8122TCONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP- 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 000:00.7 HOST BRIDGE: VIA TECHNOLOGIES, INC. KT880 HOST BRIDGETSUBSYSTEM: ASUSTEK COMPUTER INC. UNKNOWN DEVICE 8122TCONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP- 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 000:01.0 PCI BRIDGE: VIA TECHNOLOGIES, INC. VT8237VX700 PCI BRIDGE (PROG-IF 00 [NORMAL DECODE])TCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR+ FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ+ UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 0TBUS: PRIMARY=00, SECONDARY=01, SUBORDINATE=01, SEC-LATENCY=0TMEMORY BEHIND BRIDGE: FC100000-FE2FFFFFTPREFETCHABLE MEMORY BEHIND BRIDGE: 9FF00000-AFEFFFFFTSECONDARY STATUS: 66MHZ+ FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT+ <SERR- <PERR+TBRIDGECTL: PARITY+ SERR+ NOISA- VGA+ MABORT- >RESET- FASTB2B-TTPRIDISCTMR- SECDISCTMR- DISCTMRSTAT- DISCTMRSERREN-TCAPABILITIES: [70] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1+ D2- AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-00:09.0 ETHERNET CONTROLLER: MARVELL TECHNOLOGY GROUP LTD. 88E8001 GIGABIT ETHERNET CONTROLLER (REV 13)TSUBSYSTEM: ASUSTEK COMPUTER INC. MARVELL 88E8001 GIGABIT ETHERNET CONTROLLER (ASUS)TCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR- STEPPING- SERR+ FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ+ UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 96 (5750NS MIN, 7750NS MAX), CACHE LINE SIZE: 32 BYTESTINTERRUPT: PIN A ROUTED TO IRQ 18TREGION 0: MEMORY AT FE400000 (32-BIT, NON-PREFETCHABLE) [SIZE=16K]TREGION 1: IO PORTS AT E000 [SIZE=256]TEXPANSION ROM AT FE300000 [DISABLED] [SIZE=128K]TCAPABILITIES: [48] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=0MA PME(D0+,D1+,D2+,D3HOT+,D3COLD+)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=1 PME-TCAPABILITIES: [50] VITAL PRODUCT DATA <?>TKERNEL DRIVER IN USE: SKGE00:0F.0 RAID BUS CONTROLLER: VIA TECHNOLOGIES, INC. VIA VT6420 SATA RAID CONTROLLER (REV 80)TSUBSYSTEM: ASUSTEK COMPUTER INC. A7V600K8V DELUXEK8V-XA8V DELUXE MOTHERBOARDTCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 96TINTERRUPT: PIN B ROUTED TO IRQ 20TREGION 0: IO PORTS AT EFF0 [SIZE=8]TREGION 1: IO PORTS AT EFE4 [SIZE=4]TREGION 2: IO PORTS AT EFA8 [SIZE=8]TREGION 3: IO PORTS AT EFE0 [SIZE=4]TREGION 4: IO PORTS AT EF90 [SIZE=16]TREGION 5: IO PORTS AT E800 [SIZE=256]TCAPABILITIES: [C0] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL DRIVER IN USE: SATA_VIA00:0F.1 IDE INTERFACE: VIA TECHNOLOGIES, INC. VT82C586ABVT82C686ABVT823XAC PIPC BUS MASTER IDE (REV 06) (PROG-IF 8A [MASTER SECP PRIP])TSUBSYSTEM: ASUSTEK COMPUTER INC. A7V600K8V-XA8V DELUXE MOTHERBOARDTCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 32TINTERRUPT: PIN A ROUTED TO IRQ 20TREGION 0: [VIRTUAL] MEMORY AT 000001F0 (32-BIT, NON-PREFETCHABLE) [SIZE=8]TREGION 1: [VIRTUAL] MEMORY AT 000003F0 (TYPE 3, NON-PREFETCHABLE) [SIZE=1]TREGION 2: [VIRTUAL] MEMORY AT 00000170 (32-BIT, NON-PREFETCHABLE) [SIZE=8]TREGION 3: [VIRTUAL] MEMORY AT 00000370 (TYPE 3, NON-PREFETCHABLE) [SIZE=1]TREGION 4: IO PORTS AT FC00 [SIZE=16]TCAPABILITIES: [C0] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL DRIVER IN USE: PATA_VIA00:10.0 USB CONTROLLER: VIA TECHNOLOGIES, INC. VT82XXXXX UHCI USB 1.1 CONTROLLER (REV 81) (PROG-IF 00 [UHCI])TSUBSYSTEM: VIA TECHNOLOGIES, INC. VT82XXXXX UHCI USB 1.1 CONTROLLERTCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 96, CACHE LINE SIZE: 32 BYTESTINTERRUPT: PIN A ROUTED TO IRQ 21TREGION 4: IO PORTS AT EEC0 [SIZE=32]TCAPABILITIES: [80] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=375MA PME(D0+,D1+,D2+,D3HOT+,D3COLD+)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL DRIVER IN USE: UHCI_HCDTKERNEL MODULES: UHCI-HCD00:10.1 USB CONTROLLER: VIA TECHNOLOGIES, INC. VT82XXXXX UHCI USB 1.1 CONTROLLER (REV 81) (PROG-IF 00 [UHCI])TSUBSYSTEM: VIA TECHNOLOGIES, INC. VT82XXXXX UHCI USB 1.1 CONTROLLERTCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 96, CACHE LINE SIZE: 32 BYTESTINTERRUPT: PIN A ROUTED TO IRQ 21TREGION 4: IO PORTS AT EF00 [SIZE=32]TCAPABILITIES: [80] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=375MA PME(D0+,D1+,D2+,D3HOT+,D3COLD+)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL DRIVER IN USE: UHCI_HCDTKERNEL MODULES: UHCI-HCD00:10.2 USB CONTROLLER: VIA TECHNOLOGIES, INC. VT82XXXXX UHCI USB 1.1 CONTROLLER (REV 81) (PROG-IF 00 [UHCI])TSUBSYSTEM: VIA TECHNOLOGIES, INC. VT82XXXXX UHCI USB 1.1 CONTROLLERTCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 96, CACHE LINE SIZE: 32 BYTESTINTERRUPT: PIN B ROUTED TO IRQ 21TREGION 4: IO PORTS AT EF20 [SIZE=32]TCAPABILITIES: [80] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=375MA PME(D0+,D1+,D2+,D3HOT+,D3COLD+)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL DRIVER IN USE: UHCI_HCDTKERNEL MODULES: UHCI-HCD00:10.3 USB CONTROLLER: VIA TECHNOLOGIES, INC. VT82XXXXX UHCI USB 1.1 CONTROLLER (REV 81) (PROG-IF 00 [UHCI])TSUBSYSTEM: VIA TECHNOLOGIES, INC. VT82XXXXX UHCI USB 1.1 CONTROLLERTCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 96, CACHE LINE SIZE: 32 BYTESTINTERRUPT: PIN B ROUTED TO IRQ 21TREGION 4: IO PORTS AT EF40 [SIZE=32]TCAPABILITIES: [80] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=375MA PME(D0+,D1+,D2+,D3HOT+,D3COLD+)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL DRIVER IN USE: UHCI_HCDTKERNEL MODULES: UHCI-HCD00:10.4 USB CONTROLLER: VIA TECHNOLOGIES, INC. USB 2.0 (REV 86) (PROG-IF 20 [EHCI])TSUBSYSTEM: VIA TECHNOLOGIES, INC. USB 2.0TCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV+ VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 96, CACHE LINE SIZE: 64 BYTESTINTERRUPT: PIN C ROUTED TO IRQ 21TREGION 0: MEMORY AT FE900000 (32-BIT, NON-PREFETCHABLE) [SIZE=256]TCAPABILITIES: [80] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=375MA PME(D0+,D1+,D2+,D3HOT+,D3COLD+)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL DRIVER IN USE: EHCI_HCDTKERNEL MODULES: EHCI-HCD00:11.0 ISA BRIDGE: VIA TECHNOLOGIES, INC. VT8237 ISA BRIDGE [KT600K8T800K8T890 SOUTH]TSUBSYSTEM: ASUSTEK COMPUTER INC. A7V600K8V-XA8V DELUXE MOTHERBOARDTCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 0TCAPABILITIES: [C0] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL MODULES: I2C-VIAPRO00:11.5 MULTIMEDIA AUDIO CONTROLLER: VIA TECHNOLOGIES, INC. VT8233A82358237 AC97 AUDIO CONTROLLER (REV 60)TSUBSYSTEM: ASUSTEK COMPUTER INC. ASUS P5VD1-X (AD1888 CODEC [SOUNDMAX])TCONTROL: IO+ MEM- BUSMASTER- SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TINTERRUPT: PIN C ROUTED TO IRQ 22TREGION 0: IO PORTS AT E400 [SIZE=256]TCAPABILITIES: [C0] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1+ D2+ AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TKERNEL DRIVER IN USE: VIA 82XX AUDIOTKERNEL MODULES: SND-VIA82XX00:11.6 COMMUNICATION CONTROLLER: VIA TECHNOLOGIES, INC. AC97 MODEM CONTROLLER (REV 80)TCONTROL: IO- MEM- BUSMASTER- SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TINTERRUPT: PIN C ROUTED TO IRQ 0TREGION 0: IO PORTS AT 1000 [DISABLED] [SIZE=256]TCAPABILITIES: [D0] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-01:00.0 VGA COMPATIBLE CONTROLLER: NVIDIA CORPORATION NV34 [GEFORCE FX 5200] (REV A1) (PROG-IF 00 [VGA CONTROLLER])TSUBSYSTEM: XFX PINE GROUP INC. UNKNOWN DEVICE 1280TCONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR- FASTB2B- DISINTX-TSTATUS: CAP+ 66MHZ+ UDF- FASTB2B+ PARERR- DEVSEL=MEDIUM >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-TLATENCY: 248 (1250NS MIN, 250NS MAX)TINTERRUPT: PIN A ROUTED TO IRQ 16TREGION 0: MEMORY AT FD000000 (32-BIT, NON-PREFETCHABLE) [SIZE=16M]TREGION 1: MEMORY AT A0000000 (32-BIT, PREFETCHABLE) [SIZE=128M]T[VIRTUAL] EXPANSION ROM AT FE200000 [DISABLED] [SIZE=128K]TCAPABILITIES: [60] POWER MANAGEMENT VERSION 2TTFLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT-,D3COLD-)TTSTATUS: D0 PME-ENABLE- DSEL=0 DSCALE=0 PME-TCAPABILITIES: [44] AGP VERSION 3.0TTSTATUS: RQ=32 ISO- ARQSZ=0 CAL=3 SBA+ ITACOH- GART64- HTRANS- 64BIT- FW+ AGP3+ RATE=X4,X8TTCOMMAND: RQ=1 ARQSZ=0 CAL=0 SBA- AGP- GART64- 64BIT- FW- RATE=<NONE>TKERNEL DRIVER IN USE: NVIDIATKERNEL MODULES: NVIDIA","SUMMARY":"SKGE WAKE ON LAN","CLASS":1}
{"ID_DEFECT":"13027","DESCRIPTION":"SUBJECT    : RESUME AFTER HIBERNATION REGRESSION IN 2.6.29SUBMITTER  : TVRTKO A. URSULIN <TVRTKO@URSULIN.NET>DATE       : 2009-03-27 20:09REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=123818507814476&W=4HANDLED-BY : ED SWIERK <ESWIERK@ARISTANETWORKS.COM>PATCH      : HTTP:MARC.INFO?L=LINUX-KERNEL&M=123878076717061&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.28.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"RESUME AFTER HIBERNATION REGRESSION IN FORCEDETH","CLASS":1}
{"ID_DEFECT":"13072","DESCRIPTION":"HELLO,IVE BUILT A VANILLA 2.6.29.1 ON A DEBIAN LENNY (STABLE) SYSTEM. AFTER RECOGNIZING THAT I WILL NOT GET LIRC WORKING ON 2.6.29, I WANTED TO SWITCH BACK TO 2.6.28.9. BUT ON ANY OTHER KERNEL THAN 2.6.29.1, THE NETWORK INTERFACE IS DOWN (NO LEDS NO LINK).IFCONFIG ON 2.6.28.9 IS REPORTING NO LINK FOR ETH0, SO THE DRIVER SEEMS TO BE LOADED FINE...THE FORCEDETH FROM 2.6.29.1 SEEMS TO SHUT DOWN THE INTERFACE ON SHUTDOWN, SO NO OTHER KERNEL CAN USE IT.","SUMMARY":"FORCEDETH SEEMS TO SWITCH OFF ETH ON SHUTDOWN","CLASS":1}
{"ID_DEFECT":"13111","DESCRIPTION":"SUBJECT    : LINUX 2.6.30-RC1 TG3 ENDIAN ISSUES WITH MAC ADDRESSES ON BCM5701.  BISECTED.SUBMITTER  : ROBIN HOLT <HOLT@SGI.COM>DATE       : 2009-04-08 7:12REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=123917477312823&W=4HANDLED-BY : MATT CARLSON <MCARLSON@BROADCOM.COM>THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.29.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.CAUSED BY:COMMIT E4F341103E4A2B35F56A0F89802F1B1448E8D04BAUTHOR: MATT CARLSON <MCARLSON@BROADCOM.COM>DATE:   WED FEB 25 14:25:00 2009 +0000    TG3: INVERT NVRAM_READ() AND NVRAM_READ_SWAB()    SIGNED-OFF-BY: MATT CARLSON <MCARLSON@BROADCOM.COM>    SIGNED-OFF-BY: BENJAMIN LI <BENLI@BROADCOM.COM>    SIGNED-OFF-BY: MICHAEL CHAN <MCHAN@BROADCOM.COM>    SIGNED-OFF-BY: DAVID S. MILLER <DAVEM@DAVEMLOFT.NET>FIRST-BAD-COMMIT : E4F341103E4A2B35F56A0F89802F1B1448E8D04B","SUMMARY":"LINUX 2.6.30-RC1 TG3 ENDIAN ISSUES WITH MAC ADDRESSES ON BCM5701","CLASS":1}
{"ID_DEFECT":"13183","DESCRIPTION":"SUBJECT    : FORCEDETH, 2.6.29.1: NO LINK DURING INITIALIZATIONSUBMITTER  : HARALD DUNKEL <HARALD.DUNKEL@T-ONLINE.DE>DATE       : 2009-04-23 13:02REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=124049180309233&W=4THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.28.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"FORCEDETH: NO LINK DURING INITIALIZATION","CLASS":1}
{"ID_DEFECT":"13914","DESCRIPTION":"LATEST WORKING KERNEL VERSION: 2.6.31-RC2EARLIEST FAILING KERNEL VERSION: 2.6.31-RC3DISTRIBUTION: GENTOOAS OF COMMIT 28C9195A570A32DE2760310CA278D44A4FD060A4, THE E1000EDRIVER IS REPORTING AN INVALID NVM CHECKSUM ON AN 82566 TWO PORTGIG-E NETWORK ADAPTER.RING BUFFER:[  644.732977] E1000E: INTEL(R) PRO1000 NETWORK DRIVER - 1.0.2-K2[  644.732980] E1000E: COPYRIGHT (C) 1999-2008 INTEL CORPORATION.[  644.733031] E1000E 0000:00:19.0: PCI INT A -> GSI 16 (LEVEL, LOW) -> IRQ 16[  644.733040] E1000E 0000:00:19.0: SETTING LATENCY TIMER TO 64[  644.733132] E1000E 0000:00:19.0: IRQ 51 FOR MSIMSI-X[  644.780841] 0000:00:19.0: 0000:00:19.0: THE NVM CHECKSUM IS NOT VALID[  644.801115] E1000E 0000:00:19.0: PCI INT A DISABLED[  644.801126] E1000E: PROBE OF 0000:00:19.0 FAILED WITH ERROR -5LSPCI -VV (KERNEL 28C915^)00:19.0 ETHERNET CONTROLLER: INTEL CORPORATION 82566DM-2 GIGABIT NETWORK CONNECTION (REV 02)        SUBSYSTEM: SUPER MICRO COMPUTER INC DEVICE 10BD        CONTROL: IO+ MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR+ STEPPING- SERR+ FASTB2B- DISINTX+        STATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=FAST >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-        LATENCY: 0        INTERRUPT: PIN A ROUTED TO IRQ 51        REGION 0: MEMORY AT C3500000 (32-BIT, NON-PREFETCHABLE) [SIZE=128K]        REGION 1: MEMORY AT C3521000 (32-BIT, NON-PREFETCHABLE) [SIZE=4K]        REGION 2: IO PORTS AT 1820 [SIZE=32]        CAPABILITIES: [C8] POWER MANAGEMENT VERSION 2                FLAGS: PMECLK- DSI+ D1- D2- AUXCURRENT=0MA PME(D0+,D1-,D2-,D3HOT+,D3COLD+)                STATUS: D0 PME-ENABLE- DSEL=0 DSCALE=1 PME-        CAPABILITIES: [D0] MESSAGE SIGNALLED INTERRUPTS: MASK- 64BIT+ QUEUE=00 ENABLE+                ADDRESS: 00000000FEE0F00C  DATA: 4199        CAPABILITIES: [E0] PCIE ADVANCED FEATURES <?>        KERNEL DRIVER IN USE: E1000E        KERNEL MODULES: E1000E","SUMMARY":"E1000E REPORTS INVALID NVM CHECKSUM ON 82566DM-2 (BISECTED)","CLASS":1}
{"ID_DEFECT":"14200","DESCRIPTION":"SOMEWHEN AFTER BOOOTING UP, THE KERNEL OOPSES WITH THE FOLLOWING OUTPUT (CAPTURED VIA SERIAL CONSOLE, EVERYTHING ELSE IS DEAD):[  355.736310] BUG: UNABLE TO HANDLE KERNEL PAGING REQUEST AT 0000006600000002[  355.736390] IP: [<FFFFFFFF810A87CE>] PUT_PAGE+0X160X127[  355.736390] PGD 0[  355.736390] OOPS: 0000 [#1] PREEMPT SMP[  355.736390] LAST SYSFS FILE: SYSDEVICESSYSTEMCPUCPU0CPUFREQSCALING_AVAILABLE_GOVERNORS[  355.736390] CPU 3[  355.736390] MODULES LINKED IN: RADEON TTM DRM I2C_ALGO_BIT BNEP SCO L2CAP BLUETOOTH BINFMT_MISC W83627HF_WDT DM_SNAPSHOT DM_MIRROR DM_REGION_HASH DM_LOG FUSE NFSD NFS LOCKD FSCACHE NFS_ACL AUTH_RPCGSS SUNRPC IPV6 XFS EXPORTFS EXT3 JBD EEPROM LM85 HWMON_VID POWERNOW_K8 SBP2 LOOP RAID1 MD_MOD SND_INTEL8X0 SND_AC97_CODEC AC97_BUS SND_PCM SND_SEQ SND_TIMER SND_SEQ_DEVICE PSMOUSE I2C_AMD756 I2C_AMD8111 SND RTC_CMOS SOUNDCORE SERIO_RAW PCSPKR EVDEV I2C_CORE RTC_CORE AMD_RNG SND_PAGE_ALLOC BUTTON RTC_LIB PROCESSOR RNG_CORE K8TEMP EXT4 MBCACHE JBD2 CRC16 SHA256_GENERIC AES_X86_64 AES_GENERIC CBC DM_CRYPT DM_MOD SG SD_MOD CRC_T10DIF SR_MOD CDROM USBHID HID PATA_AMD SATA_SIL OHCI_HCD OHCI1394 LIBATA TG3 LIBPHY EHCI_HCD IEEE1394 SCSI_MOD USBCORE THERMAL FAN THERMAL_SYS [LAST UNLOADED: SCSI_WAIT_SCAN][  355.736390] PID: 13, COMM: KSOFTIRQD3 NOT TAINTED 2.6.31-RC5-01932-G882E979 #88 TO BE FILLED BY O.E.M.[  355.845876] RIP: 0010:[<FFFFFFFF810A87CE>]  [<FFFFFFFF810A87CE>] PUT_PAGE+0X160X127[  355.845876] RSP: 0018:FFFFC90000603CC8  EFLAGS: 00010292[  355.845876] RAX: 0000000000000000 RBX: 0000000000000001 RCX: 0000000000000870[  355.845876] RDX: FFFF88007DCA8680 RSI: FFFF88007FC027E0 RDI: 0000006600000002[  355.845876] RBP: FFFFC90000603CF8 R08: FFFFC90000603D38 R09: FFFF8800519814BE[  355.845876] R10: 000000000000000E R11: FFFF88007E592600 R12: FFFF880051981480[  355.845876] R13: FFFFFFFF81289DB3 R14: FFFF88007E550400 R15: FFFF880051981554[  355.845876] FS:  00007F2E24A956F0(0000) GS:FFFFC90000600000(0000) KNLGS:0000000000000000[  355.845876] CS:  0010 DS: 0018 ES: 0018 CR0: 000000008005003B[  355.845876] CR2: 0000006600000002 CR3: 0000000001001000 CR4: 00000000000006E0[  355.845876] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000[  355.845876] DR3: 0000000000000000 DR6: 00000000FFFF0FF0 DR7: 0000000000000400[  355.845876] PROCESS KSOFTIRQD3 (PID: 13, THREADINFO FFFF88007FFE4000, TASK FFFF88007FFE2380)[  355.845876] STACK:[  355.845876]  00000000FFFFFFFF 0000000000000001 FFFF880051981480 FFFFFFFF81289DB3[  355.845876] <0> FFFF88007E550400 FFFF880051981554 FFFFC90000603D18 FFFFFFFF81224780[  355.845876] <0> FFFF880051981480 FFFF880051981480 FFFFC90000603D38 FFFFFFFF8122446F[  355.845876] CALL TRACE:[  355.845876]  <IRQ>[  355.845876]  [<FFFFFFFF81289DB3>] ? PACKET_RCV_SPKT+0XCC0XD7[  355.845876]  [<FFFFFFFF81224780>] SKB_RELEASE_DATA+0X730XD0[  355.845876]  [<FFFFFFFF8122446F>] __KFREE_SKB+0X1E0X8B[  355.845876]  [<FFFFFFFF812245B1>] KFREE_SKB+0XA30XAB[  355.845876]  [<FFFFFFFF81289DB3>] PACKET_RCV_SPKT+0XCC0XD7[  355.845876]  [<FFFFFFFF8122BB25>] NETIF_RECEIVE_SKB+0X28A0X2D0[  355.845876]  [<FFFFFFFF8122BCD4>] NAPI_SKB_FINISH+0X2D0X44[  355.845876]  [<FFFFFFFF8122C17C>] NAPI_GRO_RECEIVE+0X2F0X34[  355.845876]  [<FFFFFFFFA00BEE4A>] TG3_POLL+0X6EC0X940 [TG3][  355.845876]  [<FFFFFFFF8122C291>] NET_RX_ACTION+0X820X1C6[  355.845876]  [<FFFFFFFF8104AE12>] __DO_SOFTIRQ+0X1180X225[  355.845876]  [<FFFFFFFF8104A385>] ? KSOFTIRQD+0X00X164[  355.845876]  [<FFFFFFFF8100CD9C>] CALL_SOFTIRQ+0X1C0X28[  355.845876]  <EOI>[  355.845876]  [<FFFFFFFF8100E842>] DO_SOFTIRQ+0X3E0X8F[  355.845876]  [<FFFFFFFF8104A40E>] KSOFTIRQD+0X890X164[  355.845876]  [<FFFFFFFF8105AF79>] KTHREAD+0X8D0X95[  355.845876]  [<FFFFFFFF8100CC9A>] CHILD_RIP+0XA0X20[  355.845876]  [<FFFFFFFF81039D44>] ? FINISH_TASK_SWITCH+0X560XE3[  355.845876]  [<FFFFFFFF8100C62D>] ? RESTORE_ARGS+0X00X30[  355.845876]  [<FFFFFFFF8105AEEC>] ? KTHREAD+0X00X95[  355.845876]  [<FFFFFFFF8100CC90>] ? CHILD_RIP+0X00X20[  355.845876] CODE: FE FF EB 08 E8 DB D7 FE FF 41 54 9D 41 5B 5B 41 5C 41 5D C9 C3 55 48 89 E5 41 57 41 56 41 55 41 54 53 48 83 EC 08 0F 1F 44 00 00 <48> 8B 07 48 89 FB 66 A9 00 C0 74 26 66 85 C0 79 04 48 8B 5F 10[  355.845876] RIP  [<FFFFFFFF810A87CE>] PUT_PAGE+0X160X127[  355.845876]  RSP <FFFFC90000603CC8>[  355.845876] CR2: 0000006600000002[  356.143175] ---[ END TRACE 121BA4541C000396 ]---[  356.148089] KERNEL PANIC - NOT SYNCING: FATAL EXCEPTION IN INTERRUPTIM IN THE BISECTING PROCESS, ACTUAL STATUS IS:GOOD: 2.6.31-RC5-01926-GB6080E1BAD: 2.6.31-RC5-01932-G882E979I HOPE I CAN FINISH THE REST OF THIS BISECT RUN SOMEWHEN LATER TODAY. ILL ALSO ATTACH THE DMESG OF A WORKING KERNEL SHORTLY.# LSPCI -NN00:06.0 PCI BRIDGE [0604]: ADVANCED MICRO DEVICES [AMD] AMD-8111 PCI [1022:7460] (REV 07)00:07.0 ISA BRIDGE [0601]: ADVANCED MICRO DEVICES [AMD] AMD-8111 LPC [1022:7468] (REV 05)00:07.1 IDE INTERFACE [0101]: ADVANCED MICRO DEVICES [AMD] AMD-8111 IDE [1022:7469] (REV 03)00:07.2 SMBUS [0C05]: ADVANCED MICRO DEVICES [AMD] AMD-8111 SMBUS 2.0 [1022:746A] (REV 02)00:07.3 BRIDGE [0680]: ADVANCED MICRO DEVICES [AMD] AMD-8111 ACPI [1022:746B] (REV 05)00:07.5 MULTIMEDIA AUDIO CONTROLLER [0401]: ADVANCED MICRO DEVICES [AMD] AMD-8111 AC97 AUDIO [1022:746D] (REV 03)00:0A.0 PCI BRIDGE [0604]: ADVANCED MICRO DEVICES [AMD] AMD-8131 PCI-X BRIDGE [1022:7450] (REV 12)00:0A.1 PIC [0800]: ADVANCED MICRO DEVICES [AMD] AMD-8131 PCI-X IOAPIC [1022:7451] (REV 01)00:0B.0 PCI BRIDGE [0604]: ADVANCED MICRO DEVICES [AMD] AMD-8131 PCI-X BRIDGE [1022:7450] (REV 12)00:0B.1 PIC [0800]: ADVANCED MICRO DEVICES [AMD] AMD-8131 PCI-X IOAPIC [1022:7451] (REV 01)00:18.0 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] HYPERTRANSPORT TECHNOLOGY CONFIGURATION [1022:1100]00:18.1 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] ADDRESS MAP [1022:1101]00:18.2 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] DRAM CONTROLLER [1022:1102]00:18.3 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] MISCELLANEOUS CONTROL [1022:1103]00:19.0 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] HYPERTRANSPORT TECHNOLOGY CONFIGURATION [1022:1100]00:19.1 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] ADDRESS MAP [1022:1101]00:19.2 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] DRAM CONTROLLER [1022:1102]00:19.3 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] K8 [ATHLON64OPTERON] MISCELLANEOUS CONTROL [1022:1103]01:00.0 USB CONTROLLER [0C03]: ADVANCED MICRO DEVICES [AMD] AMD-8111 USB [1022:7464] (REV 0B)01:00.1 USB CONTROLLER [0C03]: ADVANCED MICRO DEVICES [AMD] AMD-8111 USB [1022:7464] (REV 0B)01:0A.0 USB CONTROLLER [0C03]: NEC CORPORATION USB [1033:0035] (REV 43)01:0A.1 USB CONTROLLER [0C03]: NEC CORPORATION USB [1033:0035] (REV 43)01:0A.2 USB CONTROLLER [0C03]: NEC CORPORATION USB 2.0 [1033:00E0] (REV 04)01:0B.0 MASS STORAGE CONTROLLER [0180]: SILICON IMAGE, INC. SII 3114 [SATALINKSATARAID] SERIAL ATA CONTROLLER [1095:3114] (REV 02)01:0C.0 FIREWIRE (IEEE 1394) [0C00]: TEXAS INSTRUMENTS TSB43AB22A IEEE-1394A-2000 CONTROLLER (PHYLINK) [104C:8023]02:09.0 ETHERNET CONTROLLER [0200]: BROADCOM CORPORATION NETXTREME BCM5703X GIGABIT ETHERNET [14E4:16A7] (REV 02)04:00.0 HOST BRIDGE [0600]: ADVANCED MICRO DEVICES [AMD] AMD-8151 SYSTEM CONTROLLER [1022:7454] (REV 14)04:01.0 PCI BRIDGE [0604]: ADVANCED MICRO DEVICES [AMD] AMD-8151 AGP BRIDGE [1022:7455] (REV 14)05:00.0 VGA COMPATIBLE CONTROLLER [0300]: ATI TECHNOLOGIES INC RV570 [RADEON X1950 PRO] [1002:7280] (REV 9A)05:00.1 DISPLAY CONTROLLER [0380]: ATI TECHNOLOGIES INC RV570 [RADEON X1950 PRO] (SECONDARY) [1002:72A0] (REV 9A)","SUMMARY":"KERNEL OOPS WITH LATEST TG3 CHANGES","CLASS":1}
{"ID_DEFECT":"14261","DESCRIPTION":"SUBJECT    : 2.6.31 REGRESSION: E1000E JUMBO FRAMES NO LONGER WORK: UNSUPPORTED MTU SETTINGSUBMITTER  : NIX <NIX@ESPERI.ORG.UK>DATE       : 2009-09-26 11:16REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=125396433321342&W=4HANDLED-BY : ALEXANDER DUYCK <ALEXANDER.DUYCK@GMAIL.COM>PATCH      : HTTP:PATCHWORK.KERNEL.ORGPATCH50277THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.30.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"E1000E JUMBO FRAMES NO LONGER WORK: UNSUPPORTED MTU SETTING","CLASS":1}
{"ID_DEFECT":"14926","DESCRIPTION":"SUBJECT    : UCC_GETH BROKEN IN 2.6.32 BY 864FDF884E82BACBE8CA5E93BD43393A61D2E2B4SUBMITTER  : LENNART SORENSEN <LSORENSE@CSCLUB.UWATERLOO.CA>DATE       : 2009-12-23 17:40REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=126159003430429&W=4HANDLED-BY : ANTON VORONTSOV <AVORONTSOV@RU.MVISTA.COM>PATCH      : HTTP:PATCHWORK.KERNEL.ORGPATCH69585PATCH      : HTTP:PATCHWORK.KERNEL.ORGPATCH69600THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.31.  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"UCC_GETH BROKEN","CLASS":1}
{"ID_DEFECT":"14974","DESCRIPTION":"AFTER A RESUME FROM HIBERNATION, NO INCOMING PACKETS SEEM TO BE REGISTERED BY ETH0 ON A BCM5787M CARD ON LENOVO 3000 Y410. THE RX PACKET COUNT APPEARS TO INCREASE, BUT TCPDUMP SHOWS NOTHING INCOMING. ARP REQUESTS ALSO FAIL. TCPDUMP ON A REMOTE MACHINE SHOW THE ARP REQUESTS BEING REPLIED, BUT THE REPLIES ARE NOT REGISTERED BY THE LOCAL MACHINE. BROADCAST PACKETS ALSO GET TRANSMITTED SUCCESSFULLY, BUT NOTHING GETS RECEIVED.RESTARTING THE MACHINE INTO THE SAME KERNEL DOES NOT RESOLVE THIS ISSUE, I.E. ETH0 REMAINS BLIND TO ALL INCOMING PACKETS. A RESTART INTO AN OLDER KERNEL DOES SEEM TO WORK THOUGH.A BISECT SHOWS THAT 87668D352AA8D135BD695A050F18BBFC7B50B506 IS THE COMMIT WHICH CAUSED THE REGRESSION. REVERTING THIS ON TOP OF MY LOCAL GIT TREE SOLVES THE ISSUE.","SUMMARY":"TG3 DOES NOT RESUME FROM HIBERNATION PROPERLY ON BCM5787M","CLASS":1}
{"ID_DEFECT":"15053","DESCRIPTION":"THE FOLLOWING COMMIT BROKE (AT LEAST) DHCP ON MY DELL D830:COMMIT 87668D352AA8D135BD695A050F18BBFC7B50B506AUTHOR: MATT CARLSON <MCARLSON@BROADCOM.COM>DATE:   FRI NOV 13 13:03:34 2009 +0000    TG3: DONT TOUCH RCB NIC ADDRESSESNOTE THAT IT MAY BREAK ALL KINDS OF NETWORKING STUFF WITH MY HARDWARE,BUT I HAVE NO ACCESS TO ANY LAN WHERE I CAN USE A FIXED IP ADDRESS...I BISECTING THE ISSUE AND SIMPLY REVERTING THIS SINGLE COMMIT (ON TOP OF2.6.33-RC4 FOR INSTANCE) MAKES THE ADAPTER FUNCTIONAL AGAIN.LSPCI -VVV -NN -XXX RETURNS:09:00.0 ETHERNET CONTROLLER [0200]: BROADCOM CORPORATION NETXTREME BCM5755M GIGABIT ETHERNET PCI EXPRESS [14E4:1673] (REV 02)        SUBSYSTEM: DELL DEVICE [1028:01FE]        CONTROL: IO- MEM+ BUSMASTER+ SPECCYCLE- MEMWINV- VGASNOOP- PARERR- STEPPING- SERR+ FASTB2B- DISINTX+        STATUS: CAP+ 66MHZ- UDF- FASTB2B- PARERR- DEVSEL=FAST >TABORT- <TABORT- <MABORT- >SERR- <PERR- INTX-        LATENCY: 0, CACHE LINE SIZE: 64 BYTES        INTERRUPT: PIN A ROUTED TO IRQ 32        REGION 0: MEMORY AT F9BF0000 (64-BIT, NON-PREFETCHABLE) [SIZE=64K]        EXPANSION ROM AT <IGNORED> [DISABLED]        CAPABILITIES: [48] POWER MANAGEMENT VERSION 3                FLAGS: PMECLK- DSI- D1- D2- AUXCURRENT=0MA PME(D0-,D1-,D2-,D3HOT+,D3COLD+)                STATUS: D0 NOSOFTRST+ PME-ENABLE- DSEL=0 DSCALE=1 PME-        CAPABILITIES: [50] VITAL PRODUCT DATA                PRODUCT NAME: BROADCOM NETXTREME GIGABIT ETHERNET CONTROLLER                READ-ONLY FIELDS:                        [PN] PART NUMBER: BCM95755M                        [EC] ENGINEERING CHANGES: 01FE.004                        [SN] SERIAL NUMBER: 0123456789                        [MN] MANUFACTURE ID: 31 34 65 34                        [RV] RESERVED: CHECKSUM GOOD, 28 BYTE(S) RESERVED                READWRITE FIELDS:                        [YA] ASSET TAG: XYZ01234567                        [RW] READ-WRITE AREA: 107 BYTE(S) FREE                END        CAPABILITIES: [58] VENDOR SPECIFIC INFORMATION <?>        CAPABILITIES: [E8] MSI: ENABLE+ COUNT=11 MASKABLE- 64BIT+                ADDRESS: 00000000FEE0300C  DATA: 41B9        CAPABILITIES: [D0] EXPRESS (V1) ENDPOINT, MSI 00                DEVCAP: MAXPAYLOAD 128 BYTES, PHANTFUNC 0, LATENCY L0S <4US, L1 UNLIMITED                        EXTTAG+ ATTNBTN- ATTNIND- PWRIND- RBE+ FLRESET-                DEVCTL: REPORT ERRORS: CORRECTABLE- NON-FATAL- FATAL- UNSUPPORTED-                        RLXDORD- EXTTAG- PHANTFUNC- AUXPWR- NOSNOOP-                        MAXPAYLOAD 128 BYTES, MAXREADREQ 4096 BYTES                DEVSTA: CORRERR- UNCORRERR- FATALERR- UNSUPPREQ- AUXPWR+ TRANSPEND-                LNKCAP: PORT #0, SPEED 2.5GTS, WIDTH X1, ASPM L0S L1, LATENCY L0 <4US, L1 <64US                        CLOCKPM+ SURPRISE- LLACTREP- BWNOT-                LNKCTL: ASPM L0S ENABLED; RCB 64 BYTES DISABLED- RETRAIN- COMMCLK+                        EXTSYNCH- CLOCKPM+ AUTWIDDIS- BWINT- AUTBWINT-                LNKSTA: SPEED 2.5GTS, WIDTH X1, TRERR- TRAIN- SLOTCLK+ DLACTIVE- BWMGMT- ABWMGMT-        CAPABILITIES: [100] ADVANCED ERROR REPORTING                UESTA:  DLP- SDES- TLP- FCP- CMPLTTO- CMPLTABRT- UNXCMPLT- RXOF- MALFTLP- ECRC- UNSUPREQ- ACSVIOL-                UEMSK:  DLP- SDES- TLP- FCP- CMPLTTO- CMPLTABRT- UNXCMPLT- RXOF- MALFTLP- ECRC- UNSUPREQ- ACSVIOL-                UESVRT: DLP+ SDES- TLP- FCP+ CMPLTTO- CMPLTABRT- UNXCMPLT- RXOF+ MALFTLP+ ECRC- UNSUPREQ- ACSVIOL-                CESTA:  RXERR+ BADTLP- BADDLLP- ROLLOVER- TIMEOUT- NONFATALERR-                CEMSK:  RXERR- BADTLP- BADDLLP- ROLLOVER- TIMEOUT- NONFATALERR+                AERCAP: FIRST ERROR POINTER: 00, GENCAP+ CGENEN- CHKCAP+ CHKEN-        CAPABILITIES: [13C] VIRTUAL CHANNEL <?>        CAPABILITIES: [160] DEVICE SERIAL NUMBER 00-1D-09-FF-FE-D9-90-10        CAPABILITIES: [16C] POWER BUDGETING <?>        KERNEL DRIVER IN USE: TG300: E4 14 73 16 06 05 10 00 02 00 00 02 10 00 00 0010: 04 00 BF F9 00 00 00 00 00 00 00 00 00 00 00 0020: 00 00 00 00 00 00 00 00 00 00 00 00 28 10 FE 0130: 00 00 01 0C 48 00 00 00 00 00 00 00 0A 01 00 0040: 00 00 00 00 00 00 00 00 01 50 03 C0 08 20 00 6450: 03 58 FC 80 00 00 00 78 09 E8 78 00 11 0C 00 6060: 00 00 00 00 00 00 00 00 98 02 02 A0 00 00 18 7670: F2 10 00 00 A0 00 00 00 00 00 00 00 00 00 00 0080: E4 14 73 16 00 00 00 00 34 00 13 04 82 F0 08 EC90: 19 DB 00 01 00 00 00 A2 00 00 00 00 2F 01 00 00A0: 00 00 00 00 67 00 00 00 00 00 00 00 4A 01 00 00B0: 00 00 00 00 00 00 00 DD 00 00 00 00 00 00 00 00C0: 00 00 00 00 00 00 00 00 0E 00 00 00 00 00 00 00D0: 10 00 01 00 A0 8F 04 05 00 50 10 00 11 6C 07 00E0: 41 01 11 10 00 00 00 00 05 D0 81 00 0C 30 E0 FEF0: 00 00 00 00 B9 41 00 00 00 00 00 00 00 00 00 00LET ME KNOW IF YOU WANT ME TO TEST ANY OTHER PATCH...THANKS,MATTHIEU","SUMMARY":"NO CONNECTIVITY WITH TG3 SINCE 87668D352AA8D135BD695A050F18BBFC7B50B506","CLASS":1}
{"ID_DEFECT":"15133","DESCRIPTION":"SUBJECT    : REGRESSION: WAKE ON LAN DOESNT WORK IN SKY2 WITH 2.6.33-RC4-GIT2SUBMITTER  : TINO KEITEL <TINO.KEITEL@TIKEI.DE>DATE       : 2010-01-15 9:10REFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=126354704815848&W=4HANDLED-BY : STEPHEN HEMMINGER <SHEMMINGER@VYATTA.COM>THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6..  PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.CAUSED BY:COMMIT 166A0FD4C788EC7F10CA8194EC6D526AFA12DB75AUTHOR: STEPHEN HEMMINGER <SHEMMINGER@VYATTA.COM>DATE:   MON DEC 14 08:50:12 2009 +0000    SKY2: LEAVE PCI CONFIG SPACE WRITEABLE        SINCE POWER MANAGEMENT IS DONE BY PCI SUBSYSTEM AS WELL AS DRIVER,    DONT TOGGLE THE BIT THAT DISABLES PCI REGISTER WRITES.        SIGNED-OFF-BY: STEPHEN HEMMINGER <SHEMMINGER@VYATTA.COM>    ACKED-BY: RAFAEL J. WYSOCKI <RJW@SISK.PL>    SIGNED-OFF-BY: DAVID S. MILLER <DAVEM@DAVEMLOFT.NET>FIRST-BAD-COMMIT : 166A0FD4C788EC7F10CA8194EC6D526AFA12DB75","SUMMARY":"WAKE ON LAN DOESNT WORK IN SKY2","CLASS":1}
{"ID_DEFECT":"15355","DESCRIPTION":"CREATED ATTACHMENT 25113DMESG OUTPUT AND CRASH LOGSTARTING AVAHI-DAEMON ON DEBIAN 5.0.3 TRIGGERS THE FUNCTION R6040_MULTICAST_LIST WHICH CRASHES THE KERNEL. THIS BUG WAS ALREADY SUBMITTED TO THE AVAHI MAILING LIST ON 4TH OF JANUARY 2010 BY MIKE MILLER. LENNART POETTERING SUGGESTED THAT THIS ISSUE HAS TO BE ADDRESSED TO THE KERNEL DEVELOPMENT TEAM. I HAVENT SEEN NEITHER A FOLLOW-UP ON THE AVAHI LIST, NOR A BUG REPORT IN BUGZILLA. AS IM SUFFERING FROM THE SAME PROBLEM, IM PICKING UP THE ISSUE AND WOULD LIKE TO FILE THIS BUG REPORT, HOPING ANYBODY CAN HELP FIXING. IN CASE ANY ADDITIONAL INFORMATION IS NEEDED, IM HAPPY TO PROVIDE SUCH.HARDWARE: SBC WITH VORTEX86DX CPU (INTEGRATED R6040 ETHERNET CONTROLLER)OS: DEBIAN 5.0.3 WITH CUSTOM BUILT KERNEL FROM LATEST STABLE RELEASE (2.6.32.8)BEST REGARDS, PATRICK","SUMMARY":"ISSUE: R6040 CRASHES IN FUNCTION R6040_MULTICAST_LIST","CLASS":1}
{"ID_DEFECT":"15604","DESCRIPTION":"FIRST NOTE THAT IT IS POSSIBLE THAT THIS BUG IS MORE THAN THIS; I CANNOT FORCE SETTINGS ON MY INTERNET ETHERNET INTERFACE USING THIS DRIVER EITHER.  I NEED TO BOOT INTO 2.6.32 TO SEE IF IT POSSIBLE THERE.IN 2.6.32, WHEN I PLUG INTO A GIGABIT ETHERNET NETWORK, THE DRIVER REPORTS A 1000MBIT, FULL DUPLEX LINK.  HOWEVER, IN 2.6.33, ONLY A 10MBIT, HALF-DUPLEX LINK IS REPORTED.  WHEN I RUN A SPEED TEST ON THE NETWORK, THOUGH, I AM ABLE TO GET THE SAME ACTUAL TRANSFER SPEEDS IN EITHER CASE, LEADING ME TO BELIEVE THAT THE DRIVER IS BRINGING UP THE HARDWARE JUST FINE, BUT MISREPORTING INFORMATION.THE FIRST VERSION THAT I HAVE WHICH HAS THE PROBLEM IS 2.6.33; I HAVE NOT YET HAD A CHANCE TO BISECT THE KERNEL TREE TO FIND THE COMMIT THAT PRESENTS THE PROBLEM.  I SHOULD HAVE TIME TO DO THIS IN THE NEXT 24 HOURS.","SUMMARY":"R8169: REPORTS INCORRECT LINK INFORMATION","CLASS":1}
{"ID_DEFECT":"22142","DESCRIPTION":"HERE IS ORIGINAL REPORT. HTTPS:BUGS.LAUNCHPAD.NETUBUNTU+SOURCELINUX+BUG670955I HOPE ATTACHED FILE HAS ENOUGH INFORMATION. IT HAS A TRACE.","SUMMARY":"SKGE MODULE DOESNT WORK IN 2.6.37-RC1","CLASS":1}
{"ID_DEFECT":"22522","DESCRIPTION":"SUBJECT    : 2.6.37-RC1 BOOT PROBLEM - BUG: UNABLE TO HANDLE KERNEL NULL POINTER - DMESG UND CONFIG DATEISUBMITTER  : WERNER <W.LANDGRAF@RU.RU>DATE       : 2010-11-02 2:09MESSAGE-ID : WEB-395697375@ZBACKEND1.AHA.RUREFERENCES : HTTP:MARC.INFO?L=LINUX-KERNEL&M=128866380110940&W=2THIS ENTRY IS BEING USED FOR TRACKING A REGRESSION FROM 2.6.36. PLEASE DONTCLOSE IT UNTIL THE PROBLEM IS FIXED IN THE MAINLINE.","SUMMARY":"2.6.37-RC1 BOOT PROBLEM - BUG: UNABLE TO HANDLE KERNEL NULL POINTER - DMESG UND CONFIG DATEI","CLASS":1}
{"ID_DEFECT":"21704","DESCRIPTION":"     [17 AUG 2006 22:21]   KOLBE KEGEL          DESCRIPTION:RENAMING A COLUMN THAT APPEARS IN A FOREIGN KEY DEFINITION DOES NOT UPDATE THE FORIEGN KEY DEFINITION WITH THE NEW COLUMN NAME.THIS OCCURS WITH BOTH REFERENCED AND REFERENCING TABLES.THIS COULD MEAN THAT IT COULD BE IMPOSSIBLE TO RELOAD FROM A DUMP, AS CREATING CONSTRAINTS AGAINST NON-EXISTENT COLUMNS WOULD SURELY NOT WORK VERY WELL.HOW TO REPEAT:CREATE TABLE T1 (COL1 INT PRIMARY KEY) ENGINE=INNODB;CREATE TABLE T2 (COL1 INT PRIMARY KEY, CONSTRAINT `FK1` FOREIGN KEY (COL1) REFERENCES T1 (COL1)) ENGINE=INNODB;SHOW CREATE TABLE T2ALTER TABLE T2 CHANGE COL1 COL2 INT;SHOW CREATE TABLE T2ALTER TABLE T1 CHANGE COL1 COL3 INT;SHOW CREATE TABLE T2MYSQL 5.1.11-BETA (ROOT) [TEST]> CREATE TABLE T1 (COL1 INT PRIMARY KEY) ENGINE=INNODB;QUERY OK, 0 ROWS AFFECTED (0.01 SEC)MYSQL 5.1.11-BETA (ROOT) [TEST]> CREATE TABLE T2 (COL1 INT PRIMARY KEY, CONSTRAINT `FK1` FOREIGN KEY (COL1) REFERENCES T1 (COL1)) ENGINE=INNODB;QUERY OK, 0 ROWS AFFECTED (0.01 SEC)MYSQL 5.1.11-BETA (ROOT) [TEST]> SHOW CREATE TABLE T2*************************** 1. ROW ***************************       TABLE: T2CREATE TABLE: CREATE TABLE `T2` (  `COL1` INT(11) NOT NULL,  PRIMARY KEY (`COL1`),  CONSTRAINT `FK1` FOREIGN KEY (`COL1`) REFERENCES `T1` (`COL1`)) ENGINE=INNODB DEFAULT CHARSET=LATIN11 ROW IN SET (0.00 SEC)MYSQL 5.1.11-BETA (ROOT) [TEST]> ALTER TABLE T2 CHANGE COL1 COL2 INT;QUERY OK, 0 ROWS AFFECTED (0.01 SEC)RECORDS: 0  DUPLICATES: 0  WARNINGS: 0MYSQL 5.1.11-BETA (ROOT) [TEST]> SHOW CREATE TABLE T2*************************** 1. ROW ***************************       TABLE: T2CREATE TABLE: CREATE TABLE `T2` (  `COL2` INT(11) NOT NULL DEFAULT 0,  PRIMARY KEY (`COL2`),  CONSTRAINT `FK1` FOREIGN KEY (`COL1`) REFERENCES `T1` (`COL1`)) ENGINE=INNODB DEFAULT CHARSET=LATIN11 ROW IN SET (0.00 SEC)MYSQL 5.1.11-BETA (ROOT) [TEST]> ALTER TABLE T1 CHANGE COL1 COL3 INT;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)RECORDS: 0  DUPLICATES: 0  WARNINGS: 0MYSQL 5.1.11-BETA (ROOT) [TEST]> SHOW CREATE TABLE T2*************************** 1. ROW ***************************       TABLE: T2CREATE TABLE: CREATE TABLE `T2` (  `COL2` INT(11) NOT NULL DEFAULT 0,  PRIMARY KEY (`COL2`),  CONSTRAINT `FK1` FOREIGN KEY (`COL1`) REFERENCES `T1` (`COL1`)) ENGINE=INNODB DEFAULT CHARSET=LATIN11 ROW IN SET (0.00 SEC)THE CONSTRAINT IS STILL CHECKED, EVEN THOUGH *NEITHER* OF THE COLUMNS SPECIFIED IN THE CONSTRAINT DEFINITION EXIST:INSERT INTO T2 VALUES (1);INSERT INTO T1 VALUES (1);INSERT INTO T2 VALUES (1);MYSQL 5.1.11-BETA (ROOT) [TEST]> INSERT INTO T2 VALUES (1);ERROR 1452 (23000): CANNOT ADD OR UPDATE A CHILD ROW: A FOREIGN KEY CONSTRAINT FAILS (`TESTT2`, CONSTRAINT `FK1` FOREIGN KEY (`COL1`) REFERENCES `T1` (`COL1`))MYSQL 5.1.11-BETA (ROOT) [TEST]> INSERT INTO T1 VALUES (1);QUERY OK, 1 ROW AFFECTED (0.00 SEC)MYSQL 5.1.11-BETA (ROOT) [TEST]> INSERT INTO T2 VALUES (1);QUERY OK, 1 ROW AFFECTED (0.00 SEC)SUGGESTED FIX:RENAMING COLUMNS SHOULD RESULT IN FOREIGN KEY DEFINITIONS BEING UPDATED APPROPRIATELY. ","SUMMARY":"BUGU00A0#21704  RENAMING COLUMN DOES NOT UPDATE FK DEFINITION ","CLASS":1}
{"ID_DEFECT":"35226","DESCRIPTION":"     [11 MAR 2008 17:25]   MATTHEW LORD          DESCRIPTION:A ROW BASED REPLICATION EVENT CRASHES THE SLAVE SERVER EVERY TIME AND REQUIRESTHAT THE SLAVE BE REBUILT.WHEN TESTED WITH A SNAPSHOT OF 5.1.24 (TAKEN ON 372008) WE ALSO ENCOUNTEREDTHE CRASH, HERE WAS THE STACK TRACE IN THE ERROR LOG:APPMYSQLBINMYSQLD(PRINT_STACKTRACE+0X1E)[0X74BAEE]APPMYSQLBINMYSQLD(HANDLE_SEGFAULT+0X320)[0X615F20]LIB64LIBPTHREAD.SO.0[0X3A8E40DE60]APPMYSQLBINMYSQLD(DICT_STR_STARTS_WITH_KEYWORD+0X15)[0X7EB155]APPMYSQLBINMYSQLD(ROW_SEARCH_FOR_MYSQL+0X4B3)[0X8512B3]APPMYSQLBINMYSQLD(_ZN11HA_INNOBASE10INDEX_READEPHPKHJ16HA_RKEY_FUNCTION+0X1CD)[0X7C39AD]APPMYSQLBINMYSQLD(_ZN11HA_INNOBASE7RND_POSEPHS0_+0X9B)[0X7C364B]APPMYSQLBINMYSQLD(_ZN14ROWS_LOG_EVENT8FIND_ROWEPK14RELAY_LOG_INFO+0X2D6)[0X6CE086]APPMYSQLBINMYSQLD(_ZN21UPDATE_ROWS_LOG_EVENT11DO_EXEC_ROWEPK14RELAY_LOG_INFO+0X1E)[0X6CE19E]APPMYSQLBINMYSQLD(_ZN14ROWS_LOG_EVENT14DO_APPLY_EVENTEPK14RELAY_LOG_INFO+0X172)[0X6C9CD2]APPMYSQLBINMYSQLD(_Z26APPLY_EVENT_AND_UPDATE_POSP9LOG_EVENTP3THDP14RELAY_LOG_INFOB+0X11D)[0X73A95D]APPMYSQLBINMYSQLD(HANDLE_SLAVE_SQL+0X687)[0X73FBA7]LIB64LIBPTHREAD.SO.0[0X3A8E4062E7]LIB64LIBC.SO.6(CLONE+0X6D)[0X3A8D8CE3BD] HOW TO REPEAT:TAR XZVF CSC23899_BUG.TAR.GZCD CSC23899_BUGMYSQL-5.1.23-RC-LINUX-X86_64-GLIBC23.BINMYSQLD_SAFE --DEFAULTS-FILE=..MY.CNF --BASEDIR=. --DATADIR=..DATA &.BINMYSQL -U ROOT --SOCKET=TMPMYSQL-CSC23899.SOCKSHOW SLAVE STATUSSTART SLAVE SQL_THREAD;(SO FAR ONLY TESTED ON X86_64)SUGGESTED FIX:WE SHOULD HOPEFULLY ALWAYS BE ABLE TO PROCESS THE EVENT OR DIE GRACEFULLY. ","SUMMARY":"BUGU00A0#35226  RBR EVENT CRASHES SLAVE ","CLASS":1}
{"ID_DEFECT":"36278","DESCRIPTION":"     [23 APR 2008 9:19]   DOMAS MITUZAS          DESCRIPTION:AFTER BUG#32440 WAS FIXED, INFORMATION ABOUT FREE TABLE SPACE WAS PLACED TO DATA_FREE COLUMN, BUT UNLIKE OTHER ENGINES (AND UNLIKE OTHER FIELDS) THE DATA THERE IS IN KILOBYTES, WHAT MAY CAUSE LOTS OF CONFUSION. KEEPING CONSISTENT BEHAVIOR WOULD BE NICE. HOW TO REPEAT:SHOW TABLE STATUS;SUGGESTED FIX:BE CONSISTENT, USE BYTES. ","SUMMARY":"BUGU00A0#36278  DATA_FREE IN SHOW TABLE STATUS FOR INNODB IS IN KILOBYTES ","CLASS":1}
{"ID_DEFECT":"36411","DESCRIPTION":"     [29 APR 2008 19:46]   SHANE BESTER          DESCRIPTION:THIS MAY OR MAY NOT BE A BUG, BUT ILL OPEN THE BUG REPORT ANYWAY, SINCE 5.1.23 DIDNT HAVE THIS PROBLEM.  5.1.23 AND 5.0.58 BEHAVIOUR DIFFERS TO 5.1.24.USING THE STATEMENTS IN HOW TO REPEAT, WE HAVE THE OUTPUT IN 5.1.24:MYSQL> INSERT INTO `QA05` SET `ID` = 2;QUERY OK, 1 ROW AFFECTED (0.00 SEC)MYSQL> INSERT INTO `QA05` SET `ID` = -1;QUERY OK, 1 ROW AFFECTED (0.00 SEC)MYSQL> INSERT INTO `QA05` SET `ID` = -1;ERROR 1062 (23000): DUPLICATE ENTRY -1 FOR KEY PRIMARYMYSQL> INSERT INTO `QA05` SET `ID` = -1;ERROR 1062 (23000): DUPLICATE ENTRY -1 FOR KEY PRIMARYMYSQL> INSERT INTO `QA05` VALUES ();ERROR 1467 (HY000): FAILED TO READ AUTO-INCREMENT VALUE FROM STORAGE ENGINETHE AUTO_INCREMENT VALUE IN SHOW TABLE STATUS SAYS 18446744073709551615.AND THIS OUTPUT IN 5.0.58 AND 5.1.23:MYSQL> INSERT INTO `QA05` SET `ID` = -1;ERROR 1062 (23000): DUPLICATE ENTRY -1 FOR KEY 1MYSQL> INSERT INTO `QA05` SET `ID` = -1;ERROR 1062 (23000): DUPLICATE ENTRY -1 FOR KEY 1MYSQL> INSERT INTO `QA05` VALUES ();QUERY OK, 1 ROW AFFECTED (0.00 SEC)FOR WHAT REASON DOES THE 1ST AND 2ND INSERT GIVE ERROR 1062, AND THETHIRD INSERT RETURN ERROR 1467 ON 5.1.24?  THEN, IF YOU COMMENT OUT THE 1ST SHOW TABLE STATUS, THE RESULTS AREDIFFERENT.  WHY DOES THE SHOW TABLE STATUS HAVE ANY EFFECT ON THIS - GIVEN THE FACT THE AUTO-INC SHOULD BE INITIALIZED BY THE FIRST INSERT.I READ:HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENINNODB-AUTO-INCREMENT-HANDLING.HTML THE BEHAVIOR OF THE AUTO-INCREMENT MECHANISM IS NOT DEFINED IF A USER ASSIGNS A NEGATIVE VALUE TO THE COLUMN OR IF THE VALUE BECOMES BIGGER THAN THE MAXIMUM INTEGER THAT CAN BE STORED IN THE SPECIFIED INTEGER TYPE. SHOULD WE DEFINE THE BEHAVIOUR BETTER?  SHOULD USER-MODE SQL STATEMENTS RESULT IN STORAGE ENGINE ERRORS?HOW TO REPEAT:DROP TABLE IF EXISTS `QA05`;CREATE TABLE `QA05` (`ID` INT AUTO_INCREMENT PRIMARY KEY)ENGINE=INNODB;INSERT INTO `QA05` SET `ID` = 1;SHOW TABLE STATUS LIKE QA05;INSERT INTO `QA05` SET `ID` = 2;INSERT INTO `QA05` SET `ID` = -1;INSERT INTO `QA05` SET `ID` = -1;INSERT INTO `QA05` SET `ID` = -1;INSERT INTO `QA05` VALUES ();SHOW TABLE STATUS LIKE QA05;SUGGESTED FIX:WE HAVE SOME EXPLANATION, BECAUSE 5.1.23->5.1.24 BEHAVIOUR CHANGED, AT LEAST.PERHAPS THE FIX FOR BUG #34335 CAUSES THIS NEW BEHAVIOUR? ","SUMMARY":"BUGU00A0#36411  FAILED TO READ AUTO-INCREMENT VALUE FROM STORAGE ENGINE IN 5.1.24 AUTO-INC ","CLASS":1}
{"ID_DEFECT":"37531","DESCRIPTION":"     [19 JUN 2008 19:38]   RYAN THIESSEN          DESCRIPTION:AFTER A TRUNCATE OPERATION, THE AUTO_INCREMENT COUNTER DOES NOT WORK PROPERLY WHEN YOU INSERT SPECIFIC VALUES FOR THE AUTO_INCREMENT FIELD.IDEALLY AFTER A TRUNCATE OPERATION, INSERT OPERATIONS SHOULD BEHAVE EXACTLY AS THEY DO AFTER THE CREATE TABLE OPERATION.TESTED ON 5.1.25INNODBLINUXWINDOWS; 5.1.22INNODBLINUXCANNOT REPEAT FAILURE ON 5.0.58INNODBLINUX OR 5.1.25MYISAMLINUXHOW TO REPEAT:CREATE TABLE AUTOINC_TRUNCATE_BUG(PK INT PRIMARY KEY AUTO_INCREMENT) ENGINE=INNODB;INSERT INTO AUTOINC_TRUNCATE_BUG VALUES (1), (2), (3);INSERT INTO AUTOINC_TRUNCATE_BUG VALUES (NULL), (NULL), (NULL);TRUNCATE TABLE AUTOINC_TRUNCATE_BUG;INSERT INTO AUTOINC_TRUNCATE_BUG VALUES (1), (2), (3);# SUCCEEDS, BUT AUTO_INCREMENT COUNTER NOT UPDATEDINSERT INTO AUTOINC_TRUNCATE_BUG VALUES (NULL), (NULL), (NULL);# FINAL INSERT FAILS WITH DUPLICATE KEY ERROR ","SUMMARY":"BUGU00A0#37531  AFTER TRUNCATE, AUTO_INCREMENT BEHAVES INCORRECTLY FOR INNODB ","CLASS":1}
{"ID_DEFECT":"38189","DESCRIPTION":"     [16 JUL 2008 23:06]   MARK LEITH          DESCRIPTION:THE INNODB_STATS_ON_METADATA VARIABLE WAS INTRODUCED IN 5.1.17. IT SEEMS TO BE MISSING WITHIN 5.1.28:HTTP:BUGS.MYSQL.COMBUG.PHP?ID=26598MYSQL> SHOW GLOBAL VARIABLES LIKE INNODB_STATS%;EMPTY SET (0.00 SEC)MYSQL> SELECT VERSION();+--------------+| VERSION()    |+--------------+| 5.1.28-DEBUG | +--------------+1 ROW IN SET (0.00 SEC)THIS APPEARS TO BE A REGRESSION WITHIN THE 5.1 RANGE. HOW TO REPEAT:SHOW GLOBAL VARIABLES LIKE INNODB_STATS_ON_METADATA;SUGGESTED FIX:RE-ADD THIS VARIABLE - IT SEEMS TO HAVE BEEN MISSED IN AN INTERIM RE-WORKING COMMIT FROM THE INNODB DEVELOPERS ","SUMMARY":"BUGU00A0#38189  INNODB_STATS_ON_METADATA MISSING ","CLASS":1}
{"ID_DEFECT":"39648","DESCRIPTION":"     [25 SEP 2008 10:34]   PHILIP STOEV          DESCRIPTION:WHEN REPLICATING A INNODB TABLE CONTAINING TWO BIT COLUMNS BUT NO PK, USING RBR, A QUERY CONTAINING LIMIT WILL CAUSE THE REPLICATION TO FAIL WITH:COULD NOT EXECUTE DELETE_ROWS EVENT ON TABLE TEST.TABLE0_INNODB; HANDLER ERROR HA_ERR_END_OF_FILEHOW TO REPEAT:--SOURCE INCLUDEMASTER-SLAVE.INC--INCUDE INCLUDEHAVE_INNODB.INCCREATE TABLE T1 (`BIT` BIT, `BIT2` BIT) ENGINE=INNODB;INSERT INTO T1 ( `BIT` ) VALUES ( 0 );DELETE FROM T1 WHERE `BIT` < 2 LIMIT 1;--SAVE_MASTER_POS--CONNECTION SLAVE--SYNC_WITH_MASTERSHOW SLAVE STATUS; ","SUMMARY":"BUGU00A0#39648  REPLICATION FAILURE ON RBR + INNODB + 2 BIT FIELDS + LIMIT + NO PK ","CLASS":1}
{"ID_DEFECT":"40360","DESCRIPTION":"     [27 OCT 2008 20:27]   DAVID STAVISSKI          DESCRIPTION:AFTER UPGRADING TO 5.1.28 FROM 5.1.28 GETTING AN ERROR MESSAGE ON EVERY UPDATE:BINARY LOGGING NOT POSSIBLE. MESSAGE: TRANSACTION LEVEL READ-COMMITTED IN INNODB IS NOT SAFE FOR BINLOG MODE STATEMENTTHE BINLOG AND REPLICATION IS OFF.HOW TO REPEAT:SET TRANSACTION ISOLATION TO READ COMMITEDUPDATE A TABLE ROW ","SUMMARY":"BUGU00A0#40360  BINLOG RELATED ERRORS WITH BINLOG OFF ","CLASS":1}
{"ID_DEFECT":"40369","DESCRIPTION":"     [28 OCT 2008 9:17]   MARKO MU00E4KELU00E4          DESCRIPTION:THE FUNCTION DTYPE_GET_SQL_NULL_SIZE() SHOULD RETURN THE STORAGE SIZE OF A COLUMN THAT IS SQL NULL. FOR FIXED-LENGTH COLUMNS IN ROW_FORMAT=REDUNDANT, THE SIZE SHOULD BE EQUAL TO THE FIXED LENGTH. HOWEVER, THIS FUNCTION WOULD RETURN 1.IN NEWER INNODB ROW_FORMATS (COMPACT IS THE DEFAULT SINCE 5.0.3, AND THE INNODB PLUGIN INTRODUCED DYNAMIC AND COMPRESSED), SQL NULL COLUMNS OCCUPY ZERO SPACE. IN THIS CASE, THE FUNCTION CORRECTLY RETURNS 0.HOW TO REPEAT:UNSURE, BUT SOMETHING ALONG THESE LINES:CREATE TABLE T(A CHAR(5)) ENGINE=INNODB ROW_FORMAT=REDUNDANT;INSERT INTO T VALUES(NULL);SUGGESTED FIX:REMOVE THE > 0 IN THE FUNCTION BODY OF DTYPE_GET_SQL_NULL_SIZE(). ","SUMMARY":"BUGU00A0#40369  DTYPE_GET_SQL_NULL_SIZE() RETURNS 0 OR 1, NOT THE SIZE ","CLASS":1}
{"ID_DEFECT":"41671","DESCRIPTION":"     [22 DEC 2008 12:03]   MARKO MU00E4KELU00E4          DESCRIPTION:IN REVISION 370 OF THE INNODB SOURCE REPOSITORY (2006-03-27), EVERY OCCURRENCE OFSRV_LOCKS_UNSAFE_FOR_BINLOGSHOULD HAVE BEEN ESSENTIALLY REPLACED WITHSRV_LOCKS_UNSAFE_FOR_BINLOG || ISOLATION_LEVEL == TRX_ISO_READ_COMMITTEDTHAT IS, SEMI-CONSISTENT READS SHOULD BE ENABLED WITH EITHER OF THE FOLLOWING:SET GLOBAL INNODB_LOCKS_UNSAFE_FOR_BINLOG=1;SET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTED;HOWEVER, THIS IS NOT THE CASE IN HA_INNOBASE::UNLOCK_ROW(VOID).  THE BUG IS THAT NON-MATCHING SEMI-CONSISTENTLY READ ROWS WILL NOT BE UNLOCKED WHEN BOTH OF THE ABOVE COMMANDS HAVE BEEN SPECIFIED.HOW TO REPEAT:NOTE IN INNODB-SEMI-CONSISTENT.TEST THAT THE SELECT STATEMENTS ARE OBVIOUSLY NOT UNLOCKING NON-MATCHING ROWS.SUGGESTED FIX:INDEX: HANDLERHA_INNODB.CC===================================================================--- HANDLERHA_INNODB.CCT(REVISION 3590)+++ HANDLERHA_INNODB.CCT(WORKING COPY)@@ -4129,7 +4129,8 @@ HA_INNOBASE::UNLOCK_ROW(VOID) TSWITCH (PREBUILT->ROW_READ_TYPE)  TCASE ROW_READ_WITH_LOCKS: TTIF (!SRV_LOCKS_UNSAFE_FOR_BINLOG-TT|| PREBUILT->TRX->ISOLATION_LEVEL == TRX_ISO_READ_COMMITTED) +TT    && PREBUILT->TRX->ISOLATION_LEVEL+TT    != TRX_ISO_READ_COMMITTED)  TTTBREAK; TT TT* FALL THROUGH * ","SUMMARY":"BUGU00A0#41671  SEMI-CONSISTENT READ DOES NOT UNLOCK ROWS IN READ COMMITTED MODE ","CLASS":1}
{"ID_DEFECT":"42400","DESCRIPTION":"     [28 JAN 2009 5:37]   SUNNY BAINS          DESCRIPTION:THIS BUG WAS REPORTED BY A USER OF THE INNODB PLUGIN VERSION HERE:  HTTP:FORUMS.INNODB.COMREAD.PHP?3,400,400#MSG-400INNODB WITH THE LATEST AUTOINC CHANGES ASSUMES THAT THE AUTOINC COLUMN TYPE CAN ONLY BE AN INTEGER. THIS ASSERTION CAUSES A CRASH.HOW TO REPEAT:CREATE TABLE T1 (        C1 DOUBLE NOT NULL AUTO_INCREMENT,        C2 INT,        PRIMARY KEY (C1)) ENGINE=INNODB DEFAULT CHARSET=LATIN1;INSERT INTO T1 VALUES(, 1);INSERT INTO T1 VALUES(, 2);SELECT * FROM T1;ALTER TABLE T1 CHANGE C1 C1 SERIAL; SELECT * FROM T1;INSERT INTO T1 VALUES(, 3);INSERT INTO T1 VALUES(, 4);SELECT * FROM T1;DROP TABLE T1;CREATE TABLE T1 (        C1 FLOAT NOT NULL AUTO_INCREMENT,        C2 INT,        PRIMARY KEY (C1)) ENGINE=INNODB DEFAULT CHARSET=LATIN1;INSERT INTO T1 VALUES(, 1);INSERT INTO T1 VALUES(, 2);SELECT * FROM T1;ALTER TABLE T1 CHANGE C1 C1 SERIAL; SELECT * FROM T1;INSERT INTO T1 VALUES(, 3);INSERT INTO T1 VALUES(, 4);SELECT * FROM T1;DROP TABLE T1;SUGGESTED FIX:CHECK FOR FLOATING-POINT COLUMN TYPES WHEN CALCULATING THE MAX VALUE FOR A COLUMN TYPE. ************************************************************************-GET THE UPPER LIMIT OF THE MYSQL INTEGRAL TYPE. *+GET THE UPPER LIMIT OF THE MYSQL INTEGRAL AND FLOATING-POINT TYPE. * ULONGLONG HA_INNOBASE::INNOBASE_GET_INT_COL_MAX_VALUE(@@ -3439,6 +3439,7 @@ HA_INNOBASE::INNOBASE_GET_INT_COL_MAX_VA                MAX_VALUE = 0XFFFFFFFFULL;                BREAK;        CASE HA_KEYTYPE_LONG_INT:+       CASE HA_KEYTYPE_FLOAT:                MAX_VALUE = 0X7FFFFFFFULL;                BREAK;        * BIG *@@ -3446,6 +3447,7 @@ HA_INNOBASE::INNOBASE_GET_INT_COL_MAX_VA                MAX_VALUE = 0XFFFFFFFFFFFFFFFFULL;                BREAK;        CASE HA_KEYTYPE_LONGLONG:+       CASE HA_KEYTYPE_DOUBLE:                MAX_VALUE = 0X7FFFFFFFFFFFFFFFULL;                BREAK;        DEFAULT: ","SUMMARY":"BUGU00A0#42400  INNODB AUTOINC CODE CANT HANDLE FLOATING-POINT COLUMNS ","CLASS":1}
{"ID_DEFECT":"42714","DESCRIPTION":"     [9 FEB 2009 19:51]   SINGER WANG          DESCRIPTION:ERRONEOUS DUPLICATE KEY ERROR IN MYSQL 5.1.31 WHEN WE ARE INSERTING INTO AUTO_INCREMENT COLUMNS..HOW TO REPEAT:<PRE>CREATE TABLE TEST_A (  `A` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,  `B` INT(10) UNSIGNED NOT NULL,  `C` ENUM(FALSE,TRUE) DEFAULT NULL,  PRIMARY KEY (`A`)) ENGINE = INNODB;CREATE TABLE TEST_B (  `M` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,  `N` INT(10) UNSIGNED NOT NULL,  `O` ENUM(FALSE,TRUE) DEFAULT NULL,  PRIMARY KEY (`M`)) ENGINE = INNODB;NOTE THAT YOU MUST USE A 5.1.31 CLIENT AND 5.1.31 SERVER<PRE>INSERT INTO TEST_B (N,O) VALUES (1 , TRUE), (1 , FALSE), (2 , TRUE), (2 , FALSE), (3 , TRUE), (3 , FALSE), (4 , TRUE), (4 , FALSE), (5 , TRUE), (5 , FALSE);INSERT INTO TEST_A (B,C) SELECT N,O FROM TEST_B ;INSERT INTO TEST_A (B,C) SELECT N,O FROM TEST_B ;SELECT * FROM TEST_A;INSERT INTO TEST_A (B,C) SELECT N,O FROM TEST_B WHERE O = FALSE;SELECT * FROM TEST_A;INSERT INTO TEST_A (B,C) SELECT N,O FROM TEST_B WHERE O = FALSE;<PRE>SUGGESTED FIX:NO IDEA ","SUMMARY":"BUGU00A0#42714  AUTO_INCREMENT ERRORS IN 5.1.31 ","CLASS":1}
{"ID_DEFECT":"43203","DESCRIPTION":"     [25 FEB 2009 17:42]   COLIN GUTHRIE          DESCRIPTION:THE SERVER CAN CRASH WHEN THE VALUE OVERFLOW THE DATA STORAGE DURING AND AUTO_INCREMENT INSERT OPERATION.HOW TO REPEAT:SETUP THE TABLES:DROP TABLE IF EXISTS OVERFLOW_SOURCE;DROP TABLE IF EXISTS OVERFLOW_DEST;CREATE TABLE OVERFLOW_SOURCE(ID INT(10) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY) ENGINE=INNODB;INSERT INTO OVERFLOW_SOURCE VALUES (NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL),(NULL);CREATE TABLE OVERFLOW_DEST(ID TINYINT(3) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY) ENGINE=INNODB;-- SELECTING THE ID FIELD SPECIFICALLY WORKS AS EXPECTEDTEST> INSERT INTO OVERFLOW_DEST SELECT ID FROM OVERFLOW_SOURCE;ERROR 1062 (23000): DUPLICATE ENTRY 255 FOR KEY PRIMARYTEST> SELECT * FROM OVERFLOW_DEST;EMPTY SET (0.00 SEC)-- SELECTING A NULL VALUE TO TRIGGER AUTO-INCREMENT FAILS, BADLY!TEST> INSERT INTO OVERFLOW_DEST SELECT NULL FROM OVERFLOW_SOURCE;ERROR 2013 (HY000): LOST CONNECTION TO MYSQL SERVER DURING QUERYTEST>-- IF WE REDUCE OUR DATASET SO THAT AUTO-INCREMENT VALUES WILL NOT GO OVER OUR LIMIT, THINGS WORK AGAIN:TEST> DELETE FROM OVERFLOW_SOURCE LIMIT 1;ERROR 2006 (HY000): MYSQL SERVER HAS GONE AWAYNO CONNECTION. TRYING TO RECONNECT...CONNECTION ID:    1CURRENT DATABASE: TESTQUERY OK, 1 ROW AFFECTED (0.01 SEC)TEST> INSERT INTO OVERFLOW_DEST SELECT NULL FROM OVERFLOW_SOURCE;QUERY OK, 255 ROWS AFFECTED (0.01 SEC)RECORDS: 255  DUPLICATES: 0  WARNINGS: 0HERE IS THE APPROPRIATE INFO FROM THE LOG:090225 17:27:27  INNODB: ASSERTION FAILURE IN THREAD 140583524956496 IN FILE HANDLERHA_INNODB.CC LINE 7651INNODB: FAILING ASSERTION: PREBUILT->AUTOINC_LAST_VALUE >= *FIRST_VALUEINNODB: WE INTENTIONALLY GENERATE A MEMORY TRAP.INNODB: SUBMIT A DETAILED BUG REPORT TO HTTP:BUGS.MYSQL.COM.INNODB: IF YOU GET REPEATED ASSERTION FAILURES OR CRASHES, EVENINNODB: IMMEDIATELY AFTER THE MYSQLD STARTUP, THERE MAY BEINNODB: CORRUPTION IN THE INNODB TABLESPACE. PLEASE REFER TOINNODB: HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENFORCING-RECOVERY.HTMLINNODB: ABOUT FORCING RECOVERY.090225 17:27:27 - MYSQLD GOT SIGNAL 6 ;THIS COULD BE BECAUSE YOU HIT A BUG. IT IS ALSO POSSIBLE THAT THIS BINARYOR ONE OF THE LIBRARIES IT WAS LINKED AGAINST IS CORRUPT, IMPROPERLY BUILT,OR MISCONFIGURED. THIS ERROR CAN ALSO BE CAUSED BY MALFUNCTIONING HARDWARE.WE WILL TRY OUR BEST TO SCRAPE UP SOME INFO THAT WILL HOPEFULLY HELP DIAGNOSETHE PROBLEM, BUT SINCE WE HAVE ALREADY CRASHED, SOMETHING IS DEFINITELY WRONGAND THIS MAY FAIL.KEY_BUFFER_SIZE=16777216READ_BUFFER_SIZE=262144MAX_USED_CONNECTIONS=2MAX_THREADS=151THREADS_CONNECTED=1IT IS POSSIBLE THAT MYSQLD COULD USE UP TOKEY_BUFFER_SIZE + (READ_BUFFER_SIZE + SORT_BUFFER_SIZE)*MAX_THREADS = 133885 KBYTES OF MEMORYHOPE THATS OK; IF NOT, DECREASE SOME VARIABLES IN THE EQUATION.THD: 0X1744590ATTEMPTING BACKTRACE. YOU CAN USE THE FOLLOWING INFORMATION TO FIND OUTWHERE MYSQLD DIED. IF YOU SEE NO MESSAGES AFTER THIS, SOMETHING WENTTERRIBLY WRONG...STACK_BOTTOM = 0X7FDC2710F0C8 THREAD_STACK 0X40000USRSBINMYSQLD(MY_PRINT_STACKTRACE+0X3C) [0X8A9F7C]USRSBINMYSQLD(HANDLE_SEGFAULT+0X393) [0X5DAE93]LIB64LIBPTHREAD.SO.0 [0X7FDC26D73D30]LIB64LIBC.SO.6(GSIGNAL+0X35) [0X7FDC25837A15]LIB64LIBC.SO.6(ABORT+0X183) [0X7FDC25839243]USRSBINMYSQLD [0X76EF08]USRSBINMYSQLD(HANDLER::UPDATE_AUTO_INCREMENT()+0X228) [0X6CAA98]USRSBINMYSQLD(HA_INNOBASE::WRITE_ROW(UNSIGNED CHAR*)+0X393) [0X76E233]USRSBINMYSQLD(HANDLER::HA_WRITE_ROW(UNSIGNED CHAR*)+0X83) [0X6CDBC3]USRSBINMYSQLD(WRITE_RECORD(THD*, ST_TABLE*, ST_COPY_INFO*)+0X6C) [0X65C45C]USRSBINMYSQLD(SELECT_INSERT::SEND_DATA(LIST<ITEM>&)+0XC0) [0X65CDC0]USRSBINMYSQLD [0X636978]USRSBINMYSQLD [0X6390E5]USRSBINMYSQLD(SUB_SELECT(JOIN*, ST_JOIN_TABLE*, BOOL)+0XA6) [0X645136]USRSBINMYSQLD [0X6455FD]USRSBINMYSQLD(JOIN::EXEC()+0X97D) [0X65664D]USRSBINMYSQLD(MYSQL_SELECT(THD*, ITEM***, TABLE_LIST*, UNSIGNED INT, LIST<ITEM>&, ITEM*, UNSIGNED INT, ST_ORDER*, ST_ORDER*, ITEM*, ST_ORDER*, UNSIGNED LONG LONG, SELECT_RESULT*, ST_SELECT_LEX_UNIT*, ST_SELECT_LEX*)+0X1B8) [0X652798]USRSBINMYSQLD(HANDLE_SELECT(THD*, ST_LEX*, SELECT_RESULT*, UNSIGNED LONG)+0X19C) [0X657F7C]USRSBINMYSQLD(MYSQL_EXECUTE_COMMAND(THD*)+0X50D1) [0X5EC541]USRSBINMYSQLD(MYSQL_PARSE(THD*, CHAR CONST*, UNSIGNED INT, CHAR CONST**)+0X240) [0X5ECCD0]USRSBINMYSQLD(DISPATCH_COMMAND(ENUM_SERVER_COMMAND, THD*, CHAR*, UNSIGNED INT)+0XDCF) [0X5EEE1F]USRSBINMYSQLD(DO_COMMAND(THD*)+0XF8) [0X5EF658]USRSBINMYSQLD(HANDLE_ONE_CONNECTION+0X22E) [0X5E227E]LIB64LIBPTHREAD.SO.0 [0X7FDC26D6C263]LIB64LIBC.SO.6(CLONE+0X6D) [0X7FDC258E378D]TRYING TO GET SOME VARIABLES.SOME POINTERS MAY BE INVALID AND CAUSE THE DUMP TO ABORT...THD->QUERY AT 0X179A750 = INSERT INTO OVERFLOW_DEST SELECT NULL FROM OVERFLOW_SOURCETHD->THREAD_ID=4THD->KILLED=NOT_KILLEDTHE MANUAL PAGE AT HTTP:DEV.MYSQL.COMDOCMYSQLENCRASHING.HTML CONTAINSINFORMATION THAT SHOULD HELP YOU FIND OUT WHAT IS CAUSING THE CRASH.SUGGESTED FIX:DUNNO! ","SUMMARY":"BUGU00A0#43203  OVERFLOW FROM AUTO INCREMENTING CAUSES SERVER SEGV ","CLASS":1}
{"ID_DEFECT":"44320","DESCRIPTION":"     [16 APR 2009 12:57]   PAUL DUBOIS          DESCRIPTION:INNODB TABLE MONITOR OUTPUT INCLUDES A SECTION FOR EACH INNODB TABLE. EACH SECTION BEGINS WITH A COLUMNS PART THAT LISTS TABLE COLUMNS, BOTH THOSE DEFINED IN THE CREATE TABLE STATEMENT AND THOSE ADDED INTERNALLY BY INNODB.BEFORE MYSQL 5.1, THE COLUMNS PART LISTS THE DB_ROLL_PTR COLUMN THAT IS ADDED INTERNALLY BY INNODB. FOR EXAMPLE:TABLE: NAME SYS_FOREIGN, ID 0 11, COLUMNS 8, INDEXES 3, APPR.ROWS 1  COLUMNS: ID: DATA_VARCHAR PRTYPE 1 LEN 0 PREC 0;           FOR_NAME: DATA_VARCHAR PRTYPE 1 LEN 0 PREC 0;           REF_NAME: DATA_VARCHAR PRTYPE 1 LEN 0 PREC 0;           N_COLS: DATA_INT LEN 4 PREC 0;           DB_ROW_ID: DATA_SYS DATA_ROW_ID LEN 6 PREC 0;           DB_TRX_ID: DATA_SYS DATA_TRX_ID LEN 6 PREC 0;           DB_ROLL_PTR: DATA_SYS DATA_ROLL_PTR LEN 7 PREC 0;  INDEX: NAME ID_IND, ID 0 11, FIELDS 16, TYPE 3   ROOT PAGE 46, APPR.KEY VALS 1, LEAF PAGES 1, SIZE PAGES 1   FIELDS:  ID DB_TRX_ID DB_ROLL_PTR FOR_NAME REF_NAME N_COLS...HOWEVER, AS OF MYSQL 5.1, DB_ROLL_PTR IS MISSING FROM COLUMNS, EVEN THOUGH IT IS USED (AS SHOWN BY THE DEFINITION OF THE CLUSTERED INDEX):TABLE: NAME SYS_FOREIGN, ID 0 11, COLUMNS 7, INDEXES 3, APPR.ROWS 1  COLUMNS: ID: DATA_VARCHAR DATA_ENGLISH LEN 0;            FOR_NAME: DATA_VARCHAR DATA_ENGLISH LEN 0;            REF_NAME: DATA_VARCHAR DATA_ENGLISH LEN 0;            N_COLS: DATA_INT LEN 4;           DB_ROW_ID: DATA_SYS PRTYPE 256 LEN 6;            DB_TRX_ID: DATA_SYS PRTYPE 257 LEN 6;   INDEX: NAME ID_IND, ID 0 11, FIELDS 16, UNIQ 1, TYPE 3    ROOT PAGE 46, APPR.KEY VALS 1, LEAF PAGES 1, SIZE PAGES 1   FIELDS:  ID DB_TRX_ID DB_ROLL_PTR FOR_NAME REF_NAME N_COLSHOW TO REPEAT:SEE ABOVE. ","SUMMARY":"BUGU00A0#44320  INNODB: MISSING DB_ROLL_PTR IN TABLE MONITOR COLUMNS OUTPUT ","CLASS":1}
{"ID_DEFECT":"44571","DESCRIPTION":"     [30 APR 2009 10:01]   SVETA SMIRNOVA          DESCRIPTION:WHEN DOING STATEMENT ALTER TABLE FOO ADD INDEX BAR(BAZ) INNODB PLUGIN CRASHES WITH FOLLOWING ENTRY IN ERROR LOG:VERSION: 5.1.35-DEBUG  SOCKET: TMPMYSQL_SSMIRNOVA.SOCK  PORT: 33051  SOURCE DISTRIBUTION090430 11:46:39 [ERROR] INDEX FOO$BAR OF DBNAMEFOO HAS 2 COLUMNS UNIQUE INSIDE INNODB, BUT MYSQL IS ASKING STATISTICS FOR 3 COLUMNS. HAVE YOU MIXED UP .FRM FILES FROM DIFFERENT INSTALLATIONS? SEE HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENINNODB-TROUBLESHOOTING.HTML090430 11:46:39 [ERROR] INDEX FOO$BAR OF DBNAMEFOO HAS 2 COLUMNS UNIQUE INSIDE INNODB, BUT MYSQL IS ASKING STATISTICS FOR 3 COLUMNS. HAVE YOU MIXED UP .FRM FILES FROM DIFFERENT INSTALLATIONS? SEE HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENINNODB-TROUBLESHOOTING.HTML090430 11:46:40 [ERROR] INDEX FOO$BAR OF DBNAMEFOO HAS 2 COLUMNS UNIQUE INSIDE INNODB, BUT MYSQL IS ASKING STATISTICS FOR 3 COLUMNS. HAVE YOU MIXED UP .FRM FILES FROM DIFFERENT INSTALLATIONS? SEE HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENINNODB-TROUBLESHOOTING.HTML090430 11:46:43 [ERROR] INDEX FOO$BAR OF DBNAMEFOO HAS 2 COLUMNS UNIQUE INSIDE INNODB, BUT MYSQL IS ASKING STATISTICS FOR 3 COLUMNS. HAVE YOU MIXED UP .FRM FILES FROM DIFFERENT INSTALLATIONS? SEE HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENINNODB-TROUBLESHOOTING.HTML090430 11:46:44 [ERROR] INDEX FOO$BAR OF DBNAMEFOO HAS 2 COLUMNS UNIQUE INSIDE INNODB, BUT MYSQL IS ASKING STATISTICS FOR 3 COLUMNS. HAVE YOU MIXED UP .FRM FILES FROM DIFFERENT INSTALLATIONS? SEE HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENINNODB-TROUBLESHOOTING.HTML090430 11:46:45 [ERROR] INDEX FOO$BAR OF DBNAMEFOO HAS 2 COLUMNS UNIQUE INSIDE INNODB, BUT MYSQL IS ASKING STATISTICS FOR 3 COLUMNS. HAVE YOU MIXED UP .FRM FILES FROM DIFFERENT INSTALLATIONS? SEE HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENINNODB-TROUBLESHOOTING.HTML090430 11:46:45  INNODB: ASSERTION FAILURE IN THREAD 2990918576 IN FILE DICTDICT0DICT.C LINE 1704INNODB: WE INTENTIONALLY GENERATE A MEMORY TRAP.INNODB: SUBMIT A DETAILED BUG REPORT TO HTTP:BUGS.MYSQL.COM.INNODB: IF YOU GET REPEATED ASSERTION FAILURES OR CRASHES, EVENINNODB: IMMEDIATELY AFTER THE MYSQLD STARTUP, THERE MAY BEINNODB: CORRUPTION IN THE INNODB TABLESPACE. PLEASE REFER TOINNODB: HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENFORCING-RECOVERY.HTMLINNODB: ABOUT FORCING RECOVERY.090430 11:46:45 - MYSQLD GOT SIGNAL 6 ;THIS COULD BE BECAUSE YOU HIT A BUG. IT IS ALSO POSSIBLE THAT THIS BINARYOR ONE OF THE LIBRARIES IT WAS LINKED AGAINST IS CORRUPT, IMPROPERLY BUILT,OR MISCONFIGURED. THIS ERROR CAN ALSO BE CAUSED BY MALFUNCTIONING HARDWARE.WE WILL TRY OUR BEST TO SCRAPE UP SOME INFO THAT WILL HOPEFULLY HELP DIAGNOSETHE PROBLEM, BUT SINCE WE HAVE ALREADY CRASHED, SOMETHING IS DEFINITELY WRONGAND THIS MAY FAIL.KEY_BUFFER_SIZE=8384512READ_BUFFER_SIZE=131072MAX_USED_CONNECTIONS=1MAX_THREADS=151THREADS_CONNECTED=1IT IS POSSIBLE THAT MYSQLD COULD USE UP TOKEY_BUFFER_SIZE + (READ_BUFFER_SIZE + SORT_BUFFER_SIZE)*MAX_THREADS = 337727 KBYTES OF MEMORYHOPE THATS OK; IF NOT, DECREASE SOME VARIABLES IN THE EQUATION.THD: 0XA496E10ATTEMPTING BACKTRACE. YOU CAN USE THE FOLLOWING INFORMATION TO FIND OUTWHERE MYSQLD DIED. IF YOU SEE NO MESSAGES AFTER THIS, SOMETHING WENTTERRIBLY WRONG...STACK_BOTTOM = 0XB245C448 THREAD_STACK 0X30000.LIBEXECMYSQLD(MY_PRINT_STACKTRACE+0X26)[0X86D5C69].LIBEXECMYSQLD(HANDLE_SEGFAULT+0X2DA)[0X8276ABA][0X2CE420]LIBLIBC.SO.6(ABORT+0XF8)[0X316678].LIBEXECMYSQLD[0X84FC78F].LIBEXECMYSQLD[0X84FC1E5].LIBEXECMYSQLD[0X858414A].LIBEXECMYSQLD[0X853FD7A].LIBEXECMYSQLD[0X853FE8D].LIBEXECMYSQLD[0X853FFA2].LIBEXECMYSQLD[0X854C114].LIBEXECMYSQLD[0X854C20A].LIBEXECMYSQLD[0X84DF4FD].LIBEXECMYSQLD(_Z17MYSQL_ALTER_TABLEP3THDPCS1_P24ST_HA_CREATE_INFORMATIONP10TABLE_LISTP10ALTER_INFOJP8ST_ORDERB+0X2189)[0X83D6D05].LIBEXECMYSQLD(_Z21MYSQL_EXECUTE_COMMANDP3THD+0X24C7)[0X828E1BF].LIBEXECMYSQLD(_Z11MYSQL_PARSEP3THDPKCJPS2_+0X230)[0X8295B48].LIBEXECMYSQLD(_Z16DISPATCH_COMMAND19ENUM_SERVER_COMMANDP3THDPCJ+0XAAC)[0X8296784].LIBEXECMYSQLD(_Z10DO_COMMANDP3THD+0X260)[0X82979A2].LIBEXECMYSQLD(HANDLE_ONE_CONNECTION+0X115)[0X8284349]LIBLIBPTHREAD.SO.0[0X45FBD4]LIBLIBC.SO.6(__CLONE+0X5E)[0X3B74FE]TRYING TO GET SOME VARIABLES.SOME POINTERS MAY BE INVALID AND CAUSE THE DUMP TO ABORT...THD->QUERY AT 0XA4CB4F8 = ALTER TABLE BAZ ADD INDEX BAZ$IDX (COL), ADD INDEX BAZ$FIELD (FIELD), ADD INDEX BAZ$FIELD2 (FIELD2)THD->THREAD_ID=5THD->KILLED=NOT_KILLEDTHE MANUAL PAGE AT HTTP:DEV.MYSQL.COMDOCMYSQLENCRASHING.HTML CONTAINSINFORMATION THAT SHOULD HELP YOU FIND OUT WHAT IS CAUSING THE CRASH.HOW TO REPEAT:1. COMPILE 5.1-BZR WITH INNODB-1.0.3 PLUGIN. USE BUILT-IN METHOD: REPLACE CONTENT OF STORAGEINNOBASE DIRECTORY.2. LOAD DUMP FROM THE PRIVATE COMMENT ","SUMMARY":"BUGU00A0#44571  INNODB PLUGIN CRASHES ON ADD INDEX ","CLASS":1}
{"ID_DEFECT":"45097","DESCRIPTION":"     [26 MAY 2009 13:46]   VASIL DIMOV          DESCRIPTION:A HANG MAY OCCUR IN INNODB RECOVERY IF THE SERVER CRASHED IMMEDIATELY AFTER STARTUP. THE OUTPUT LOOKS LIKE THIS:090515 16:38:40 INNODB: DATABASE WAS NOT SHUT DOWN NORMALLY!INNODB: STARTING CRASH RECOVERY.INNODB: READING TABLESPACE INFORMATION FROM THE .IBD FILES...INNODB: RESTORING POSSIBLE HALF-WRITTEN DATA PAGES FROM THE DOUBLEWRITEINNODB: BUFFER...INNODB: DOING RECOVERY: SCANNED UP TO LOG SEQUENCE NUMBER 45753090515 16:38:40 INNODB: STARTING AN APPLY BATCH OF LOG RECORDS TO THE DATABASE...INNODB: PROGRESS IN PERCENTS: 090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 96090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 97[...]090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 126090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 1270 090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 64090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 65[...]090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 94090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 951 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 160090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 161090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 162[...]090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 190090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 19179 80 81 82 83 84 090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 128090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 129090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 130[...]090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 158090515 16:38:40 INNODB: WARNING: TRYING TO READ DOUBLEWRITE BUFFER PAGE 15985 86 87 88 89 90 91 92 93 94 95 96 97 98 99 ^C  <-- IT HANGS HEREHOW TO REPEAT:KILL THE SERVER IMMEDIATELY AFTER STARTUP. HERE IS EMBEDDED INNODB CODE THAT REPRODUCES THE PROBLEM 100% OF THE TIME:INTMAIN(INT ARGC, CHAR** ARGV)        IB_INIT();        IB_STARTUP(BARRACUDA);        RETURN(0); ","SUMMARY":"BUGU00A0#45097  HANG DURING RECOVERY, REDO LOGS FOR DOUBLEWRITE BUFFER PAGES  ","CLASS":1}
{"ID_DEFECT":"45357","DESCRIPTION":"     [6 JUN 2009 14:10]   SIMON BROCK          DESCRIPTION:WE HAVE UPGRADED FROM 5.1.34 TO 5.1.35 AND THE SERVER WILL CRASH WITH:090606 13:53:50  INNODB: ASSERTION FAILURE IN THREAD 12 IN FILE ROWROW0MYSQL.C LINE 1534INNODB: FAILING ASSERTION: INDEX->TYPE & DICT_CLUSTEREDINNODB: WE INTENTIONALLY GENERATE A MEMORY TRAP.INNODB: SUBMIT A DETAILED BUG REPORT TO HTTP:BUGS.MYSQL.COM.INNODB: IF YOU GET REPEATED ASSERTION FAILURES OR CRASHES, EVENINNODB: IMMEDIATELY AFTER THE MYSQLD STARTUP, THERE MAY BEINNODB: CORRUPTION IN THE INNODB TABLESPACE. PLEASE REFER TOINNODB: HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENFORCING-RECOVERY.HTMLINNODB: ABOUT FORCING RECOVERY.090606 13:53:49 - MYSQLD GOT SIGNAL 11 ;THIS MACHINE IS A SLAVE TO A MACHINE RUNNING 5.1.34 -- A LOCAL BUILD WITH SPHINX.THE PROBLEM HAS BEEN OBSERVED AGAINST A LOCAL BUILD OF 5.1.35 WITH SPHINX AND THE 5.1.35 DISTRIBUTION FROM MYSQL.DOWNGRADING TO 5.1.34 RESULTS IN A CRASH RECOVERY BUT NO SUBSEQUENT PROBLEMS. WE HAVE STOPPED AND STARTED THE SERVER UNDER 5.1.34 WITHOUT ANY PROBLEMS.WE ARE USING BINLOG_FORMAT=MIXED, INNODB_FILE_PER_TABLE AND TRYING TO UPGRADE TO TAKE ADVANTAGE OF THE --SLAVE-SKIP-ERRORS FIX  (BUG#39393) IN 5.1.35. LOOKING AT THE BINARY LOG ON THE MASTER THERE IS ROW BASED REPLICATION AGAINST AN INNODB TABLE:#090606 13:54:02 SERVER ID 52  END_LOG_POS 214708425    TABLE_MAP: `REMOVED`.`OX_DATA_RAW_AD_IMPRESSION` MAPPED TO NUMBER 18358#090606 13:54:02 SERVER ID 52  END_LOG_POS 214709455    DELETE_ROWS: TABLE ID 18358ETCHOW TO REPEAT:UPGRADE TO 5.1.35 DISTRIBUTION AGAINST 5.1.34 MASTER WITH ROWMIXED REPLICATION.SUGGESTED FIX:NONE ","SUMMARY":"BUGU00A0#45357  5.1.35 CRASHES WITH FAILING ASSERTION: INDEX->TYPE & DICT_CLUSTERED ","CLASS":1}
{"ID_DEFECT":"46256","DESCRIPTION":"     [17 JUL 2009 5:24]   SHANE BESTER          DESCRIPTION:IF YOU TAKE YOUR DATA FROM A SERVER TO ANOTHER SERVER WHICH DOESNT SUPPORT THE COLLATION USED, THEN TRY TO DROP THE TABLE, INNODB CRASHES.VERSION: 5.4.4-ALPHA-DEBUG  SOCKET: TMPMYSQL.SOCK  PORT: 3306  SOURCE DISTRIBUTION090629 23:38:09  INNODB: ASSERTION FAILURE IN THREAD 3022673808 IN FILE HANDLERHA_INNODB.CC LINE 790INNODB: FAILING ASSERTION: CSET == 0MYSQL> SHOW CREATE TABLE TBL_75; #EXPECTEDERROR 1273 (HY000): UNKNOWN COLLATION #254 IN TABLE TBL_75 DEFINITIONMYSQL> CHECK TABLE TBL_75; #EXPECTED+-------------+-------------------------------------------------------+| TABLE       | MSG_TEXT                                              |+-------------+-------------------------------------------------------+| TEST.TBL_75 | UNKNOWN COLLATION #254 IN TABLE TBL_75 DEFINITION || TEST.TBL_75 | CORRUPT                                               |+-------------+-------------------------------------------------------+2 ROWS IN SET (0.00 SEC)MYSQL> DROP TABLE TBL_75; #OOPSERROR 2013 (HY000): LOST CONNECTION TO MYSQL SERVER DURING QUERYHOW TO REPEAT:ON A 5.1.37 SERVER THAT HAS UTF8_GENERAL_CS COLLATION, CREATE A TABLE:DROP TABLE IF EXISTS TBL_75;CREATE TABLE TBL_75 (A VARCHAR(1) CHARACTER SET UTF8 COLLATE UTF8_GENERAL_CS,PRIMARY KEY(A))ENGINE=INNODB;THEN START A SERVER THAT DOESNT SUPPORT UTF8_GENERAL_CS USING THIS DATADIR AND TRY DROP THE TABLE.CHECK TABLE TBL_75 EXTENDED;DROP TABLE TBL_75SUGGESTED FIX:ALLOW TABLES TO BE DROPPED IF THE COLLATION IS NOT SUPPORTED.  MYISAM ALLOWS THIS. ","SUMMARY":"BUGU00A0#46256  DROP TABLE WITH UNKNOWN COLLATION CRASHES INNODB ","CLASS":1}
{"ID_DEFECT":"46657","DESCRIPTION":"     [11 AUG 2009 16:17]   GUILHEM BICHOT          DESCRIPTION:WE CAN SEE THIS KIND OF REPORT IN PUSHBUILD2 FOR 5.1-INNODB_PLUGIN:MAIN.INDEX_MERGE_INNODB                  W3 [ FAIL ]==4615== INVALID READ OF SIZE 1==4615==    AT 0XA20D30: HA_INNOBASE::ADD_INDEX(ST_TABLE*, ST_KEY*, UNSIGNED) (HANDLER0ALTER.CC:894)==4615==    BY 0X73715A: MYSQL_ALTER_TABLE(THD*, CHAR*, CHAR*, ST_HA_CREATE_INFORMATION*, TABLE_LIST*, ALTER_INFO*, UNSIGNED, ST_ORDER*, BOOL) (SQL_TABLE.CC:7067)==4615==    BY 0X6BEBDE: MYSQL_EXECUTE_COMMAND(THD*) (SQL_PARSE.CC:2889)==4615==    BY 0X6C4745: MYSQL_PARSE(THD*, CHAR CONST*, UNSIGNED, CHAR CONST**) (SQL_PARSE.CC:6003)==4615==    BY 0X6C59A5: DISPATCH_COMMAND(ENUM_SERVER_COMMAND, THD*, CHAR*, UNSIGNED) (SQL_PARSE.CC:1222)==4615==    BY 0X635060: EMB_ADVANCED_COMMAND (LIB_SQL.CC:139)==4615==    BY 0X5BDB7F: MYSQL_SEND_QUERY (CLIENT.C:2863)==4615==    BY 0X57D574: DO_SEND_QUERY(ST_CONNECTION*, CHAR CONST*, INT, INT) (MYSQLTEST.CC:715)==4615==    BY 0X587B00: RUN_QUERY_NORMAL(ST_CONNECTION*, ST_COMMAND*, INT, CHAR*, INT, ST_DYNAMIC_STRING*, ST_DYNAMIC_STRING*) (MYSQLTEST.CC:6437)==4615==    BY 0X58844C: RUN_QUERY(ST_CONNECTION*, ST_COMMAND*, INT) (MYSQLTEST.CC:7166)==4615==    BY 0X5897A6: MAIN (MYSQLTEST.CC:7796)==4615==  ADDRESS 0XE0DDEDC IS 156 BYTES INSIDE A BLOCK OF SIZE 544 FREED==4615==    AT 0X4A0541E: FREE (VG_REPLACE_MALLOC.C:233)==4615==    BY 0XA3BDA4: MEM_AREA_FREE (MEM0POOL.C:495)==4615==    BY 0XA3AE16: MEM_HEAP_BLOCK_FREE (MEM0MEM.C:491)==4615==    BY 0XB1C71A: MEM_HEAP_FREE_FUNC (MEM0MEM.IC:504)==4615==    BY 0XB1C6C7: DICT_MEM_TABLE_FREE (DICT0MEM.C:109)==4615==    BY 0XB11E6A: DICT_TABLE_REMOVE_FROM_CACHE (DICT0DICT.C:1146)==4615==    BY 0XA6F48C: ROW_DROP_TABLE_FOR_MYSQL (ROW0MYSQL.C:3317)==4615==    BY 0XA69060: ROW_MERGE_DROP_TABLE (ROW0MERGE.C:2261)==4615==    BY 0XA20C80: HA_INNOBASE::ADD_INDEX(ST_TABLE*, ST_KEY*, UNSIGNED) (HANDLER0ALTER.CC:865)==4615==    BY 0X73715A: MYSQL_ALTER_TABLE(THD*, CHAR*, CHAR*, ST_HA_CREATE_INFORMATION*, TABLE_LIST*, ALTER_INFO*, UNSIGNED, ST_ORDER*, BOOL) (SQL_TABLE.CC:7067)==4615==    BY 0X6BEBDE: MYSQL_EXECUTE_COMMAND(THD*) (SQL_PARSE.CC:2889)==4615==    BY 0X6C4745: MYSQL_PARSE(THD*, CHAR CONST*, UNSIGNED, CHAR CONST**) (SQL_PARSE.CC:6003)==4615==    BY 0X6C59A5: DISPATCH_COMMAND(ENUM_SERVER_COMMAND, THD*, CHAR*, UNSIGNED) (SQL_PARSE.CC:1222)==4615==    BY 0X635060: EMB_ADVANCED_COMMAND (LIB_SQL.CC:139)==4615==    BY 0X5BDB7F: MYSQL_SEND_QUERY (CLIENT.C:2863)==4615==    BY 0X57D574: DO_SEND_QUERY(ST_CONNECTION*, CHAR CONST*, INT, INT) (MYSQLTEST.CC:715)THIS IS SPECIFIC OF THE INNODB PLUGIN.SIMILAR ONES ARE ALSO SEEN IN MYSQL-TRUNK.HOW TO REPEAT:RUN INDEX_MERGE_INNODB WITH --VALGRIND, IT SEEMS. ","SUMMARY":"BUGU00A0#46657  INNODB PLUGIN: INVALID READ IN INDEX_MERGE_INNODB TEST (VALGRIND) ","CLASS":1}
{"ID_DEFECT":"46672","DESCRIPTION":"     [12 AUG 2009 10:28]   GUILHEM BICHOT          DESCRIPTION:THIS BUG REPORT IS FOR ORACLEINNOBASE.SOME FIX HAS RECENTLY BEEN MADE TO THE INNODB BUILTIN, BUT NOT TO THE INNODB PLUGIN: THE FIX FOR BUG#18828 IF INNODB RUNS OUT OF UNDO SLOTS, IT RETURNS MISLEADING TABLE IS FULL.THE PATCH FOR THIS BUG CAN BE VIEWED BY BRANCHING 5.1: BZR BRANCH HTTPS:CODE.LAUNCHPAD.NET~MYSQLMYSQL-SERVERMYSQL-5.1AND THEN DOING: BZR DIFF -C REVID:SATYA.BN@SUN.COM-20090724064506-AXZ1SO8BEEM1G1KZTHE FIX IS PRESENT IN STORAGEINNOBASE OF 5.1, BUT WE (SUNMYSQL) HAVE *NOT* PORTED IT TO STORAGEINNODB_PLUGIN, WE LEAVE IT UP TO ORACLEINNOBASE TO DO IT (IF PORTING IS APPROPRIATE; OTHERWISE LET US KNOW, IF THE BUGFIX IS WRONG, IS NOT NEEDED...).HOW TO REPEAT:. ","SUMMARY":"BUGU00A0#46672  INNODB PLUGIN: CONSIDER PORTING TO THE PLUGIN SOME BUGFIXES MADE TO THE BUILTIN ","CLASS":1}
{"ID_DEFECT":"47167","DESCRIPTION":"     [7 SEP 2009 10:07]   YASUFUMI KINOSHITA          DESCRIPTION:SET GLOBAL INNODB_FILE_FORMAT_CHECK COMMAND SEEMS TO NOT ABLE TO SET VALUE USING USER-DEFINED VARIABLE.HOW TO REPEAT:MYSQL> SET @OLD_INNODB_FILE_FORMAT_CHECK=@@INNODB_FILE_FORMAT_CHECK;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> SELECT @OLD_INNODB_FILE_FORMAT_CHECK;+-------------------------------+| @OLD_INNODB_FILE_FORMAT_CHECK |+-------------------------------+| ANTELOPE                      |+-------------------------------+1 ROW IN SET (0.00 SEC)MYSQL> SET GLOBAL INNODB_FILE_FORMAT_CHECK = BARRACUDA;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> SELECT @@INNODB_FILE_FORMAT_CHECK;+----------------------------+| @@INNODB_FILE_FORMAT_CHECK |+----------------------------+| BARRACUDA                  |+----------------------------+1 ROW IN SET (0.00 SEC)MYSQL> SET GLOBAL INNODB_FILE_FORMAT_CHECK = @OLD_INNODB_FILE_FORMAT_CHECK;QUERY OK, 0 ROWS AFFECTED, 1 WARNING (0.00 SEC)MYSQL> SHOW WARNINGS;+---------+------+--------------------------------------+| LEVEL   | CODE | MESSAGE                              |+---------+------+--------------------------------------+| WARNING | 1210 | IGNORING SET INNODB_FILE_FORMAT=XG |+---------+------+--------------------------------------+1 ROW IN SET (0.00 SEC)MYSQL> SELECT @@INNODB_FILE_FORMAT_CHECK;+----------------------------+| @@INNODB_FILE_FORMAT_CHECK |+----------------------------+| BARRACUDA                  |+----------------------------+1 ROW IN SET (0.00 SEC) ","SUMMARY":"BUGU00A0#47167  SET GLOBAL INNODB_FILE_FORMAT_CHECK CANNOT SET VALUE BY USER-DEFINED VARIABLE ","CLASS":1}
{"ID_DEFECT":"47621","DESCRIPTION":"     [24 SEP 2009 15:55]   SVETA SMIRNOVA          DESCRIPTION:THIS IS SPLIT FROM BUG #44571:[12 MAY 13:10] MARKO MU00E4KELU00E4CASE #1 (UT_ERROR ASSERTION IN DICT_INDEX_FIND_COLS()) IS THAT THE MYSQL AND INNODB DATADICTIONARIES WILL BECOME OUT OF SYNC WHEN RENAMING COLUMNS. COLUMNS WILL BE ONLY RENAMEDIN THE MYSQL DATA DICTIONARY (.FRM FILE), NOT IN THE INNODB SYSTEM TABLES. FIXING THATMIGHT REQUIRE AN API CHANGE IN MYSQL 5.1. I BELIEVE THAT THE ALTER TABLE API IN MYSQL 6.0DOES SUPPORT RENAMING COLUMNS.HOW TO REPEAT:SEE BUG #44571 ","SUMMARY":"BUGU00A0#47621  MYSQL AND INNODB DATA DICTIONARIES WILL BECOME OUT OF SYNC WHEN RENAMING COLUMNS ","CLASS":1}
{"ID_DEFECT":"48024","DESCRIPTION":"     [13 OCT 2009 15:35]   GEORGI KODINOV          DESCRIPTION:THIS IS A SPIN-OFF OF BUG #40877.INNODB THREATS THE QUERY TEXT THAT IS PASSED TO IT BY THE SERVER (THROUGH THD_QUERY()) AS A NULL-TERMINATED STRING.THIS CAUSES PROBLEMS WITH MULTI-STATEMENTS THAT CONTAIN FOREIGN KEY DEFINITION CODE, AS DEMONSTRATED BY THE EXAMPLE IN BUG #40877 BECAUSE THE INDIVIDUAL STATEMENTS IN SUCH A MULTI STATEMENT ARE NOT NULL TERMINATED AND INNODB GETS CONFUSED BY READING THE FOREIGN KEY DEFINITIONS IN THE NEXT STATEMENT(S).HOW TO REPEAT:SEE THE EXAMPLE IN BUG #40877SUGGESTED FIX:I WILL IMPLEMENT A NEW FUNCTION FOR 5.1 THAT RETURNS A POINTER TO LEX_STRING INSTEAD (STRING POINTER AND LENGTH).PLEASE UPDATE THE INNODB LOGIC TO USE THE NEW FUNCTION IN 5.1 CODEBASE INSTEAD OF THD_QUERY() (THAT I WANT TO OBSOLETE).PLEASE UPDATE THE THE 5.0 INNODB CODE TO USE STORE AND USE THD::QUERY_LENGTH.NOTE THAT THE FIX FOR BUG #40877 (THE EXTENDED API FUNCTION) IS A PRE-REQUISITE FOR THIS BUG. ","SUMMARY":"BUGU00A0#48024  INNODB DOESNT WORK WITH MULTI-STATEMENTS ","CLASS":1}
{"ID_DEFECT":"48782","DESCRIPTION":"     [15 NOV 2009 18:58]   SHANE BESTER          DESCRIPTION:RUNNING CONCURRENT ALTER TABLE CAUSES INNODB TO ASSERT:INNODB: THE INNODB MEMORY HEAP IS DISABLEDINNODB: MUTEXES AND RW_LOCKS USE WINDOWS INTERLOCKED FUNCTIONS.091115 20:43:14  INNODB: HIGHEST SUPPORTED FILE FORMAT IS BARRACUDA.091115 20:43:14 INNODB PLUGIN 1.0.4 STARTED; LOG SEQUENCE NUMBER 4548740091115 20:43:14 [NOTE] MYSQLD: READY FOR CONNECTIONS.VERSION: 5.1.40-ENTERPRISE-GPL-ADVANCED  SOCKET:   PORT: 3306  MYSQL ENTERPRISE SERVER - ADVANCED EDITION (GPL)091115 20:43:46  INNODB: ASSERTION FAILURE IN THREAD 3924 IN FILE .OWOW0MERGE.C LINE 2259INNODB: FAILING ASSERTION: TABLE->N_MYSQL_HANDLES_OPENED == 0INNODB: WE INTENTIONALLY GENERATE A MEMORY TRAP.1800AC3CD    HA_INNODB_PLUGIN.DLL!ROW_MERGE_DROP_TABLE()[ROW0MERGE.C:2259]18009C27C    HA_INNODB_PLUGIN.DLL!HA_INNODB::ADD_INDEX()[HANDLER0ALTER.CC:881]1400E9EAF    MYSQLD.EXE!MYSQL_ALTER_TABLE()[SQL_TABLE.CC:7202]14006B2D4    MYSQLD.EXE!MYSQL_EXECUTE_COMMAND()[SQL_PARSE.CC:2891]14006E966    MYSQLD.EXE!MYSQL_PARSE()[SQL_PARSE.CC:5967]14006F4FA    MYSQLD.EXE!DISPATCH_COMMAND()[SQL_PARSE.CC:1226]140070167    MYSQLD.EXE!DO_COMMAND()[SQL_PARSE.CC:865]1400968B7    MYSQLD.EXE!HANDLE_ONE_CONNECTION()[SQL_CONNECT.CC:1127]1403169D5    MYSQLD.EXE!PTHREAD_START()[MY_WINTHREAD.C:85]1402E0B07    MYSQLD.EXE!_CALLTHREADSTART()[THREAD.C:295]1402E0BD5    MYSQLD.EXE!_THREADSTART()[THREAD.C:275]077D6B6CA    KERNEL32.DLL!BASETHREADSTART()TRYING TO GET SOME VARIABLES.SOME POINTERS MAY BE INVALID AND CAUSE THE DUMP TO ABORT...THD->QUERY AT 00000000033B5470=ALTER IGNORE TABLE T3 ADD PRIMARY KEY(ID)HOW TO REPEAT:START MYSQLD WITH: --SKIP-GRANT-TABLES --SKIP-NAME-RESOLVE --INNODB_FLUSH_LOG_AT_TRX_COMMIT=0  --IGNORE-BUILTIN-INNODB --PLUGIN-LOAD=INNODB=HA_INNODB_PLUGIN.DLL --INNODB_LOCK_WAIT_TIMEOUT=1 --INNODB_BUFFER_POOL_SIZE=100M(SDLLSO FOR LINUX).COMPILE AND RUN THE ATTACHED .C TESTCASE ","SUMMARY":"BUGU00A0#48782  ON LOCK WAIT TIMEOUT, CREATE INDEX (CREATING PRIMARY KEY) ATTEMPTS DROP TABLE ","CLASS":1}
{"ID_DEFECT":"49032","DESCRIPTION":"     [24 NOV 2009 12:33]   IGNACIO ENRIQUE          DESCRIPTION:WHEN WINDOWS MYSQL SERVICE RESTART THE NEXT AUTO_INCREMENT VALUE FOR TABLES WITH INNODB STORAGE ENGINE GOES TO 1.THIS OCCURS ALSO IF SERVER VARIABLE INNODB_AUTOINC_LOCK_MODE IS SET TO 0. THE DESCRIBED PROCEDURE OF THE USERU00B4S MANUAL OF THIS VARIABLE ( SEARCHING THE LAST VALUE AND SETTING IT TO THIS VALUE + 1 IN THE MEMORY AREA FOR AUTO_INCREMENTS IN INNODB STORAGHE ENGINE) DOES NOT OCCURS.THIS IS A BUG THAT NOT PERMIT US GOING TO VERSION 5.1.41 OR 5.4.3. IT FORCES US TO STAY IN VERSION 5.0.88 THAT WORKS OK.HOW TO REPEAT:TO REPRODUCE IT EXECUTE THIS SCRIPTTESTINNODBDROP TABLE IF EXISTS `TESTINNODB`;CREATE TABLE `TESTINNODB` (  `ID_TESTINNODB` DOUBLE NOT NULL AUTO_INCREMENT,  `ID_USR` DOUBLE DEFAULT NULL,  `DAT_TESTINNODB` DATETIME NOT NULL,  `TIM_TESTINNODB` VARCHAR(8) NOT NULL,  `COD_SYSTEM` VARCHAR(1) NOT NULL,  `COD_MODULE` VARCHAR(1) NOT NULL,  `COD_ACTION` VARCHAR(1) NOT NULL,  `COD_OPTION` VARCHAR(1) NOT NULL,  `COD_DATA` VARCHAR(2) NOT NULL,  `DES_DATA` VARCHAR(150) NOT NULL,  `DES_IP` VARCHAR(15) DEFAULT NULL,  `ID_PERSON` DOUBLE DEFAULT NULL,  `ID_CENTRE` DOUBLE DEFAULT NULL,  PRIMARY KEY (`ID_TESTINNODB`),  KEY `XIF3TESTINNODB` (`ID_CENTRE`),  KEY `R_USR_TRACK` (`ID_USR`),  KEY `R_PERSON_TESTINNODB` (`ID_PERSON`),) ENGINE=INNODB DEFAULT CHARSET=LATIN1;---- DUMPING DATA FOR TABLE `TESTINNODB`--*!40000 ALTER TABLE `TESTINNODB` DISABLE KEYS *;INSERT INTO `TESTINNODB` (`ID_TESTINNODB`,`ID_USR`,`DAT_TESTINNODB`,`TIM_TESTINNODB`,`COD_SYSTEM`,`COD_MODULE`,`COD_ACTION`,`COD_OPTION`,`COD_DATA`,`DES_DATA`,`DES_IP`,`ID_PERSON`,`ID_CENTRE`) VALUES  (1,1,2009-11-23 00:00:00,12:00:21,B,M,A,M,MM,PATATAS,127.0.0.1,NULL,NULL), (2,1,2009-11-23 00:00:00,12:00:28,B,M,A,M,MM,PATATAS,127.0.0.1,NULL,NULL), (4,1,2009-11-23 00:00:00,12:00:28,B,M,A,M,MM,PATATAS,127.0.0.1,NULL,NULL);*!40000 ALTER TABLE `TESTINNODB` ENABLE KEYS *;THEN STOP WINDOWS MYSQL SERVICETHEN START WINDOWS MYSQL SERVICETHEN TRY TO EXECUTE THIS SENTENCE:INSERT INTO TESTINNODB ( ID_USR, DAT_TESTINNODB, TIM_TESTINNODB, COD_SYSTEM, COD_MODULE, COD_ACTION, COD_OPTION, COD_DATA, DES_DATA, DES_IP)VALUES(1, 2009-11-23, 12:00:28, B, M, A, M, MM,PATATAS,127.0.0.1)IT REPORTS AND ERROR OF  DUPLICATE KEY IN MYSQL 5.1.40 AND FOLLOWERS ALSO IF INNODB_AUTOINC_LOCK_MODE=0IT WORKS OK IN VERSU00EDON 5.0.88 AND BELOWSUGGESTED FIX:MYSQL MUST EXECUTE THE STEPS DESCRIBED IN HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENINNODB-AUTO-INCREMENT-HANDLING.HTMLIN PARRAGRAPH 13.6.4.3.1 WHEN INNODB_AUTOINC_LOCK_MODE IS SET TO 0 AS DESCRIBED.TODAY THIS NOT OCCURS ","SUMMARY":"BUGU00A0#49032  AUTO_INCREMENT FIELD DOES NOT INITIALIZE TO LAST VALUE IN INNODB STORAGE ENGINE ","CLASS":1}
{"ID_DEFECT":"49497","DESCRIPTION":"     [7 DEC 2009 10:15]   ELENA STEPANOVA          DESCRIPTION:ON AN ATTEMPT TO INSERT A NEGATIVE VALUE INTO AN AUTO-INCREMENT COLUMN, ERROR 1467 (FAILED TO READ AUTO-INCREMENT VALUE FROM STORAGE ENGINE) IS STILL RETURNED AND INSERT FAILS (ALTHOUGH FROM CHANGE LOG FOR 5.1.41, DIFFERENT BEHAVIOR COULD BE EXPECTED).HOW TO REPEAT:DROP TABLE IF EXISTS T1;CREATE TABLE T1  (PK INTEGER AUTO_INCREMENT, PRIMARY KEY (PK)) ENGINE = INNODB;INSERT INTO  T1 VALUES (NULL) ,  (-685113344) ,  (NULL) ;SELECT * FROM T1;# MYSQL> INSERT INTO  T1 VALUES (NULL) ,  (-685113344) ,  (NULL) ;# ERROR 1467 (HY000): FAILED TO READ AUTO-INCREMENT VALUE FROM STORAGE ENGINE# MYSQL> SELECT * FROM T1;# EMPTY SET (0.00 SEC) SUGGESTED FIX:HERE IS SUNNYS ANALYSIS:INNODB DOES IGNORE -VE VALUES BECAUSE IT LOOKS AT THE TYPE OF THEAUTOINC COLUMN WHEN COMPARING. HOWEVER, THIS FUNCTIONMACRO FROMMYSQL   SET_IF_BIGGER(*FIRST_VALUE, AUTOINC); DOESNT. WE NEED TOREPLACE THE USE OF THIS FUNCTION IN HA_INNOBASE::GET_AUTO_INCREMENT()WITH CODE THAT DOES THE RIGHT THING.THE ABOVE FAILURE IS BECAUSE MYSQL PASSES IN -685113343 AS *FIRST_VALUETO HA_INNOBASE::GET_AUTO_INCREMENT() AND THE TYPE OF *FIRST_VALUE IS ULONGLONGTHE SET_IF_BIGGER() MACRO DOES A SIMPLE COMPARE USING THE C TYPES WHEREAS WHATWE WANT IS TO CHECK FOR THE COLUMN TYPE IN THE EQUIVALENT OF SET_IF_BIGGER().THE OPTIONS ARE:1. I WILL HAVE TO GET RID OF SET_IF_BIGGER() AND ROLL OUR OWN VERSION.2. CHECK *FIRST_VALUE ON ENTRY EVERYTIM AGAINST THE COLUMN MAX VALUE   AND  SET *FIRST_VALUE TO NEXT AUTOINC IF ITS > COL MAX VALUE. IE.   NOT RELY ON WHAT IS PASSED IN FROM MYSQL. ","SUMMARY":"BUGU00A0#49497  ERROR 1467 (ER_AUTOINC_READ_FAILED) ON INSERTING A NEGATIVE VALUE ","CLASS":1}
{"ID_DEFECT":"50495","DESCRIPTION":"     [21 JAN 2010 7:48]   SHANE BESTER          DESCRIPTION:THE TABLE IN THE ATTACHED FILE CANNOT BE CREATED IN INNODB PLUGIN 1.0.6, BUT CAN BE CREATED IN BUILT-IN INNODB.  THE ERROR IS:<CUT>    -> COL193 VARCHAR(255) CHARSET LATIN1,    -> COL194 VARCHAR(255) CHARSET LATIN1,    -> COL195 VARCHAR(255) CHARSET LATIN1,    -> COL196 VARCHAR(255) CHARSET LATIN1)ENGINE=INNODB;ERROR 1118 (42000): ROW SIZE TOO LARGE. THE MAXIMUM ROW SIZE FOR THE USED TABLE TYPE, NOT COUNTING BLOBS, IS 8126. YOU HAVE TO CHANGE SOME COLUMNS TO TEXT OR BLOBSMYSQL>HOW TO REPEAT:RUN ATTACHED DDL ON BUILT-IN INNODB AND IT WORKS.RUN IT ON INNODB PLUGIN AND IT FAILS. ","SUMMARY":"BUGU00A0#50495  ROW SIZE TOO LARGE FOR PLUGIN, BUT WORKS FOR BUILT-IN INNODB ","CLASS":1}
{"ID_DEFECT":"52663","DESCRIPTION":"     [7 APR 2010 18:22]   JEFF STURM          DESCRIPTION:THIS PECULIAR BEHAVIOR TAKES PLACE WHEN UPDATING A COLUMN BASED ON ITS CURRENT VALUE.  TWO SEPARATE TRANSACTIONS PERFORM AN UPDATE ... SET COUNT = COUNT + 1, BOTH APPEAR TO SUCCEED, HOWEVER THE COLUMN VALUE INCREASES ONLY BY ONE.I COULD NOT REPRODUCE THIS TEST CASE UNDER REPEATABLE-READ, OR WITH A SIMPLE PRIMARY KEY.HOW TO REPEAT:MYSQL1 AND MYSQL2 DENOTE TWO SEPARATE MYSQL CONNECTIONS.MYSQL1> CREATE TABLE COUNTER (WHAT VARCHAR(5), ID INTEGER, COUNT INTEGER, PRIMARY KEY (WHAT, ID));QUERY OK, 0 ROWS AFFECTED (0.02 SEC)MYSQL1> INSERT INTO COUNTER VALUES (TOTAL, 0, 0);QUERY OK, 1 ROW AFFECTED (0.18 SEC)MYSQL1> BEGIN;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL2> BEGIN;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL1> UPDATE COUNTER SET COUNT = COUNT + 1 WHERE WHAT = TOTAL AND ID = 0;QUERY OK, 1 ROW AFFECTED (0.00 SEC)ROWS MATCHED: 1  CHANGED: 1  WARNINGS: 0MYSQL2> UPDATE COUNTER SET COUNT = COUNT + 1 WHERE WHAT = TOTAL AND ID = 0;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)ROWS MATCHED: 0  CHANGED: 0  WARNINGS: 0MYSQL1> COMMIT;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL2> COMMIT;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL1> SELECT * FROM COUNTER;+-------+----+-------+| WHAT  | ID | COUNT |+-------+----+-------+| TOTAL |  0 |     1 |+-------+----+-------+1 ROW IN SET (0.00 SEC) ","SUMMARY":"BUGU00A0#52663  LOST UPDATE INCREMENTING COLUMN VALUE UNDER READ COMMITTED ISOLATION LEVEL ","CLASS":1}
{"ID_DEFECT":"52745","DESCRIPTION":"     [11 APR 2010 17:06]   SHANE BESTER          DESCRIPTION:VERSION: 5.1.45-ENTERPRISE-GPL-ADVANCED-DEBUG  SOCKET:   PORT: 3306  MYSQL ENTERPRISE SERVER - ADVANCED EDITION DEBUG (GPL)100411 19:06:07  INNODB: ASSERTION FAILURE IN THREAD 2736 IN FILE .PAGEPAGE0ZIP.C LINE 3661INNODB: FAILING ASSERTION: BLOB_NO < PAGE_ZIP->N_BLOBSINNODB: WE INTENTIONALLY GENERATE A MEMORY TRAP.HA_INNODB_PLUGIN.DLL!PAGE_ZIP_WRITE_BLOB_PTR()[PAGE0ZIP.C:3661]HA_INNODB_PLUGIN.DLL!BTR_STORE_BIG_REC_EXTERN_FIELDS()[BTR0CUR.C:4064]HA_INNODB_PLUGIN.DLL!ROW_INS_INDEX_ENTRY_LOW()[ROW0INS.C:2114]HA_INNODB_PLUGIN.DLL!ROW_INS_INDEX_ENTRY()[ROW0INS.C:2161]HA_INNODB_PLUGIN.DLL!ROW_INS_INDEX_ENTRY_STEP()[ROW0INS.C:2245]HA_INNODB_PLUGIN.DLL!ROW_INS()[ROW0INS.C:2377]HA_INNODB_PLUGIN.DLL!ROW_INS_STEP()[ROW0INS.C:2487]HA_INNODB_PLUGIN.DLL!ROW_INSERT_FOR_MYSQL()[ROW0MYSQL.C:1139]HA_INNODB_PLUGIN.DLL!HA_INNODB::WRITE_ROW()[HA_INNODB.CC:4408]MYSQLD-DEBUG.EXE!HANDLER::HA_WRITE_ROW()[HANDLER.CC:4650]MYSQLD-DEBUG.EXE!WRITE_RECORD()[SQL_INSERT.CC:1606]MYSQLD-DEBUG.EXE!MYSQL_INSERT()[SQL_INSERT.CC:835]MYSQLD-DEBUG.EXE!MYSQL_EXECUTE_COMMAND()[SQL_PARSE.CC:3183]MYSQLD-DEBUG.EXE!MYSQL_PARSE()[SQL_PARSE.CC:5975]MYSQLD-DEBUG.EXE!DISPATCH_COMMAND()[SQL_PARSE.CC:1235]MYSQLD-DEBUG.EXE!DO_COMMAND()[SQL_PARSE.CC:874]MYSQLD-DEBUG.EXE!HANDLE_ONE_CONNECTION()[SQL_CONNECT.CC:1127]MYSQLD-DEBUG.EXE!PTHREAD_START()[MY_WINTHREAD.C:85]MYSQLD-DEBUG.EXE!_CALLTHREADSTART()[THREAD.C:295]MYSQLD-DEBUG.EXE!_THREADSTART()[THREAD.C:277]KERNEL32.DLL!BASETHREADSTART()HOW TO REPEAT:IMPORT ATTACHED SQL FILE. ","SUMMARY":"BUGU00A0#52745  FAILING ASSERTION: BLOB_NO < PAGE_ZIP->N_BLOBS ","CLASS":1}
{"ID_DEFECT":"52746","DESCRIPTION":"     [11 APR 2010 17:47]   SHANE BESTER          DESCRIPTION:VERSION: 5.1.45-ENTERPRISE-GPL-ADVANCED-DEBUG  SOCKET:   PORT: 3306  MYSQL ENTERPRISE SERVER - ADVANCED EDITION DEBUG (GPL)100411 19:45:32  INNODB: ASSERTION FAILURE IN THREAD 3332 IN FILE .TRXTRX0REC.C LINE 1081INNODB: FAILING ASSERTION: IGNORE_PREFIX || !COL->ORD_PART || DFIELD_GET_LEN(DFIELD) >= REC_MAX_INDEX_COL_LEN + BTR_EXTERN_FIELD_REF_SIZEINNODB: WE INTENTIONALLY GENERATE A MEMORY TRAP.HA_INNODB_PLUGIN.DLL!TRX_UNDO_REC_GET_PARTIAL_ROW  LINE 1081HA_INNODB_PLUGIN.DLL!ROW_PURGE_PARSE_UNDO_REC LINE 585HA_INNODB_PLUGIN.DLL!ROW_PURGE LINE 629HA_INNODB_PLUGIN.DLL!ROW_PURGE_STEP LINE 684HA_INNODB_PLUGIN.DLL!QUE_THR_STEP LINE 1248HA_INNODB_PLUGIN.DLL!QUE_RUN_THREADS_LOW LINE 1311HA_INNODB_PLUGIN.DLL!QUE_RUN_THREADS LINE 1350HA_INNODB_PLUGIN.DLL!TRX_PURGE()  LINE 1179HA_INNODB_PLUGIN.DLL!SRV_MASTER_THREAD LINE 2517HOW TO REPEAT:NO TESTCASE YET. ","SUMMARY":"BUGU00A0#52746  INNODB PURGE THREAD CRASHED WITH TABLE CONTAINING PREFIX INDEXED BLOBS ","CLASS":1}
{"ID_DEFECT":"54044","DESCRIPTION":"     [27 MAY 2010 21:20]   BORIS REISIG          DESCRIPTION:WHEN USING MYSQL 5.1.41, 5.1.44, AND THE LATEST SVN VERSION FROM TODAY (5.1.48), THE FOLLOWING CRASHES...MYSQL> SET STORAGE_ENGINE=INNODB;MYSQL> CREATE TEMPORARY TABLE MK_UPGRADE AS SELECT  IF(     NULL  IS NOT NULL,      NULL , NULL) ; DROP TABLE MK_UPGRADE;BUT WHEN SETTING THE STORAGE ENGINE TO MYISAM, IT DOESNT ALWAYS CRASH. EXAMPLE BELOW.MYSQL> SET STORAGE_ENGINE=MYISAM;MYSQL> CREATE TEMPORARY TABLE MK_UPGRADE AS SELECT  IF(     NULL  IS NOT NULL,      NULL , NULL) ; DROP TABLE MK_UPGRADE;ANY IDEAS?HOW TO REPEAT:MYSQL> SET STORAGE_ENGINE=MYISAM;MYSQL> CREATE TEMPORARY TABLE MK_UPGRADE AS SELECT  IF(     NULL  IS NOT NULL,      NULL , NULL) ; DROP TABLE MK_UPGRADE; ","SUMMARY":"BUGU00A0#54044  CREATE TEMPORARY TABLES AND USING INNODB CRASHES. ","CLASS":1}
{"ID_DEFECT":"54679","DESCRIPTION":"     [21 JUN 2010 21:38]   ROB FINCH          DESCRIPTION:ON TABLES CREATED WITH ROW_FORMAT=COMPRESSED, DOING AN ALTER CAUSES THE TABLE TO REVERT TO COMPACT UNLESS YOU IMPLICITLY ADD ROW_FORMAT=COMPRESSED AT THE END OF YOUR ALTER.I WOULD EXPECT THE EXISTING ROW_FORMAT TO BE PRESERVED ACROSS ALTERS.POSSIBLY RELATED TO HTTP:BUGS.MYSQL.COMBUG.PHP?ID=39200 - ALSO AFFECTS 5.1.46 (AND LIKELY OTHER VERSIONS)HOW TO REPEAT:EASY TO REPRO, CREATE A TABLE WITH ENGINE=INNODB & ROW_FORMAT=COMPRESSED THEN ADD A COLUMN - THEN CHECK THE INFORMATION_SCHEMA.TABLES INFO ABOUT THE ROW FORMAT.SERVER VERSION: 5.1.48-LOG MYSQL COMMUNITY SERVER (GPL)CREATE DATABASE ROBTEST;USE ROBTEST;CREATE TABLE ROBTEST (         TEST1 VARCHAR(100)         ) ENGINE=INNODB ROW_FORMAT=COMPRESSED;VALIDATE CREATION:MYSQL> SELECT TABLE_NAME,ROW_FORMAT,CREATE_OPTIONS FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME=ROBTEST;| ROBTEST    | COMPRESSED | ROW_FORMAT=COMPRESSED |ADD SOME RANDOM DATA (NOT NECESSARY)MYSQL> INSERT INTO ROBTEST (TEST1) VALUES (SFDSDFDSDFS); MYSQL> ALTER TABLE ROBTEST ADD COLUMN TEST2 VARCHAR(100);VALIDATE THE ROW_FORMAT REVERT OCCURRED;MYSQL> SELECT TABLE_NAME,ROW_FORMAT,CREATE_OPTIONS FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME=ROBTEST;| ROBTEST    | COMPACT    | ROW_FORMAT=COMPRESSED |FILESIZE WITH COMPACT:-RW-RW---- 1 MYSQL MYSQL 98304 2010-06-21 17:17 ROBTEST.IBDALTER BACK TO COMPRESSED VIA ALTER TABLE ROBTEST ENGINE=INNODB ROW_FORMAT=COMPRESSED FILESIZE AFTER RETURNING TO COMPRESSED;-RW-RW---- 1 MYSQL MYSQL 65536 2010-06-21 17:19 ROBTEST.IBD ","SUMMARY":"BUGU00A0#54679  ALTER TABLE CAUSES COMPRESSED ROW_FORMAT TO REVERT TO COMPACT ","CLASS":1}
{"ID_DEFECT":"54686","DESCRIPTION":"     [22 JUN 2010 7:11]   YASUFUMI KINOSHITA          DESCRIPTION:FIELD->COL->MTYPE == TYPE ASSERTION ERROR AT ROWROW0SEL.CROW_SEL_CONVERT_MYSQL_KEY_TO_INNOBASE() IS CALLED EVEN WHENPREBUILT->INDEX_USABLE == FALSE FROM HA_INNOBASE::INDEX_READ()I HAVE CHECK THE NEWEST SOURCE CODE, BUT IT SEEMS NOT TO BE FIXED STILL.HOW TO REPEAT:SORRY, IT MAY BE RARE CASE AND I DONT HAVE EXACT REPRODUCE PROCEDURE...SUGGESTED FIX:AT HANDLERHA_INNODB.CC,FUNCTION HA_INNOBASE::INDEX_READ():JUST BEFORE CALLING ROW_SEL_CONVERT_MYSQL_KEY_TO_INNOBASE(),ADDING AS FOLLOWING.(IT IS SAME ERROR CODE AT ROW_SEARCH_FOR_MYSQL())=================================                * CONVERT THE SEARCH KEY VALUE TO INNODB FORMAT INTO                PREBUILT->SEARCH_TUPLE *+               IF (UNIV_UNLIKELY(!PREBUILT->INDEX_USABLE)) +                       RETURN(DB_MISSING_HISTORY);+               +                ROW_SEL_CONVERT_MYSQL_KEY_TO_INNOBASE(                        PREBUILT->SEARCH_TUPLE,                        (BYTE*) KEY_VAL_BUFF,=================================== ","SUMMARY":"BUGU00A0#54686  ASSERTION ERROR IN ROWROW0SEL.C ","CLASS":1}
{"ID_DEFECT":"55027","DESCRIPTION":"     [6 JUL 2010 13:32]   MIKHAIL IZIOUMTCHENKO          DESCRIPTION:THIS IS BUILTIN ONLY BUG WHICH STARTED TO HAPPEN AFTER MERGING THE FIXTO BUG#54583. IT HAS A VERY GOOD REPRODUCIBILITY WITH 5.1 BUILTINBUT NOT WITH ANY VERSION OF THE PLUGIN WITH THE SAME FIX TO BUG#54583 PRESENT.THE STACK BACKTRACE WOULD LOOK LIKE #5  0X0000003ACBC31D10 IN ABORT () FROM LIB64LIBC.SO.6 #6  0X000000000080FE10 IN DICT_TABLE_GET_ON_ID (TABLE_ID=...,     TRX=0X2AAAAC07F0B8) AT DICTDICT0DICT.C:625 #7  0X00000000008B5C3D IN ROW_UNDO_MOD_PARSE_UNDO_REC (NODE=0X2AAAAC0868B8,     THR=0X2AAAAC06C1B0) AT ROWROW0UMOD.C:672 #8  0X00000000008B5E36 IN ROW_UNDO_MOD (NODE=0X2AAAAC0868B8,     THR=0X2AAAAC06C1B0) AT ROWROW0UMOD.C:721 #9  0X000000000087B79B IN ROW_UNDO (NODE=0X2AAAAC0868B8, THR=0X2AAAAC06C1B0)     AT ROWROW0UNDO.C:285 #10 0X000000000087B892 IN ROW_UNDO_STEP (THR=0X2AAAAC06C1B0)     AT ROWROW0UNDO.C:327 #11 0X000000000085DE15 IN QUE_THR_STEP (THR=0X2AAAAC06C1B0)     AT QUEQUE0QUE.C:1254 #12 0X000000000085E017 IN QUE_RUN_THREADS_LOW (THR=0X2AAAAC06C1B0)     AT QUEQUE0QUE.C:1319 #13 0X000000000085E122 IN QUE_RUN_THREADS (THR=0X2AAAAC05FDB0)     AT QUEQUE0QUE.C:1355 #14 0X000000000089299B IN TRX_ROLLBACK_OR_CLEAN_ALL_WITHOUT_SESS (     ARG=0X7FFF7D8EE38C) AT TRXTRX0ROLL.C:538AND THE TABLE IS A SYSTEM TABLE, SYS_COULMNS IIRCHOW TO REPEAT:REPRODUCIBILITY LOOKS GOOD IN MY STANDARD STRESSRECOVERY TESTING.SUGGESTED FIX:NOT SURE. THIS SEEMS TO BE THE SAME ASSERT THAT MADE MARKO INTRODUCEX DICTIONARY LOCKING IN ROW_UNDO. TEMPORARILY REMOVING THE FIX TO BUG#54583IS ONE OPTION. ","SUMMARY":"BUGU00A0#55027  ASSERTION: MUTEX_OWN(&DICT_SYS->MUTEX) IN DICT_TABLE_GET_ON_ID() ","CLASS":1}
{"ID_DEFECT":"56628","DESCRIPTION":"     [7 SEP 2010 19:46]   ELENA STEPANOVA          DESCRIPTION:KEY_BLOCK_SIZE=0 CLAUSE FOR AN INNODB TABLE CAUSES A WARNING INNODB: IGNORING KEY_BLOCK_SIZE=0. THIS IS TRUE FOR CREATE TABLE OR ALTER ON A TABLE WITH DEFAULT KEY_BLOCK_SIZE, BUT WRONG FOR ALTER TABLE IF KEY_BLOCK_SIZE WAS PREVIOUSLY SET: IN THIS CASE, DESPITE THE WARNING, KEY_BLOCK_SIZE IS REMOVED FROM THE TABLE CREATE OPTIONS.IF INNODB_STRICT_MODE=ON, INSTEAD OF PRODUCING THE WARNING THE STATEMENT FAILS.SETTING KEY_BLOCK_SIZE=0 IS THE ONLY WAY IVE FOUND SO FAR TO GET RID OF KEY_BLOCK_SIZE IN TABLE PARAMETERS. IF IT IS INDEED SO, IT SHOULD NOT BE TREATED AS AN ERROR. HOW TO REPEAT:--SOURCE INCLUDEHAVE_INNODB.INC--DISABLE_WARNINGSDROP TABLE IF EXISTS T;--ENABLE_WARNINGSCREATE TABLE T ( I INT ) ENGINE=INNODB ROW_FORMAT=COMPRESSED KEY_BLOCK_SIZE=2;SELECT TABLE_NAME,ROW_FORMAT,CREATE_OPTIONS    FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME=T;SET INNODB_STRICT_MODE=1;--ECHO # WITH STRICT MODE ON, ATTEMPT TO REMOVE KEY_BLOCK_SIZE CAUSES AN ERROR:--ERROR ER_CANT_CREATE_TABLEALTER TABLE T KEY_BLOCK_SIZE=0;SET INNODB_STRICT_MODE=0;--ECHO # WITH STRICT MODE OFF, WE ARE GETTING A WARNINGALTER TABLE T KEY_BLOCK_SIZE=0;--ECHO # ... BUT THE WARNING IS WRONG, IN FACT KEY_BLOCK_SIZE=0 WAS ACTED UPON:SELECT TABLE_NAME,ROW_FORMAT,CREATE_OPTIONS   FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME=T;# CLEANUPDROP TABLE T;--EXITSUGGESTED FIX:DISABLE THE WARNING IF ALTER TABLE ... KEY_BLOCK_SIZE=0 IS ISSUED FOR A TABLE WITH PREVIOUSLY SET KEY_BLOCK_SIZE; OR, PROVIDE ANOTHER WAY TO REMOVE KEY_BLOCK_SIZE FROM TABLE CREATION OPTIONS, AND CHANGE THE ALTER BEHAVIOR SO THAT KEY_BLOCK_SIZE=0 IS REALLY IGNORED (DOES NOT CHANGE ANYTHING). ","SUMMARY":"BUGU00A0#56628  ALTER TABLE .. KEY_BLOCK_SIZE=0 PRODUCES UNTRUE WARNING OR UNNECESSARY ERROR ","CLASS":1}
{"ID_DEFECT":"56632","DESCRIPTION":"     [7 SEP 2010 21:39]   ELENA STEPANOVA          DESCRIPTION:IF TABLE CREATE OPTIONS CONTAIN A VALID VALUE OF KEY_BLOCK_SIZE, ALTER ON THE TABLE IMPLICITLY CONVERTS CURRENT ROW_FORMAT INTO COMPRESSED, WITHOUT ANY WARNINGS.IN THE PROVIDED TEST CASE, CREATE TABLE PRODUCES A WARNING IGNORING KEY_BLOCK_SIZE=1 UNLESS ROW_FORMAT=COMPRESSED, AND ROW_FORMAT OF THE CREATED TABLE IS COMPACT. THE FOLLOWING ALTER TABLE DOES NOT PRODUCE ANY WARNINGS, BUT ROW_FORMAT SWITCHES TO COMPRESSED.HOW TO REPEAT:SET INNODB_STRICT_MODE=0;DROP TABLE IF EXISTS T;CREATE TABLE T ( I INT ) ENGINE=INNODB    ROW_FORMAT=COMPACT KEY_BLOCK_SIZE=1;SHOW WARNINGS;SELECT TABLE_NAME,ROW_FORMAT,CREATE_OPTIONS    FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME=T;ALTER TABLE T ADD COLUMN F1 INT;SELECT TABLE_NAME,ROW_FORMAT,CREATE_OPTIONS    FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME=T;SUGGESTED FIX:DO NOT PERFORM IMPLICIT FORMAT CONVERSION. ","SUMMARY":"BUGU00A0#56632  ALTER TABLE IMPLICITLY CHANGES ROW_FORMAT TO COMPRESSED ","CLASS":1}
{"ID_DEFECT":"56982","DESCRIPTION":"     [23 SEP 2010 20:42]   CHRIS CALENDER          DESCRIPTION:WHEN THE MYSQL AND INNODB DATA DICTIONARIES ARE OUT OF SYNC WITH RESPECT TO AN AUTOINC COLUMN, THEN INNODB WILL THROW AN ASSERTION FAILURE THE NEXT TIME A COMMAND IS GIVEN THAT CALLS HA_INNOBASE::INNOBASE_PEEK_AUTOINC().100920 14:11:24  INNODB: MYSQL AND INNODB DATA DICTIONARIES ARE OUT OF SYNC.INNODB: UNABLE TO FIND THE AUTOINC COLUMN ID IN THE INNODB TABLE QUADCONFIGURATIONS.INNODB: WE SET THE NEXT AUTOINC COLUMN VALUE TO 0,INNODB: IN EFFECT DISABLING THE AUTOINC NEXT VALUE GENERATION.INNODB: YOU CAN EITHER SET THE NEXT AUTOINC VALUE EXPLICITLY USING ALTER TABLEINNODB: OR FIX THE DATA DICTIONARY BY RECREATING THE TABLE.100920 14:11:24  INNODB: ASSERTION FAILURE IN THREAD 16 IN FILE HANDLERHA_INNODB.CC LINE 7972INNODB: FAILING ASSERTION: AUTO_INC > 0INNODB: WE INTENTIONALLY GENERATE A MEMORY TRAP.INNODB: SUBMIT A DETAILED BUG REPORT TO HTTP:BUGS.MYSQL.COM.INNODB: IF YOU GET REPEATED ASSERTION FAILURES OR CRASHES, EVENINNODB: IMMEDIATELY AFTER THE MYSQLD STARTUP, THERE MAY BEINNODB: CORRUPTION IN THE INNODB TABLESPACE. PLEASE REFER TOINNODB: HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENFORCING-RECOVERY.HTMLINNODB: ABOUT FORCING RECOVERY.100920 14:11:24 - MYSQLD GOT SIGNAL 11 ;THIS COULD BE BECAUSE YOU HIT A BUG. IT IS ALSO POSSIBLE THAT THIS BINARYOR ONE OF THE LIBRARIES IT WAS LINKED AGAINST IS CORRUPT, IMPROPERLY BUILT,OR MISCONFIGURED. THIS ERROR CAN ALSO BE CAUSED BY MALFUNCTIONING HARDWARE.WE WILL TRY OUR BEST TO SCRAPE UP SOME INFO THAT WILL HOPEFULLY HELP DIAGNOSETHE PROBLEM, BUT SINCE WE HAVE ALREADY CRASHED, SOMETHING IS DEFINITELY WRONGAND THIS MAY FAIL.KEY_BUFFER_SIZE=262144000READ_BUFFER_SIZE=262144MAX_USED_CONNECTIONS=37MAX_THREADS=151THREADS_CONNECTED=36IT IS POSSIBLE THAT MYSQLD COULD USE UP TO KEY_BUFFER_SIZE + (READ_BUFFER_SIZE + SORT_BUFFER_SIZE)*MAX_THREADS = 305854 KBYTES OF MEMORYHOPE THATS OK; IF NOT, DECREASE SOME VARIABLES IN THE EQUATION.THD: 0X1271A2B28ATTEMPTING BACKTRACE. YOU CAN USE THE FOLLOWING INFORMATION TO FIND OUTWHERE MYSQLD DIED. IF YOU SEE NO MESSAGES AFTER THIS, SOMETHING WENTTERRIBLY WRONG...U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:MY_PRINT_STACKTRACE+0X1CU01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:HANDLE_SEGFAULT+0X290LIBSPARCV9LIBC.SO.1:0XD65B4LIBSPARCV9LIBC.SO.1:0XCA104LIBSPARCV9LIBC.SO.1:0XCA310U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CLHA_INNOBASEVINNOBASE_PEEK_AUTOINC6M_X_+0X164 [ SIGNAL 11 (SEGV)]U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CLHA_INNOBASEEINFO6MI_I_+0X500U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:0X34E954U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1COGET_ALL_TABLES6FPNDTHD_PNKTABLE_LIST_PNEITEM__I_+0XD84U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CYGET_SCHEMA_TABLES_RESULT6FPNEJOIN_NXENUM_SCHEMA_TABLE_STATE__B_+0X1B0U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CEJOINEEXEC6M_V_+0X448U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CMMYSQL_SELECT6FPNDTHD_PPPNEITEM_PNKTABLE_LIST_IRNELIST4N0B___P2IPNIST_ORDER_9D39DXPNNSELECT_RESULT_PNSST_SELECT_LEX_UNIT_PNNST_SELECT_LEX__B_+0X39CU01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CNHANDLE_SELECT6FPNDTHD_PNGST_LEX_PNNSELECT_RESULT_L_B_+0XECU01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:0X2471F8U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CVMYSQL_EXECUTE_COMMAND6FPNDTHD__I_+0X6FCU01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CLMYSQL_PARSE6FPNDTHD_PKCIP3_V_+0X1A4U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CQDISPATCH_COMMAND6FNTENUM_SERVER_COMMAND_PNDTHD_PCI_B_+0X7ACU01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:__1CKDO_COMMAND6FPNDTHD__B_+0XE0U01APPMYSQLMYSQL-ENTERPRISE-GPL-5.1.49-SOLARIS10-SPARC-64BITBINMYSQLD:HANDLE_ONE_CONNECTION+0X168LIBSPARCV9LIBC.SO.1:0XD6488PLEASE READ HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENRESOLVE-STACK-DUMP.HTMLAND FOLLOW INSTRUCTIONS ON HOW TO RESOLVE THE STACK TRACE.RESOLVED STACK TRACE IS MUCH MORE HELPFUL IN DIAGNOSING THEPROBLEM, SO PLEASE DO RESOLVE ITTRYING TO GET SOME VARIABLES.SOME POINTERS MAY BE INVALID AND CAUSE THE DUMP TO ABORT...THD->QUERY AT 11D8B46A0 = SELECT TABLE_SCHEMA,TABLE_NAME,TABLE_ROWS,ENGINE,AVG_ROW_LENGTH,UPDATE_TIME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA NOT IN (INFORMATION_SCHEMA,MYSQL)THD->THREAD_ID=283THD->KILLED=NOT_KILLEDTHE MANUAL PAGE AT HTTP:DEV.MYSQL.COMDOCMYSQLENCRASHING.HTML CONTAINSINFORMATION THAT SHOULD HELP YOU FIND OUT WHAT IS CAUSING THE CRASH.100920 14:11:24 MYSQLD_SAFE MYSQLD RESTARTED...HOW TO REPEAT:1. ALTER TABLE ... -- THAT RESULTS IN THE INNODB DD AND .FRM FILES TO GET OUT OF SYNC. (THIS IS NOT NECESSARILY EASY TO ACCOMPLISH, BUT COULD OCCUR IF THERE WAS A CRASH DURING AN ALTER TABLE OPERATION OR RENAMED THE AUTOINC COLUMN.2. RESTART3. SHOW CREATE TABLE AUTONIC_TABLE; -- OR WHATEVER IS THE EQUIVALENT THAT  RESULTS IN A CALL TO HA_INNOBASE::INNOBASE_PEEK_AUTOINC(). (EVEN A SELECT FROM I_S TABLES COULD LEAD TO THIS, SUCH AS IN THE ABOVE STACK TRACE).SUGGESTED FIX:REMOVE THE ASSERTION ON HA_INNOBASE::INNOBASE_PEEK_AUTOINC() AND SPAM THE LOG WITH A MESSAGE SIMILAR TO THE ONE PRINTED WHEN WE INITIALIZE THE AUTOINC VALUE DURING A TABLE OPEN. ","SUMMARY":"BUGU00A0#56982  ASSERTION FAILURE FROM HA_INNOBASE::INNOBASE_PEEK_AUTOINC() WHEN AUTO_INC > 0 ","CLASS":1}
{"ID_DEFECT":"57252","DESCRIPTION":"     [5 OCT 2010 15:20]   STEWART SMITH          DESCRIPTION:IVE SEEN THIS IN INNODB_PLUGIN IN MYSQL-TRUNK AS WELL AS PROBABLY EVERYTHING BACK TO 5.1.17 WHEN THIS VARIABLE WAS INTRODUCED.HA_INNOBASE::ANALYZE(*=================* THD*T THD,T *!< IN: CONNECTION THREAD HANDLE * HA_CHECK_OPT*TCHECK_OPT)T*!< IN: CURRENTLY IGNORED * * SIMPLY CALL ::INFO() WITH ALL THE FLAGS * INFO(HA_STATUS_TIME | HA_STATUS_CONST | HA_STATUS_VARIABLE); RETURN(0);VERSUS THIS CODE IN ::INFO(): IF (FLAG & HA_STATUS_TIME)   IF (INNOBASE_STATS_ON_METADATA)    * IN SQL_SHOW WE CALL WITH THIS FLAG: UPDATE   THEN STATISTICS SO THAT THEY ARE UP-TO-DATE *   PREBUILT->TRX->OP_INFO = UPDATING TABLE STATISTICS;   DICT_UPDATE_STATISTICS(IB_TABLE);   PREBUILT->TRX->OP_INFO = RETURNING VARIOUS INFO TO MYSQL;  IT DOES NOT SEEM LIKE IT WAS THE INTENTION OF INNOBASE_STATS_ON_METADATA TO ALSO DISABLE ANALYZESEE ALSO: HTTPS:BUGS.LAUNCHPAD.NETPERCONA-XTRADB+BUG655186 (WHERE WE ARE TRACKING FOR DRIZZLE)HOW TO REPEAT:DISABLE INNODB_STATS_ON_METADATA (IS ON BY DEFAULT), RUN ANALYZE.SUGGESTED FIX:THE SOLUTION IS PRETTY SIMPLE, IN ::INFO() DO SOMETHING LIKE THE FOLLOWING:IF (! INNOBASE_STATS_ON_METADATA)    DICT_UPDATE_STATISTICS(PREBUILT->TABLE); ","SUMMARY":"BUGU00A0#57252  DISABLING INNOBASE_STATS_ON_METADATA DISABLES ANALYZE ","CLASS":1}
{"ID_DEFECT":"57802","DESCRIPTION":"     [28 OCT 2010 11:13]   MARKO MU00E4KELU00E4          DESCRIPTION:IN THE INNODB PLUGIN 1.0, THE HASH_SEARCH MACRO WAS EXTENDED WITH AN ASSERTION PARAMETER THAT IS CHECKED IN DEBUG BUILDS. AN EMPTY PARAMETER IS PASSED IN THR0LOC.C AND THR0I_S.C, WHICH CAN CAUSE COMPILATION WARNINGS.EVERY MODULE SHOULD HAVE SOME DEBUG ASSERTIONS OR VALIDATION.HOW TO REPEAT:READ THE HASH_SEARCH INVOCATIONS IN THR0LOC.C AND THR0I_S.C.SUGGESTED FIX:ADD THE MISSING ASSERTIONS. ","SUMMARY":"BUGU00A0#57802  EMPTY ASSERTION PARAMETER PASSED TO THE HASH_SEARCH MACRO ","CLASS":1}
{"ID_DEFECT":"59874","DESCRIPTION":"     [1 FEB 2011 17:59]   VASIL DIMOV          DESCRIPTION:AFTER INNODB VALGRIND INSTRUMENTATION GOT ENABLED ON PB2VALGRIND RUNS WE GOT THE FOLLOWING FAILURE:IN 5.1:INNODB_PLUGIN.INNODB-ZIPINNODB_PLUGIN.INNODB_BUG52745INNODB_PLUGIN.INNODB_BUG56680IN 5.5:INNODB.INNODB-ZIPINNODB.INNODB_BUG56680IN TRUNK:INNODB.INNODB-ZIPINNODB.INNODB_BUG56680FAIL WITH (OUTPUT TAKEN FROM 5.1):==29347== THREAD 17:==29347== CONDITIONAL JUMP OR MOVE DEPENDS ON UNINITIALISED VALUE(S)==29347==    AT 0XBA65BF: LONGEST_MATCH (DEFLATE.C:1143)==29347==    BY 0XBA7899: DEFLATE_SLOW (DEFLATE.C:1595)==29347==    BY 0XBA58EB: DEFLATE (DEFLATE.C:790)==29347==    BY 0X6C9D150: BTR_STORE_BIG_REC_EXTERN_FIELDS (BTR0CUR.C:3968)==29347==    BY 0X6D53ECE: ROW_INS_INDEX_ENTRY_LOW (ROW0INS.C:2131)==29347==    BY 0X6D54139: ROW_INS_INDEX_ENTRY (ROW0INS.C:2180)==29347==    BY 0X6D54395: ROW_INS_INDEX_ENTRY_STEP (ROW0INS.C:2265)==29347==    BY 0X6D5443B: ROW_INS (ROW0INS.C:2397)==29347==    BY 0X6D54A9E: ROW_INS_STEP (ROW0INS.C:2507)==29347==    BY 0X6D5D404: ROW_INSERT_FOR_MYSQL (ROW0MYSQL.C:1148)==29347==    BY 0X6CF68C8: HA_INNODB::WRITE_ROW(UNSIGNED CHAR*) (HA_INNODB.CC:4780)==29347==    BY 0X7E96D8: HANDLER::HA_WRITE_ROW(UNSIGNED CHAR*) (HANDLER.CC:4673)==29347==    BY 0X749AC2: WRITE_RECORD(THD*, ST_TABLE*, ST_COPY_INFO*) (SQL_INSERT.CC:1604)==29347==    BY 0X749F2C: SELECT_INSERT::SEND_DATA(LIST<ITEM>&) (SQL_INSERT.CC:3181)==29347==    BY 0X7152BD: END_SEND(JOIN*, ST_JOIN_TABLE*, BOOL) (SQL_SELECT.CC:12335)==29347==    BY 0X71BC09: EVALUATE_JOIN_RECORD(JOIN*, ST_JOIN_TABLE*, INT) (SQL_SELECT.CC:11555)HOW TO REPEAT:HTTP:PB2.NORWAY.SUN.COM?TEMPLATE=SHOW_PUSHES&BRANCH=MYSQL-5.1-INNODB-PB2HTTP:PB2.NORWAY.SUN.COM?TEMPLATE=SHOW_PUSHES&BRANCH=MYSQL-5.5-INNODB-PB2HTTP:PB2.NORWAY.SUN.COM?TEMPLATE=SHOW_PUSHES&BRANCH=MYSQL-TRUNK-INNODB-PB2 ","SUMMARY":"BUGU00A0#59874  VALGRIND WARNING IN INNODB COMPRESSION CODE ","CLASS":1}
{"ID_DEFECT":"31094","DESCRIPTION":"     [19 SEP 2007 10:28]   DOMAS MITUZAS          DESCRIPTION:IN CASE OF TWO TABLES JOINED, THERE IS NO WAY TO FORCE INDEX-BASED SORT ORDER AND FILESORT ALWAYS HAPPENS.HOW TO REPEAT:CREATE TABLE T1 (A INT PRIMARY KEY, B INT);CREATE TABLE T2 (C INT PRIMARY KEY, D INT);(THERE CAN BE MILLIONS OF VALUES TOO)INSERT INTO T1 VALUES (1,1),(2,2),(3,3),(4,4);INSERT INTO T2 VALUES (1,1),(2,2),(3,3),(4,4);USES FILESORT:SELECT * FROM T1 ORDER BY A; USES INDEX-BASED SORT:SELECT * FROM T1 FORCE INDEX(PRIMARY) ORDER BY A;USES FILESORT:SELECT * FROM T1 JOIN T2 ON B=C ORDER BY A;USES FILESORT:SELECT * FROM T1 FORCE INDEX(PRIMARY) JOIN T2 ON B=C ORDER BY A;MYSQL> EXPLAIN SELECT * FROM T1 FORCE INDEX(PRIMARY) JOIN T2 ON B=C ORDER BY A;+----+-------------+-------+------+---------------+------+---------+------+------+---------------------------------+| ID | SELECT_TYPE | TABLE | TYPE | POSSIBLE_KEYS | KEY  | KEY_LEN | REF  | ROWS | EXTRA                           |+----+-------------+-------+------+---------------+------+---------+------+------+---------------------------------+|  1 | SIMPLE      | T1    | ALL  | NULL          | NULL | NULL    | NULL |    4 | USING TEMPORARY; USING FILESORT | |  1 | SIMPLE      | T2    | ALL  | PRIMARY       | NULL | NULL    | NULL |    4 | USING WHERE; USING JOIN BUFFER  | +----+-------------+-------+------+---------------+------+---------+------+------+---------------------------------+2 ROWS IN SET (0.00 SEC)LIMIT DOES NOT MAKE EFFECT:MYSQL> EXPLAIN SELECT * FROM T1 FORCE INDEX(PRIMARY) JOIN T2 ON B=C ORDER BY A LIMIT 1;+----+-------------+-------+------+---------------+------+---------+------+------+---------------------------------+| ID | SELECT_TYPE | TABLE | TYPE | POSSIBLE_KEYS | KEY  | KEY_LEN | REF  | ROWS | EXTRA                           |+----+-------------+-------+------+---------------+------+---------+------+------+---------------------------------+|  1 | SIMPLE      | T1    | ALL  | NULL          | NULL | NULL    | NULL |    4 | USING TEMPORARY; USING FILESORT | |  1 | SIMPLE      | T2    | ALL  | PRIMARY       | NULL | NULL    | NULL |    4 | USING WHERE; USING JOIN BUFFER  | +----+-------------+-------+------+---------------+------+---------+------+------+---------------------------------+2 ROWS IN SET (0.00 SEC)SAME HAPPENS WITH IDENTICAL 200K-ROW TABLES:MYSQL> EXPLAIN SELECT * FROM MEM FORCE INDEX (A) JOIN MEM2 USING (A) ORDER BY A LIMIT 10;+----+-------------+-------+------+---------------+------+---------+------------+--------+----------------+| ID | SELECT_TYPE | TABLE | TYPE | POSSIBLE_KEYS | KEY  | KEY_LEN | REF        | ROWS   | EXTRA          |+----+-------------+-------+------+---------------+------+---------+------------+--------+----------------+|  1 | SIMPLE      | MEM   | ALL  | A             | NULL | NULL    | NULL       | 201625 | USING FILESORT | |  1 | SIMPLE      | MEM2  | REF  | A             | A    | 5       | TEST.MEM.A |      1 | USING WHERE    | +----+-------------+-------+------+---------------+------+---------+------------+--------+----------------+2 ROWS IN SET (0.00 SEC)SUGGESTED FIX:DO NOT USE NULL KEY, IF FORCE INDEX IS DONE. ","SUMMARY":"BUGU00A0#31094  FORCING INDEX-BASED SORT DOESNT WORK ANYMORE IF JOINS ARE DONE ","CLASS":1}
{"ID_DEFECT":"31399","DESCRIPTION":"     [4 OCT 2007 15:04]   TIMOUR KATCHAOUNOV          DESCRIPTION:IN THE CASE WHEN:- BIT FIELDS ARE STORED IN FIELD_BIT (MYISAM, INNODB, BUT NOT MEMORY), AND- THE NUMBER OF BITS IS NOT A MULTIPLE OF 8,WHEN RUNNING THE QUERY BELOW WITH THE SEMI-JOIN ALGORITHM, THERESULT IS INCORRECT. MOST LIKELY A COINCIDENCE, BUT  I COULD ONLYREPRODUCE THE BUG WITH < 8 BITS (E.G. 9 BITS WORK FINE).THE TEST CASE BELOW EXECUTES THE SAME QUERY WITH ALL THREE POSSIBLEMETHODS. ONE CAN SEE THAT WHEN SEMI-JOIN IS USED, THE RESULT IS WRONG.HOW TO REPEAT:* TEST WITH 7-BIT COLUMNS. *DROP TABLE IF EXISTS T1BIT7, T2BIT7;CREATE TABLE T1BIT7 (A1 BIT(7) NOT NULL) ENGINE=MYISAM;CREATE TABLE T2BIT7 (B1 BIT(7) NOT NULL) ENGINE=MYISAM;INSERT INTO T1BIT7 VALUES (B1100000);INSERT INTO T1BIT7 VALUES (B1100001);INSERT INTO T1BIT7 VALUES (B1100010);INSERT INTO T2BIT7 VALUES (B1100001);INSERT INTO T2BIT7 VALUES (B1100010);INSERT INTO T2BIT7 VALUES (B1100110);-- IN=>EXISTSSET @@OPTIMIZER_SWITCH=NO_MATERIALIZATION,NO_SEMIJOIN;EXPLAINSELECT BIN(A1) FROM T1BIT7WHERE A1 IN (SELECT B1 FROM T2BIT7);SELECT BIN(A1) FROM T1BIT7WHERE A1 IN (SELECT B1 FROM T2BIT7);-- SEMI-JOINSET @@OPTIMIZER_SWITCH=NO_MATERIALIZATION;EXPLAINSELECT BIN(A1) FROM T1BIT7WHERE A1 IN (SELECT B1 FROM T2BIT7);SELECT BIN(A1) FROM T1BIT7WHERE A1 IN (SELECT B1 FROM T2BIT7);-- MATERIALIZATIONSET @@OPTIMIZER_SWITCH=NO_SEMIJOIN;EXPLAINSELECT BIN(A1) FROM T1BIT7WHERE A1 IN (SELECT B1 FROM T2BIT7);SELECT BIN(A1) FROM T1BIT7WHERE A1 IN (SELECT B1 FROM T2BIT7);SUGGESTED FIX:MOST LIKELY THE PROBLEM IS IN THE METHODS USED TO COMPARE BITFIELDS. FEW OF THOSE METHODS COMPARE DIRECTLY THE DATA INTABLE->RECORD[0], BUT DO NOT TAKE INTO ACCOUNT THAT BIT FIELDS ","SUMMARY":"BUGU00A0#31399  WRONG QUERY RESULT WHEN DOING JOIN BUFFERING OVER BIT FIELDS ","CLASS":1}
{"ID_DEFECT":"35206","DESCRIPTION":"     [11 MAR 2008 11:25]   FREDERIC STEINFELS          DESCRIPTION:WHEN USING A SELECT QUERY ON TWO TABLES, THE RESULT FROM THE STATEMENT MIGHT BE 0 ROWS IF THE FOLLOWING CONDITIONS ARE MET:- YOU ARE USING 5.1.23. THE SAME STATEMENT WAS PERFECTLY WORKING UNDER THE 5.0 BRANCH- YOU ARE USING ORDER BY.- YOU ARE USING LIMIT 1 (IN MY CASE LIMIT 1 UP TO LIMIT 8 WILL RESULT 0 ROWS, LIMIT 9 WILL REPORT 9 ROWS)- THE KEY JOINING THE SECOND TABLE TO THE FIRST IS NOT INDEXEDHOW TO REPEAT:THE QUERY IN QUESTION ISSELECT   (SP.`PRICE`+10)*1.1 FROM  `SHIPZONECOUNTRY` AS SC,  `SHIPPRICE` AS SPWHERE  SP.`SHIPMODE_ID`=14   AND  SP.`SHIPZONECOUNTRY_CODE`=SC.`CODE`   AND  5.1<SP.`MAXWEIGHT`   AND   SC.`COUNTRY_CODE`=DEORDER BY   SP.`MAXWEIGHT` LIMIT 1TO CREATE TABLES;CREATE TABLE `SHIPPRICE` (  `ID` INT(11) NOT NULL AUTO_INCREMENT,  `SHIPZONECOUNTRY_CODE` VARCHAR(32) NOT NULL,  `SHIPMODE_ID` INT(11) NOT NULL,  `MAXWEIGHT` FLOAT NOT NULL,  `PRICE` DOUBLE NOT NULL,  PRIMARY KEY (`ID`),  UNIQUE KEY `SHIPZONECOUNTRY_CODE` (`SHIPZONECOUNTRY_CODE`,`SHIPMODE_ID`,`MAXWEIGHT`),  KEY `SHIPZONECOUNTRY_CODE_2` (`SHIPZONECOUNTRY_CODE`),  KEY `SHIPMODE_ID` (`SHIPMODE_ID`),  KEY `MAXWEIGHT` (`MAXWEIGHT`),  KEY `PRICE` (`PRICE`)) ENGINE=MYISAM AUTO_INCREMENT=557 DEFAULT CHARSET=LATIN1  CREATE TABLE `SHIPZONECOUNTRY` (  `ID` INT(11) NOT NULL AUTO_INCREMENT,  `CODE` VARCHAR(32) NOT NULL,  `COUNTRY_CODE` CHAR(3) NOT NULL,  PRIMARY KEY (`ID`),  UNIQUE KEY `CODE` (`CODE`,`COUNTRY_CODE`),  KEY `CODE_2` (`CODE`),  KEY `COUNTRY_CODE` (`COUNTRY_CODE`)) ENGINE=MYISAM AUTO_INCREMENT=997 DEFAULT CHARSET=LATIN1TRY THE SELECT STATEMENT FROM ABOVE WITH COUNTRY_CODE INDEXED AND NOT INDEXED.TO FILL TABLES WITH SOMETHING, USE THE ATTACHED FILES ","SUMMARY":"BUGU00A0#35206  SELECT QUERY RESULT DIFFERENT IF THE KEY IS INDEXED OR NOT ","CLASS":1}
{"ID_DEFECT":"35844","DESCRIPTION":"     [4 APR 2008 19:57]   CHRIS ELSWORTH          DESCRIPTION:SINCE 5.1.23, A SIMPLE QUERY THAT SHOULD USE AN INDEX LOOKUP TO RESOLVE A WHERE IS INSTEAD FAVOURING AN INDEX TO AVOID A FILESORT, EVEN THOUGH THE FILESORT WOULD BE COMPARATIVELY CHEAP AS OPPOSED TO A FULL TABLE SCAN.IN 5.1.22, BOTH QUERIES IN THE HOW-TO-REPEAT SECTION BELOW CORRECTLY USE THE ID2_J_ID1 INDEX TO RETURN THE QUERY WHILE EXAMINING ONLY 4 ROWS.IN 5.1.23, THE SECOND QUERY EXAMINES ALL 36 ROWS OF THE TABLE, JUST TO SAVE ITSELF A FILESORT.MAY ALSO BE WORTH NOTING I ONLY OBSERVED THIS WHEN USING INNODB; MYISAM WAS FINE.HOW TO REPEAT:DROP TABLE IF EXISTS BROKEN;CREATE TABLE BROKEN(        ID1 INT UNSIGNED NOT NULL AUTO_INCREMENT,        ID2 INT UNSIGNED NOT NULL,        JUNK INT UNSIGNED NOT NULL,        PRIMARY KEY (ID1),        KEY ID2_J_ID1 (ID2, JUNK, ID1)) ENGINE=INNODB;INSERT INTO BROKEN (ID2, JUNK) VALUES (1, 1), (1, 2), (1, 3), (1, 4);INSERT INTO BROKEN (ID2, JUNK) VALUES (2, 1), (2, 2), (2, 3), (2, 4);INSERT INTO BROKEN (ID2, JUNK) VALUES (3, 1), (3, 2), (3, 3), (3, 4);INSERT INTO BROKEN (ID2, JUNK) VALUES (4, 1), (4, 2), (4, 3), (4, 4);INSERT INTO BROKEN (ID2, JUNK) VALUES (5, 1), (5, 2), (5, 3), (5, 4);INSERT INTO BROKEN (ID2, JUNK) VALUES (6, 1), (6, 2), (6, 3), (6, 4);INSERT INTO BROKEN (ID2, JUNK) VALUES (7, 1), (7, 2), (7, 3), (7, 4);INSERT INTO BROKEN (ID2, JUNK) VALUES (8, 1), (8, 2), (8, 3), (8, 4);INSERT INTO BROKEN (ID2, JUNK) VALUES (9, 1), (9, 2), (9, 3), (9, 4);* WORKS (4 ROWS) *EXPLAIN SELECT ID1 FROM BROKEN WHERE ID2 = 4;MYSQL> EXPLAIN SELECT ID1 FROM BROKEN WHERE ID2 = 4*************************** 1. ROW ***************************           ID: 1  SELECT_TYPE: SIMPLE        TABLE: BROKEN         TYPE: REFPOSSIBLE_KEYS: ID2_J_ID1          KEY: ID2_J_ID1      KEY_LEN: 4          REF: CONST         ROWS: 4        EXTRA: USING INDEX1 ROW IN SET (0.00 SEC)* BROKEN IN 5.1.23 (36 ROWS) *EXPLAIN SELECT ID1 FROM BROKEN WHERE ID2 = 4 ORDER BY ID1;THE SECOND QUERY USES THE INFERIOR PRIMARY KEY TO AVOID THE FILESORT, BUT BY DOING SO INCURS A FULL TABLE SCAN WHICH IS DEVASTATING FOR PERFORMANCE ON A SIZEABLE TABLE:MYSQL> EXPLAIN SELECT ID1 FROM BROKEN WHERE ID2 = 4 ORDER BY ID1*************************** 1. ROW ***************************           ID: 1  SELECT_TYPE: SIMPLE        TABLE: BROKEN         TYPE: INDEXPOSSIBLE_KEYS: ID2_J_ID1          KEY: PRIMARY      KEY_LEN: 4          REF: NULL         ROWS: 36        EXTRA: USING WHERE; USING INDEX1 ROW IN SET (0.06 SEC) ","SUMMARY":"BUGU00A0#35844  ORDER BY FAVOURS FULL SCAN OVER A FASTER FILESORT ","CLASS":1}
{"ID_DEFECT":"36006","DESCRIPTION":"     [11 APR 2008 20:43]   RICHARD BEJTLICH          DESCRIPTION:THE FOLLOWING DESCRIBES A DATABASE RUNNING A VERSION OF 5.1.22 INSTALLED FROM A FREEBSD 7.0 PACKAGE.MYSQL> SELECT USER(), NOW(), VERSION(), DATABASE();+----------------+---------------------+---------------+------------+| USER()         | NOW()               | VERSION()     | DATABASE() |+----------------+---------------------+---------------+------------+| ROOT@LOCALHOST | 2008-04-01 19:31:18 | 5.1.22-RC-LOG | MYSQL      |+----------------+---------------------+---------------+------------+1 ROW IN SET (0.00 SEC)HERE IS HOW THE TABLE WAS CREATED.MYSQL> SHOW CREATE TABLE SANCP;...EDITED...| SANCP | CREATE TABLE `SANCP` (  `SID` INT(10) UNSIGNED NOT NULL,  `SANCPID` BIGINT(20) UNSIGNED NOT NULL,  `START_TIME` DATETIME NOT NULL,  `END_TIME` DATETIME NOT NULL,  `DURATION` INT(10) UNSIGNED NOT NULL,  `IP_PROTO` TINYINT(3) UNSIGNED NOT NULL,  `SRC_IP` INT(10) UNSIGNED DEFAULT NULL,  `SRC_PORT` SMALLINT(5) UNSIGNED DEFAULT NULL,  `DST_IP` INT(10) UNSIGNED DEFAULT NULL,  `DST_PORT` SMALLINT(5) UNSIGNED DEFAULT NULL,  `SRC_PKTS` INT(10) UNSIGNED NOT NULL,  `SRC_BYTES` INT(10) UNSIGNED NOT NULL,  `DST_PKTS` INT(10) UNSIGNED NOT NULL,  `DST_BYTES` INT(10) UNSIGNED NOT NULL,  `SRC_FLAGS` TINYINT(3) UNSIGNED NOT NULL,  `DST_FLAGS` TINYINT(3) UNSIGNED NOT NULL,  KEY `P_KEY` (`SID`,`SANCPID`),  KEY `SRC_IP` (`SRC_IP`),  KEY `DST_IP` (`DST_IP`),  KEY `DST_PORT` (`DST_PORT`),  KEY `SRC_PORT` (`SRC_PORT`),  KEY `START_TIME` (`START_TIME`)) ENGINE=MRG_MYISAM DEFAULT CHARSET=LATIN1 UNION=(`SANCP_SENSOR_20080308`,`SANCP_SENSOR_20080309`, ...EDITED... `SANCP_SENSOR_20080401`) | ... TRUNCATED...THE FOLLOWING EXPLAIN SHOWS HOW THE QUERY WOULD BE RUN.MYSQL> EXPLAIN SELECT COUNT(*) FROM SANCP;+----+-------------+-------+-------+---------------+----------+---------+------+-----------+-------------+| ID | SELECT_TYPE | TABLE | TYPE  | POSSIBLE_KEYS | KEY      | KEY_LEN | REF  | ROWS      | EXTRA       |+----+-------------+-------+-------+---------------+----------+---------+------+-----------+-------------+|  1 | SIMPLE      | SANCP | INDEX | NULL          | DST_PORT | 3       | NULL | 259886280 | USING INDEX |+----+-------------+-------+-------+---------------+----------+---------+------+-----------+-------------+1 ROW IN SET (0.18 SEC)EXECUTING THIS QUERY TOOK, ON AVERAGE, 2 HOURS AND 20 MINUTES!I TRIED UPGRADING TO 5.1.23, BUT HAD THE SAME PROBLEM.HOW TO REPEAT:I GOT THE SAME RESULTS ON ALL DATABASES I TRIED THAT WERE RUNNING 5.1.22 OR 5.1.23.SUGGESTED FIX:THE FOLLOWING SHOWS A SIMILAR DATABASE THAT ACTS CORRECTLY.MYSQL> SELECT USER(), NOW(), VERSION(), DATABASE();+----------------+---------------------+-------------+------------+| USER()         | NOW()               | VERSION()   | DATABASE() |+----------------+---------------------+-------------+------------+| ROOT@LOCALHOST | 2008-04-01 09:58:19 | 5.1.11-BETA | MYSQL      | +----------------+---------------------+-------------+------------+1 ROW IN SET (0.02 SEC)MYSQL> SHOW CREATE TABLE SANCP;| SANCP | CREATE TABLE `SANCP` (  `SID` INT(10) UNSIGNED NOT NULL,  `SANCPID` BIGINT(20) UNSIGNED NOT NULL,  `START_TIME` DATETIME NOT NULL,  `END_TIME` DATETIME NOT NULL,  `DURATION` INT(10) UNSIGNED NOT NULL,  `IP_PROTO` TINYINT(3) UNSIGNED NOT NULL,  `SRC_IP` INT(10) UNSIGNED DEFAULT NULL,  `SRC_PORT` SMALLINT(5) UNSIGNED DEFAULT NULL,  `DST_IP` INT(10) UNSIGNED DEFAULT NULL,  `DST_PORT` SMALLINT(5) UNSIGNED DEFAULT NULL,  `SRC_PKTS` INT(10) UNSIGNED NOT NULL,  `SRC_BYTES` INT(10) UNSIGNED NOT NULL,  `DST_PKTS` INT(10) UNSIGNED NOT NULL,  `DST_BYTES` INT(10) UNSIGNED NOT NULL,  `SRC_FLAGS` TINYINT(3) UNSIGNED NOT NULL,  `DST_FLAGS` TINYINT(3) UNSIGNED NOT NULL,  KEY `P_KEY` (`SID`,`SANCPID`),  KEY `SRC_IP` (`SRC_IP`),  KEY `DST_IP` (`DST_IP`),  KEY `DST_PORT` (`DST_PORT`),  KEY `SRC_PORT` (`SRC_PORT`),  KEY `START_TIME` (`START_TIME`)) ENGINE=MRG_MYISAM DEFAULT CHARSET=LATIN1 UNION=(`SANCP_HACOM_20060822`,`SANCP_HACOM_20060823`, ...EDITED... `SANCP_HACOM_20080401`)MYSQL> EXPLAIN SELECT COUNT(*) FROM SANCP;+----+-------------+-------+------+---------------+------+---------+------+------+------------------------------+| ID | SELECT_TYPE | TABLE | TYPE | POSSIBLE_KEYS | KEY  | KEY_LEN | REF  | ROWS | EXTRA                        |+----+-------------+-------+------+---------------+------+---------+------+------+------------------------------+|  1 | SIMPLE      | NULL  | NULL | NULL          | NULL | NULL    | NULL | NULL | SELECT TABLES OPTIMIZED AWAY | +----+-------------+-------+------+---------------+------+---------+------+------+------------------------------+1 ROW IN SET (0.01 SEC)RUNNING THE QUERY SELECT COUNT(*) FROM SANCP; RETURNS ALMOST INSTANTLY.I DOWNGRADED THE DATABASE SHOWN IN THE DESCRIPTION SECTION TO 5.0.51A AND GOT RESULTS SIMILAR TO THOSE IN THIS SUGGESTED FIX SECTION.  I APOLOGIZE FOR NOT HAVING THOSE RESULTS AVAILABLE.THANK YOU FOR YOUR ATTENTION AND HELP! ","SUMMARY":"BUGU00A0#36006  OPTIMIZER DOES TABLE SCAN FOR SELECT COUNT(*) W5.1.22, .23, NOT 5.0.51, 5.1.11 ","CLASS":1}
{"ID_DEFECT":"37742","DESCRIPTION":"     [30 JUN 2008 14:33]   ZARDOSHT KASHEFF          DESCRIPTION:TAKE A TABLE WITH THE FOLLOWING SCHEMA:CREATE TABLE `FOO` (  `A` INT(11) DEFAULT NULL,  `B` INT(11) DEFAULT NULL,  `C` CHAR(10) NOT NULL DEFAULT ,  PRIMARY KEY (`C`(3)),  KEY `B` (`B`))INSERT 10 ELEMENTS INTO THE TABLE. THE PERFORM THE FOLLOWING QUERY:SELECT C FROM PLEASE WHERE B > SOME_VALUE;FOR STORAGE ENGINES THAT EXPOSE THE FLAG HA_PRIMARY_KEY_IN_READ_INDEX, MYSQL WILL CLAIM THAT THIS QUERY IS A COVERING INDEX ON THE KEY B. THE PROBLEM IS THAT THE PRIMARY KEY DOES NOT HAVE THE ENTIRE COLUMN OF C, IT HAS A PREFIX. UNLESS I MISUNDERSTAND THE MEANING OF THE FLAG, THE HA_EXTRA_KEYREAD FLAG SHOULD NOT BE SET HERE, BECAUSE MORE THAN THE KEY NEEDS TO BE COPIED FROM THE STORAGE ENGINE.I WILL NOTE THAT THIS SCENARIO DOES NOT CAUSE A BEHAVIORAL BUG IN INNODB. INNODB SEEMS TO KNOW ABOUT THIS PROBLEM AND WORKS AROUND IT. NEVERTHELESS, IT SEEMS TO BE A BUG.HOW TO REPEAT:MENTIONED IN THE DESCRIPTIONSUGGESTED FIX:IN SUCH SCENARIOS, THE FLAG HA_EXTRA_KEYREAD SHOULD NOT BE SET ","SUMMARY":"BUGU00A0#37742  HA_EXTRA_KEYREAD FLAG IS SET WHEN KEY CONTAINS ONLY PREFIX OF REQUESTED COLUMN ","CLASS":1}
{"ID_DEFECT":"37761","DESCRIPTION":"     [1 JUL 2008 12:30]   ROLAND BOUMAN          DESCRIPTION:IN MYSQL  5.0.60 AND 5.0.66 THESE QUERIES BOTH RETURN AN EMPTY SET:SELECT * FROM (SELECT 1 ID UNION ALL SELECT 2) A WHERE NOT ID IN (SELECT NULL UNION ALL SELECT 1);SELECT * FROM (SELECT 1 ID UNION ALL SELECT 2) A WHERE NOT ID IN (NULL, 1);IN MYSQL 5.1.23 AND MYSQL 5.1.25, AND POSSIBLY OTHER VERSIONS, THE SECOND QUERY USING THE VALUE LIST RETURNS ONE ROW:+----+| ID |+----+|  2 |+----+1 ROW IN SET (0.00 SEC)IT IS NOT ENTIRELY CLEAR WHAT THE BUG IS - IT SEEMS VERY INTUITIVE THAT IN (<VALUE-LIST>) SHOULD BE THE SAME AS IN (SUBQUERY-EQUIVALENT-TO-VALUELIST)BUT I AM NOT ENTIRELY SURE ABOUT THE SUBTLETIES OF STANDARD SQL NULL HANDLING TO SAY FOR SURE.HOWEVER, IT SEEMS CLEAR THAT MYSQL 5 AND MYSQL 5.1 SHOULD BEHAVE THE SAME FOR THESE QUERIES.HOW TO REPEAT:COMPARE ON MYSQL 5.0.66 AND MYSQL 5.1.25:SELECT * FROM (SELECT 1 ID UNION ALL SELECT 2) A WHERE NOT ID IN (SELECT NULL UNION ALL SELECT 1);SELECT * FROM (SELECT 1 ID UNION ALL SELECT 2) A WHERE NOT ID IN (NULL, 1);SUGGESTED FIX:MAKE MYSQL 5.0 AND 5.1 BEHAVE THE SAME ","SUMMARY":"BUGU00A0#37761  IN HANDLES NULL DIFFERENTLY FOR TABLE-SUBQUERY AND VALUE-LIST ","CLASS":1}
{"ID_DEFECT":"37936","DESCRIPTION":"     [7 JUL 2008 16:07]   PHILIP STOEV          DESCRIPTION:WHEN EXECUTING A QUERY CONTAINING DATE EXPRESSIONS, MYSQLD CRASHED AS FOLLOWS:#9  0X081F72DD IN FIELD_DATETIME::STORE (THIS=0XA035828, FROM=0XA080F50 2000-6-25, LEN=9, CS=0X877FC40) AT FIELD.CC:5831#10 0X08171166 IN ITEM::SAVE_STR_VALUE_IN_FIELD (THIS=0XA080F60, FIELD=0XE4D, RESULT=0XA080F6C) AT ITEM.CC:371#11 0X0817119C IN ITEM_STRING::SAVE_IN_FIELD (THIS=0XA080F60, FIELD=0XA035828, NO_CONVERSIONS=TRUE) AT ITEM.CC:4896#12 0X0816C308 IN ITEM::SAVE_IN_FIELD_NO_WARNINGS (THIS=0XA080F60, FIELD=0XA035828, NO_CONVERSIONS=<VALUE OPTIMIZED OUT>) AT ITEM.CC:972#13 0X082EBDA1 IN GET_MM_LEAF (PARAM=0XA891F338, CONF_FUNC=0XA080FE0, FIELD=0XA035828, KEY_PART=0XA08AC10, TYPE=ITEM_FUNC::LE_FUNC, VALUE=0XA080F60)    AT OPT_RANGE.CC:5679#14 0X082EC39D IN GET_MM_PARTS (PARAM=0XA891F338, COND_FUNC=0XA080FE0, FIELD=0XA035828, TYPE=ITEM_FUNC::LE_FUNC, VALUE=0XA080F60, CMP_TYPE=INT_RESULT)    AT OPT_RANGE.CC:5488#15 0X082F8B7C IN GET_FUNC_MM_TREE (PARAM=0XA891F338, COND_FUNC=0XA080FE0, FIELD=0XA035828, VALUE=0XA080F60, CMP_TYPE=INT_RESULT, INV=FALSE)    AT OPT_RANGE.CC:5167#16 0X082F8D18 IN GET_FULL_FUNC_MM_TREE (PARAM=0XA891F338, COND_FUNC=0XA080FE0, FIELD_ITEM=0XA080EB8, VALUE=0XA080F60, INV=<VALUE OPTIMIZED OUT>)    AT OPT_RANGE.CC:5266#17 0X082F9513 IN GET_MM_TREE (PARAM=0XA891F338, COND=0XA080FE0) AT OPT_RANGE.CC:5456#18 0X082F8E2F IN GET_MM_TREE (PARAM=0XA891F338, COND=<VALUE OPTIMIZED OUT>) AT OPT_RANGE.CC:5308#19 0X082F9C58 IN SQL_SELECT::TEST_QUICK_SELECT (THIS=0XA081F70, THD=0XA025F40, KEYS_TO_USE=MAP = 16, PREV_TABLES=0, LIMIT=4294967295,    FORCE_QUICK_RANGE=FALSE, ORDERED_OUTPUT=FALSE) AT OPT_RANGE.CC:2311#20 0X0828693F IN MAKE_JOIN_STATISTICS (JOIN=0XA071DB8, TABLES=0X0, CONDS=0XA081BB8, KEYUSE_ARRAY=0XA073094) AT SQL_SELECT.CC:3758#21 0X08287EB5 IN JOIN::OPTIMIZE (THIS=0X0) AT SQL_SELECT.CC:1549#22 0X0828E1A8 IN MYSQL_SELECT (THD=0XA025F40, RREF_POINTER_ARRAY=0XA027424, TABLES=0XA04B3E8, WILD_NUM=0, FIELDS=@0XA0273B4, CONDS=0XA0810D0, OG_NUM=1,    ORDER=0X0, GROUP=0XA0814B0, HAVING=0X0, PROC_PARAM=0X0, SELECT_OPTIONS=2147764736, RESULT=0XA081548, UNIT=0XA027090, SELECT_LEX=0XA027320)    AT SQL_SELECT.CC:2987#23 0X082910DC IN HANDLE_SELECT (THD=0XA025F40, LEX=0XA027034, RESULT=0XA081548, SETUP_TABLES_DONE_OPTION=0) AT SQL_SELECT.CC:302#24 0X082201E2 IN EXECUTE_SQLCOM_SELECT (THD=0XA025F40, ALL_TABLES=0XA04B3E8) AT SQL_PARSE.CC:4847#25 0X08220F61 IN MYSQL_EXECUTE_COMMAND (THD=0XA025F40) AT SQL_PARSE.CC:2015#26 0X0822A02E IN MYSQL_PARSE (THD=0XA025F40,    INBUF=0XA04AE08 SELECT  COUNT(DISTINCT OUTR . `VARCHAR_NOKEY` ) AS X FROM B AS OUTR2 LEFT JOIN C AS OUTR ON ( OUTR2 . `VARCHAR_NOKEY` = OUTR . `VARCHAR_KEY` ) WHERE OUTR . `VARCHAR_KEY` IN ( SELECT  INNR . `DATETIME_..., LENGTH=451, FOUND_SEMICOLON=0XA8923314) AT SQL_PARSE.CC:5811#27 0X0822A921 IN DISPATCH_COMMAND (COMMAND=COM_QUERY, THD=0XA025F40,    PACKET=0XA027959 SELECT  COUNT(DISTINCT OUTR . `VARCHAR_NOKEY` ) AS X FROM B AS OUTR2 LEFT JOIN C AS OUTR ON ( OUTR2 . `VARCHAR_NOKEY` = OUTR . `VARCHAR_KEY` ) WHERE OUTR . `VARCHAR_KEY` IN ( SELECT  INNR . `DATETIME_..., PACKET_LENGTH=453) AT SQL_PARSE.CC:1051#28 0X0822BA49 IN DO_COMMAND (THD=0XA025F40) AT SQL_PARSE.CC:724#29 0X0821BEF0 IN HANDLE_ONE_CONNECTION (ARG=0XA025F40) AT SQL_CONNECT.CC:1153#30 0X0057D32F IN START_THREAD () FROM LIBLIBPTHREAD.SO.0#31 0X0049A27E IN CLONE () FROM LIBLIBC.SO.6THE ASSERTION THAT IS BEING HIT IS ASSERT_COLUMN_MARKED_FOR_WRITE, AT THE ENTRY OF FIELD_DATETIME::STORE. THE ASSERTION IS:(!TABLE || (!TABLE->WRITE_SET || BITMAP_IS_SET(TABLE->WRITE_SET, FIELD_INDEX))(GDB) PRINT TABLE$1 = (ST_TABLE *) 0XA035140(GDB) PRINT TABLE->WRITE_SET$2 = (MY_BITMAP *) 0XA0351E0(GDB) PRINT FIELD_INDEX$3 = 7(GDB) PRINT * TABLE->WRITE_SET$4 = BITMAP = 0XA0313B0, N_BITS = 11, LAST_WORD_MASK = 4294965248, LAST_WORD_PTR = 0XA0359CC, MUTEX = 0X0THE QUERY IN QUESTION IS:SELECT  COUNT(DISTINCT OUTR . `VARCHAR_NOKEY` ) AS X FROM B AS OUTR2 LEFT JOIN C AS OUTR ON ( OUTR2 . `VARCHAR_NOKEY` = OUTR . `VARCHAR_KEY` ) WHERE OUTR . `VARCHAR_KEY` IN ( SELECT  INNR . `DATETIME_KEY` AS Y FROM BB AS INNR2 LEFT JOIN AA AS INNR ON ( INNR2 . `INT_NOKEY` = INNR . `PK` ) WHERE INNR . `VARCHAR_KEY` < W  HAVING X = 16:36:21 ) AND OUTR . `DATETIME_KEY` <= 2000-6-25 AND OUTR . `VARCHAR_NOKEY` >= HKQ GROUP BY OUTR . `INT_NOKEY`HOW TO REPEAT:A SIMPLIFED TEST CASE WILL BE UPLOADED SHORTLY. ","SUMMARY":"BUGU00A0#37936  ASSERT_COLUMN_MARKED_FOR_WRITE IN FIELD_DATETIME::STORE , FIELD_VARSTRING::STORE ","CLASS":1}
{"ID_DEFECT":"39653","DESCRIPTION":"     [25 SEP 2008 18:26]   ZARDOSHT KASHEFF          DESCRIPTION:THE FUNCTION FIND_SHORTEST_KEY AT LINE 12598 IN SQL_SELECT.CC, IS USED IN MAKE_JOIN_READINFO TO DETERMINE WHAT COVERING INDEX TO USE TO SATISFY A QUERY. IN DOING SO, IT SIMPLY SELECTS THE INDEX WITH THE SMALLEST KEY LENGTH. IF THE PRIMARY KEY IS CLUSTERED, THEN THIS CAN LEAD TO A VERY BAD CHOICE, BECAUSE USING THE PRIMARY IMPLIES SCANNING THROUGH THE ENTIRE TABLE.WHAT FIND_SHORTEST_KEY SHOULD DO IS THE FOLLOWING. IF THE PRIMARY KEY IS A COVERING INDEX AND IS CLUSTERED, LIKE IN MYISAM, THEN THE BEHAVIOR TODAY SHOULD REMAIN THE SAME. IF THE PRIMARY KEY IS CLUSTERED, LIKE IN INNODB, THEN IT SHOULD NOT CONSIDER USING THE PRIMARY KEY BECAUSE THEN THE STORAGE ENGINE WILL HAVE TO SCAN THROUGH MUCH MORE DATA.HOW TO REPEAT:PERFORM THE FOLLOWING STEPS. THIS DEMONSTRATES THE ISSUE USING INNODB:MYSQL> CREATE TABLE BAR (A INT, B INT, C INT, D INT, E INT, F INT) ENGINE=INNODB;QUERY OK, 0 ROWS AFFECTED (0.01 SEC)MYSQL> ALTER TABLE BAR ADD PRIMARY KEY (A);QUERY OK, 0 ROWS AFFECTED (0.01 SEC)RECORDS: 0  DUPLICATES: 0  WARNINGS: 0MYSQL> ALTER TABLE BAR ADD KEY (B,C);QUERY OK, 0 ROWS AFFECTED (0.01 SEC)RECORDS: 0  DUPLICATES: 0  WARNINGS: 0MYSQL> INSERT INTO BAR VALUES (1,1,1,1,1,1),(2,2,2,2,2,2),(3,3,3,3,3,3),(4,4,4,4,4,4),(5,5,5,5,5,5),(6,6,6,6,6,6),(7,7,7,7,7,7),(8,8,8,8,8,8),(9,9,9,9,9,9),(11,11,11,11,11,11);QUERY OK, 10 ROWS AFFECTED (0.00 SEC)RECORDS: 10  DUPLICATES: 0  WARNINGS: 0MYSQL> EXPLAIN SELECT COUNT(*) FROM BAR;+----+-------------+-------+-------+---------------+---------+---------+------+------+-------------+| ID | SELECT_TYPE | TABLE | TYPE  | POSSIBLE_KEYS | KEY     | KEY_LEN | REF  |ROWS | EXTRA       |+----+-------------+-------+-------+---------------+---------+---------+------+------+-------------+|  1 | SIMPLE      | BAR   | INDEX | NULL          | PRIMARY | 4       | NULL |  10 | USING INDEX |+----+-------------+-------+-------+---------------+---------+---------+------+------+-------------+1 ROW IN SET (0.00 SEC)MYSQL> EXPLAIN SELECT COUNT(*) FROM BAR *************************** 1. ROW ***************************           ID: 1  SELECT_TYPE: SIMPLE        TABLE: BAR         TYPE: INDEXPOSSIBLE_KEYS: NULL          KEY: PRIMARY      KEY_LEN: 4          REF: NULL         ROWS: 10        EXTRA: USING INDEX1 ROW IN SET (0.00 SEC)SUGGESTED FIX:IF HANDLER->PRIMARY_KEY_IS_CLUSTERED() RETURNS TRUE, THEN FIND_SHORTEST_KEY, OR THE PLACES THAT USE FIND_SHORTEST_KEY, SHOULD COMPARE THE KEY LENGTHS OF OTHER COVERING INDEXES WITH THE ENTIRE ROW SIZE, NOT THE LENGTH OF THE PRIMARY KEY.IN THE ABOVE EXAMPLE, THE KEY (B,C) SHOULD BE USED INSTEAD OF THE PRIMARY KEY ","SUMMARY":"BUGU00A0#39653  FIND_SHORTEST_KEY IN SQL_SELECT.CC DOES NOT CONSIDER CLUSTERED PRIMARY KEYS ","CLASS":1}
{"ID_DEFECT":"43029","DESCRIPTION":"     [19 FEB 2009 18:37]   SERGEY PETRUNYA          DESCRIPTION:AS THE FOLLOWING EXPLAIN SHOWS, FORCE INDEX HINT IS IGNORED WHEN JOIN BUFFERING IS USEDMYSQL> EXPLAIN SELECT * FROM TEN A FORCE  INDEX FOR ORDER BY (A) , T2 B WHERE A.A < 4 ORDER BY A.A;+----+-------------+-------+-------+---------------+------+---------+------+------+----------------------------------------------+| ID | SELECT_TYPE | TABLE | TYPE  | POSSIBLE_KEYS | KEY  | KEY_LEN | REF  | ROWS | EXTRA                                        |+----+-------------+-------+-------+---------------+------+---------+------+------+----------------------------------------------+|  1 | SIMPLE      | A     | RANGE | A             | A    | 5       | NULL |    8 | USING WHERE; USING TEMPORARY; USING FILESORT | |  1 | SIMPLE      | B     | ALL   | NULL          | NULL | NULL    | NULL |   30 | USING JOIN BUFFER                            | +----+-------------+-------+-------+---------------+------+---------+------+------+----------------------------------------------+2 ROWS IN SET (0.01 SEC)HOW TO REPEAT:1. LOAD THE DATABASE DUMP (WILL UPLOAD HERE)2. RUN THE ABOVE MENTIONED EXPLAIN. ","SUMMARY":"BUGU00A0#43029  FORCE INDEX FOR ORDER BY IS IGNORED WHEN JOIN BUFFERING IS USED ","CLASS":1}
{"ID_DEFECT":"44139","DESCRIPTION":"     [7 APR 2009 23:00]   GARY PENDERGAST          DESCRIPTION:OPTIMIZER CHOOSES A TABLE SCAN WHEN THERE IS A NULL IN THE IN CLAUSE. THIS IS A REGRESSION. COMPARE EXPLAIN OUTPUT FROM 5.1.79:MYSQL [LOCALHOST] MSANDBOX (TEST) > EXPLAIN SELECT * FROM FOO WHERE A IN (160000, 160001, 160002)*************************** 1. ROW ***************************           ID: 1  SELECT_TYPE: SIMPLE        TABLE: FOO         TYPE: RANGEPOSSIBLE_KEYS: PRIMARY          KEY: PRIMARY      KEY_LEN: 4          REF: NULL         ROWS: 3        EXTRA: USING WHERE1 ROW IN SET (0.00 SEC)MYSQL [LOCALHOST] MSANDBOX (TEST) > EXPLAIN SELECT * FROM FOO WHERE A IN (NULL, 160000, 160001, 160002)*************************** 1. ROW ***************************           ID: 1  SELECT_TYPE: SIMPLE        TABLE: FOO         TYPE: RANGEPOSSIBLE_KEYS: PRIMARY          KEY: PRIMARY      KEY_LEN: 4          REF: NULL         ROWS: 3        EXTRA: USING WHERE1 ROW IN SET (0.01 SEC)TO 5.1.32:MYSQL [LOCALHOST] MSANDBOX (TEST) > EXPLAIN SELECT * FROM FOO WHERE A IN (160000, 160001, 160002)*************************** 1. ROW ***************************           ID: 1  SELECT_TYPE: SIMPLE        TABLE: FOO         TYPE: RANGEPOSSIBLE_KEYS: PRIMARY          KEY: PRIMARY      KEY_LEN: 4          REF: NULL         ROWS: 3        EXTRA: USING WHERE1 ROW IN SET (0.06 SEC)MYSQL [LOCALHOST] MSANDBOX (TEST) > EXPLAIN SELECT * FROM FOO WHERE A IN (NULL, 160000, 160001, 160002)*************************** 1. ROW ***************************           ID: 1  SELECT_TYPE: SIMPLE        TABLE: FOO         TYPE: ALLPOSSIBLE_KEYS: PRIMARY          KEY: NULL      KEY_LEN: NULL          REF: NULL         ROWS: 327680        EXTRA: USING WHERE1 ROW IN SET (0.00 SEC)HOW TO REPEAT:USE TEST;DROP TABLE IF EXISTS FOO;CREATE TABLE FOO (TA INT NOT NULL AUTO_INCREMENT,TB INT,TPRIMARY KEY( A ));INSERT INTO FOO( B ) VALUES (1),(1),(1),(1),(1);INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;INSERT INTO FOO( B ) SELECT B FROM FOO;EXPLAIN SELECT * FROM FOO WHERE A IN (160000, 160001, 160002)EXPLAIN SELECT * FROM FOO WHERE A IN (NULL, 160000, 160001, 160002)SUGGESTED FIX:USE INDEX WHEN AVAILABLE. ","SUMMARY":"BUGU00A0#44139  TABLE SCAN WHEN NULL APPEARS IN IN CLAUSE ","CLASS":1}
{"ID_DEFECT":"44290","DESCRIPTION":"     [15 APR 2009 11:54]   SHANE BESTER          DESCRIPTION:MYSQLD.EXE!SQL_SELECT::TEST_QUICK_SELECT()[OPT_RANGE.CC:2212]MYSQLD.EXE!TEST_IF_SKIP_SORT_ORDER()[SQL_SELECT.CC:13212]MYSQLD.EXE!JOIN::EXEC()[SQL_SELECT.CC:1757]MYSQLD.EXE!MYSQL_SELECT()[SQL_SELECT.CC:2380]MYSQLD.EXE!MYSQL_EXPLAIN_UNION()[SQL_SELECT.CC:16359]MYSQLD.EXE!SELECT_DESCRIBE()[SQL_SELECT.CC:16300]MYSQLD.EXE!JOIN::EXEC()[SQL_SELECT.CC:1764]MYSQLD.EXE!MYSQL_SELECT()[SQL_SELECT.CC:2380]MYSQLD.EXE!MYSQL_EXPLAIN_UNION()[SQL_SELECT.CC:16359]MYSQLD.EXE!EXECUTE_SQLCOM_SELECT()[SQL_PARSE.CC:4889]MYSQLD.EXE!MYSQL_EXECUTE_COMMAND()[SQL_PARSE.CC:2204]MYSQLD.EXE!MYSQL_PARSE()[SQL_PARSE.CC:5835]MYSQLD.EXE!DISPATCH_COMMAND()[SQL_PARSE.CC:1218]MYSQLD.EXE!DO_COMMAND()[SQL_PARSE.CC:857]MYSQLD.EXE!HANDLE_ONE_CONNECTION()[SQL_CONNECT.CC:1115]MYSQLD.EXE!PTHREAD_START()[MY_WINTHREAD.C:85]MYSQLD.EXE!_CALLTHREADSTART()[THREAD.C:295]MYSQLD.EXE!_THREADSTART()[THREAD.C:277]KERNEL32.DLL!BASETHREADSTART()HOW TO REPEAT:DROP TABLE IF EXISTS `T2`;CREATE TABLE `T2` (`C1` INT,`C2` INT,`C3` INT,`C4` INT,KEY (`C3`),KEY (`C4`),KEY (`C2`,`C3`)) ENGINE=INNODB;INSERT INTO `T2` VALUES (1,1,1,3);INSERT INTO `T2` VALUES (1,1,1,1);INSERT INTO `T2` VALUES (1,1,2,1);INSERT INTO `T2` VALUES (1,1,1,3);INSERT INTO `T2` VALUES (1,1,2,1);EXPLAIN SELECT 1 FROM ( SELECT COUNT(DISTINCT `C1`) FROM `T2`WHERE  `C2` IN (1,1) AND `C3` = 2 AND `C4` = 3 GROUP BY `C2` ) X; ","SUMMARY":"BUGU00A0#44290  CRASH IN SQL_SELECT::TEST_QUICK_SELECT FOR QUERY WITH DISTINCT OR ORDERGROUP BY ","CLASS":1}
{"ID_DEFECT":"45828","DESCRIPTION":"     [29 JUN 2009 15:55]   HARRISON FISK          DESCRIPTION:WITH INNODB TABLES, MYSQL WILL USE A LESS IDEAL INDEX IN ORDER TO AVOID A FILESORT, EVEN IF THE PREFIX OF THE PRIMARY KEY IS MUCH MORE SELECTIVE.WITH INNODB, YOU SHOULD PREFER TO USE THE PRIMARY KEY WHEN YOU CAN, AND EVEN IN THIS CASE, THE PRIMARY KEY IS THE PROPER CHOICE REGARDLESS OF CLUSTERED INDEX NATURE.5.0 DOES NOT EXHIBIT THIS BEHAVIOR, BUT BOTH 5.1 AND 5.4 DO.THIS MIGHT BE RELATED TO BUG #28404, BUT I DO NOT THINK SO.SEE HOW TO REPEAT FOR MORE DETAILS OF EXACT QUERIES.HOW TO REPEAT:-- CREATE THE TABLECREATE TABLE `T1` (  `C1` INT(11) UNSIGNED NOT NULL DEFAULT 0,  `C2` INT(11) UNSIGNED NOT NULL DEFAULT 0,  `C3` INT(11) UNSIGNED NOT NULL DEFAULT 0,  PRIMARY KEY (`C1`,`C2`),  KEY `C3` (`C3`)) ENGINE=INNODB;-- POPULATE WITH DATAINSERT INTO `T1` VALUES (5,2,1246276747);INSERT INTO `T1` VALUES (2,1,1246281721);INSERT INTO `T1` VALUES (7,3,1246281756);INSERT INTO `T1` VALUES (4,2,1246282139);INSERT INTO `T1` VALUES (3,1,1246282230);INSERT INTO `T1` VALUES (1,0,1246282712);INSERT INTO `T1` VALUES (8,3,1246282765);INSERT INTO T1 SELECT C1+10,C2+10,C3+10 FROM T1;INSERT INTO T1 SELECT C1+100,C2+100,C3+100 FROM T1;INSERT INTO T1 SELECT C1+1000,C2+1000,C3+1000 FROM T1;INSERT INTO T1 SELECT C1+10000,C2+10000,C3+10000 FROM T1;INSERT INTO T1 SELECT C1+100000,C2+100000,C3+100000 FROM T1;INSERT INTO T1 SELECT C1+1000000,C2+1000000,C3+1000000 FROM T1;-- QUERY AND NO ROWS WILL MATCH THE C1 CONDITION, WHEREAS ALL WILL MATCH C3SELECT * FROM T1 WHERE C1 = 99999999 AND C3 > 1 ORDER BY C3;-- INDEX ON C3 WILL BE USED INSTEAD OF PRIMARY KEYEXPLAIN SELECT * FROM T1 WHERE C1 = 99999999 AND C3 > 1 ORDER BY C3;-- IF WE FORCE THE PRIMARY KEY, WE CAN SEE THE ESTIMATE IS 1 EXPLAIN SELECT * FROM T1 FORCE INDEX (PRIMARY) WHERE C1 = 99999999 AND C3 > 1 ORDER BY C3;-- IF WE SWITCH TO MYISAM, PRIMARY KEY IS USED PROPERLYALTER TABLE T1 ENGINE=MYISAM;EXPLAIN SELECT * FROM T1 WHERE C1 = 99999999 AND C3 > 1 ORDER BY C3;ALTER TABLE T1 ENGINE=INNODB;-- IF WE SWITCH IT FROM A PRIMARY KEY TO A REGULAR INDEX, IT WORKS CORRECTLY AS WELLALTER TABLE T1 DROP PRIMARY KEY, ADD INDEX `TEST` (C1, C2);EXPLAIN SELECT * FROM T1 WHERE C1 = 99999999 AND C3 > 1 ORDER BY C3;ALTER TABLE T1 DROP INDEX TEST, ADD PRIMARY KEY (C1, C2);SUGGESTED FIX:USE THE PRIMARY KEY WHEN IT MAKES SENSE TO. ","SUMMARY":"BUGU00A0#45828  OPTIMIZER WONT USE PARTIAL PRIMARY KEY IF ANOTHER INDEX CAN PREVENT FILESORT ","CLASS":1}
{"ID_DEFECT":"46454","DESCRIPTION":"     [29 JUL 2009 16:30]   JOCELYN FOURNIER          DESCRIPTION:HI,FOR A SPECIFIC QUERY, MYSQL CHOOSE TO SCAN ONLY THE INDEX FILE BUT WITH THE WRONG INDEX, WHICH LEAD TO INCORRECT RESULT IN THE QUERY.COULD BE SOMEHOW RELATED TO HTTP:BUGS.MYSQL.COMBUG.PHP?ID=36817 ?HOW TO REPEAT:FIRST DOWNLOAD AND INJECT HTTP:WWW.MESDISCUSSIONS.NETBUG.TAR.GZ IN TEST DB (19 MB)THEN USE TEST;EXPLAIN SELECT ID_USER FROM USERS_LOGS UD WHERE UD.ID_FRIEND = 4299422 ORDER BY UD.DATE DESC LIMIT 0, 9;+----+-------------+-------+-------+-------------------------+-------------+---------+------+-------+--------------------------+| ID | SELECT_TYPE | TABLE | TYPE  | POSSIBLE_KEYS           | KEY         | KEY_LEN | REF  | ROWS  | EXTRA                    |+----+-------------+-------+-------+-------------------------+-------------+---------+------+-------+--------------------------+|  1 | SIMPLE      | UD    | RANGE | ID_FRIEND_3,ID_FRIEND_4 | ID_FRIEND_3 | 3       | NULL | 37974 | USING WHERE; USING INDEX |+----+-------------+-------+-------+-------------------------+-------------+---------+------+-------+--------------------------+HERE YOU CAN SEE MYSQL CHOOSES TO USER ID_FRIEND_3 INDEX TO RETURN THE RESULT.HOWEVER, ID_FRIEND_3 DOES *NOT* CONTAIN ID_USER (ITS ID_FRIEND_4 WHICH DOES) : CREATE TABLE `USERS_LOGS` (  `ID_USER` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT 0,  `ID_FRIEND` MEDIUMINT(10) UNSIGNED NOT NULL DEFAULT 0,  `ID_LOG` INT(10) UNSIGNED NOT NULL DEFAULT 0,  `DATE` TIMESTAMP NOT NULL DEFAULT 0000-00-00 00:00:00,  PRIMARY KEY (`ID_LOG`,`ID_USER`,`ID_FRIEND`),  KEY `ID_FRIEND_3` (`ID_FRIEND`,`DATE`),  KEY `ID_FRIEND_4` (`ID_FRIEND`,`ID_USER`,`DATE`),  KEY `ID_FRIEND_5` (`ID_USER`,`DATE`)) ENGINE=MYISAM DEFAULT CHARSET=UTF8HENCE, THE QUERY LEADS TO A COMPLETELY INCORRECT RESULT :MYSQL> SELECT ID_USER FROM USERS_LOGS UD WHERE UD.ID_FRIEND = 4299422 ORDER BY UD.DATE DESC LIMIT 0, 9;+---------+| ID_USER |+---------+|       0 ||       0 ||       0 ||       0 ||       0 ||       0 ||       0 ||       0 ||       0 |+---------+9 ROWS IN SET (0.00 SEC)ADDING A FIELD NOT IN ID_FRIEND_4 INDEX SOLVE THE ISSUE : EXPLAIN SELECT ID_USER,ID_LOG FROM USERS_LOGS UD WHERE UD.ID_FRIEND = 4299422 ORDER BY UD.DATE DESC LIMIT 0, 9;+----+-------------+-------+------+-------------------------+-------------+---------+-------+-------+-------------+| ID | SELECT_TYPE | TABLE | TYPE | POSSIBLE_KEYS           | KEY         | KEY_LEN | REF   | ROWS  | EXTRA       |+----+-------------+-------+------+-------------------------+-------------+---------+-------+-------+-------------+|  1 | SIMPLE      | UD    | REF  | ID_FRIEND_3,ID_FRIEND_4 | ID_FRIEND_3 | 3       | CONST | 37974 | USING WHERE |+----+-------------+-------+------+-------------------------+-------------+---------+-------+-------+-------------+1 ROW IN SET (0.00 SEC)=> NO MORE USING INDEX HERE.SELECT ID_USER,ID_LOG FROM USERS_LOGS UD WHERE UD.ID_FRIEND = 4299422 ORDER BY UD.DATE DESC LIMIT 0, 9;+---------+----------+| ID_USER | ID_LOG   |+---------+----------+| 4613617 | 10749620 || 4613617 | 10749489 || 4107676 | 10749404 || 4613617 | 10749388 || 3928150 | 10749103 || 4652634 | 10749047 || 4107676 | 10748939 || 4470248 | 10748818 || 4470248 | 10748797 |+---------+----------+9 ROWS IN SET (0.00 SEC)QUERY IS OK NOWREGARDS,  JOCELYN FOURNIER ","SUMMARY":"BUGU00A0#46454  MYSQL WRONG INDEX OPTIMISATION LEADS TO INCORRECT RESULT & CRASHES ","CLASS":1}
{"ID_DEFECT":"46607","DESCRIPTION":"     [7 AUG 2009 16:32]   PATRICK CREWS          DESCRIPTION:I ENCOUNTERED A CRASH IN 5.1-BUGTEAM WITH THE FOLLOWING ERROR OUTPUT:ASSERTION FAILED: (COND_TYPE == ITEM::FUNC_ITEM), FUNCTION CHECK_GROUP_MIN_MAX_PREDICATES, FILE OPT_RANGE.CC, LINE 9633.090807  5:51:51 - MYSQLD GOT SIGNAL 6 ;IM STILL ANALYZING THIS BUG TO PRODUCE A REPEATABLE TEST CASE.I WAS RUNNING THE RANDOM QUERY GENERATOR AGAINST A 5.1-BUGTEAM SERVER USING THE TRANSFOMER VALIDATOR.HOW TO REPEAT:THESE ARE THE LAST QUERIES THAT WERE RUN PRIOR TO THE CRASH.  WILL ATTACH A REPEATABLE TEST CASE ONCE I HAVE PRODUCED IT. SELECT  MAX( `INT_KEY`) AS FIELD1 , `VARCHAR_KEY` AS FIELD2 FROM D AS TABLE1 WHERE TABLE1 . `INT_KEY` IS  NULL  GROUP BY FIELD2 SELECT  MAX( `INT_KEY`) AS FIELD1 , `VARCHAR_KEY` AS FIELD2 FROM D AS TABLE1 WHERE TABLE1 . `INT_KEY` IS  NULL  GROUP BY FIELD2 LIMIT 1  SELECT  MAX( `INT_KEY`) AS FIELD1 , `VARCHAR_KEY` AS FIELD2 FROM D AS TABLE1 WHERE TABLE1 . `INT_KEY` IS  NULL  GROUP BY FIELD2 LIMIT 4294836225SELECT STRAIGHT_JOIN  MAX( `INT_KEY`) AS FIELD1 , `VARCHAR_KEY` AS FIELD2 FROM D AS TABLE1 WHERE TABLE1 . `INT_KEY` IS  NULL  GROUP BY FIELD2  SELECT   MIN( TABLE2 . `VARCHAR_NOKEY` ) AS FIELD1 , TABLE1 . `DATETIME_KEY` AS FIELD2 , TABLE1 . `VARCHAR_KEY` AS FIELD3 FROM ( CC AS TABLE1 RIGHT  JOIN CC AS TABLE2 ON (JOIN_CONDITION_LIST ) ) WHERE ( TABLE1 . `PK`  IN ( SELECT SUBQUERY_T1 . `INT_KEY` FROM D AS SUBQUERY_T1  ))  GROUP BY FIELD2, FIELD3 HAVING (FIELD2 <= WX AND FIELD2 = K) ORDER BY FIELD1 DESC , FIELD3  FAILED: 2006 MYSQL SERVER HAS GONE AWAY ","SUMMARY":"BUGU00A0#46607  ASSERTION FAILED: (COND_TYPE == ITEM::FUNC_ITEM) RESULTS IN SERVER CRASH ","CLASS":1}
{"ID_DEFECT":"48370","DESCRIPTION":"     [28 OCT 2009 10:32]   ZIGMUND BULINSH          DESCRIPTION:V_TOTAL COLUMN IS CALCULATED WRONG!AND THIS IS REALLY CRITICAL..VERRY CRITICAL BUG BECAUSE OF THIS I ROLLED BACK TO 5.1.38 (BECAUSE 5.1.39 HAS A BUG WHICH I ALSO REPORTED ABOUT SLAVE_DEATTACH_THREAD..).HOW TO REPEAT:LOAD ATTACHED DUMP TO MYSQL DATABASE.THEN RUN THIS QUERY:MYSQL> SELECT PAYMENT_ID, PRICE, DISCOUNT    -> FROM SUB_TASKS    -> ORDER BY PAYMENT_ID    -> LIMIT 10;+------------+----------+----------+| PAYMENT_ID | PRICE    | DISCOUNT |+------------+----------+----------+|       3001 |  12.6000 |   0.0000 ||       3001 |  14.5800 |   0.0000 ||       3003 |   9.2400 |   0.0000 ||       3004 | 164.1800 |   0.0000 ||       3005 |  23.6600 |   0.0000 ||       3005 | 223.6500 |   0.0000 ||       3006 |  16.2900 |   0.0000 ||       3006 |   1.7100 |   0.0000 ||       3006 |  17.4600 |   0.0000 ||       3007 |   8.3300 |   0.0000 |+------------+----------+----------+10 ROWS IN SET (0.00 SEC)MYSQL> SELECT    ->   PAY.ID,    ->   MIN((1 + IF(PAY.STATUS, PAY.VAT, SUP.VAT)  100)) V_MIN,    ->   MAX((1 + IF(PAY.STATUS, PAY.VAT, SUP.VAT)  100)) V_MAX,    ->   #NET IS ROUNDED AT THE BEGINNING    ->   SUM(    ->     ROUND(    ->       ROUND(SUB.PRICE, 2) * BCUR.RATE  CUR.RATE    ->     , 2)    ->   ) V_NET,    ->    ->   SUM(    ->     ROUND(    ->       (ROUND(SUB.PRICE, 2) - ROUND(ROUND(SUB.PRICE, 2) * (SUB.DISCOUNT  100), 2)) * BCUR.RATE  CUR.RATE    ->     , 2)    ->   ) V_NET_WITH_DISCOUNT,    ->    ->   ROUND(SUM(    ->     ROUND(    ->       (ROUND(SUB.PRICE, 2) - ROUND(ROUND(SUB.PRICE, 2) * (SUB.DISCOUNT  100), 2)) * BCUR.RATE  CUR.RATE    ->     , 2) * (1 + IF(PAY.STATUS, PAY.VAT, SUP.VAT)  100)    ->   ), 2) V_TOTAL    -> FROM    ->   PAYMENTS PAY    ->     JOIN (    ->       SUPPLIERS SUP,    ->       CURRENCIES CUR)    ->     ON (    ->       PAY.SUPPLIER_ID = SUP.ID AND    ->       PAY.CURRENCY_ID = CUR.ID)    ->     LEFT JOIN (    ->       SUB_TASKS SUB,    ->       CURRENCIES BCUR)    ->     ON (    ->       SUB.PAYMENT_ID = PAY.ID AND    ->       SUB.CURRENCY_ID = BCUR.ID)    -> WHERE    ->   PAY.ID <> 0 AND    ->   PAY.VAT = 0 AND    ->   SUP.VAT = 0    -> GROUP BY    ->   PAY.ID,    ->   SUP.ID    -> LIMIT 10;+------+------------+------------+---------+---------------------+---------+| ID   | V_MIN      | V_MAX      | V_NET   | V_NET_WITH_DISCOUNT | V_TOTAL |+------+------------+------------+---------+---------------------+---------+| 3001 | 1.00000000 | 1.00000000 |   27.18 |               27.18 |   27.20 || 3003 | 1.00000000 | 1.00000000 |    9.24 |                9.24 |    9.20 || 3004 | 1.00000000 | 1.00000000 |  164.18 |              164.18 |  164.20 || 3005 | 1.00000000 | 1.00000000 |  247.31 |              247.31 |  247.40 || 3006 | 1.00000000 | 1.00000000 |   35.46 |               35.46 |   35.50 || 3007 | 1.00000000 | 1.00000000 |   73.59 |               73.59 |   73.50 || 3008 | 1.00000000 | 1.00000000 |   70.38 |               70.38 |   70.40 || 3009 | 1.00000000 | 1.00000000 |   32.04 |               32.04 |   32.00 || 3011 | 1.00000000 | 1.00000000 |   63.66 |               63.66 |   63.70 || 3012 | 1.00000000 | 1.00000000 | 1052.01 |             1052.01 | 1052.00 |+------+------------+------------+---------+---------------------+---------+10 ROWS IN SET (0.08 SEC) ","SUMMARY":"BUGU00A0#48370  ABSOLUTELY WRONG CALCULATIONS WITH GROUP BY AND DECIMAL FIELDS WHEN USING IF ","CLASS":1}
{"ID_DEFECT":"49324","DESCRIPTION":"     [2 DEC 2009 4:21]   SHANE BESTER          DESCRIPTION:AT FIRST, LOOKS LIKE BUG #44886 BUT THAT TESTCASE DOESNT CAUSE ANY PROBLEMS ANYMORE IN 5.1.41VALGRIND ERRORS IN 5.1.41:CONDITIONAL JUMP OR MOVE DEPENDS ON UNINITIALISED VALUE(S)AT: TEST_IF_SKIP_SORT_ORDER  (SQL_SELECT.CC:13319)BY: JOIN::OPTIMIZE() (SQL_SELECT.CC:1400)BY: MYSQL_SELECT (SQL_SELECT.CC:2421)BY: HANDLE_SELECT (SQL_SELECT.CC:269)BY: EXECUTE_SQLCOM_SELECT (SQL_PARSE.CC:5051)BY: MYSQL_EXECUTE_COMMAND(THD*) (SQL_PARSE.CC:2246)BY: MYSQL_PARSE (SQL_PARSE.CC:5970)BY: DISPATCH_COMMAND (SQL_PARSE.CC:1231)BY: DO_COMMAND(THD*) (SQL_PARSE.CC:872)BY: HANDLE_ONE_CONNECTION (SQL_CONNECT.CC:1127)BY: START_THREAD (IN LIBLIBPTHREAD-2.5.SO)BY: CLONE (IN LIBLIBC-2.5.SO)HOW TO REPEAT:RUN MYSQLD UNDER VALGRIND, THEN RUN:DROP TABLE IF EXISTS `T1`;CREATE TABLE `T1` (`A` INT PRIMARY KEY) ENGINE=INNODB ;SELECT 1 FROM `T1` JOIN `T1` `A` USING(`A`) GROUP BY `T1`.`A`,`T1`.`A`;SUGGESTED FIX:VALGRIND ERRORS ARE BAD... ","SUMMARY":"BUGU00A0#49324  MORE VALGRIND ERRORS IN TEST_IF_SKIP_SORT_ORDER ","CLASS":1}
{"ID_DEFECT":"50843","DESCRIPTION":"     [2 FEB 2010 18:12]   CHRIS CALENDER          DESCRIPTION:THE OPTIMIZER IN MYSQL 5.1 IGNORES THE CLUSTERED INDEX (OF A PRIMARY KEY) FOR GROUP BY EVEN WHEN IT WOULD IMPROVE PERFORMANCE OF THE QUERY.FOR AN EXAMPLE, EXECUTE THE FOLLOWING QUERY IN 5.1 AND 5.0 TO COMPARE (NOTE I AM USING THE `WORLD` DATABASE, WITH THE TABLES CONVERTED TO INNODB):EXPLAIN SELECT COUNTRY.* FROM COUNTRY LEFT JOIN COUNTRYLANGUAGE ON COUNTRY.CODE=COUNTRYLANGUAGE.COUNTRYCODE GROUP BY COUNTRY.CODE;IN 5.0, YOU WILL SEE THAT THE PRIMARY KEY FOR TABLE `COUNTRY` IS USED TO RESOLVE THIS.  HOWEVER, IT IS NOT USED IN 5.1, WHICH LEADS TO USING TEMPORARY; USING FILESORT IN ORDER TO RESOLVE THE QUERY.HOW TO REPEAT:1. LOAD THE `WORLD` DATABASE.2. ALTER `COUNTRY` AND `COUNTRYLANGUAGE` TO BE INNODB TABLESALTER TABLE `COUNTRY` ENGINE=INNODB;ALTER TABLE `COUNTRYLANGUAGE` ENGINE=INNODB;3. RUN THE FOLLOWING QUERY:EXPLAIN SELECT COUNTRY.* FROM COUNTRY LEFT JOIN COUNTRYLANGUAGE ON COUNTRY.CODE=COUNTRYLANGUAGE.COUNTRYCODE GROUP BY COUNTRY.CODE;OUTPUT FROM 5.1.42:MYSQL> EXPLAIN SELECT COUNTRY.* FROM COUNTRY LEFT JOIN COUNTRYLANGUAGE ON COUNTRY.CODE=COUNTRYLANGUAGE.COUNTRYCODE GROUP BY COUNTRY.CODE;+----+-------------+-----------------+------+---------------+---------+---------+--------------------+------+---------------------------------+| ID | SELECT_TYPE | TABLE           | TYPE | POSSIBLE_KEYS | KEY     | KEY_LEN | REF                | ROWS | EXTRA                           |+----+-------------+-----------------+------+---------------+---------+---------+--------------------+------+---------------------------------+|  1 | SIMPLE      | COUNTRY         | ALL  | NULL          | NULL    | NULL    | NULL               |  218 | USING TEMPORARY; USING FILESORT ||  1 | SIMPLE      | COUNTRYLANGUAGE | REF  | PRIMARY       | PRIMARY | 3       | WORLD.COUNTRY.CODE |    2 | USING INDEX                     |+----+-------------+-----------------+------+---------------+---------+---------+--------------------+------+---------------------------------+2 ROWS IN SET (0.00 SEC)OUTPUT FROM 5.0.89:MYSQL> EXPLAIN SELECT COUNTRY.* FROM COUNTRY LEFT JOIN COUNTRYLANGUAGE ON COUNTRY.CODE=COUNTRYLANGUAGE.COUNTRYCODE GROUP BY COUNTRY.CODE;+----+-------------+-----------------+-------+---------------+---------+---------+--------------------+------+-------------+| ID | SELECT_TYPE | TABLE           | TYPE  | POSSIBLE_KEYS | KEY     | KEY_LEN | REF                | ROWS | EXTRA       |+----+-------------+-----------------+-------+---------------+---------+---------+--------------------+------+-------------+|  1 | SIMPLE      | COUNTRY         | INDEX | NULL          | PRIMARY | 3       | NULL               |  237 |             ||  1 | SIMPLE      | COUNTRYLANGUAGE | REF   | PRIMARY       | PRIMARY | 3       | WORLD.COUNTRY.CODE |    2 | USING INDEX |+----+-------------+-----------------+-------+---------------+---------+---------+--------------------+------+-------------+2 ROWS IN SET (0.02 SEC)SUGGESTED FIX:ALLOW THE OPTIMIZER TO USE THE CLUSTERED INDEX WHEN THE GROUP BY IS ON THE PRIMARY KEY (I.E., THE CLUSTERED INDEX). ","SUMMARY":"BUGU00A0#50843  OPTIMIZER IGNORES CLUSTERED INDEX FOR GROUP BY EVEN WHEN IT IMPROVES PERFORMANCE ","CLASS":1}
{"ID_DEFECT":"50995","DESCRIPTION":"     [8 FEB 2010 14:19]   ADAM TROTTER          DESCRIPTION:IF A QUERY IS WRITTEN WITH A SUBQUERY WHICH REFERENCES DATA IN THE OUTER QUERY, AND THE OUTER QUERY IS USING AN INDEX TO RESOLVE THE WHERE CLAUSE AND HAS AN ORDER BY AND HAVING CLAUSE AGAINST THE RESULTS OF THE SUBQUERY, THE HAVING CLAUSE WILL PRODUCE INCORRECT RESULTS.THE ISSUE WAS DISCOVERED ON 5.1.42 RUNNING ON CENTOS, AND IS REPEATABLE ON 5.1.43 RUNNING ON WINDOWS 7.IF WE IGNORE THE INDEX, WE GET THE CORRECT RESULTS.  ALSO, IF A GROUP BY IS ADDED, OR THE ORDER BY IS REMOVED, WE GET CORRECT RESULTS.FINALLY, IF WE RUN THE ORIGINAL QUERY AGAIN, BUT, THE DATA TYPES ON THE TEMP TABLE ARE CHAR, WE GET CORRECT RESULTS.  (I HAVE TESTED, BIGINT, INT, TINYINT, AND DECIMAL TYPES FOR THE FIELDS, THEY ARE ALL BROKEN).  WITH A CHAR DATA TYPE, THE ISSUE SEEMS TO BE FIXED ONLY BECAUSE A TEMPORARY TABLE IS BEING USED TO RESOLVE THE QUERY.HOW TO REPEAT:DROP TEMPORARY TABLE IF EXISTS T1;CREATE TEMPORARY TABLE T1( ID1 BIGINT UNSIGNED NOT NULL, ID2 BIGINT UNSIGNED NOT NULL, INDEX T1_ID2_INDEX(ID2));INSERT INTO T1 SET ID1=1, ID2=1;INSERT INTO T1 SET ID1=2, ID2=1;INSERT INTO T1 SET ID1=3, ID2=1;SELECT BUG.ID1,       (SELECT 0        FROM DUAL        WHERE BUG.ID1=BUG.ID1       ) AS AMOUNTFROM T1 AS BUGWHERE BUG.ID2 = 1HAVING AMOUNT > 0ORDER BY BUG.ID1; ","SUMMARY":"BUGU00A0#50995  HAVING CLAUSE ON SUBQUERY RESULT PRODUCES INCORRECT RESULTS. ","CLASS":1}
{"ID_DEFECT":"51070","DESCRIPTION":"     [10 FEB 2010 20:34]   IGOR BABAEV          DESCRIPTION:IN SOME CASES WHEN THE LEFT PART OF A NOT IN SUBQUERY PREDICATE IS A ROW AND CONTAINS SOME NULL VALUES THE RESULT RETURNED BY THE QUERY CAN BE WRONG:MYSQL> SELECT * FROM T1;+------+------+| A1   | A2   |+------+------+| ZZ   | NULL || YY   | NULL |+------+------+2 ROWS IN SET (0.00 SEC)MYSQL> SELECT * FROM T2;+------+------+| B1   | B2   |+------+------+| NULL | XX   || NULL | TT   |+------+------+2 ROWS IN SET (0.00 SEC)MYSQL> SELECT * FROM T1 WHERE (A1, A2) NOT IN (SELECT B1, B2 FROM T2);+------+------+| A1   | A2   |+------+------+| ZZ   | NULL || YY   | NULL |+------+------+2 ROWS IN SET (0.00 SEC)THE EXPECTED RESULT HERE IS AN EMPTY SET.HOW TO REPEAT:CREATE AND POPULATE TABLES T1 AND T2 WITH THE FOLLOWING COMMANDS:CREATE TABLE T1 (A1 CHAR(2), A2 CHAR(2));CREATE TABLE T2 (B1 CHAR(2), B2 CHAR(2));INSERT INTO T1 (A1, A2) VALUES (ZZ, NULL);INSERT INTO T1 (A1, A2) VALUES (YY, NULL);INSERT INTO T2 (B1, B2) VALUES (NULL, XX);INSERT INTO T2 (B1, B2) VALUES (NULL, TT);RUN THE QUERY:SELECT * FROM T1 WHERE (A1, A2) NOT IN (SELECT B1, B2 FROM T2); ","SUMMARY":"BUGU00A0#51070  QUERY WITH A NOT IN SUBQUERY PREDICATE RETURNS A WRONG RESULT SET  ","CLASS":1}
{"ID_DEFECT":"51242","DESCRIPTION":"     [17 FEB 2010 13:24]   OLE JOHN ASKE          DESCRIPTION:THE HAVING CLAUSE ON A JOINED TABLE FAILS TO ELIMINATE ROWS WHICH SHOULD HAVE BEEN EXCLUDED FROM THE RESULT SET. IN THE TEST CASE NO ROWS QUALIFIES ON TABLE2.INT_NOKEY = 8 BUT THIS PART OF THE HAVING CLAUSE SEEMS TO BE IGNORED.IF WE EITHER REMOVE THE WHERE CLAUSE OR THE SECOND TERM TABLE1.PK >= 6 FROMTHE HAVING CLAUSE, THE QUERY RETURN A CORRECT (EMPTY) RESULT SET.THIS BUGS LOOKS SIMILAR TO BUG#50995, HOWEVER, I HAVE TESTED THE PATCH FORTHIS BUG ON MY TESTCASE WO SUCCESS.HAS ALSO TESTED THE NEXT-MR AND 6.0 VERSIONS WHICH SEEMS TO FAIL ALSO.HOW TO REPEAT:CREATE TABLE TEST (PK INT PRIMARY KEY, INT_NOKEY INT, INT_KEY INT);INSERT INTO TEST VALUES (2,7,9), (4,7,9), (6,2,9), (17,0,9);SELECT TABLE1.PK, TABLE2.INT_NOKEY FROM TEST AS TABLE1 JOIN TEST AS TABLE2 ON TABLE1.INT_KEY = TABLE2.INT_KEY WHERE TABLE2.PK = 2 GROUP BY TABLE1.PK, TABLE2.INT_NOKEY HAVING (TABLE2.INT_NOKEY = 8 AND TABLE1.PK >= 6) ;+----+-----------+| PK | INT_NOKEY |+----+-----------+|  6 |         7 || 17 |         7 |+----+-----------+2 ROWS IN SET (0.00 SEC) ","SUMMARY":"BUGU00A0#51242  HAVING CLAUSE ON TABLE JOIN PRODUCE INCORRECT RESULTS ","CLASS":1}
{"ID_DEFECT":"51494","DESCRIPTION":"     [25 FEB 2010 9:33]   SHANE BESTER          DESCRIPTION:5.1.44 STACK TRACE:MYSQLD.EXE!MY_MB_WC_BIN()[CTYPE-BIN.C:253]                                MYSQLD.EXE!ITEM_FUNC_SOUNDEX::VAL_STR()[ITEM_STRFUNC.CC:1949]             MYSQLD.EXE!ARG_COMPARATOR::COMPARE_BINARY_STRING()[ITEM_CMPFUNC.CC:1300]  MYSQLD.EXE!ITEM_FUNC_EQ::VAL_INT()[ITEM_CMPFUNC.CC:1858]                  MYSQLD.EXE!ITEM::VAL_BOOL()[ITEM.CC:184]                                  MYSQLD.EXE!ITEM_COND_AND::VAL_INT()[ITEM_CMPFUNC.CC:4388]                 MYSQLD.EXE!MAKE_JOIN_SELECT()[SQL_SELECT.CC:6160]                         MYSQLD.EXE!JOIN::OPTIMIZE()[SQL_SELECT.CC:1095]                           MYSQLD.EXE!MYSQL_SELECT()[SQL_SELECT.CC:2445]                             MYSQLD.EXE!MYSQL_EXPLAIN_UNION()[SQL_SELECT.CC:16617]                     MYSQLD.EXE!EXECUTE_SQLCOM_SELECT()[SQL_PARSE.CC:5031]                     MYSQLD.EXE!MYSQL_EXECUTE_COMMAND()[SQL_PARSE.CC:2248]                     MYSQLD.EXE!MYSQL_PARSE()[SQL_PARSE.CC:5975]                               MYSQLD.EXE!DISPATCH_COMMAND()[SQL_PARSE.CC:1235]                          MYSQLD.EXE!DO_COMMAND()[SQL_PARSE.CC:874]                                 MYSQLD.EXE!HANDLE_ONE_CONNECTION()[SQL_CONNECT.CC:1127]                   MYSQLD.EXE!PTHREAD_START()[MY_WINTHREAD.C:85]                             MYSQLD.EXE!_CALLTHREADSTART()[THREAD.C:295]                               MYSQLD.EXE!_THREADSTART()[THREAD.C:275]                                   KERNEL32.DLL!BASETHREADSTART()                                            MAYBE NOT CRASH, BUT NUMEROUS VALGRIND ERRORS ARE SEEN.HOW TO REPEAT:DROP TABLE IF EXISTS `T1`,`T2`;CREATE TABLE `T1` (`A` INT) ENGINE=MYISAM;INSERT INTO `T1` VALUES(1);CREATE TABLE `T2` (`B` INT NOT NULL,`C` INT,`D` INT,`E` BLOB NOT NULL,KEY `IDX0` (`D`,`C`)) ENGINE=MRG_MYISAM;EXPLAIN SELECT 1 FROM `T1` NATURAL RIGHT JOIN `T2` WHERE `B` SOUNDS LIKE `E` AND `D`=1; ","SUMMARY":"BUGU00A0#51494  CRASH WITH JOIN, EXPLAIN AND SOUNDS LIKE OPERATOR ","CLASS":1}
{"ID_DEFECT":"52120","DESCRIPTION":"     [17 MAR 2010 2:19]   SHANE BESTER          DESCRIPTION:SIMILAR TO BUG #48294VERSION: 5.6.99-M4-DEBUG  SOCKET:   PORT: 3306  SOURCE DISTRIBUTIONASSERTION FAILED: 0, FILE .ITEM_SUBSELECT.CC, LINE 817MYSQLD.EXE!MY_SIGABRT_HANDLER()[MY_THR_INIT.C:519]MYSQLD.EXE!RAISE()[WINSIG.C:590]MYSQLD.EXE!ABORT()[ABORT.C:71]MYSQLD.EXE!_WASSERT()[ASSERT.C:212]MYSQLD.EXE!ITEM_IN_SUBSELECT::VAL_INT()[ITEM_SUBSELECT.CC:817]MYSQLD.EXE!ITEM_FUNC_NOP_ALL::VAL_INT()[ITEM_CMPFUNC.CC:357]MYSQLD.EXE!EVAL_CONST_COND()[ITEM_FUNC.CC:64]MYSQLD.EXE!INTERNAL_REMOVE_EQ_CONDS()[SQL_SELECT.CC:9354]MYSQLD.EXE!REMOVE_EQ_CONDS()[SQL_SELECT.CC:9447]MYSQLD.EXE!OPTIMIZE_COND()[SQL_SELECT.CC:9229]MYSQLD.EXE!JOIN::OPTIMIZE()[SQL_SELECT.CC:882]MYSQLD.EXE!SUBSELECT_SINGLE_SELECT_ENGINE::EXEC()[ITEM_SUBSELECT.CC:1885]MYSQLD.EXE!ITEM_SUBSELECT::EXEC()[ITEM_SUBSELECT.CC:261]MYSQLD.EXE!ITEM_SINGLEROW_SUBSELECT::VAL_STR()[ITEM_SUBSELECT.CC:585]MYSQLD.EXE!ITEM_FUNC_CONV_CHARSET::ITEM_FUNC_CONV_CHARSET()[ITEM_STRFUNC.H:745]MYSQLD.EXE!ITEM::SAFE_CHARSET_CONVERTER()[ITEM.CC:800]MYSQLD.EXE!AGG_ITEM_SET_CONVERTER()[ITEM.CC:1771]MYSQLD.EXE!AGG_ITEM_CHARSETS()[ITEM.CC:1850]MYSQLD.EXE!AGG_ITEM_CHARSETS_FOR_COMPARISON()[ITEM.H:1495]MYSQLD.EXE!ITEM_FUNC::AGG_ARG_CHARSETS_FOR_COMPARISON()[ITEM_FUNC.H:180]MYSQLD.EXE!ITEM_BOOL_FUNC2::FIX_LENGTH_AND_DEC()[ITEM_CMPFUNC.CC:486]MYSQLD.EXE!ITEM_FUNC_EQUAL::FIX_LENGTH_AND_DEC()[ITEM_CMPFUNC.CC:1869]MYSQLD.EXE!ITEM_FUNC::FIX_FIELDS()[ITEM_FUNC.CC:197]MYSQLD.EXE!SETUP_CONDS()[SQL_BASE.CC:8048]MYSQLD.EXE!SETUP_WITHOUT_GROUP()[SQL_SELECT.CC:435]MYSQLD.EXE!JOIN::PREPARE()[SQL_SELECT.CC:524]MYSQLD.EXE!ST_SELECT_LEX_UNIT::PREPARE()[SQL_UNION.CC:264]MYSQLD.EXE!MYSQL_CREATE_VIEW()[SQL_VIEW.CC:515]MYSQLD.EXE!MYSQL_EXECUTE_COMMAND()[SQL_PARSE.CC:4445]MYSQLD.EXE!MYSQL_PARSE()[SQL_PARSE.CC:5735]MYSQLD.EXE!DISPATCH_COMMAND()[SQL_PARSE.CC:1024]MYSQLD.EXE!DO_COMMAND()[SQL_PARSE.CC:710]MYSQLD.EXE!DO_HANDLE_ONE_CONNECTION()[SQL_CONNECT.CC:1174]MYSQLD.EXE!HANDLE_ONE_CONNECTION()[SQL_CONNECT.CC:1113]MYSQLD.EXE!PTHREAD_START()[MY_WINTHREAD.C:61]MYSQLD.EXE!_CALLTHREADSTARTEX()[THREADEX.C:348]MYSQLD.EXE!_THREADSTARTEX()[THREADEX.C:331]KERNEL32.DLL!FLSSETVALUE()HOW TO REPEAT:#ON DEBUG BUILD RUN:DROP TABLE IF EXISTS T1;CREATE TABLE `T1` (`A` CHAR(1)CHARSET LATIN1,`B` CHAR(1) CHARSET UTF8) ENGINE=MYISAM;CREATE OR REPLACE VIEW `V1` AS SELECT 1 FROM `T1`WHERE `T1`.`B` <=>(SELECT `A` FROM `T1` WHERE `A` <SOME(SELECT 1)); ","SUMMARY":"BUGU00A0#52120  CREATE VIEW CAUSE ASSERTION FAILED: 0, FILE .ITEM_SUBSELECT.CC, LINE 817 ","CLASS":1}
{"ID_DEFECT":"52336","DESCRIPTION":"     [24 MAR 2010 16:00]   PATRICK CREWS          DESCRIPTION:THIS CRASH IS ONLY OCCURRING IN 5.1-BUGTEAM, TESTED AGAINST 6.0-CODEBASE-BUGFIXING AND 5.0-BUGTEAM WITHOUT INCIDENT.WILL ALSO TRY TO PINPOINT THE CHANGESET RESPONSIBLE FOR THIS AS TIME PERMITS.CRASH  SEGFAULT OCCURRING FOR THIS QUERY:NOTE:  AUTOMATED SIMPLIFICATION OF THIS QUERY WAS NOT WORKING AS THE SIMPLIFICATION TURNS THIS INTO ANOTHER, SEPARATE CRASH IN 5.1  KEEPING THE ORIGINAL QUERY HERE AND IN THE TEST CASE (APOLOGIES FOR THIS).SELECT    MIN(  TABLE1 . `COL_INT_KEY` ) AS FIELD1 FROM ( CC AS TABLE1 RIGHT  JOIN C AS TABLE2 ON (TABLE2 . `COL_INT_KEY` = TABLE1 . `COL_INT_NOKEY`  ) ) WHERE (  ( K, C )  IN ( SELECT E , L UNION  SELECT J , T ) ) OR ( TABLE1 . `COL_INT_KEY` = TABLE1 . `COL_INT_KEY` AND TABLE1 . `PK` = 232 ) OR (  TABLE1 . `COL_VARCHAR_KEY`  IN ( SELECT   SUBQUERY2_T2 . `COL_VARCHAR_KEY` AS SUBQUERY2_FIELD1 FROM ( B AS SUBQUERY2_T1 LEFT  JOIN B AS SUBQUERY2_T2 ON (SUBQUERY2_T2 . `PK` = SUBQUERY2_T1 . `COL_INT_KEY`  ) ) WHERE SUBQUERY2_T1 . `COL_VARCHAR_KEY` <> TABLE1 . `COL_VARCHAR_KEY` AND SUBQUERY2_T1 . `COL_VARCHAR_KEY` < TABLE2 . `COL_VARCHAR_KEY` ) OR TABLE1 . `COL_INT_KEY` >= TABLE2 . `COL_INT_KEY` )  HAVING  ( 7, 7 )  IN ( SELECT DISTINCT SQL_SMALL_RESULT SUBQUERY3_T1 . `COL_INT_NOKEY` AS SUBQUERY3_FIELD1 , SUBQUERY3_T1 . `COL_INT_NOKEY` AS SUBQUERY3_FIELD2 FROM C AS SUBQUERY3_T1 WHERE SUBQUERY3_T1 . `COL_VARCHAR_KEY` < Y   ) ORDER BY TABLE1 . `COL_DATETIME_KEY`  , FIELD1 LIMIT 2;STACKTRACE (FULL OUTPUT TO BE ATTACHED SEPARATELY):THREAD 1 (THREAD 29203):#0  0X00D16422 IN __KERNEL_VSYSCALL ()#1  0X008B0E93 IN __PTHREAD_KILL (THREADID=3070016368, SIGNO=11) AT ..NPTLSYSDEPSUNIXSYSVLINUXPTHREAD_KILL.C:64#2  0X08CBD8A6 IN MY_WRITE_CORE (SIG=11) AT STACKTRACE.C:329#3  0X083CFAD2 IN HANDLE_SEGFAULT (SIG=11) AT MYSQLD.CC:2570#4  <SIGNAL HANDLER CALLED>#5  0X0851BD87 IN COPY_FIELDS (PARAM=0X9872980) AT SQL_SELECT.CC:15355#6  0X0850C4D6 IN END_WRITE (JOIN=0X9871920, JOIN_TAB=0X987142C, END_OF_RECORDS=FALSE) AT SQL_SELECT.CC:12413#7  0X08506D27 IN EVALUATE_JOIN_RECORD (JOIN=0X9871920, JOIN_TAB=0X9871298, ERROR=0) AT SQL_SELECT.CC:11437#8  0X085065DA IN SUB_SELECT (JOIN=0X9871920, JOIN_TAB=0X9871298, END_OF_RECORDS=FALSE) AT SQL_SELECT.CC:11317#9  0X08505A33 IN DO_SELECT (JOIN=0X9871920, FIELDS=0X0, TABLE=0X984BA08, PROCEDURE=0X0) AT SQL_SELECT.CC:11067#10 0X084D8475 IN JOIN::EXEC (THIS=0X986DFC8) AT SQL_SELECT.CC:1908#11 0X0833453A IN SUBSELECT_SINGLE_SELECT_ENGINE::EXEC (THIS=0X98434E8) AT ITEM_SUBSELECT.CC:1972#12 0X08328AD1 IN ITEM_SUBSELECT::EXEC (THIS=0X9843438) AT ITEM_SUBSELECT.CC:265#13 0X0832CB80 IN ITEM_IN_SUBSELECT::VAL_BOOL (THIS=0X9843438) AT ITEM_SUBSELECT.CC:865#14 0X0823E536 IN ITEM::VAL_BOOL_RESULT (THIS=0X9843438) AT ITEM.H:745#15 0X082A4086 IN ITEM_IN_OPTIMIZER::VAL_INT (THIS=0X986F240) AT ITEM_CMPFUNC.CC:1833#16 0X0850B980 IN END_SEND_GROUP (JOIN=0X9847A38, JOIN_TAB=0X9877444, END_OF_RECORDS=TRUE) AT SQL_SELECT.CC:12329#17 0X085063C3 IN SUB_SELECT (JOIN=0X9847A38, JOIN_TAB=0X98772B0, END_OF_RECORDS=TRUE) AT SQL_SELECT.CC:11276#18 0X08505A99 IN DO_SELECT (JOIN=0X9847A38, FIELDS=0X9848BA0, TABLE=0X0, PROCEDURE=0X0) AT SQL_SELECT.CC:11069#19 0X084DB4A6 IN JOIN::EXEC (THIS=0X9847A38) AT SQL_SELECT.CC:2315#20 0X084DC3DD IN MYSQL_SELECT (THD=0X97E07D8, RREF_POINTER_ARRAY=0X97E1C78, TABLES=0X9832C70, WILD_NUM=0, FIELDS=..., CONDS=0X98427C0,     OG_NUM=2, ORDER=0X98435F8, GROUP=0X0, HAVING=0X9843438, PROC_PARAM=0X0, SELECT_OPTIONS=2147764736, RESULT=0X9843770, UNIT=0X97E1910,     SELECT_LEX=0X97E1B80) AT SQL_SELECT.CC:2510#21 0X084CD9C5 IN HANDLE_SELECT (THD=0X97E07D8, LEX=0X97E18B4, RESULT=0X9843770, SETUP_TABLES_DONE_OPTION=0) AT SQL_SELECT.CC:269#22 0X08408425 IN EXECUTE_SQLCOM_SELECT (THD=0X97E07D8, ALL_TABLES=0X9832C70) AT SQL_PARSE.CC:5052#23 0X083F5598 IN MYSQL_EXECUTE_COMMAND (THD=0X97E07D8) AT SQL_PARSE.CC:2248#24 0X0840CB28 IN MYSQL_PARSE (THD=0X97E07D8,     INBUF=0X9832058 SELECT    MIN(  TABLE1 . `COL_INT_KEY` ) AS FIELD1 FROM ( CC AS TABLE1 RIGHT  JOIN C AS TABLE2 ON (TABLE2 . `COL_INT_KEY` = TABLE1 . `COL_INT_NOKEY`  ) ) WHERE (  ( K, C )  IN ( SELECT E , L..., LENGTH=1012, FOUND_SEMICOLON=0XB6FCB058)    AT SQL_PARSE.CC:5971#25 0X083F09D8 IN DISPATCH_COMMAND (COMMAND=COM_QUERY, THD=0X97E07D8, PACKET=0X9826111 , PACKET_LENGTH=1013) AT SQL_PARSE.CC:1233#26 0X083EEC2F IN DO_COMMAND (THD=0X97E07D8) AT SQL_PARSE.CC:874#27 0X083EB29B IN HANDLE_ONE_CONNECTION (ARG=0X97E07D8) AT SQL_CONNECT.CC:1127#28 0X008AB80E IN START_THREAD (ARG=0XB6FCBB70) AT PTHREAD_CREATE.C:300#29 0X0028C8DE IN CLONE () AT ..SYSDEPSUNIXSYSVLINUXI386CLONE.S:130HOW TO REPEAT:#* SERVER0: MYSQL 5.1.46-GCOV-DEBUG-LOG **!50400 SET SESSION OPTIMIZER_SWITCH = INDEX_MERGE=ON,INDEX_MERGE_UNION=ON,INDEX_MERGE_SORT_UNION=ON,INDEX_MERGE_INTERSECTION=ON *;*!50400 SET SESSION ENGINE_CONDITION_PUSHDOWN = ON *;#* BEGIN TEST CASE FOR QUERY 1 *--DISABLE_WARNINGSDROP TABLE *! IF EXISTS * CC;DROP TABLE *! IF EXISTS * C;DROP TABLE *! IF EXISTS * B;--ENABLE_WARNINGSCREATE TABLE `CC` (  `PK` INT(11) NOT NULL AUTO_INCREMENT,  `COL_INT_NOKEY` INT(11) DEFAULT NULL,  `COL_INT_KEY` INT(11) DEFAULT NULL,  `COL_DATETIME_KEY` DATETIME DEFAULT NULL,  `COL_VARCHAR_KEY` VARCHAR(1) DEFAULT NULL,  PRIMARY KEY (`PK`),  KEY `COL_INT_KEY` (`COL_INT_KEY`),  KEY `COL_DATETIME_KEY` (`COL_DATETIME_KEY`),  KEY `COL_VARCHAR_KEY` (`COL_VARCHAR_KEY`,`COL_INT_KEY`)) ENGINE=MYISAM AUTO_INCREMENT=30 DEFAULT CHARSET=LATIN1;INSERT INTO `CC` VALUES (10,7,8,2002-02-26 06:14:37,V);INSERT INTO `CC` VALUES (11,1,9,1900-01-01 00:00:00,R);INSERT INTO `CC` VALUES (12,5,9,2006-12-03 09:37:26,A);INSERT INTO `CC` VALUES (13,3,186,2008-05-26 12:27:10,M);INSERT INTO `CC` VALUES (14,6,NULL,2004-12-14 16:37:30,Y);INSERT INTO `CC` VALUES (15,92,2,2003-02-11 21:19:41,J);INSERT INTO `CC` VALUES (16,7,3,2009-10-18 02:27:49,D);INSERT INTO `CC` VALUES (17,NULL,0,2000-09-26 07:45:57,Z);INSERT INTO `CC` VALUES (18,3,133,NULL,E);INSERT INTO `CC` VALUES (19,5,1,2005-11-10 12:40:29,H);INSERT INTO `CC` VALUES (20,1,8,2009-04-25 00:00:00,B);INSERT INTO `CC` VALUES (21,2,5,2002-11-27 00:00:00,S);INSERT INTO `CC` VALUES (22,NULL,5,2004-01-26 20:32:32,E);INSERT INTO `CC` VALUES (23,1,8,2007-10-26 11:41:40,J);INSERT INTO `CC` VALUES (24,0,6,2005-10-07 00:00:00,E);INSERT INTO `CC` VALUES (25,210,51,2000-07-15 05:00:34,F);INSERT INTO `CC` VALUES (26,8,4,2000-04-03 16:33:32,V);INSERT INTO `CC` VALUES (27,7,7,NULL,X);INSERT INTO `CC` VALUES (28,5,6,2001-04-25 01:26:12,M);INSERT INTO `CC` VALUES (29,NULL,4,2000-12-27 00:00:00,C);CREATE TABLE `C` (  `PK` INT(11) NOT NULL AUTO_INCREMENT,  `COL_INT_NOKEY` INT(11) DEFAULT NULL,  `COL_INT_KEY` INT(11) DEFAULT NULL,  `COL_DATETIME_KEY` DATETIME DEFAULT NULL,  `COL_VARCHAR_KEY` VARCHAR(1) DEFAULT NULL,  PRIMARY KEY (`PK`),  KEY `COL_INT_KEY` (`COL_INT_KEY`),  KEY `COL_DATETIME_KEY` (`COL_DATETIME_KEY`),  KEY `COL_VARCHAR_KEY` (`COL_VARCHAR_KEY`,`COL_INT_KEY`)) ENGINE=MYISAM AUTO_INCREMENT=21 DEFAULT CHARSET=LATIN1;INSERT INTO `C` VALUES (1,NULL,2,2004-10-11 18:13:16,W);INSERT INTO `C` VALUES (2,7,9,NULL,M);INSERT INTO `C` VALUES (3,9,3,1900-01-01 00:00:00,M);INSERT INTO `C` VALUES (4,7,9,2009-07-25 00:00:00,K);INSERT INTO `C` VALUES (5,4,NULL,NULL,R);INSERT INTO `C` VALUES (6,2,9,2008-07-27 00:00:00,T);INSERT INTO `C` VALUES (7,6,3,2002-11-13 16:37:31,J);INSERT INTO `C` VALUES (8,8,8,1900-01-01 00:00:00,U);INSERT INTO `C` VALUES (9,NULL,8,2003-12-10 00:00:00,H);INSERT INTO `C` VALUES (10,5,53,2001-12-21 22:38:22,O);INSERT INTO `C` VALUES (11,NULL,0,2008-12-13 23:16:44,NULL);INSERT INTO `C` VALUES (12,6,5,2005-08-15 12:39:41,K);INSERT INTO `C` VALUES (13,188,166,NULL,E);INSERT INTO `C` VALUES (14,2,3,2006-09-11 12:06:14,N);INSERT INTO `C` VALUES (15,1,0,2007-12-15 12:39:34,T);INSERT INTO `C` VALUES (16,1,1,2005-08-09 00:00:00,C);INSERT INTO `C` VALUES (17,0,9,2001-09-02 22:50:02,M);INSERT INTO `C` VALUES (18,9,5,2005-12-16 22:58:11,Y);INSERT INTO `C` VALUES (19,NULL,6,2007-04-19 00:19:53,F);INSERT INTO `C` VALUES (20,4,2,1900-01-01 00:00:00,D);CREATE TABLE `B` (  `PK` INT(11) NOT NULL AUTO_INCREMENT,  `COL_INT_NOKEY` INT(11) DEFAULT NULL,  `COL_INT_KEY` INT(11) DEFAULT NULL,  `COL_DATETIME_KEY` DATETIME DEFAULT NULL,  `COL_VARCHAR_KEY` VARCHAR(1) DEFAULT NULL,  PRIMARY KEY (`PK`),  KEY `COL_INT_KEY` (`COL_INT_KEY`),  KEY `COL_DATETIME_KEY` (`COL_DATETIME_KEY`),  KEY `COL_VARCHAR_KEY` (`COL_VARCHAR_KEY`,`COL_INT_KEY`)) ENGINE=MYISAM AUTO_INCREMENT=2 DEFAULT CHARSET=LATIN1;INSERT INTO `B` VALUES (1,1,7,2005-02-05 00:00:00,F);SELECT    MIN(  TABLE1 . `COL_INT_KEY` ) AS FIELD1 FROM ( CC AS TABLE1 RIGHT  JOIN C AS TABLE2 ON (TABLE2 . `COL_INT_KEY` = TABLE1 . `COL_INT_NOKEY`  ) ) WHERE (  ( K, C )  IN ( SELECT E , L UNION  SELECT J , T ) ) OR ( TABLE1 . `COL_INT_KEY` = TABLE1 . `COL_INT_KEY` AND TABLE1 . `PK` = 232 ) OR (  TABLE1 . `COL_VARCHAR_KEY`  IN ( SELECT   SUBQUERY2_T2 . `COL_VARCHAR_KEY` AS SUBQUERY2_FIELD1 FROM ( B AS SUBQUERY2_T1 LEFT  JOIN B AS SUBQUERY2_T2 ON (SUBQUERY2_T2 . `PK` = SUBQUERY2_T1 . `COL_INT_KEY`  ) ) WHERE SUBQUERY2_T1 . `COL_VARCHAR_KEY` <> TABLE1 . `COL_VARCHAR_KEY` AND SUBQUERY2_T1 . `COL_VARCHAR_KEY` < TABLE2 . `COL_VARCHAR_KEY` ) OR TABLE1 . `COL_INT_KEY` >= TABLE2 . `COL_INT_KEY` )  HAVING  ( 7, 7 )  IN ( SELECT DISTINCT SQL_SMALL_RESULT SUBQUERY3_T1 . `COL_INT_NOKEY` AS SUBQUERY3_FIELD1 , SUBQUERY3_T1 . `COL_INT_NOKEY` AS SUBQUERY3_FIELD2 FROM C AS SUBQUERY3_T1 WHERE SUBQUERY3_T1 . `COL_VARCHAR_KEY` < Y   ) ORDER BY TABLE1 . `COL_DATETIME_KEY`  , FIELD1 LIMIT 2;DROP TABLE CC;DROP TABLE C;DROP TABLE B;#* END OF TEST CASE FOR QUERY 1 * ","SUMMARY":"BUGU00A0#52336  SEGFAULT  CRASH IN 5.1 COPY_FIELDS (PARAM=0X9872980) AT SQL_SELECT.CC:15355 ","CLASS":1}
{"ID_DEFECT":"53334","DESCRIPTION":"     [30 APR 2010 21:05]   KRISTIAN NIELSEN          DESCRIPTION:--SOURCE INCLUDEHAVE_INNODB.INCCREATE TABLE T1 (ID INT PRIMARY KEY) ENGINE=INNODB;CREATE TABLE T2 (ID INT) ENGINE=INNODB;INSERT INTO T1 VALUES (75);INSERT INTO T1 VALUES (79);INSERT INTO T1 VALUES (78);INSERT INTO T1 VALUES (77);REPLACE INTO T1 VALUES (76);REPLACE INTO T1 VALUES (76);INSERT INTO T1 VALUES (104);INSERT INTO T1 VALUES (103);INSERT INTO T1 VALUES (102);INSERT INTO T1 VALUES (101);INSERT INTO T1 VALUES (105);INSERT INTO T1 VALUES (106);INSERT INTO T1 VALUES (107);INSERT INTO T2 VALUES (107),(75),(1000);SELECT T1.ID,T2.ID FROM T2 LEFT JOIN T1 ON T1.ID>=74 AND T1.ID<=0WHERE T2.ID=75 AND T1.ID IS NULL;DROP TABLE T1,T2;# RESULT HAS NO ROWS, WHERE IT SHOULD RETURN A SINGLE ROW (NULL, 75)HOW TO REPEAT:RUN ABOVE TEST CASE WITH MYSQL 5.1.46.THIS TEST IS TAKES FROM JOIN.TEST, USING INNODB INSTEAD OF MYISAM AS THE ENGINE. IT WORKS CORRECT WITH MYISAM (IT ALSO FAILS USING PBXT).THIS SEEMS TO BE A REGRESSION SINCE MYSQL 5.1.44 (I TESTED WITH MARIADB 5.1.44).SUGGESTED FIX:QUERY SHOULD RETURN THE CORRECT RESULT (NULL, 75), NOT EMPTY RESULT. ","SUMMARY":"BUGU00A0#53334  INCORRECT RESULT FOR INNODB IN LEFT JOIN WITH IMPOSSIBLE CONDITION ","CLASS":1}
{"ID_DEFECT":"54416","DESCRIPTION":"     [11 JUN 2010 6:15]   SERGEI GLUKHOV          DESCRIPTION:CONSIDER THE QUERY SELECT  MAX(TABLE1 .`PK`) FIELD1FROM T1 TABLE1  JOIN T2 TABLE2  ON TABLE2 .`COL_VARCHAR_NOKEY` LIKE XHAVING FIELD1 < 7;THE JOIN ITSELF (QUERY WITHOUT MAX) RETURNS THE EMPTY SET,WITH MAX IT RETURNS NULL.+--------+| FIELD1 |+--------+|   NULL |+--------+HOW TO REPEAT:CREATE TABLE T1 (  `PK` INT(11) NOT NULL AUTO_INCREMENT,  `COL_VARCHAR_NOKEY` VARCHAR(1) DEFAULT NULL,  PRIMARY KEY (`PK`));INSERT INTO T1 VALUES (1,F);CREATE TABLE T2 (  `PK` INT(11) NOT NULL AUTO_INCREMENT,  `COL_VARCHAR_NOKEY` VARCHAR(1) DEFAULT NULL,  PRIMARY KEY (`PK`));INSERT INTO T2 VALUES (2,M);INSERT INTO T2 VALUES (3,M);INSERT INTO T2 VALUES (11,NULL);INSERT INTO T2 VALUES (12,K);SELECT  MAX(TABLE1 .`PK`) FIELD1FROM T1 TABLE1  JOIN T2 TABLE2  ON TABLE2 .`COL_VARCHAR_NOKEY` LIKE XHAVING FIELD1 < 7;SELECT  TABLE1 .`PK` FIELD1FROM T1 TABLE1  JOIN T2 TABLE2  ON TABLE2 .`COL_VARCHAR_NOKEY` LIKE XHAVING FIELD1 < 7;SUGGESTED FIX:--- SQLSQL_SELECT.CC    2010-06-10 08:23:33 +0000+++ SQLSQL_SELECT.CC    2010-06-11 05:52:36 +0000@@ -1124,7 +1124,7 @@     ELEMENTS MAY BE LOST DURING FURTHER HAVING     CONDITION TRANSFORMATION IN JOIN::EXEC.   *-  IF (HAVING && CONST_TABLE_MAP)+  IF (HAVING && CONST_TABLE_MAP && !HAVING->WITH_SUM_FUNC)        HAVING->UPDATE_USED_TABLES();     HAVING= REMOVE_EQ_CONDS(THD, HAVING, &HAVING_VALUE) ","SUMMARY":"BUGU00A0#54416  MAX FROM JOIN WITH HAVING RETURNING NULL WITH 5.1 AND EMPTY SET ","CLASS":1}
{"ID_DEFECT":"56423","DESCRIPTION":"     [31 AUG 2010 20:03]   SVETA SMIRNOVA          DESCRIPTION:SELECT QUERY RETURNS MORE ROWS THAN CREATE ... SELECT QUERY:SELECT  ...+--------------+60 ROWS IN SET (0.01 SEC)CREATE TABLE T1 SELECT ...QUERY OK, 50 ROWS AFFECTED (0.16 SEC)RECORDS: 50  DUPLICATES: 0  WARNINGS: 0HOW TO REPEAT:SEE TEST CASE ATTACHED. ","SUMMARY":"BUGU00A0#56423  DIFFERENT COUNT WITH SELECT AND CREATE SELECT QUERIES ","CLASS":1}
{"ID_DEFECT":"57703","DESCRIPTION":"     [25 OCT 2010 3:27]   SHANE BESTER          DESCRIPTION:SIMILAR TO CLOSED BUG #54568 AND BUG #52120 WHOSE TESTCASES NO LONGER CRASH ON CURRENT SOURCES.VERSION: 5.6.1-M4-VALGRIND-MAX-DEBUG  SOCKET: TMPMYSQL.SOCK  PORT: 3307  SOURCE DISTRIBUTION[NEW THREAD 0X7FFFF429F710 (LWP 26340)]MYSQLD: HOMESBESTERBUILDBZRMYSQL-TRUNKSQLITEM_SUBSELECT.CC:846: VIRTUAL LONGLONG ITEM_IN_SUBSELECT::VAL_INT(): ASSERTION `0 FAILED.5.6.1-DEBUG STACK:#0  IN RAISE (SIG=6) AT ..NPTLSYSDEPSUNIXSYSVLINUXRAISE.C:64#1  IN ABORT () AT ABORT.C:92#2  IN __ASSERT_FAIL  AT ASSERT.C:81#3  IN ITEM_IN_SUBSELECT::VAL_INT  AT .SQLITEM_SUBSELECT.CC:846#4  IN ITEM_FUNC_NOP_ALL::VAL_INT  AT .SQLITEM_CMPFUNC.CC:359#5  IN EVAL_CONST_COND  AT .SQLITEM_FUNC.CC:78#6  IN INTERNAL_REMOVE_EQ_CONDS  AT .SQLSQL_SELECT.CC:9440#7  IN REMOVE_EQ_CONDS  AT .SQLSQL_SELECT.CC:9533#8  IN OPTIMIZE_COND  AT .SQLSQL_SELECT.CC:9315#9  IN JOIN::OPTIMIZE  AT .SQLSQL_SELECT.CC:909#10 IN SUBSELECT_SINGLE_SELECT_ENGINE::EXEC  AT .SQLITEM_SUBSELECT.CC:1905#11 IN ITEM_SUBSELECT::EXEC  AT .SQLITEM_SUBSELECT.CC:288#12 IN ITEM_SINGLEROW_SUBSELECT::VAL_INT  AT .SQLITEM_SUBSELECT.CC:601#13 IN ITEM_FUNC_SUBSTR::FIX_LENGTH_AND_DEC  AT .SQLITEM_STRFUNC.CC:1417#14 IN ITEM_FUNC::FIX_FIELDS  AT .SQLITEM_FUNC.CC:219#15 IN ITEM_STR_FUNC::FIX_FIELDS  AT .SQLITEM_STRFUNC.CC:117#16 IN FIND_ORDER_IN_LIST AT .SQLSQL_SELECT.CC:14720#17 IN SETUP_GROUP  AT .SQLSQL_SELECT.CC:14796#18 IN SETUP_WITHOUT_GROUP  AT .SQLSQL_SELECT.CC:466#19 IN JOIN::PREPARE  AT .SQLSQL_SELECT.CC:536#20 IN ST_SELECT_LEX_UNIT::PREPARE  AT .SQLSQL_UNION.CC:266#21 IN MYSQL_CREATE_VIEW  AT .SQLSQL_VIEW.CC:553#22 IN MYSQL_EXECUTE_COMMAND  AT .SQLSQL_PARSE.CC:4244#23 IN MYSQL_PARSE  AT .SQLSQL_PARSE.CC:5586#24 IN DISPATCH_COMMAND AT .SQLSQL_PARSE.CC:1130#25 IN DO_COMMAND AT .SQLSQL_PARSE.CC:802#26 IN DO_HANDLE_ONE_CONNECTION AT .SQLSQL_CONNECT.CC:1192#27 IN HANDLE_ONE_CONNECTION AT .SQLSQL_CONNECT.CC:1131#28 IN START_THREAD AT PTHREAD_CREATE.C:301#29 IN CLONE () AT ..SYSDEPSUNIXSYSVLINUXX86_64CLONE.S:115(GDB) HOW TO REPEAT:#ON DEBUG BUILD:DROP TABLE IF EXISTS `T1`;CREATE TABLE `T1`(`A` INT)ENGINE=MYISAM;CREATE OR REPLACE VIEW `V1` AS SELECT 1 FROM `T1` GROUP BYSUBSTRING(1 FROM (SELECT 3 FROM `T1` WHERE `A`>=ANY(SELECT 1))); ","SUMMARY":"BUGU00A0#57703  CREATE VIEW CAUSE ASSERTION FAILED: 0, FILE .ITEM_SUBSELECT.CC, LINE 846 ","CLASS":1}
{"ID_DEFECT":"23333","DESCRIPTION":"     [16 OCT 2006 13:23]   GUILHEM BICHOT          DESCRIPTION:**** I DID NOT TEST 5.0; VERIFIER, PLEASE TEST IT ****THIS IS A PROBLEM SIMILAR TO THE ONE OF BUG#12713, APPLIED TO MIXED AND STATEMENT-BASED REPLICATION.MYSQL_UPDATE() HAS:  IF ((ERROR < 0) || (UPDATED && !TRANSACTIONAL_TABLE))      IF (MYSQL_BIN_LOG.IS_OPEN())          IF (ERROR < 0)        THD->CLEAR_ERROR();      IF (THD->BINLOG_QUERY(THD::ROW_QUERY_TYPE,                            THD->QUERY, THD->QUERY_LENGTH,                            TRANSACTIONAL_TABLE, FALSE) &&          TRANSACTIONAL_TABLE)      TERROR=1;TTTT ROLLBACK UPDATE          IN MY TESTCASE, THE TABLE IN UPDATE IS TRANSACTIONAL, THERE IS AN ERROR, SO THE IF() CONDITION IS FALSE AND NOTHING IS WRITTEN TO THE BINLOG. BUT AS A SIDE-EFFECT OF THE UPDATE, A NON-TRANSACTIONAL TABLE IS UPDATED, SO THE BINLOG IS OUT OF SYNC.ROW-BASED BINLOGGING DOES NOT HAVE THIS PROBLEM APPARENTLY (MY TESTCASE DOES NOT PRODUCE BAD RESULTS THERE).HOW TO REPEAT:SOURCE INCLUDEMASTER-SLAVE.INC;CREATE TABLE T1(A INT, UNIQUE(A)) ENGINE=INNODB;CREATE TABLE T2(A INT) ENGINE=MYISAM;DROP FUNCTION IF EXISTS FN1;DELIMITER |;CREATE FUNCTION FN()       RETURNS INTBEGIN  INSERT INTO T2 VALUES(100);  RETURN 1;END|DELIMITER ;|INSERT INTO T1 VALUES(1),(2);--ERROR 1062UPDATE T1 SET A=FN() WHERE A=2;SELECT * FROM T1;SELECT * FROM T2;SYNC_SLAVE_WITH_MASTER;SELECT * FROM T1;SELECT * FROM T2;CONNECTION MASTER;SHOW BINLOG EVENTS;DROP TABLE T1,T2;DROP FUNCTION FN;SYNC_SLAVE_WITH_MASTER;RESULTS:*** 0 ****--- 1,50 ----+ STOP SLAVE;+ DROP TABLE IF EXISTS T1,T2,T3,T4,T5,T6,T7,T8,T9;+ RESET MASTER;+ RESET SLAVE;+ DROP TABLE IF EXISTS T1,T2,T3,T4,T5,T6,T7,T8,T9;+ START SLAVE;+ CREATE TABLE T1(A INT, UNIQUE(A)) ENGINE=INNODB;+ WARNINGS:+ WARNING       1266    USING STORAGE ENGINE MYISAM FOR TABLE T1+ CREATE TABLE T2(A INT) ENGINE=MYISAM;+ DROP FUNCTION IF EXISTS FN1;+ WARNINGS:+ NOTE  1305    FUNCTION FN1 DOES NOT EXIST+ CREATE FUNCTION FN()+ RETURNS INT+ BEGIN+ INSERT INTO T2 VALUES(100);+ RETURN 1;+ END|+ INSERT INTO T1 VALUES(1),(2);+ UPDATE T1 SET A=FN() WHERE A=2;+ ERROR 23000: DUPLICATE ENTRY 1 FOR KEY A+ SELECT * FROM T1;+ A+ 1+ 2+ SELECT * FROM T2;+ A+ 100+ SELECT * FROM T1;+ A+ 1+ 2+ SELECT * FROM T2;+ A+ SHOW BINLOG EVENTS;+ LOG_NAME      POS     EVENT_TYPE      SERVER_ID       END_LOG_POS     INFO+ MASTER-BIN.000001     4       FORMAT_DESC     1       102     SERVER VER: 5.1.13-BETA-VALGRIND-MAX-DEBUG-LOG, BINLOG VER: 4+ MASTER-BIN.000001     102     QUERY   1       212     USE `TEST`; CREATE TABLE T1(A INT, UNIQUE(A)) ENGINE=INNODB+ MASTER-BIN.000001     212     QUERY   1       311     USE `TEST`; CREATE TABLE T2(A INT) ENGINE=MYISAM+ MASTER-BIN.000001     311     QUERY   1       481     USE `TEST`; CREATE DEFINER=`ROOT`@`LOCALHOST` FUNCTION FN()+ RETURNS INT+ BEGIN+ INSERT INTO T2 VALUES(100);+ RETURN 1;+ END+ MASTER-BIN.000001     481     QUERY   1       572     USE `TEST`; INSERT INTO T1 VALUES(1),(2)+ DROP TABLE T1,T2;+ DROP FUNCTION FN;SEE: T2 IS NON-EMPTY ON MASTER BUT IS EMPTY ON SLAVE.SUGGESTED FIX:QUITE A CONVOLUTED EXAMPLE, BUT BETTER KNOW IT THAN NOT. ","SUMMARY":"BUGU00A0#23333  STORED FUNCTION + NON-TRANSAC TABLE + TRANSAC TABLE = BREAKS STMT-BASED BINLOG ","CLASS":1}
{"ID_DEFECT":"28086","DESCRIPTION":"     [25 APR 2007 0:42]   JONATHAN MILLER          DESCRIPTION:HI,I GOT AROUND THE TABLE LOCKING ISSUES, BUT THE DIFF OF THE DUMPS FOR MASTER AND SLAVE CAUSES THE TEST TO FAIL ON:SAPSRV1 AUTOPUSHSAPSRV2 -MAXSOL10-SPARC-A -MAXPOWERMACG5 -MAXI HAVE ALSO REPRODUCED IT LOCALLY BY RUNNING..MYSQL-TEST-RUN.PL --DO-TEST=RPL_NDB_STM --MYSQLD=--BINLOG-FORMAT=STATEMENTTHE DIFF OF THE FILES SHOW:DATA1MYSQL-5.1-TELCO2MYSQL-TEST> DIFF .VARTMPMASTER_APPLY_STATUS.SQL .VARTMPSLAVE_APPLY_STATUS.SQL1111,1125C1111,1125< INSERT INTO `HISTORY` VALUES (1,98,5,10,1.00,2007-04-25 03:25:39,ROOT@LOCALHOST,AD59B120-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (2,1,30,10,1.00,2007-04-25 03:25:39,ROOT@LOCALHOST,AD5A7EFC-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (3,58,8,10,1.00,2007-04-25 03:25:39,ROOT@LOCALHOST,AD5B4102-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (4,8,1,10,1.00,2007-04-25 03:25:39,ROOT@LOCALHOST,AD5BEC1A-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (5,3,63,10,1.00,2007-04-25 03:25:39,ROOT@LOCALHOST,AD5C95F2-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (6,59,10,10,1.00,2007-04-25 03:26:09,ROOT@LOCALHOST,BF58EEB8-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (7,3,1,10,1.00,2007-04-25 03:26:09,ROOT@LOCALHOST,BF5BFFE0-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (8,1,2,10,1.00,2007-04-25 03:26:09,ROOT@LOCALHOST,BF5CAE0E-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (9,10,20,10,1.00,2007-04-25 03:26:09,ROOT@LOCALHOST,BF5D64E8-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (10,65,64,10,1.00,2007-04-25 03:26:09,ROOT@LOCALHOST,BF5E105A-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (11,9,67,10,1.00,2007-04-25 03:26:40,ROOT@LOCALHOST,D1604C1E-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (12,9,65,10,1.00,2007-04-25 03:26:40,ROOT@LOCALHOST,D16407D2-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (13,9,9,10,1.00,2007-04-25 03:26:40,ROOT@LOCALHOST,D164B344-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (14,8,2,10,1.00,2007-04-25 03:26:40,ROOT@LOCALHOST,D165563C-4413-102A-97AE-00E081203F51,COMPLETED TRANS);< INSERT INTO `HISTORY` VALUES (15,64,1,10,1.00,2007-04-25 03:26:40,ROOT@LOCALHOST,D165F498-4413-102A-97AE-00E081203F51,COMPLETED TRANS);---> INSERT INTO `HISTORY` VALUES (1,98,5,10,1.00,2007-04-25 03:25:39,X?<000.??0??6??0?,ADA85938-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (2,1,30,10,1.00,2007-04-25 03:25:39,X?<000.??0??6??0?,ADA960A8-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (3,58,8,10,1.00,2007-04-25 03:25:39,X?<000.??0??6??0?,ADAA5B7A-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (4,8,1,10,1.00,2007-04-25 03:25:39,X?<000.??0??6??0?,ADAB4F62-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (5,3,63,10,1.00,2007-04-25 03:25:39,X?<000.??0??6??0?,ADAC3DF0-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (6,59,10,10,1.00,2007-04-25 03:26:09,X?<000.??0??6??0?,BF67E184-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (7,3,1,10,1.00,2007-04-25 03:26:09,X?<000.??0??6??0?,BF68D5B2-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (8,1,2,10,1.00,2007-04-25 03:26:09,X?<000.??0??6??0?,BF69C8E6-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (9,10,20,10,1.00,2007-04-25 03:26:09,X?<000.??0??6??0?,BF6ABCA6-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (10,65,64,10,1.00,2007-04-25 03:26:09,X?<000.??0??6??0?,BF6BAC88-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (11,9,67,10,1.00,2007-04-25 03:26:40,O?<000.??0??6??0?,D16CCE8A-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (12,9,65,10,1.00,2007-04-25 03:26:40,O?<000.??0??6??0?,D16D8820-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (13,9,9,10,1.00,2007-04-25 03:26:40,O?<000.??0??6??0?,D16E3D24-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (14,8,2,10,1.00,2007-04-25 03:26:40,P?<000.??0??6??0?,D16EF89A-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);> INSERT INTO `HISTORY` VALUES (15,64,1,10,1.00,2007-04-25 03:26:40,P?<000.??0??6??0?,D16FA9AC-4413-102A-ABE3-00E081203F51,COMPLETED TRANS);LOOKING AT THE BINLOG YOU CAN SEE THE STATEMENT THAT WERE REPLICATED.MASTER-BIN.000001       3789    XID     1       3816    COMMIT * XID=5213 *MASTER-BIN.000001       3816    QUERY   1       3884    USE `TEST`; BEGINMASTER-BIN.000001       3884    QUERY   1       187     USE `TPCB`; UPDATE TPCB.ACCOUNT SET BALANCE =  NAME_CONST(BAL,1.00), FILLER = ACCOUNT UPDATED     WHERE ID =  NAME_CONST(ACCT,64)MASTER-BIN.000001       4071    QUERY   1       374     USE `TPCB`; UPDATE TPCB.BRANCH SET BALANCE =  NAME_CONST(BBAL,1.00), FILLER = BRANCH UPDATED     WHERE BID =  NAME_CONST(BRCH,10)MASTER-BIN.000001       4258    QUERY   1       560     USE `TPCB`; UPDATE TPCB.TELLER SET BALANCE =  NAME_CONST(TBAL,3.00), FILLER = TELLER UPDATED     WHERE TID =  NAME_CONST(TELL,1)MASTER-BIN.000001       4444    INTVAR  1       588     INSERT_ID=15MASTER-BIN.000001       4472    QUERY   1       832     USE `TPCB`; INSERT INTO TPCB.HISTORY VALUES(NULL, NAME_CONST(ACCT,64), NAME_CONST(TELL,1), NAME_CONST(BRCH,10), NAME_CONST(AMOUNT,1.00), NOW(), USER(),UUID(),COMPLETED TRANS)MASTER-BIN.000001       4716    XID     1       4743    COMMIT * XID=5260 *HOW TO REPEAT:USE RPL_NDB_STM_INNODB.TEST IN THE 5.1-TELCO CLONE AND RUN USING THE FOLLOWING.MYSQL-TEST-RUN.PL --DO-TEST=RPL_NDB_STM --MYSQLD=--BINLOG-FORMAT=STATEMENT ","SUMMARY":"BUGU00A0#28086  SBR OF USER() BECOMES CORRUPTED ON SLAVE  ","CLASS":1}
{"ID_DEFECT":"28908","DESCRIPTION":"     [5 JUN 2007 22:31]   JONATHAN MILLER          DESCRIPTION:SETTING THE  GLOBAL SERVER_ID IS NOT SETTING THE SESSION SERVER_ID WHICH CAUSE CHANGED TO FOLLOW TO RECORD THE OLD SEVER ID.THE DOCS STATE THAT VAR SCOPE IS BOTH (SESSIONGLOBAL) AND THAT IT IS DYNAMIC.IF YOU TRY TO SET THE SESSION ID YOU GET BACK:MYSQL> SET SERVER_ID = 5;ERROR 1229 (HY000): VARIABLE SERVER_ID IS A GLOBAL VARIABLE AND SHOULD BE SET WITH SET GLOBALSO WE HAVE ISSUES HERE OF INCONSTANCY. HOW TO REPEAT:SETUP MYSQLD USING BINLOG WITH SERVER_ID=1.CREATE TABLESHOW BINLOG EVENT (SEE ID = 1)SET GLOBAL SERVER_ID=2CREATE TABLE SHOW BINLOG EVENT (SEE ID = 1)SET SERVER_ID = 3;READ ERROR MESSAGEERROR 1229 (HY000): VARIABLE SERVER_ID IS A GLOBAL VARIABLE AND SHOULD BE SET WITH SET GLOBALLOG OUT OF MYSQLLOG INTO MYSQLCREATE TABLE SHOW BINLOG EVENT (SEE ID = 2)SUGGESTED FIX:DO AWAY WITH SESSION SERVER_ID AND HAVE GLOBAL SERVER_ID ONLY ","SUMMARY":"BUGU00A0#28908  REPLICATION: SET GLOBAL SERVER_ID IS NOT SETTING THE SESSION SERVER_ID .... ","CLASS":1}
{"ID_DEFECT":"31240","DESCRIPTION":"     [27 SEP 2007 13:56]   ANDREI ELKIN          DESCRIPTION:CREATE_FILE_LOG_EVENT THAT IS PREPARED BY 4.0 MASTER CAN NOT BE PARSEDBY NEITHER 5.1 CLIENT (MYSQLBINLOG) NOR SERVER.COMPARING EXECUTIONS OF 5.1 AND 5.0 MYSQLBINLOG I FOUND THATGIVEN AN INSTANT OF A CREATE_FILE_LOG_EVENT PREPARED BY A 4.0TH SERVER 5.1TH VERSION OF MYSQLBINLOG (OR SLAVE SERVER) COMPUTES FIELD_LENS= (UCHAR*)SQL_EX.INIT()WRONG WHICH RESULTS IN INCORRECT TABLE_NAME ETC.HOW TO REPEAT:USE BINLOG FILES UPLOADED TO THE CSC PAGE; EXECUTEMYSQLBINLOG --START-POSITION=1042490638 --STOP-POSITION=1045408279 BINLOG_FILE_722WITH VERSION(MYSQLBINLOG) == 5.1.SUGGESTED FIX:BESIDES THE TECHNICAL ISSUE ITSELF, THIS MUST BE A GENERAL ISSUE OF A POSSIBLE UPGRADE PATH.THE PROBLEM IS VAST ALREADY IN THAT ITS NOT TRIVIAL TO TEST CROSS-VERSION REPLICATIONS WHEN MASTER AND SLAVE ARE SEPARATED BY SEVERAL MAJOR VERSION LIKE IN THE CURRENT CASE. ","SUMMARY":"BUGU00A0#31240  LOAD DATA INFILE REPLICATION BETWEEN (4.0 OR 4.1) AND 5.1 FAILS ","CLASS":1}
{"ID_DEFECT":"31581","DESCRIPTION":"     [13 OCT 2007 15:55]   SERGE KOZLOV          DESCRIPTION:THERE ARE MASTER 5.1-TELCO-6.1 AND SLAVE 5.1.22 WITH ROW-BASED REPLICATION. SLAVE CRASHES DURING STARTING IF THE MASTER BINLOG HAS NEW EVENTS.HOW TO REPEAT:1. INSTALL MYSQL 5.1.22 2. INSTALL MYSQL 5.1-TELCO-6.13. COPY M4R.PL (PATCHED MTR) INTO 5.1.22MYSQL-TEST 4. COPY ATTACHED TEST CASE INTO 5.1.22MYSQL-TESTSUITEBUGT5. SET CURRENT DIR 5.1.22MYSQL-TEST 6. TRY TO CREATE RESULT FILE FOR TEST CASE:.M4R22.PL --MASTER-BASEDIR=PATHTO5.1-TELCO-6.1 --SUITE=BUGS --RECORD--MYSQLD=--BINLOG-FORMAT=ROW <TEST CASE> ","SUMMARY":"BUGU00A0#31581  5.1-TELCO-6.1 -> 5.1.22.  SLAVE CRASHES DURING STARTING ","CLASS":1}
{"ID_DEFECT":"32407","DESCRIPTION":"     [15 NOV 2007 13:10]   SVEN SANDBERG          DESCRIPTION:WHEN RUNNING MYSQLBINLOG --BASE64-OUTPUT, THE BASE64 OUTPUT IS NOT WRITTEN FOR EVERY TYPE OF EVENT. FOR INSTANCE, IT IS NOT WRITTEN FOR FORMAT_DESCRIPTION_LOG_EVENT.BEING ABLE TO REPRODUCE THE FORMAT_DESCRIPTION_LOG_EVENT WITH BINLOG STATMENTS IS CRUCIAL IN ORDER TO USE BINLOG STATEMENTS WITH EVENTS GENERATED BY OLDER VERSIONS OF THE BINLOG. THIS IS NEEDED IN ORDER TO CREATE REGRESSION TESTS.HOW TO REPEAT:THE ATTACHED BINLOG WAS CREATED BY RUNNING: USE TEST; CREATE TABLE T1 (A INT); INSERT INTO T1 VALUES (1); BEGIN; INSERT INTO T1 VALUES (2); INSERT INTO T1 VALUES (3); COMMIT;HERE IS THE OUTPUT FROM MYSQLBINLOG:$ MYSQLBINLOG --HEXDUMP --BASE64-OUTPUT MASTER-BIN.000001CLIENTMYSQLBINLOG --BASE64-OUTPUT VARLOGMASTER-BIN.000001 *!40019 SET @@SESSION.MAX_INSERT_DELAYED_THREADS=0*;*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0*;DELIMITER *!*;# AT 4#071115 13:56:39 SERVER ID 1  END_LOG_POS 106   START: BINLOG V 4, SERVER V 5.1.23-BETA-DEBUG-LOG CREATED 071115 13:56:39 AT STARTUP# WARNING: THIS BINLOG WAS NOT CLOSED PROPERLY. MOST PROBABLY MYSQLD CRASHED WRITING IT.ROLLBACK*!*;# AT 106#071115 13:56:56 SERVER ID 1  END_LOG_POS 192 BINLOG GEI8RWIBAAAAVGAAAMAAAAAQAAEAAAAAAAAABAAAGGAAAEAAAAEAAAAAAAAAAAYDC3RKBAGACAAIAHRLC3QAY3JLYXRLIHRHYMXLIHQXICHHIGLUDCK=*!*;# AT 192# AT 233#071115 13:57:02 SERVER ID 1  END_LOG_POS 233   TABLE_MAP: `TEST`.`T1` MAPPED TO NUMBER 16#071115 13:57:02 SERVER ID 1  END_LOG_POS 267   WRITE_ROWS: TABLE ID 16 FLAGS: STMT_END_FBINLOG HKI8RXMBAAAAKQAAAOKAAAAAABAAAAAAAAAABHRLC3QAANQXAAEDAAE=HKI8RXCBAAAAIGAAAASBAAAQABAAAAAAAAEAAF+AQAAAA==*!*;# AT 267# AT 308#071115 13:57:09 SERVER ID 1  END_LOG_POS 308   TABLE_MAP: `TEST`.`T1` MAPPED TO NUMBER 16#071115 13:57:09 SERVER ID 1  END_LOG_POS 342   WRITE_ROWS: TABLE ID 16 FLAGS: STMT_END_FBINLOG JUI8RXMBAAAAKQAAADQBAAAAABAAAAAAAAAABHRLC3QAANQXAAEDAAE=JUI8RXCBAAAAIGAAAFYBAAAQABAAAAAAAAEAAF+AGAAAA==*!*;# AT 342# AT 383#071115 13:57:12 SERVER ID 1  END_LOG_POS 383   TABLE_MAP: `TEST`.`T1` MAPPED TO NUMBER 16#071115 13:57:12 SERVER ID 1  END_LOG_POS 417   WRITE_ROWS: TABLE ID 16 FLAGS: STMT_END_FBINLOG KEI8RXMBAAAAKQAAAH8BAAAAABAAAAAAAAAABHRLC3QAANQXAAEDAAE=KEI8RXCBAAAAIGAAAKEBAAAQABAAAAAAAAEAAF+AWAAAA==*!*;DELIMITER ;# END OF LOG FILEROLLBACK * ADDED BY MYSQLBINLOG *;*!50003 SET COMPLETION_TYPE=@OLD_COMPLETION_TYPE*; ","SUMMARY":"BUGU00A0#32407  IMPOSSIBLE TO DO POINT-IN-TIME RECOVERY FROM OLDER BINLOG ","CLASS":1}
{"ID_DEFECT":"32580","DESCRIPTION":"     [21 NOV 2007 16:31]   GUILHEM BICHOT          DESCRIPTION:IN STATEMENT-BASED OR MIXED BINLOGGING MODE, WHEN A USER VARIABLE (@SOMETHING) IS USED INSIDE AN INSERT STATEMENT, A USER_VAR BINLOG EVENT IS WRITTEN TO THE BINLOG, AND IS NEEDED FOR THE STATEMENT TO REPLAY PROPERLY.APPARENTLY IN 5.1 THIS IS BROKEN:ON ONE INSTALLATION I SEE MYSQLBINLOG PRINTSET @`R`:=%.14*!*;WHICH IS NOT VALID SYNTAX, AND ON ANOTHER INSTALLATION MYSQLBINLOG SEGFAULTS.THIS IS S1 BECAUSE IT ENDANGERS RECOVERY FROM BACKUPS, AND SO COULD EVEN BE P1 IF I HAD THIS POWER :)HOW TO REPEAT:CREATE TBUG.TEST:-- SOURCE INCLUDEHAVE_BINLOG_FORMAT_MIXED_OR_STATEMENT.INCCREATE TABLE U(A INT);SET @R=(RAND()*1000-500);INSERT INTO U VALUES(@R);SELECT * FROM U;SHOW BINLOG EVENTS;RUN THAT IN 5.1 (.MTR --RECORD BUG): THE RESULT FILE WILL BE CORRECT, BUT MYSQLBINLOG ON THIS BINLOG WILL SHOW INCORRECT RESULTS OR CRASH. ","SUMMARY":"BUGU00A0#32580  MYSQLBINLOG CANNOT READ BINLOG EVENT GENERATED BY USER VARIABLE USAGE ","CLASS":1}
{"ID_DEFECT":"34355","DESCRIPTION":"     [6 FEB 2008 17:10]   SVEN SANDBERG          DESCRIPTION:PROBLEM: WHEN THE WINDOWS VERSION OF MYSQLBINLOG READS 4.1 BINLOGS CONTAINING LOAD DATA INFILE, IT OUTPUTS BACKSLASHES AS PATH SEPARATORS IN FILENAMES. HOWEVER, THE OUTPUT IS TYPICALLY PIPED TO A CLIENT, AND CLIENT EXPECT FORWARD SLASHES.HOW TO REPEAT:RUN MTR BINLOG_OLD_VERSIONS UNDER WINDOWSSUGGESTED FIX:REPLACE  BY  IN FILENAMES. ","SUMMARY":"BUGU00A0#34355  MYSQLBINLOG OUTPUTS BACKSLASH AS PATH SEPARATOR FOR 4.1 BINLOGS ","CLASS":1}
{"ID_DEFECT":"34541","DESCRIPTION":"     [14 FEB 2008 11:09]   SVEN SANDBERG          DESCRIPTION:WHEN USING STATEMENT-BASED LOGGING, AND THE AUTOCOMMIT MODE IS CHANGED BETWEEN TWO STATEMENTS, THE NEXT QUERY_LOG_EVENT WILL BE LOG THE AUTOCOMMIT MODE. WHEN THE BINLOG IS LATER PROCESSED BY MYSQLBINLOG, A SET STATEMENT WITH NO VARIABLE WILL BE PRINTED:SET *!*;THE REASON IS THAT MYSQLBINLOG (IN LOG_EVENT.CC, QUERY_LOG_EVENT::PRINT_QUERY_HEADER(), WHERE IT CALLS PRINT_SET_OPTION()) WILL DETECT THAT FLAGS2 CHANGED, SO IT WILL PRINT A SET. THEN IT WILL CHECK THE BITS OF FLAGS2 THAT IT KNOWS ABOUT, AND PRINT A VARIABLE TO SET FOR EACH OF THEM. HOWEVER, IT FAILS TO TEST THE OPTION_NOT_AUTOCOMMIT BIT, SO IF THAT IS THE ONLY BIT THAT CHANGED, NO VARIABLE WILL BE PRINTED AFTER SET.HOW TO REPEAT:SOURCE INCLUDEMASTER-SLAVE.INCUSE TEST;CREATE TABLE T1 (A INT);SET AUTOCOMMIT = 0;INSERT INTO T1 VALUES (1);RUN MYSQLBINLOG ON MASTER-BIN.000001: IT PRODUCES THIS:HTTPS:INTRANET.MYSQL.COMSECUREPASTEDISPLAYPASTE.PHP?CODEID=3453SEE THE LINE ABOVE THE INSERT STATEMENT.SUGGESTED FIX:IF WE WANT TO REPLICATE THE AUTOCOMMIT FLAG, PRINT IT HERE.IF WE DONT WANT TO REPLICATE THE AUTOCOMMIT FLAG, REMOVE OPTION_NOT_AUTOCOMMIT FROM OPTIONS_WRITTEN_TO_BIN_LOG (AND UPDATE DOCUMENTATION FOR QUERY_LOG_EVENT, DESCRIPTION OF FLAGS2). ","SUMMARY":"BUGU00A0#34541  MYSQLBINLOG PRINTS SET; IN STM MODE AFTER CHANGING AUTOCOMMIT MODE ","CLASS":1}
{"ID_DEFECT":"34628","DESCRIPTION":"     [17 FEB 2008 17:11]   PARTHA DUTTA          DESCRIPTION:ISSUING A LOAD DATA CONCURRENT LOCAL INFILE COMMAND ONLY WRITES LOAD DATA LOCAL INFILE ITO THE BINARY LOG.  AS A RESULT, IF REPLICATION IS ON, QUERIES ON SLAVES WILL BLOCK THE REPLICATION SQL THREAD.HOW TO REPEAT:HAVE BINARY LOGGING ENABLED ON THE DATABASE SERVER, AND USE THIS TEST:MYSQL> CREATE TABLE A (A INT);QUERY OK, 0 ROWS AFFECTED (0.04 SEC)MYSQL> SHOW CREATE TABLE A;+-------+--------------------------------------------------------------------------------------+| TABLE | CREATE TABLE                                                                         |+-------+--------------------------------------------------------------------------------------+| A     | CREATE TABLE `A` (  `A` INT(11) DEFAULT NULL) ENGINE=MYISAM DEFAULT CHARSET=LATIN1 | +-------+--------------------------------------------------------------------------------------+1 ROW IN SET (0.04 SEC)MYSQL> ! CAT A1234MYSQL> LOAD DATA CONCURRENT LOCAL INFILE A INTO TABLE A;QUERY OK, 4 ROWS AFFECTED (0.05 SEC)RECORDS: 4  DELETED: 0  SKIPPED: 0  WARNINGS: 0FROM A SHELL COMMAND PROMPT:POWERBOOKDUTTA:USRLOCALMYSQLDATA PDUTTA$ SUDO MYSQLBINLOG USRLOCALMYSQLDATABINLOG.000001PASSWORD:*!40019 SET @@SESSION.MAX_INSERT_DELAYED_THREADS=0*;*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0*;DELIMITER *!*;# AT 4#8217 12:1:29 SERVER ID 1  END_LOG_POS 106      START: BINLOG V 4, SERVER V 5.1.22-RC-LOG CREATED 8217 12:1:29 AT STARTUP# WARNING: THIS BINLOG WAS NOT CLOSED PROPERLY. MOST PROBABLY MYSQLD CRASHED WRITING IT.ROLLBACK*!*;# AT 106#8217 12:2:31 SERVER ID 1  END_LOG_POS 191      QUERY   THREAD_ID=3     EXEC_TIME=0     ERROR_CODE=0USE TEST*!*;SET TIMESTAMP=1203267751*!*;SET @@SESSION.FOREIGN_KEY_CHECKS=1, @@SESSION.SQL_AUTO_IS_NULL=1, @@SESSION.UNIQUE_CHECKS=1*!*;SET @@SESSION.SQL_MODE=0*!*;*!C LATIN1 **!*;SET @@SESSION.CHARACTER_SET_CLIENT=8,@@SESSION.COLLATION_CONNECTION=8,@@SESSION.COLLATION_SERVER=8*!*;CREATE TABLE A (A INT)*!*;# AT 191#8217 12:3:23 SERVER ID 1  END_LOG_POS 222 #BEGIN_LOAD_QUERY: FILE_ID: 1  BLOCK_LEN: 8# AT 222#8217 12:3:23 SERVER ID 1  END_LOG_POS 348      EXECUTE_LOAD_QUERY      THREAD_ID=3     EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1203267803*!*;LOAD DATA LOCAL INFILE VARTMPSQL_LOAD_MB-1-3 INTO TABLE A*!*;# FILE_ID: 1 DELIMITER ;# END OF LOG FILEROLLBACK * ADDED BY MYSQLBINLOG *;*!50003 SET COMPLETION_TYPE=@OLD_COMPLETION_TYPE*;YOU CAN SEE THAT THE LOAD DATA COMMAND HAS NOT BEEN WRITTEN WITH THE CONCURRENT MODIFIER.I HAVE NOT TESTED THIS ON 5.0 BUT I IMAGINE THAT IT WOULD BE THE SAME.SUGGESTED FIX:ADD THE CONCURRENT IDENTIFIER TO THE BINARY LOG. ","SUMMARY":"BUGU00A0#34628  LOAD DATA CONCURRENT INFILE DROPS CONCURRENT IN BINARY LOG ","CLASS":1}
{"ID_DEFECT":"34739","DESCRIPTION":"     [21 FEB 2008 17:45]   ANDREI ELKIN          DESCRIPTION:THERE HAPPENED TWO ARTIFACTS WHEN--LOG-BIN WAS SET TO A DIRECTORY NAME.1. IF THERE IS THE TRAILING  AT THE END OF THE DIR NAME   THE BARE NAME OF THE BINLOG IS EMPTY SO THAT THE FILE LS:S LIKE   .0000012. IF THERE IS NO  SYMBOL    THERE IS  FILE $DIR.INDEX NOT FOUND (ERRCODE: 13) ERROR,   WHERE $DIR IS THE PATH TO THE DIRECTORYWHAT IS EXPECTED AN ERRORWARNING THAT --LOG-BINS PATH IS A DIRECTORY NOT A FILE NAME, FOR EITHER CASE, AND THE NAME IS SET ACCORDING TO --PID-FILE OR GETHOSTNAME(), IF THE FORMER IS NOT SET. GET THAT ON LINUX-UBUNTU 7.10 BUT IT SHOULD NOT BE LINUX-PECULIAR.HOW TO REPEAT:MYSQLD --LOG-BIN=SOMEEXISTINGDIRECTORYANDMYSQLD --LOG-BIN=SOMEEXISTINGDIRECTORYTO GETCD SOMEEXISTINGDIRECTORY && LS -A.000001.INDEXANDFILE SOMEEXISTINGDIRECTORY.INDEX NOT FOUND (ERRCODE: 13) ERROR ","SUMMARY":"BUGU00A0#34739  UNEXPECTED BINLOG FILE NAME WHEN --LOG-BIN IS SET TO A DIRECTORY NAME ","CLASS":1}
{"ID_DEFECT":"35762","DESCRIPTION":"     [2 APR 2008 5:57]   SVEN SANDBERG          DESCRIPTION:IF A CREATE ... ENGINE=INNODB ... SELECT STATEMENT FAILS (E.G., DUE TO A DUPLICATE KEY), THEN THE NEXT STATEMENT CAN CONTAIN A WRITE_ROWS_LOG_EVENT WITHOUT A PRECEDING TABLE_MAP_LOG_EVENT. THIS CAUSES THE SLAVE TO IGNORE THE WRITE_ROWS_LOG_EVENT, SO THE SLAVE WILL LOSE DATA.THERE ARE TWO PROBLEMS: (1) THE TABLE_MAP_LOG_EVENT SHOULD BE WRITTEN. (2) THE WRITE_ROWS_LOG_EVENT SHOULD NOT BE SILENTLY IGNORED. AN ERROR SHOULD BE PRODUCED, CAUSING THE SLAVE TO STOP.THE TEST CASE BELOW WORKS CORRECTLY IF IT IS MODIFIED SO THAT ONE OR MORE OF THE FOLLOWING HOLDS: - T2 IS MYISAM, OR - CREATE...SELECT DOES NOT FAIL.HOWEVER, THE ERROR REMAINS IF: - T1 IS INNODB INSTEAD OF MYISAM, OR - ALL THE INSERT STATEMENTS AND THE CREATE...SELECT ARE IN A TRANSACTION INSTEAD OF AUTOCOMMITTED.RELATED BUGS: BUG#22864.HOW TO REPEAT:==== RPL_BUG-MASTER.OPT ====--INNODB==== RPL_BUG-SLAVE.OPT ====--INNODB==== RPL_BUG.TEST ====SOURCE INCLUDEMASTER-SLAVE.INC;SOURCE INCLUDEHAVE_BINLOG_FORMAT_ROW.INC;--ECHO [ON MASTER]CREATE TABLE T1 (A INT);SET AUTOCOMMIT=1;INSERT INTO T1 VALUES (1);INSERT INTO T1 VALUES (1);--ERROR 1062CREATE TABLE T2 (A INT UNIQUE) ENGINE=INNODB SELECT * FROM T1;INSERT INTO T1 VALUES (2);SHOW TABLES;SELECT * FROM T1;SUGGESTED FIX:(1) MAKE SURE THAT THE ROWS_LOG_EVENT IS ALWAYS WRITTEN, EVEN IF THE TRANSACTION IS INTERRUPTED BY A FAILING CREATE-SELECT.(2) GENERATE AN ERROR WHENEVER AN ATTEMPT IS MADE TO EXECUTE A [WRITE|UPDATE|DELETE]_ROWS_LOG_EVENT[_OLD] WITHOUT A PRECEDING TABLE_MAP_LOG_EVENT.WORKAROUND:IF CREATE...SELECT FAILS, DO SOME HARMLESS MODIFICATION TO SOME TABLE, TO RESET THE LOGGING CODE TO A CLEAN STATE. ","SUMMARY":"BUGU00A0#35762  FAILING CREATE-SELECT STEELS TABLE MAP OF THE FOLLOWING QUERY ","CLASS":1}
{"ID_DEFECT":"36443","DESCRIPTION":"     [30 APR 2008 22:14]   GORDON SHANNON          DESCRIPTION:AFTER UPGRADING A 5.0.51A DATABASE TO 5.1.24 WITH MYSQL_UPGRADE, FOLLOWING HAPPENED.1. DURING MYSQL_UPGRADE, GOT THE WARNING   WARNING  : TRIGGERS FOR TABLE `CI_SENTIMENT_DB`.`DW_TOPIC_DIM` HAVE NO CREATION CONTEXTSTATUS   : OK2. DROPPED AND RECREATED THE TRIGGER JUST IN CASE.3. WHEN A ROW IS INSERTED INTO THE TABLE, THE SERVER CRASHES AND AUTORECOVERS.4. IF I DROP THE INSERT TRIGGER, THE INSERT WORKS WITHOUT ERROR.CONTENTS OF ERROR LOG:USRSBINMYSQLD(PRINT_STACKTRACE+0X1E)[0X6CD03E]USRSBINMYSQLD(HANDLE_SEGFAULT+0X320)[0X5B8610]LIB64LIBPTHREAD.SO.0[0X314E80DE70]USRSBINMYSQLD(_ZN3THD27RESTORE_SUB_STATEMENT_STATEEP19SUB_STATEMENT_STATE+0X61)[0X5A69A1]USRSBINMYSQLD(_ZN19TABLE_TRIGGERS_LIST16PROCESS_TRIGGERSEP3THD14TRG_EVENT_TYPE20TRG_ACTION_TIME_TYPEB+0XE4)[0X6EA8D4]USRSBINMYSQLD(_Z36FILL_RECORD_N_INVOKE_BEFORE_TRIGGERSP3THDR4LISTI4ITEMES4_BP19TABLE_TRIGGERS_LIST14TRG_EVENT_TYPE+0XD9)[0X5F7279]USRSBINMYSQLD(_Z12MYSQL_INSERTP3THDP10TABLE_LISTR4LISTI4ITEMERS3_IS5_ES6_S6_15ENUM_DUPLICATESB+0X800)[0X62DF90]USRSBINMYSQLD(_Z21MYSQL_EXECUTE_COMMANDP3THD+0X29A4)[0X5C4D44]USRSBINMYSQLD(_Z11MYSQL_PARSEP3THDPKCJPS2_+0X1B4)[0X5C78A4]USRSBINMYSQLD(_ZN15QUERY_LOG_EVENT14DO_APPLY_EVENTEPK14RELAY_LOG_INFOPKCJ+0X38B)[0X662F9B]USRSBINMYSQLD(_Z26APPLY_EVENT_AND_UPDATE_POSP9LOG_EVENTP3THDP14RELAY_LOG_INFOB+0X13D)[0X6BD91D]USRSBINMYSQLD(HANDLE_SLAVE_SQL+0X6E7)[0X6C1F97]LIB64LIBPTHREAD.SO.0[0X314E8062F7]LIB64LIBC.SO.6(CLONE+0X6D)[0X314DCCE85D]080430 16:50:44 - MYSQLD GOT SIGNAL 11 ;THIS COULD BE BECAUSE YOU HIT A BUG. IT IS ALSO POSSIBLE THAT THIS BINARYOR ONE OF THE LIBRARIES IT WAS LINKED AGAINST IS CORRUPT, IMPROPERLY BUILT,OR MISCONFIGURED. THIS ERROR CAN ALSO BE CAUSED BY MALFUNCTIONING HARDWARE.WE WILL TRY OUR BEST TO SCRAPE UP SOME INFO THAT WILL HOPEFULLY HELP DIAGNOSETHE PROBLEM, BUT SINCE WE HAVE ALREADY CRASHED, SOMETHING IS DEFINITELY WRONGAND THIS MAY FAIL.KEY_BUFFER_SIZE=8388600READ_BUFFER_SIZE=2097152MAX_USED_CONNECTIONS=2MAX_THREADS=200THREADS_CONNECTED=1IT IS POSSIBLE THAT MYSQLD COULD USE UP TOKEY_BUFFER_SIZE + (READ_BUFFER_SIZE + SORT_BUFFER_SIZE)*MAX_THREADS = 2058199 KBYTES OF MEMORYHOPE THATS OK; IF NOT, DECREASE SOME VARIABLES IN THE EQUATION.THD: 0X35E11A20ATTEMPTING BACKTRACE. YOU CAN USE THE FOLLOWING INFORMATION TO FIND OUTWHERE MYSQLD DIED. IF YOU SEE NO MESSAGES AFTER THIS, SOMETHING WENTTERRIBLY WRONG...TRYING TO GET SOME VARIABLES.SOME POINTERS MAY BE INVALID AND CAUSE THE DUMP TO ABORT...THD->QUERY AT 0X35E48B14 = INSERT INTO `DW_TOPIC_DIM` (`NAME`, `POSTING_QUARTILE`, `CUSIP`, `EXCHANGE_ID`, `INDUSTRY`, `SYMBOL`, `START_DATE_ID`, `TYPE`, `ACTIVE_FLAG`, `EXCHANGE`, `MARKET_CAP`, `ETF_FLAG`, `AUTO_CAT`, `SECTOR`) VALUES(CHOCOLATE SLAVERY, NULL, , NULL, NULL, CHOCOLATESLAVER, 20080430, THEME, T, NULL, NULL, NULL, 1, )THD->THREAD_ID=383THD->KILLED=NOT_KILLEDTHE MANUAL PAGE AT HTTP:DEV.MYSQL.COMDOCMYSQLENCRASHING.HTML CONTAINSINFORMATION THAT SHOULD HELP YOU FIND OUT WHAT IS CAUSING THE CRASH.080430 16:50:44 MYSQLD_SAFE NUMBER OF PROCESSES RUNNING NOW: 0080430 16:50:44 MYSQLD_SAFE MYSQLD RESTARTEDINNODB: LOG SCAN PROGRESSED PAST THE CHECKPOINT LSN 1159 1609320313080430 16:50:51  INNODB: DATABASE WAS NOT SHUT DOWN NORMALLY!INNODB: STARTING CRASH RECOVERY.INNODB: READING TABLESPACE INFORMATION FROM THE .IBD FILES...INNODB: RESTORING POSSIBLE HALF-WRITTEN DATA PAGES FROM THE DOUBLEWRITEINNODB: BUFFER...INNODB: DOING RECOVERY: SCANNED UP TO LOG SEQUENCE NUMBER 1159 1614562816[...]INNODB: DOING RECOVERY: SCANNED UP TO LOG SEQUENCE NUMBER 1159 2352772735080430 16:53:39  INNODB: STARTING AN APPLY BATCH OF LOG RECORDS TO THE DATABASE...INNODB: PROGRESS IN PERCENTS: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 INNODB: APPLY BATCH COMPLETEDINNODB: IN A MYSQL REPLICATION SLAVE THE LAST MASTER BINLOG FILEINNODB: POSITION 0 304, FILE NAME MYSQL-BIN.000518 INNODB: LAST MYSQL BINLOG FILE POSITION 0 354642998, FILE NAME .MYSQL-BIN.000005080430 17:06:08  INNODB: STARTED; LOG SEQUENCE NUMBER 1159 2352772735080430 17:06:08 [NOTE] RECOVERING AFTER A CRASH USING MYSQL-BIN080430 17:06:10 [NOTE] STARTING CRASH RECOVERY...080430 17:06:10 [NOTE] CRASH RECOVERY FINISHED.080430 17:06:10 [NOTE] EVENT SCHEDULER: LOADED 0 EVENTS080430 17:06:10 [NOTE] USRSBINMYSQLD: READY FOR CONNECTIONS.VERSION: 5.1.24-RC-COMMUNITY-LOG  SOCKET: VARLIBMYSQLMYSQL.SOCK  PORT: 3306  MYSQL COMMUNITY SERVER (GPL)080430 17:43:54 [NOTE] SLAVE SQL THREAD INITIALIZED, STARTING REPLICATION IN LOG MYSQL-BIN.000518 AT POSITION 864246105, RELAY LOG .RELAY-BIN.000012 POSITION: 360959689HOW TO REPEAT:1. UPGRADE 5.0 DATABASE TO 5.12. EXECUTE INSERT INTO TABLE WITH INSERT TRIGGER ","SUMMARY":"BUGU00A0#36443  SERVER CRASHES WHEN EXECUTING INSERT WHEN INSERT TRIGGER ON TABLE ","CLASS":1}
{"ID_DEFECT":"36763","DESCRIPTION":"     [16 MAY 2008 18:45]   TIM CLARK          DESCRIPTION:THERE MAY BE A COUPLE OF BUGS (OR AT LEAST DOCUMENTATION ISSUES) HERE. IM NOT COMPLETELY SURE WHAT THE CORRECT BEHAVIOR IS SUPPOSED TO BE.IN THE PROCESS OF DEVELOPING A STORAGE ENGINE THAT ONLY SUPPORTS ROW-BASED REPLICATION, I DISCOVERED THAT TRUNCATE TABLE IS NOT REPLICATED FOR TABLES BELONGING TO THAT STORAGE ENGINE WHEN THE BINLOG_FORMAT IS MIXED. HOWEVER, THIS IS NOT REPORTED TO THE USER (AS IT WOULD BE IF THE BINLOG_FORMAT WERE STATEMENT). THE TRUNCATE SUCCEEDS WITHOUT ERROR OR WARNING ON THE MASTER BUT IS NEVER REPLICATED TO THE SLAVE.HOW TO REPEAT:THIS CAN BE REPRODUCED WITH INNODB BY SETTING THE TRANSACTION ISOLATION LEVEL TO READ UNCOMMITTED, SINCE THAT FORCES INNODB TO NOT SUPPORT STATEMENT-BASED LOGGING. HOWEVER, THE SAME BEHAVIOR CAN BE SEEN ON ANY STORAGE ENGINE THAT ONLY SUPPORTS ROW-BASED LOGGING, REGARDLESS OF THE ISOLATION LEVEL.ASSUMING THAT MASTERSLAVE SERVERS HAVE BEEN SET UP FOR REPLICATION, THE FOLLOWING SEQUENCE WILL REPRODUCE THE PROBLEM.ON THE MASTER:MYSQL> SET BINLOG_FORMAT=MIXED;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> CREATE TABLE T3 (I INT) ENGINE=INNODB;QUERY OK, 0 ROWS AFFECTED (0.01 SEC)MYSQL> INSERT INTO T3 VALUES(1),(2),(3);QUERY OK, 3 ROWS AFFECTED (0.02 SEC)RECORDS: 3  DUPLICATES: 0  WARNINGS: 0MYSQL> SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> TRUNCATE TABLE T3;QUERY OK, 3 ROWS AFFECTED (0.00 SEC)MYSQL> SELECT * FROM T3;EMPTY SET (0.01 SEC)NOW ON THE SLAVE, WHICH SHOULD ALSO RETURN THE EMPTY SET:MYSQL> SELECT * FROM T3;+------+| I    |+------+|    1 ||    2 ||    3 |+------+3 ROWS IN SET (0.00 SEC)SUGGESTED FIX:I SUSPECT THAT ROW-LOGGING-ONLY STORAGE ENGINES SHOULD NOT BE PERMITTED TO WORK IN A BINLOG_FORMAT=MIXED ENVIRONMENT. THEREFORE, I WOULD EXPECT TO SEE AN ERROR AS I WOULD WHEN BINLOG_FORMAT=STATEMENT: ERROR 1598 (HY000): BINARY LOGGING NOT POSSIBLE. MESSAGE: STATEMENT-BASED FORMAT REQUIRED FOR THIS STATEMENT, BUT NOT ALLOWED BY THIS COMBINATION OF ENGINES ","SUMMARY":"BUGU00A0#36763  TRUNCATE TABLE FAILS TO REPLICATE WHEN STMT-BASED BINLOGGING IS NOT SUPPORTED. ","CLASS":1}
{"ID_DEFECT":"38174","DESCRIPTION":"     [16 JUL 2008 14:50]   PHILIP STOEV          DESCRIPTION:IF SECURE-FILE-PRIV IS SET ON SLAVE, IT BECOMES UNABLE TO EXECUTE LOAD DATA INFILE STATEMENTS SENT FROM MASTER USING STATEMENT-BASED REPLICATION.THE SLAVE ERROR LOG SAYS:080716 17:45:14 [ERROR] SLAVE SQL: ERROR THE MYSQL SERVER IS RUNNING WITH THE --SECURE-FILE-PRIV OPTION SO IT CANNOT EXECUTE THIS STATEMENT ON QUERY. DEFAULT DATABASE: TEST. QUERY: LOAD DATA INFILE ..TMPSQL_LOAD-2-1-1.DATA REPLACE INTO TABLE C, ERROR_CODE: 1290080716 17:45:14 [WARNING] SLAVE: THE MYSQL SERVER IS RUNNING WITH THE --SECURE-FILE-PRIV OPTION SO IT CANNOT EXECUTE THIS STATEMENT ERROR_CODE: 1290080716 17:45:14 [ERROR] ERROR RUNNING QUERY, SLAVE SQL THREAD ABORTED. FIX THE PROBLEM, AND RESTART THE SLAVE SQL THREAD WITH SLAVE START. WE STOPPED AT LOG MASTER-BIN.000001 POSITION 1056775.1 DOES NOT APPEAR TO BE AFFECTED.HOW TO REPEAT:A TEST CASE WILL BE UPLOADED SHORTLY.SUGGESTED FIX:IT APPEARS THAT THE SLAVE THREAD PLACES THE DATA OBTAINED FROM THE MASTER IN A TEMPORARY FILE IN A DIRECTORY NAMED ..TMP (?), WHICH IS NOT THE ONE SPECIFIED WITH --SECURE-FILE-PRIV. THE SOLUTION WOULD BE TO PLACE THE TEMP FILES IN THE ALLOWED DIRECTORY ANDOR PERMANENTLY ALLOW THAT OTHER DIRECTORY AS WELL. ","SUMMARY":"BUGU00A0#38174  SECURE-FILE-PRIV BREAKS LOAD DATA INFILE REPLICATION IN STATEMENT MODE ","CLASS":1}
{"ID_DEFECT":"38197","DESCRIPTION":"     [17 JUL 2008 14:09]   SVEN SANDBERG          DESCRIPTION:SOME ERRORS THAT CAUSE THE SLAVE SQL THREAD TO STOP ARE NOT SHOWN IN THE SLAVE_SQL_ERROR COLUMN OF SHOW SLAVE STATUS. INSTEAD, THE ERROR IS ONLY IN THE SERVERS ERROR LOG.THAT MAKES IT DIFFICULT TO ANALYZE THE ERROR FOR THE USER. IN PARTICULAR, WHEN ERRORS HAPPEN IN PUSHBUILD, THE SERVER LOGS ARE OFTEN REMOVED, WHEREAS A SLAVE THAT GETS AN UNEXPECTED ERROR USUALLY ISSUES SHOW SLAVE STATUS SO THAT THE ERROR IS PART OF THE OUTPUT FROM THE TEST.ONE EXAMPLE OF AN ERROR THAT STOPS THE SLAVE BUT IS NOT SHOWN BY SHOW SLAVE STATUS IS WHEN @@GLOBAL.INIT_SLAVE IS SET INCORRECTLY (E.G., IT CONTAINS SOMETHING THAT IS NOT VALID SQL).HOW TO REPEAT:EITHER INSPECT THE CODE OR RUN THIS TEST CASE:--------- BEGIN TEST CASE ---------SOURCE INCLUDEMASTER-SLAVE.INC;CONNECTION SLAVE;STOP SLAVE;SOURCE INCLUDEWAIT_FOR_SLAVE_TO_STOP.INC;# PRODUCE AN ERRORSET @@GLOBAL.INIT_SLAVE = GARBAGE;START SLAVE;SOURCE INCLUDEWAIT_FOR_SLAVE_SQL_TO_STOP.INC;QUERY_VERTICAL SHOW SLAVE STATUS;--------- END TEST CASE ---------SUGGESTED FIX:REPLACE CALLS TO SQL_PRINT_ERROR() BY CALLS TO RLI->REPORT() IN SLAVE.CC:HANDLE_SLAVE_SQL() ","SUMMARY":"BUGU00A0#38197  ERRORS IN @@INIT_SLAVE NOT VISIBLE IN SHOW SLAVE STATUS ","CLASS":1}
{"ID_DEFECT":"38205","DESCRIPTION":"     [17 JUL 2008 16:44]   ERIC JENSEN          DESCRIPTION:I CANT STOP AND START THE REPLICATION AT ALL WITHOUT BREAKING THEREPLICATION. IF I DO STOP SLAVE AND THEN START SLAVE AGAIN ITIMMEDIATELY HAS AN ERROR LIKE THIS, SEEMINGLY FOR RANDOM TABLES THATHAVE BEEN WRITTEN TO (NOT ONE IN PARTICULAR):COULD NOT EXECUTE WRITE_ROWS EVENT ON TABLEXXX; DUPLICATE ENTRYYYY FOR KEY ZZZ,ERROR_CODE: 1062; HANDLER ERROR HA_ERR_FOUND_DUPP_KEY; THE EVENTSMASTER LOG BINLOG.000003, END_LOG_POS 704849 IN MY APP, IM DOING LOTS OF BATCHED, LARGE INSERT VALUES ... STATEMENTS INTO MYISAM TABLES THAT TAKE THE BULK OF THE TIME, SO ITS TOUGH TO BE ABLE TO STOP REPLICATION AND NOT HIT THE MIDDLE OF ONE OF THEM.  IS IT THE CASE THAT WITH A NON-TRANSACTIONAL ENGINE, IT IS IMPOSSIBLE TO GUARANTEE THAT STOPPING AND STARTING RBR WONT BREAK REPLICATION THEN?  THE PREVIOUS CONVERSATIONS BELOW SEEMED TO SUGGEST THIS...THERE ARE A FEW RBR INCONSISTENCY BUGS FLOATING AROUND THAT MAY EXPLAIN THIS, ALTHOUGH NONE OF THEM SUGGEST THIS HAPPENS ON EVERY STOPSTART SLAVE, AND NONE TOUCH ON THIS DOCUMENTATION ISSUE:  HTTP:BUGS.MYSQL.COMSEARCH.PHP?SEARCH_FOR=&STATUS=ACTIVE&SEVERITY=&LIMIT=90&ORDER_BY=PRI...I REALIZE THIS IS NOT A WELL-ENCAPSULATED BUG REPORT.  I ORIGINALLY INQUIRED ABOUT IT ON A FEW PLACES:HTTP:LISTS.MYSQL.COMREPLICATION1335 HTTP:FORUMS.MYSQL.COMREAD.PHP?26,216227,216227HTTP:BUGS.MYSQL.COMBUG.PHP?ID=36826BUT RECEIVED NO RESPONSE.  IT IS PREVENTING ME FROM UPGRADING TO 5.1.  SHOULDNT THE LISTS AND FORUMS BE MERGED?HOW TO REPEAT:WHILE DOING LARGE BATCHED INSERTS ON THE MASTER USING EITHER ROW OR MIXED LOG FORMAT, STOP AND START THE SLAVE.  I ALSO HAD THIS PROBLEM WHEN TRYING 5.1.24 ","SUMMARY":"BUGU00A0#38205  ROW-BASED REPLICATION (RBR) CAUSES INCONSISTENCIES: HA_ERR_FOUND_DUPP_KEY ","CLASS":1}
{"ID_DEFECT":"38734","DESCRIPTION":"     [12 AUG 2008 3:37]   ZHENXING HE          DESCRIPTION:RPL_SERVER_ID2 TEST FAILED:MYSQLTEST: AT LINE 18: SYNC_WITH_MASTER FAILED: SELECT MASTER_POS_WAIT(SLAVE-BIN.000001, 194, 300) RETURNED NULL INDICATING SLAVE SQL THREAD FAILUREHOW TO REPEAT:HTTPS:INTRANET.MYSQL.COMSECUREPUSHBUILDGETLOG.PL?DIR=BZR_MYSQL-5.1-RPL&ENTRY=MAGNUS_S... ","SUMMARY":"BUGU00A0#38734  RPL_SERVER_ID2 SYNC_WITH_MASTER FAILED ","CLASS":1}
{"ID_DEFECT":"38798","DESCRIPTION":"     [14 AUG 2008 13:36]   PHILIP STOEV          DESCRIPTION:WHEN EXECUTING A CONCURRENT WORKLOAD MEANT TO TEST REPLICATION, THE MASTER ASSERTED AS FOLLOWS:#8  0X003DF57E IN __ASSERT_FAIL () FROM LIBLIBC.SO.6#9  0X082FF973 IN BINLOG_TRANS_LOG_SAVEPOS (THD=0X93C0DC0, POS=0XB2B87EA8) AT LOG.CC:1272#10 0X082FFA13 IN THD::BINLOG_SET_STMT_BEGIN (THIS=0X93C0DC0) AT LOG.CC:3652#11 0X082FFB19 IN THD::BINLOG_START_TRANS_AND_STMT (THIS=0X93C0DC0) AT LOG.CC:3623#12 0X082DC67E IN SELECT_CREATE::PREPARE (THIS=0X93D1BC8, VALUES=@0X93C21BC, U=0X93C1EB0) AT SQL_INSERT.CC:3528#13 0X082D43B5 IN JOIN::PREPARE (THIS=0X93D1C60, RREF_POINTER_ARRAY=0X93C2220, TABLES_INIT=0X93D19D0, WILD_NUM=1, CONDS_INIT=0X0, OG_NUM=0, ORDER_INIT=0X0,    GROUP_INIT=0X0, HAVING_INIT=0X0, PROC_PARAM_INIT=0X0, SELECT_LEX_ARG=0X93C2128, UNIT_ARG=0X93C1EB0) AT SQL_SELECT.CC:629#14 0X082D47AE IN MYSQL_SELECT (THD=0X93C0DC0, RREF_POINTER_ARRAY=0X93C2220, TABLES=0X93D19D0, WILD_NUM=1, FIELDS=@0X93C21BC, CONDS=0X0, OG_NUM=0,    ORDER=0X0, GROUP=0X0, HAVING=0X0, PROC_PARAM=0X0, SELECT_OPTIONS=2416200192, RESULT=0X93D1BC8, UNIT=0X93C1EB0, SELECT_LEX=0X93C2128)    AT SQL_SELECT.CC:2338#15 0X082D9524 IN HANDLE_SELECT (THD=0X93C0DC0, LEX=0X93C1E54, RESULT=0X93D1BC8, SETUP_TABLES_DONE_OPTION=0) AT SQL_SELECT.CC:269#16 0X08257E5C IN MYSQL_EXECUTE_COMMAND (THD=0X93C0DC0) AT SQL_PARSE.CC:2503#17 0X0825F95C IN MYSQL_PARSE (THD=0X93C0DC0, INBUF=0X93D1650 CREATE TABLE N SELECT * FROM O ; TRUNCATE TABLE N, LENGTH=49, FOUND_SEMICOLON=0XB2B8925C)    AT SQL_PARSE.CC:5650#18 0X08260533 IN DISPATCH_COMMAND (COMMAND=COM_QUERY, THD=0X93C0DC0, PACKET=0X93C55C9 CREATE TABLE N SELECT * FROM O ; TRUNCATE TABLE N, PACKET_LENGTH=49)    AT SQL_PARSE.CC:1137#19 0X08261692 IN DO_COMMAND (THD=0X93C0DC0) AT SQL_PARSE.CC:794#20 0X0824EDE6 IN HANDLE_ONE_CONNECTION (ARG=0X93C0DC0) AT SQL_CONNECT.CC:1115#21 0X0057D32F IN START_THREAD () FROM LIBLIBPTHREAD.SO.0#22 0X0049A27E IN CLONE () FROM LIBLIBC.SO.6(GDB) LIST1267      DBUG_ASSERT(POS != NULL);1268      IF (THD_GET_HA_DATA(THD, BINLOG_HTON) == NULL)1269        THD->BINLOG_SETUP_TRX_DATA();1270      BINLOG_TRX_DATA *CONST TRX_DATA=1271        (BINLOG_TRX_DATA*) THD_GET_HA_DATA(THD, BINLOG_HTON);1272      DBUG_ASSERT(MYSQL_BIN_LOG.IS_OPEN()); <<<<<< HERE1273      *POS= TRX_DATA->POSITION();1274      DBUG_PRINT(RETURN, (*POS: %LU, (ULONG) *POS));1275      DBUG_VOID_RETURN;1276    (GDB) PRINT MYSQL_BIN_LOG.IS_OPEN$6 = BOOL (MYSQL_LOG *) 0X81BB18A <MYSQL_LOG::IS_OPEN()>(GDB) PRINT (BOOL) MYSQL_BIN_LOG.IS_OPEN$7 = FALSEHOW TO REPEAT:THIS BUG IS REPEATABLE, A TEST CASE WILL BE UPLOADED SHORTLY. ","SUMMARY":"BUGU00A0#38798  ASSERTION MYSQL_BIN_LOG.IS_OPEN() FAILED IN BINLOG_TRANS_LOG_SAVEPOS() ","CLASS":1}
{"ID_DEFECT":"39393","DESCRIPTION":"     [11 SEP 2008 13:13]   CYRIL SCETBON          DESCRIPTION:WHEN USING SBR SLAVE-SKIP-ERRORS WORKS BUT NOT IN RBR MODEHOW TO REPEAT:ON THE MASTER :MASTER [LOCALHOST] MSANDBOX (TEST) > SET SQL_LOG_BIN=0;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > DELETE FROM TOTO WHERE ID IN (103072);QUERY OK, 1 ROW AFFECTED (0.06 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > DELETE FROM TOTO WHERE ID IN (359181);QUERY OK, 1 ROW AFFECTED (0.06 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > DELETE FROM TOTO WHERE ID IN (545417,43442,430833);QUERY OK, 3 ROWS AFFECTED (0.03 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > SELECT COUNT(*) FROM TOTO;+----------+| COUNT(*) |+----------+|     4812 |+----------+1 ROW IN SET (0.01 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > BYEMYSQL:USRLOCALMYSQLSANDBOX_DIR# ..5.1.26BINMYSQL --DEFAULTS-FILE=USRLOCALMYSQLSANDBOX_DIRRSANDBOX_5_1_26MASTERMY.SANDBOX.CNF TESTREADING TABLE INFORMATION FOR COMPLETION OF TABLE AND COLUMN NAMESYOU CAN TURN OFF THIS FEATURE TO GET A QUICKER STARTUP WITH -AWELCOME TO THE MYSQL MONITOR.  COMMANDS END WITH ; OR .YOUR MYSQL CONNECTION ID IS 3SERVER VERSION: 5.1.26-RC-LOG MYSQL COMMUNITY SERVER (GPL)TYPE HELP; OR H FOR HELP. TYPE C TO CLEAR THE BUFFER.MASTER [LOCALHOST] MSANDBOX (TEST) > SELECT COUNT(*) FROM TOTO;+----------+| COUNT(*) |+----------+|     4812 |+----------+1 ROW IN SET (0.00 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > INSERT INTO TOTO VALUES(103072);QUERY OK, 1 ROW AFFECTED (0.00 SEC)ON THE SLAVE :SLAVE1 [LOCALHOST] MSANDBOX (TEST) > SHOW SLAVE STATUS*************************** 1. ROW ***************************               SLAVE_IO_STATE: WAITING FOR MASTER TO SEND EVENT                  MASTER_HOST: 127.0.0.1                  MASTER_USER: MSANDBOX                  MASTER_PORT: 21341                CONNECT_RETRY: 60              MASTER_LOG_FILE: MYSQL-BIN.000005          READ_MASTER_LOG_POS: 320               RELAY_LOG_FILE: MYSQL_SANDBOX21342-RELAY-BIN.000013                RELAY_LOG_POS: 251        RELAY_MASTER_LOG_FILE: MYSQL-BIN.000005             SLAVE_IO_RUNNING: YES            SLAVE_SQL_RUNNING: NO              REPLICATE_DO_DB:           REPLICATE_IGNORE_DB:            REPLICATE_DO_TABLE:        REPLICATE_IGNORE_TABLE:       REPLICATE_WILD_DO_TABLE:   REPLICATE_WILD_IGNORE_TABLE:                    LAST_ERRNO: 1062                   LAST_ERROR: COULD NOT EXECUTE WRITE_ROWS EVENT ON TABLE TEST.TOTO; DUPLICATE ENTRY 103072 FOR KEY PRIMARY, ERROR_CODE: 1062; HANDLER ERROR HA_ERR_FOUND_DUPP_KEY; THE EVENTS MASTER LOG MYSQL-BIN.000005, END_LOG_POS 251                 SKIP_COUNTER: 0          EXEC_MASTER_LOG_POS: 106              RELAY_LOG_SPACE: 676              UNTIL_CONDITION: NONE               UNTIL_LOG_FILE:                 UNTIL_LOG_POS: 0           MASTER_SSL_ALLOWED: NO           MASTER_SSL_CA_FILE:            MASTER_SSL_CA_PATH:               MASTER_SSL_CERT:             MASTER_SSL_CIPHER:                MASTER_SSL_KEY:         SECONDS_BEHIND_MASTER: NULLMASTER_SSL_VERIFY_SERVER_CERT: NO                LAST_IO_ERRNO: 0                LAST_IO_ERROR:                LAST_SQL_ERRNO: 1062               LAST_SQL_ERROR: COULD NOT EXECUTE WRITE_ROWS EVENT ON TABLE TEST.TOTO; DUPLICATE ENTRY 103072 FOR KEY PRIMARY, ERROR_CODE: 1062; HANDLER ERROR HA_ERR_FOUND_DUPP_KEY; THE EVENTS MASTER LOG MYSQL-BIN.000005, END_LOG_POS 2511 ROW IN SET (0.01 SEC)SLAVE1 [LOCALHOST] MSANDBOX (TEST) > SHOW GLOBAL VARIABLES LIKE SLAVE_SKIP_ERRORS;+-------------------+-------+| VARIABLE_NAME     | VALUE |+-------------------+-------+| SLAVE_SKIP_ERRORS | ALL   | +-------------------+-------+1 ROW IN SET (0.01 SEC) ","SUMMARY":"BUGU00A0#39393  SLAVE-SKIP-ERRORS DOES NOT WORK WHEN USING ROW BASED REPLICATION ","CLASS":1}
{"ID_DEFECT":"39526","DESCRIPTION":"     [18 SEP 2008 19:18]   SCOTT NOYES          DESCRIPTION:CREATING A PROCEDURE USING ANSI_QUOTES DOES NOT PASS THAT SQL_MODE CORRECTLY TO THE BINARY LOG, RESULTING IN AN ERROR ON THE SLAVE.HOW TO REPEAT:ON THE MASTER:SET SQL_MODE=ANSI_QUOTES;CREATE TABLE T1 (ID INT);CREATE PROCEDURE TESTPROC() SELECT * FROM T1;IT DOES NOT MATTER IF THE SLAVE HAS ANSI_QUOTES SET OR NOT, BECAUSE THE BINARY LOG CONTAINS THE WRONG SETTING. NOTE HOW IT IS CORRECTLY SET TO 4 BEFORE THE CREATE TABLE, BUT THEN INCORRECTLY SET BACK TO 0 BEFORE THE CREATE PROCEDURE:# AT 580#080918 14:08:45 SERVER ID 5128  END_LOG_POS 667        QUERY   THREAD_ID=1     EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1221764925*!*;SET @@SESSION.SQL_MODE=4*!*;CREATE TABLE T1 (ID INT)*!*;# AT 667#080918 14:08:59 SERVER ID 5128  END_LOG_POS 805        QUERY   THREAD_ID=1     EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1221764939*!*;SET @@SESSION.SQL_MODE=0*!*;CREATE DEFINER=`ROOT`@`LOCALHOST` PROCEDURE `TESTPROC`()SELECT * FROM T1*!*;SUGGESTED FIX:MAKE SURE THE CORRECT SQL_MODE IS SET CORRECTLY IN THE BINARY LOG ","SUMMARY":"BUGU00A0#39526  SQL_MODE NOT RETAINED IN BINARY LOG FOR CREATE PROCEDURE ","CLASS":1}
{"ID_DEFECT":"40482","DESCRIPTION":"     [3 NOV 2008 16:45]   SVEN SANDBERG          DESCRIPTION:WHEN THE SERVER READS A BINLOG WITH AN INCIDENT_LOG_EVENT CONTAINING AN INVALID INCIDENT NUMBER, AND DEBUG MODE IS ON, IT RAISES AN ASSERTION.MOREOVER, THE ASSERTION CAUSES A COMPILER WARNING WITH THIS VERSION OF GCC:C++ COMPILER VERSION... G++ G++ (GCC) 4.1.2 20071124 (RED HAT 4.1.2-42)ON 64 BIT LINUX.HOW TO REPEAT:SOURCE INCLUDEHAVE_LOG_BIN.INC;SOURCE INCLUDEHAVE_DEBUG.INC;EXEC $MYSQL_BINLOG < $MYSQL_TEST_DIRSTD_DATABUG-BIN.000001;ILL UPLOAD BUG-BIN.000001 SHORTLY.SUGGESTED FIX:DONT USE ASSERTIONS TO VALIDATE INPUT, USE ERRORS:=== MODIFIED FILE SQLLOG_EVENT.CC--- SQLLOG_EVENT.CCT2008-10-23 19:27:09 +0000+++ SQLLOG_EVENT.CCT2008-11-03 16:11:06 +0000@@ -9035,7 +9035,17 @@ INCIDENT_LOG_EVENT::INCIDENT_LOG_EVENT(C   DBUG_PRINT(INFO,(EVENT_LEN: %U; COMMON_HEADER_LEN: %D; POST_HEADER_LEN: %D,                      EVENT_LEN, COMMON_HEADER_LEN, POST_HEADER_LEN)); -  M_INCIDENT= STATIC_CAST<INCIDENT>(UINT2KORR(BUF + COMMON_HEADER_LEN));+  INT INCIDENT_NUMBER= UINT2KORR(BUF + COMMON_HEADER_LEN);+  IF (INCIDENT_NUMBER >= (INT)INCIDENT_COUNT ||+      INCIDENT_NUMBER <= (INT)INCIDENT_NONE)+  +     IF THE INCIDENT IS NOT RECOGNIZED, THIS BINLOG EVENT IS+     INVALID.  IF WE SET INCIDENT_NUMBER TO INCIDENT_NONE, THE+     INVALIDITY WILL BE DETECTED BY IS_VALID().+    INCIDENT_NUMBER= INCIDENT_NONE;+    DBUG_VOID_RETURN;+  +  M_INCIDENT= STATIC_CAST<INCIDENT>(INCIDENT_NUMBER);   CHAR CONST *PTR= BUF + COMMON_HEADER_LEN + POST_HEADER_LEN;   CHAR CONST *CONST STR_END= BUF + EVENT_LEN;   UINT8 LEN= 0;                    ASSIGNMENT TO KEEP COMPILER HAPPY@@ -9063,9 +9073,6 @@ INCIDENT_LOG_EVENT::DESCRIPTION() CONST    DBUG_PRINT(INFO, (M_INCIDENT: %D, M_INCIDENT)); -  DBUG_ASSERT(0 <= M_INCIDENT);-  DBUG_ASSERT((SIZE_T) M_INCIDENT <= SIZEOF(DESCRIPTION)SIZEOF(*DESCRIPTION));-   RETURN DESCRIPTION[M_INCIDENT];  === MODIFIED FILE SQLLOG_EVENT.H--- SQLLOG_EVENT.HT2008-09-29 05:36:42 +0000+++ SQLLOG_EVENT.HT2008-11-03 16:11:22 +0000@@ -3886,7 +3886,10 @@ PUBLIC:    VIRTUAL LOG_EVENT_TYPE GET_TYPE_CODE()  RETURN INCIDENT_EVENT;  -  VIRTUAL BOOL IS_VALID() CONST  RETURN 1; +  VIRTUAL BOOL IS_VALID() CONST+  +    RETURN (INT)M_INCIDENT > INCIDENT_NONE && (INT)M_INCIDENT < INCIDENT_COUNT;+     VIRTUAL INT GET_DATA_SIZE()      RETURN INCIDENT_HEADER_LEN + 1 + M_MESSAGE.LENGTH;   === MODIFIED FILE SQLRPL_CONSTANTS.H--- SQLRPL_CONSTANTS.HT2007-03-29 18:31:09 +0000+++ SQLRPL_CONSTANTS.HT2008-11-03 16:05:08 +0000@@ -6,10 +6,10 @@  * ENUM INCIDENT    ** NO INCIDENT *-  INCIDENT_NONE,+  INCIDENT_NONE = 0,    ** THERE ARE POSSIBLY LOST EVENTS IN THE REPLICATION STREAM *-  INCIDENT_LOST_EVENTS,+  INCIDENT_LOST_EVENTS = 1,    ** SHALL BE LAST EVENT OF THE ENUMERATION *   INCIDENT_COUNT ","SUMMARY":"BUGU00A0#40482  SERVERMYSQLBINLOG CRASHES WHEN READING INVALID INCIDENT_LOG_EVENT ","CLASS":1}
{"ID_DEFECT":"41166","DESCRIPTION":"     [2 DEC 2008 8:04]   DEVANANDA VAN DER VEEN          DESCRIPTION:THERE ARE REALLY TWO ERRORS HERE, AND IM NOT SURE HOW THEY ARE RELATED.1) MANUAL PAGE HTTP:DEV.MYSQL.COMDOCREFMAN5.1ENSTORED-PROGRAMS-LOGGING.HTML STATES THAT ONE MUST SPECIFY AT LEAST ONE OF DETERMINISTIC, NO SQL, OR READS SQL DATA, BUT IN 5.1.28 AND 5.1.30, WHEN @@BINLOG_FORMAT IS STATEMENT, THE SERVER REFUSES TO EXECUTE A STORED FUNCTION IF DETERMINISTIC IS NOT SPECIFIED (EVEN IF READS SQL DATA IS SPECIFIED). THE FUNCTION CALL WORKS IF @@BINLOG_FORMAT IS MIXED OR THE FUNCTION IS DEFINED AS DETERMINISTIC.2) WHEN THE ABOVE ERROR HAPPENS, THE SERVER CLAIMSERROR 1536 (HY000): SLAVE RUNNING WITH --LOG-SLAVE-UPDATES MUST USE ROW-BASED BINARY LOGGING TO BE ABLE TO REPLICATE ROW-BASED BINARY LOG EVENTSEVEN WHEN --LOG-SLAVE-UPDATES IS NOT ENABLED AND THE SLAVE PROCESS IS NOT CONFIGURED.HERE IS TRANSCRIPT OF ERROR HAPPENING ON A TEST MACHINE, RHEL 4 I386, 5.1.30, LOG SLAVE UPDATES OFF, AND SLAVE PROCESS UNCONFIGURED. SAME ERROR (AND SAME ERROR MESSAGE) HAPPENED ON PRODUCTION MACHINE, RHEL 5 X86_64, 5.1.30, LOG SLAVE UPDATES ON, ACTIVE SLAVE.# MYSQL TESTREADING TABLE INFORMATION FOR COMPLETION OF TABLE AND COLUMN NAMESYOU CAN TURN OFF THIS FEATURE TO GET A QUICKER STARTUP WITH -AWELCOME TO THE MYSQL MONITOR.  COMMANDS END WITH ; OR .YOUR MYSQL CONNECTION ID IS 6SERVER VERSION: 5.1.30-COMMUNITY-LOG MYSQL COMMUNITY SERVER (GPL)TYPE HELP; OR H FOR HELP. TYPE C TO CLEAR THE BUFFER.LOCALHOST:TEST> DROP FUNCTION IF EXISTS MY_T;QUERY OK, 0 ROWS AFFECTED (0.01 SEC)LOCALHOST:TEST> SHOW MASTER STATUS;+------------------+----------+--------------+------------------+| FILE             | POSITION | BINLOG_DO_DB | BINLOG_IGNORE_DB |+------------------+----------+--------------+------------------+| MYSQL-BIN.000019 |    19207 |              |                  |+------------------+----------+--------------+------------------+1 ROW IN SET (0.00 SEC)LOCALHOST:TEST> SHOW SLAVE STATUSEMPTY SET (0.00 SEC)LOCALHOST:TEST> SHOW VARIABLES LIKE LOG_SLAVE%;+-------------------+-------+| VARIABLE_NAME     | VALUE |+-------------------+-------+| LOG_SLAVE_UPDATES | OFF   |+-------------------+-------+1 ROW IN SET (0.00 SEC)LOCALHOST:TEST> SET @@BINLOG_FORMAT=STATEMENT;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)LOCALHOST:TEST> DELIMITER ;;LOCALHOST:TEST> CREATE FUNCTION MY_T(I INT) RETURNS INT READS SQL DATA BEGIN RETURN I * 2; END;;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)LOCALHOST:TEST> DELIMITER ;LOCALHOST:TEST> SELECT MY_T(1);ERROR 1536 (HY000): SLAVE RUNNING WITH --LOG-SLAVE-UPDATES MUST USE ROW-BASED BINARY LOGGING TO BE ABLE TO REPLICATE ROW-BASED BINARY LOG EVENTS-- THE FOLLOWING DEMONSTRATE WORKING CASESLOCALHOST:TEST> SET @@BINLOG_FORMAT=MIXED;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)LOCALHOST:TEST> SELECT MY_T(1);+---------+| MY_T(1) |+---------+|       2 |+---------+1 ROW IN SET (0.00 SEC)LOCALHOST:TEST> SET @@BINLOG_FORMAT=STATEMENT;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)LOCALHOST:TEST> DROP FUNCTION IF EXISTS MY_T;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)LOCALHOST:TEST> DELIMITER ;;LOCALHOST:TEST> CREATE FUNCTION MY_T(I INT) RETURNS INT DETERMINISTIC READS SQL DATA BEGIN RETURN I * 2; END;;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)LOCALHOST:TEST> DELIMITER ;LOCALHOST:TEST> SELECT MY_T(1);+---------+| MY_T(1) |+---------+|       2 |+---------+1 ROW IN SET (0.00 SEC)HOW TO REPEAT:SET @@BINLOG_FORMAT=STATEMENT;DROP FUNCTION IF EXISTS MY_T;DELIMITER ;;CREATE FUNCTION MY_T(I INT) RETURNS INT READS SQL DATA BEGIN RETURN I * 2; END;;DELIMITER ;SELECT MY_T(1);SUGGESTED FIX:1) ALLOW FUNCTION TO BE CALLED AND LOG THE STATEMENT APPROPRIATELY2) RETURN A PROPER OR MORE DESCRIPTIVE ERROR MESSAGE ","SUMMARY":"BUGU00A0#41166  STORED FUNCTION REQUIRES DETERMINISTIC IF BINLOG_FORMAT IS STATEMENT ","CLASS":1}
{"ID_DEFECT":"41961","DESCRIPTION":"     [8 JAN 2009 14:03]   SVEN SANDBERG          DESCRIPTION:EACH LOG_EVENT HAS A COMMON-HEADER, POST-HEADER, AND DATA SECTION. THE COMMON-HEADER LENGTH IS FIXED FOR ALL EVENT TYPES BUT MAY DIFFER BETWEEN SERVER VERSIONS (E.G,. 19 BYTES IN 5.1). THE POST-HEADER LENGTH IS THE SAME FOR ALL EVENTS OF A GIVEN TYPE AND SERVER VERSION, BUT MAY DIFFER FOR EVENTS OF DIFFERENT TYPES OR EVENTS GENERATED BY DIFFERENT SERVER VERSIONS. THE LENGTH OF THE DATA PART VARIES FROM EVENT TO EVENT.THE COMMON-HEADER AND POST-HEADER LENGTHS ARE DEFINED IN THE FORMAT_DESCRIPTION_LOG_EVENT, AND THE DATA LENGTH IS DEFINED IN EACH EVENT.WHEN AN EVENT IS READ FROM FILE (E.G., BY THE SLAVE IO THREAD FROM THE RELAY LOG, OR BY MYSQLBINLOG), AND THE SERVER THAT READS THE FILE HAS DIFFERENT LENGTHS OF THE TWO HEADERS THAN THE SERVER THAT WROTE THE FILE, THEN THE SERVER THAT READS THE FILE CAN USE THE INFORMATION IN FORMAT_DESCRIPTION_LOG_EVENT TO PARSE THE EVENT CORRECTLY.IN THE CURRENT IMPLEMENTATION, THE FOLLOWING EVENTS HAVE POST-HEADER LENGTH 0:  INTVAR_EVENT  RAND_EVENT  USER_VAR_EVENT  XID_EVENTHENCE, ALL THEIR DATA BELONGS TO THE DATA PART. HOWEVER, THE READER FUNCTIONS FOR THESE EVENTS DO *NOT* READ THE POST-HEADER LENGTH FROM THE FORMAT_DESCRIPTION_LOG_EVENT. SO IF A FUTURE SERVER VERSION ADDS BYTES TO THE POST-HEADER OF THESE EVENTS, THE CURRENT VERSION WILL NOT BE ABLE TO READ THE FUTURE VERSION. (THIS MAY HAPPEN, E.G., IF WE IMPLEMENT EVENT CHECKSUMS.)HOW TO REPEAT:READ THE CODESUGGESTED FIX:MAKE INTVAR, RAND, USER_VAR, AND XID SKIP THE POST-HEADER LENGTH BEFORE THEY READ THEIR DATA PARTS. ","SUMMARY":"BUGU00A0#41961  SOME LOG_EVENT TYPES DO NOT SKIP POST-HEADER WHEN READING ","CLASS":1}
{"ID_DEFECT":"41980","DESCRIPTION":"     [8 JAN 2009 20:10]   SERDAR S. KACAR          DESCRIPTION:EXCERPT :STATEMENT-BASED REPLICATION OF LIMIT CLAUSES IN DELETE, UPDATE, AND INSERT ... SELECT STATEMENTS IS UNSAFE SINCE THE ORDER OF THE ROWS AFFECTED IS NOT DEFINED. .. WHEN USING STATEMENT MODE, A WARNING THAT THE STATEMENT IS NOT SAFE FOR STATEMENT-BASED REPLICATION IS NOW ISSUED. THU0131S IS A CORRECT STATEMENT IF AND ONLY IF BINARY LOGGING IS ON.MOROVER, THE STATEMENT ASSERTS A WARNING IS ISSUED, NOT AN ERROR.HOWEVER, CURRENT IMPLEMENTATION DISREGARDS EFFECTIVE SQL_LOG_BIN STATE AND, AT LEAST FOR INSERT .. SELECT .. LIMIT STATEMENTS, THROWS STATEMENT IS NOT SAFE FOR STATEMENT-BASED REPLICATION IS NOW ISSUED. AS ERROR !HOW TO REPEAT:C:>MYSQL -U ROOT -PENTER PASSWORD:WELCOME TO THE MYSQL MONITOR.  COMMANDS END WITH ; OR .YOUR MYSQL CONNECTION ID IS 186SERVER VERSION: 5.1.30-COMMUNITY-LOG MYSQL COMMUNITY SERVER (GPL)TYPE HELP; OR H FOR HELP. TYPE C TO CLEAR THE BUFFER.MYSQL> USE TEST;DATABASE CHANGEDMYSQL> DROP TABLE IF EXISTS R1;QUERY OK, 0 ROWS AFFECTED, 1 WARNING (0.00 SEC)MYSQL> DROP TABLE IF EXISTS R2;QUERY OK, 0 ROWS AFFECTED, 1 WARNING (0.00 SEC)MYSQL> CREATE TABLE R1 (A INT PRIMARY KEY);QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> CREATE TABLE R2 (A INT PRIMARY KEY);QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> SET @@SQL_LOG_BIN = 0;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> SELECT @@SQL_LOG_BIN;+---------------+| @@SQL_LOG_BIN |+---------------+|             0 |+---------------+1 ROW IN SET (0.00 SEC)MYSQL> INSERT R1 SELECT * FROM R2 LIMIT 1;ERROR 1592 (HY000): STATEMENT IS NOT SAFE TO LOG IN STATEMENT FORMAT.MYSQL>SUGGESTED FIX:WHEN @@SESSION.SQL_LOG_BIN IS 0DO NOT ISSUE A WARNING OR AN ERROR THAT BEGINS WITH STATEMENT IS NOT SAFE TO LOG .. AND UPDATE THE DOCUMENTS. WE HAVE NOTHING TO DO WITH BINARY LOGGING IN THIS CASE.WHEN @@SESSION.SQL_LOG_BIN IS 1 CORRECT EITHER DOCUMENTATION OR IMPLEMENTATION REGARDING WARNINGERROR SELECTION. ","SUMMARY":"BUGU00A0#41980  SBL, INSERT .. SELECT .. LIMIT = ERROR, EVEN WHEN @@SQL_LOG_BIN IS 0 ! ","CLASS":1}
{"ID_DEFECT":"42829","DESCRIPTION":"     [13 FEB 2009 12:41]   NISHANT DESHPANDE          DESCRIPTION:I HAVE SCHEMAS S1, S2, S3.I SPECIFY IN MY.CNF:BINLOG-DO-DB = S1I EXPECT THAT S2 AND S3 WILL NOT BE BINLOGGED.BUT, IF I EXECUTE A STATEMENT ON S2S3 WHICH WOULD FAIL IF BINLOGGING WAS TURNED ON FOR THAT SCHEMA, I GET:ERROR 1598 (HY000): BINARY LOGGING NOT POSSIBLE. MESSAGE: TRANSACTION LEVEL READ-COMMITTED IN INNODB IS NOT SAFE FOR BINLOG MODE STATEMENTI WOULD EXPECT THIS *IF* I HAD ELECTED TO BINLOG THE SCHEMA ON WHICH I AM CARRYING OUT THIS STATEMENT.HOW TO REPEAT:[MY.CNF]TRANSACTION-ISOLATION   = READ-COMMITTEDBINLOG-DO-DB = S1===========================MYSQL> CREATE SCHEMA S2;MYSQL> CREATE TABLE T1 (X INT, Y INT);MYSQL> CREATE TABLE T2 (X INT, Y INT);MYSQL> INSERT INTO T1 SELECT * FROM T2;ERROR 1598 (HY000): BINARY LOGGING NOT POSSIBLE. MESSAGE: TRANSACTION LEVEL READ-COMMITTED IN INNODB IS NOT SAFE FOR BINLOG MODE STATEMENTSUGGESTED FIX:THIS SEEMS A REGRESSION AND DOES NOT CONFORM TO STATED FUNCTIONALITY ON THE USE OF BINLOG-DO-DB (OR BINLOG-IGNORE-DB EITHER IF I PUT THAT IN ABOVE). ","SUMMARY":"BUGU00A0#42829  BINLOGGING ENABLED FOR ALL SCHEMAS REGARDLESS OF BINLOG-DB-DB  BINLOG-IGNORE-DB ","CLASS":1}
{"ID_DEFECT":"42861","DESCRIPTION":"     [14 FEB 2009 19:30]   ALFRANIO CORREIA          DESCRIPTION:THIS ASSERTION FAILS WHEN THE --SLAVE-LOAD-TMPDIR IS NOT PROPERLY DEFINED (E.G.PERMISSION PROBLEMS, NONEXISTENT DIRECTORY, ETC):  #0  0XB8040430 IN __KERNEL_VSYSCALL ()                                                                 #0  0XB8040430 IN __KERNEL_VSYSCALL ()                                                                 #1  0XB8003158 IN PTHREAD_KILL () FROM LIBTLSI686CMOVLIBPTHREAD.SO.0                              #2  0X0871A949 IN MY_WRITE_CORE (SIG=6) AT STACKTRACE.C:310                                            #3  0X082BDDE8 IN HANDLE_SEGFAULT (SIG=6) AT MYSQLD.CC:2505                                            #4  <SIGNAL HANDLER CALLED>                                                                            #5  0XB8040430 IN __KERNEL_VSYSCALL ()                                                                 #6  0XB7E398A0 IN RAISE () FROM LIBTLSI686CMOVLIBC.SO.6                                           #7  0XB7E3B268 IN ABORT () FROM LIBTLSI686CMOVLIBC.SO.6                                           #8  0XB7E3272E IN __ASSERT_FAIL () FROM LIBTLSI686CMOVLIBC.SO.6                                   #9  0X082A5983 IN DIAGNOSTICS_AREA::SET_ERROR_STATUS (THIS=0X9BBF88C, THD=0X9BBEAE0,SQL_ERRNO_ARG=1,       MESSAGE_ARG=0XB7453D40 CANT CREATEWRITE TO FILE ROOTSQL_LOAD-2-1-1.DATA(ERRCODE: 13)) AT SQL_CLASS.CC:502#10 0X082BCADB IN MY_MESSAGE_SQL (ERROR=1, STR=0XB7453D40 CANT CREATEWRITE TO FILEROOTSQL_LOAD-2-1-1.DATA (ERRCODE: 13), MYFLAGS=36)    AT MYSQLD.CC:2849                                                                                                                       #11 0X08700F34 IN MY_ERROR (NR=1, MYFLAGS=36) AT MY_ERROR.C:97                                                                              #12 0X086F00C2 IN MY_REGISTER_FILENAME (FD=-1, FILENAME=0XB7453F46ROOTSQL_LOAD-2-1-1.DATA, TYPE_OF_FILE=FILE_BY_CREATE, ERROR_MESSAGE_NUMBER=1,     MYFLAGS=16) AT MY_OPEN.C:184                                                                                                                    #13 0X086F02A2 IN MY_CREATE (FILENAME=0XB7453F46 ROOTSQL_LOAD-2-1-1.DATA,CREATEFLAGS=0, ACCESS_FLAGS=131201, MYFLAGS=16) AT MY_CREATE.C:63      #14 0X083C3D04 IN APPEND_BLOCK_LOG_EVENT::DO_APPLY_EVENT (THIS=0X9BA01B0, RLI=0X9B563C0)AT LOG_EVENT.CC:6182                                        #15 0X0846736F IN LOG_EVENT::APPLY_EVENT (THIS=0X9BA01B0, RLI=0X9B563C0) ATLOG_EVENT.H:1058                                                         #16 0X0845D762 IN APPLY_EVENT_AND_UPDATE_POS (EV=0X9BA01B0, THD=0X9BBEAE0, RLI=0X9B563C0,SKIP=TRUE) AT SLAVE.CC:1987                                #17 0X084603D9 IN EXEC_RELAY_LOG_EVENT (THD=0X9BBEAE0, RLI=0X9B563C0) AT SLAVE.CC:2130                                                              #18 0X08461255 IN HANDLE_SLAVE_SQL (ARG=0X9B55138) AT SLAVE.CC:2801                                                                                 #19 0XB7FFE50F IN START_THREAD () FROM LIBTLSI686CMOVLIBPTHREAD.SO.0                                                                           #20 0XB7EEFA0E IN CLONE () FROM LIBTLSI686CMOVLIBC.SO.6HOW TO REPEAT:CAT RPL_SLAVE_LOAD_IN.TEST:---------------------------CONNECTION MASTER;CREATE TABLE T1(A INT NOT NULL AUTO_INCREMENT, B INT, PRIMARY KEY(A));LOAD DATA INFILE ....STD_DATARPL_LOADDATA.DAT INTO TABLE T1;RUN:----.MTR --SLAVE-LOAD-TMPDIR=ROOT RPL_SLAVE_LOAD_INSUGGESTED FIX:CHECK THE RETURN OF FUNCTION CLEANUP_LOAD_TMPDIR() IN LOG_EVENT.CC. ","SUMMARY":"BUGU00A0#42861  ASSIGNING INVALID DIRECTORIES TO --SLAVE-LOAD-TMPDIR CRASHES THE SLAVE ","CLASS":1}
{"ID_DEFECT":"43046","DESCRIPTION":"     [20 FEB 2009 8:40]   LI ZHOU          DESCRIPTION:IN MIXED MODE, IF WE CREATE A TEMPORARY TABLE AND DO SOME UPDATES THATSWITCHES THE FORMAT TO ROW FORMAT, THEN THE FORMAT WILL REMAIN ROWFORMAT AND PREVENT ANY CREATEDROPALTER STATEMENTS ON TEMPORARY TABLESBEEN BINLOGGED UNTIL THE TEMPORARY TABLE IS DROPPED.SO WE HAVE THE FOLLOWING PROBLEMS:1: DISCONNECT MASTER SERVER, DROP TEMP TABLE COMMAND DOESNT WRITE INTO BINLOG. SO SLAVE HAVE WRONG STATUS WITH TEMP TABLES.2: CREATEDROP TEMP TABLE DOESNT WRITE INTO BINLOG. SO THE TABLE CANT BE CREATED IN SLAVE.3: ALL THE OTHER OPERATIONS WILL BASED ON ROW FORMAT AFTER THE SWITCH.HOW TO REPEAT:WE CAN USE THE FOLLOWING TEST CASE TO REPRODUCT THIS BUG:+SOURCE INCLUDEMASTER-SLAVE.INC;+SOURCE INCLUDEHAVE_BINLOG_FORMAT_MIXED.INC;++--ECHO ==== THE FIRST TEST INITIALIZE ====++--ECHO [ON MASTER]+--CONNECTION MASTER++CREATE TABLE T1 (A CHAR(48));+CREATE TEMPORARY TABLE T1_TMP1(A INT);+INSERT INTO T1 VALUES (UUID());++--ECHO [ON SLAVE]+SYNC_SLAVE_WITH_MASTER;++--ECHO ==== VERIFY RESULTS ON SLAVE ====+SHOW STATUS LIKE SLAVE_OPEN_TEMP_TABLES;++--ECHO [ON MASTER]+--CONNECTION MASTER++DISCONNECT MASTER;+--CONNECTION MASTER1++--ECHO [ON SLAVE]+SYNC_SLAVE_WITH_MASTER;++--ECHO ==== VERIFY RESULTS ON SLAVE ====+SHOW STATUS LIKE SLAVE_OPEN_TEMP_TABLES;++--ECHO ==== CLEAN UP ====++--ECHO [ON MASTER]+--CONNECTION MASTER1+DROP TABLE T1;++--ECHO [ON SLAVE]+SYNC_SLAVE_WITH_MASTER;++#+# THE SECOND TEST FOR CREATE AND DROP TEMP TABLE IN ROW BASED FORMAT+#++--ECHO ==== THE SECOND TEST INITIALIZE ====++--ECHO [ON MASTER]+--CONNECTION MASTER1++CREATE TABLE T1 (A CHAR(48));+CREATE TEMPORARY TABLE T1_TMP1(A INT);+INSERT INTO T1 VALUES (UUID());+CREATE TEMPORARY TABLE T1_TMP2(A INT);+CREATE TEMPORARY TABLE T1_TMP3(A INT);+DROP TEMPORARY TABLE T1_TMP1;++--ECHO [ON SLAVE]+SYNC_SLAVE_WITH_MASTER;++--ECHO ==== VERIFY RESULTS ON SLAVE ====+SHOW STATUS LIKE SLAVE_OPEN_TEMP_TABLES;++--ECHO [ON MASTER]++--CONNECTION MASTER1++CREATE TEMPORARY TABLE T1_TMP4(A INT);+INSERT INTO T1 VALUES (UUID());++--ECHO [ON SLAVE]+SYNC_SLAVE_WITH_MASTER;++--ECHO ==== VERIFY RESULTS ON SLAVE ====+SHOW STATUS LIKE SLAVE_OPEN_TEMP_TABLES;++--ECHO ==== CLEAN UP ====++--ECHO [ON MASTER]+--CONNECTION MASTER1+DROP TABLE T1;++--ECHO [ON SLAVE]+SYNC_SLAVE_WITH_MASTER; ","SUMMARY":"BUGU00A0#43046  MIXED MODE SWITCH TO ROW FORMAT WITH TEMP TABLE LEAD TO WRONG RESULT ","CLASS":1}
{"ID_DEFECT":"44179","DESCRIPTION":"     [9 APR 2009 7:10]   ANDREI ELKIN          DESCRIPTION:THE FOLLOWING PIECE OF CODE IN SQL_REPL.CC1026      IF ((ERROR= PURGE_RELAY_LOGS(&MI->RLI, THD,                      |1027                                   1 * JUST RESET *,                 |1028                                   &ERRMSG)))                          |029        GOTO ERR;DOES NOT SET SQL_ERRNO THAT IN COMBINATION WITH NON-ZERO RETURN FROMPURGE_RELAY_LOGS() LEADS TO #3  0XB7E0772E IN __ASSERT_FAIL () FROM LIBTLSI686CMOVLIBC.SO.6#4  0X082BDAEB IN MY_MESSAGE_SQL (ERROR=0, STR=0XB74BABF4 UNKNOWN ERROR 0,     MYFLAGS=0) AT MYSQLD.CC:2846#5  0X08703F44 IN MY_ERROR (NR=0, MYFLAGS=0) AT MY_ERROR.C:99#6  0X0846CCE6 IN RESET_SLAVE (THD=0X91AE748, MI=0X91F5EB0) AT SQL_REPL.CC:1066HOW TO REPEAT:INVOKE RESET SLAVE AND SIMULATE AN ERROR INSIDEMY_DELETE_ALLOW_OPENED() -> MY_DELETE().MYSQL_BIN_LOG::RESET_LOGS() WOULD REGISTER A WARNINGER_BINLOG_PURGE_FATAL_ERR AND RETURN 1.PURGE_RELAY_LOGS() THE CALLER PREPARES   *ERRMSG = FAILED DURING LOG RESETFOR RESET_SLAVE() EVENTUAL ERROR GENERATION. HOWEVER, IT DOES NOTSET THE SQL_ERRNO LIKE ITS DONE IN OTHER BRANCHES IN THE FUNCTION.SUGGESTED FIX:TO INTRODUCE A NEW ER_ CONSTANT TO SET SQL_ERRNO FOR THE CASE:  IF ((ERROR= PURGE_RELAY_LOGS(MI->RLI, THD,TTT       1 * JUST RESET *,TTT       &ERRMSG)))      SQL_ERRNO= ER_SLAVE_PURGE_RELAY_LOGS;    GOTO ERR;   ","SUMMARY":"BUGU00A0#44179  RESET SLAVE CRASHES IN MY_ERROR WHEN RESET_LOGS RETURNS NON-ZERO ","CLASS":1}
{"ID_DEFECT":"44270","DESCRIPTION":"     [14 APR 2009 17:35]   KYLE JOINER          DESCRIPTION:RESET SLAVE DOES NOT RESET THE LAST_IO_ERROR OR LAST_IO_ERRNO IN SHOW SLAVE STATUS.  HOW TO REPEAT:EXAMPLE:MASTER SERVER:  127.0.0.1 PORT 3306SLAVE SERVER: 127.0.0.1 PORT 3307MYSQL> STOP SLAVE;QUERY OK, 0 ROWS AFFECTED (45.23 SEC)MYSQL> SHOW SLAVE STATUS*************************** 1. ROW ***************************               SLAVE_IO_STATE:                  MASTER_HOST: 127.0.0.1                  MASTER_USER: REPL                  MASTER_PORT: 3306                CONNECT_RETRY: 60              MASTER_LOG_FILE: KJOINER-PC-BIN.000001          READ_MASTER_LOG_POS: 222               RELAY_LOG_FILE: KJOINER-PC-RELAY-BIN.000002                RELAY_LOG_POS: 256        RELAY_MASTER_LOG_FILE: KJOINER-PC-BIN.000001             SLAVE_IO_RUNNING: NO            SLAVE_SQL_RUNNING: NO              REPLICATE_DO_DB:          REPLICATE_IGNORE_DB:           REPLICATE_DO_TABLE:       REPLICATE_IGNORE_TABLE:      REPLICATE_WILD_DO_TABLE:  REPLICATE_WILD_IGNORE_TABLE:                   LAST_ERRNO: 0                   LAST_ERROR:                 SKIP_COUNTER: 0          EXEC_MASTER_LOG_POS: 222              RELAY_LOG_SPACE: 416              UNTIL_CONDITION: NONE               UNTIL_LOG_FILE:                UNTIL_LOG_POS: 0           MASTER_SSL_ALLOWED: NO           MASTER_SSL_CA_FILE:           MASTER_SSL_CA_PATH:              MASTER_SSL_CERT:            MASTER_SSL_CIPHER:               MASTER_SSL_KEY:        SECONDS_BEHIND_MASTER: NULLMASTER_SSL_VERIFY_SERVER_CERT: NO                LAST_IO_ERRNO: 2003                LAST_IO_ERROR: ERROR CONNECTING TO MASTER REPL@127.0.0.1:3306- RETRY-TIME: 60  RETRIES: 86400               LAST_SQL_ERRNO: 0               LAST_SQL_ERROR:1 ROW IN SET (0.00 SEC)MYSQL> RESET SLAVE;QUERY OK, 0 ROWS AFFECTED (0.03 SEC)MYSQL> SHOW SLAVE STATUS*************************** 1. ROW ***************************               SLAVE_IO_STATE:                  MASTER_HOST: 127.0.0.1                  MASTER_USER: TEST                  MASTER_PORT: 3306                CONNECT_RETRY: 60              MASTER_LOG_FILE:          READ_MASTER_LOG_POS: 4               RELAY_LOG_FILE: KJOINER-PC-RELAY-BIN.000001                RELAY_LOG_POS: 4        RELAY_MASTER_LOG_FILE:             SLAVE_IO_RUNNING: NO            SLAVE_SQL_RUNNING: NO              REPLICATE_DO_DB:          REPLICATE_IGNORE_DB:           REPLICATE_DO_TABLE:       REPLICATE_IGNORE_TABLE:      REPLICATE_WILD_DO_TABLE:  REPLICATE_WILD_IGNORE_TABLE:                   LAST_ERRNO: 0                   LAST_ERROR:                 SKIP_COUNTER: 0          EXEC_MASTER_LOG_POS: 0              RELAY_LOG_SPACE: 125              UNTIL_CONDITION: NONE               UNTIL_LOG_FILE:                UNTIL_LOG_POS: 0           MASTER_SSL_ALLOWED: NO           MASTER_SSL_CA_FILE:           MASTER_SSL_CA_PATH:              MASTER_SSL_CERT:            MASTER_SSL_CIPHER:               MASTER_SSL_KEY:        SECONDS_BEHIND_MASTER: NULLMASTER_SSL_VERIFY_SERVER_CERT: NO                LAST_IO_ERRNO: 2003                LAST_IO_ERROR: ERROR CONNECTING TO MASTER REPL@127.0.0.1:3306- RETRY-TIME: 60  RETRIES: 86400               LAST_SQL_ERRNO: 0               LAST_SQL_ERROR:1 ROW IN SET (0.00 SEC)MYSQL> CHANGE MASTER TO    -> MASTER_USER=REPL,    -> MASTER_LOG_POS=222,    -> MASTER_LOG_FILE=KJOINER-PC-BIN.000001,    -> MASTER_PORT=3306,    -> MASTER_PASSWORD=REPL;QUERY OK, 0 ROWS AFFECTED (0.02 SEC)MYSQL> START SLAVE;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> SHOW SLAVE STATUS*************************** 1. ROW ***************************               SLAVE_IO_STATE: WAITING FOR MASTER TO SEND EVENT                  MASTER_HOST: 127.0.0.1                  MASTER_USER: REPL                  MASTER_PORT: 3306                CONNECT_RETRY: 60              MASTER_LOG_FILE: KJOINER-PC-BIN.000002          READ_MASTER_LOG_POS: 106               RELAY_LOG_FILE: KJOINER-PC-RELAY-BIN.000003                RELAY_LOG_POS: 256        RELAY_MASTER_LOG_FILE: KJOINER-PC-BIN.000002             SLAVE_IO_RUNNING: YES            SLAVE_SQL_RUNNING: YES              REPLICATE_DO_DB:          REPLICATE_IGNORE_DB:           REPLICATE_DO_TABLE:       REPLICATE_IGNORE_TABLE:      REPLICATE_WILD_DO_TABLE:  REPLICATE_WILD_IGNORE_TABLE:                   LAST_ERRNO: 0                   LAST_ERROR:                 SKIP_COUNTER: 0          EXEC_MASTER_LOG_POS: 106              RELAY_LOG_SPACE: 566              UNTIL_CONDITION: NONE               UNTIL_LOG_FILE:                UNTIL_LOG_POS: 0           MASTER_SSL_ALLOWED: NO           MASTER_SSL_CA_FILE:           MASTER_SSL_CA_PATH:              MASTER_SSL_CERT:            MASTER_SSL_CIPHER:               MASTER_SSL_KEY:        SECONDS_BEHIND_MASTER: 0MASTER_SSL_VERIFY_SERVER_CERT: NO                LAST_IO_ERRNO: 2003                LAST_IO_ERROR: ERROR CONNECTING TO MASTER REPL@127.0.0.1:3306- RETRY-TIME: 60  RETRIES: 86400               LAST_SQL_ERRNO: 0               LAST_SQL_ERROR:1 ROW IN SET (0.00 SEC)MYSQL>SUGGESTED FIX:RESET THE VALUES WHEN RESET SLAVE IS ISSUED. ","SUMMARY":"BUGU00A0#44270  RESET SLAVE DOES NOT RESET LAST_IO_ERROR OR LAST_IO_ERRNO ","CLASS":1}
{"ID_DEFECT":"44331","DESCRIPTION":"     [16 APR 2009 23:22]   HEMA SRIDHARAN          DESCRIPTION:* SET UP 2 SERVERS TO ACT AS MASTER AND SLAVE* CREATE DATABASE, TABLE AND EVENTS IN MASTER* EXECUTE BACKUP IN SLAVE(DB12S.BAK) AND COPY THE BACKUP IMAGE FILE TO MASTER SERVER* PERFORM RESTORE FROM (DB1S.BAK) MASTER SERVER* NOTE THAT RESTORE WILL PRODUCE WARNING MESSAGE IN MASTER AND SLAVE SERVERS.HOW TO REPEAT:IN MASTER=========MYSQL> GRANT REPLICATION SLAVE ON *.* TO REPL@%;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> CREATE DATABASE DB1;QUERY OK, 1 ROW AFFECTED (0.01 SEC)MYSQL> CREATE TABLE DB1.T12(DETAILS CHAR(30));QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> CREATE EVENT DB1.E1 ON SCHEDULE AT CURRENT_TIMESTAMP    ->   ON COMPLETION PRESERVE DISABLE    ->   DO INSERT INTO DB1.T12 VALUES(EVENT E1 FIRED);QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MYSQL> BACKUP DATABASE DB1 TO DB1M.BAK;+-----------+| BACKUP_ID |+-----------+| 270       |+-----------+1 ROW IN SET (0.34 SEC)IN SLAVE========MYSQL> BACKUP DATABASE DB1 TO DB1S.BAK;+-----------+| BACKUP_ID |+-----------+| 270       |+-----------+1 ROW IN SET (0.36 SEC)MYSQL> SHOW CREATE EVENT DB1.E1;EVENT   SQL_MODE        TIME_ZONE       CREATE EVENT    CHARACTER_SET_CLIENT   COLLATION_CONNECTION     DATABASE COLLATIONE1              SYSTEM  CREATE DEFINER=``@`` EVENT `E1` ON SCHEDULE AT 2009-04-17 02:13:46 ON COMPLETION PRESERVE DISABLE ON SLAVE DO INSERT INTO DB1.T12 VALUES(EVENT E1 FIRED)    LATIN1  LATIN1_SWEDISH_CI       LATIN1_SWEDISH_CINOTE THAT DEFINER IS NOT ROOT USER IN SLAVE AND SHOWS @NOW COPY THE BACKUP IMAGE FILE FROM SLAVE TO MASTER SERVERFROM MASTER===========MYSQL> RESTORE FROM DB1S.BAK OVERWRITE;+-----------+| BACKUP_ID |+-----------+| 272       |+-----------+1 ROW IN SET, 1 WARNING (0.11 SEC)MYSQL> SHOW WARNINGS;+-------+------+--------------------------------------------------------+| LEVEL | CODE | MESSAGE                                                |+-------+------+--------------------------------------------------------+| NOTE  | 1449 | THE USER SPECIFIED AS A DEFINER (@) DOES NOT EXIST |+-------+------+--------------------------------------------------------+1 ROW IN SET (0.00 SEC)MYSQL> RESTORE FROM DB1M.BAK OVERWRITE;+-----------+| BACKUP_ID |+-----------+| 273       |+-----------+1 ROW IN SET (0.10 SEC)MYSQL> SHOW WARNINGS;EMPTY SET (0.00 SEC) ","SUMMARY":"BUGU00A0#44331  RESTORE OF DATABASE WITH EVENTS PRODUCES WARNING IN REPLICATION ","CLASS":1}
{"ID_DEFECT":"44378","DESCRIPTION":"     [21 APR 2009 9:39]   ALFRANIO CORREIA          DESCRIPTION:==19390== CONDITIONAL JUMP OR MOVE DEPENDS ON UNINITIALISED VALUE(S)==19390==    AT 0X84859CE: INCIDENT_LOG_EVENT::IS_VALID() CONST (LOG_EVENT.H:3907)==19390==    BY 0X8482024: LOG_EVENT::READ_LOG_EVENT(CHAR CONST*, UNSIGNED, CHAR CONST**, FORMAT_DESCRIPTION_LOG_EVENT CONST*) (LOG_EVENT.CC:1227)==19390==    BY 0X8482434: LOG_EVENT::READ_LOG_EVENT(ST_IO_CACHE*, ST_SAFE_MUTEX_T*, FORMAT_DESCRIPTION_LOG_EVENT CONST*) (LOG_EVENT.CC:1034)==19390==    BY 0X8521A25: _ZL10NEXT_EVENTP14RELAY_LOG_INFO (SLAVE.CC:4095)==19390==    BY 0X852D656: _ZL20EXEC_RELAY_LOG_EVENTP3THDP14RELAY_LOG_INFO (SLAVE.CC:2245)==19390==    BY 0X852E5D7: HANDLE_SLAVE_SQL (SLAVE.CC:3015)==19390==    BY 0X406650E: START_THREAD (IN LIBTLSI686CMOVLIBPTHREAD-2.8.90.SO)==19390==    BY 0X42C8A0D: CLONE (IN LIBTLSI686CMOVLIBC-2.8.90.SO)HOW TO REPEAT:.MTR --VALGRIND-MYSQLD RPL_BINLOG_CORRUPTIONSUGGESTED FIX:=== MODIFIED FILE SQLLOG_EVENT.CC--- SQLLOG_EVENT.CC    2009-04-13 13:24:28 +0000+++ SQLLOG_EVENT.CC    2009-04-21 09:38:07 +0000@@ -9269,7 +9269,7 @@      IF THE INCIDENT IS NOT RECOGNIZED, THIS BINLOG EVENT IS      INVALID.  IF WE SET INCIDENT_NUMBER TO INCIDENT_NONE, THE      INVALIDITY WILL BE DETECTED BY IS_VALID().-    INCIDENT_NUMBER= INCIDENT_NONE;+    M_INCIDENT= INCIDENT_NONE;     DBUG_VOID_RETURN;      M_INCIDENT= STATIC_CAST<INCIDENT>(INCIDENT_NUMBER); ","SUMMARY":"BUGU00A0#44378  RPL_BINLOG_CORRUPTION FAILS WITH WARNING MESSAGES IN VALGRIND ","CLASS":1}
{"ID_DEFECT":"44442","DESCRIPTION":"     [23 APR 2009 17:03]   MATS KINDAHL          DESCRIPTION:IF A BINARY LOG CONTAIN AN INCIDENT LOG EVENT AND MYSQLBINLOG IS APPLIED TO IT, ALL THAT SHOWS IN THE OUTPUT IS A COMMENT CONTAINING THE ERROR MESSAGE.IF THAT OUTPUT IS FED INTO A RUNNING SERVER, IT WILL APPLY CORRECTLY, EVEN THOUGH THE INCIDENT LOG EVENT INDICATES THAT, E.G., THE DATABASE NEED TO BE RE-SYNCHRONIZED.HOW TO REPEAT:RUN MYSQLBINLOG ON A BINARY LOG WITH AN INCIDENT LOG EVENT AND CHECK THE OUTPUT.SUGGESTED FIX:WRITE A NON-EXISTING COMMAND INTO THE OUTPUT, WHICH WILL GENERATE A SYNTAX ERROR AND FORCE THE DBA TO RESOLVE THE ISSUES SOMEHOW. ","SUMMARY":"BUGU00A0#44442  INCIDENT EVENTS ARE SILENT IN MYSQLBINLOG OUTPUT ","CLASS":1}
{"ID_DEFECT":"45214","DESCRIPTION":"     [31 MAY 2009 6:05]   ZHENXING HE          DESCRIPTION:FUNCTION GET_MASTER_VERSION_AND_CLOCK IN SQLSLAVE.CC DOES NOT REPORT  ERROR WHEN QUERIES FAIL ON MASTER. THIS WOULD MAKE THE SLAVE TO GET A FALSE PASS WHEN THE QUERY FAILED BECAUSE OF NETWORK PROBLEMS WHEN RUNNING THE QUERY ON MASTER.THIS WAS REQUESTED BY MARK CALLAGHAN IN COMMENTS TO BUG#41400.HOW TO REPEAT:READING THE SOURCE CODE OF GET_MASTER_VERSION_AND_CLOCK IN SQLSLAVE.CC, WHICH IGNORES THE ERROR AND CONTINUES WHEN QUERIES DOES NOT RETURN SUCCESS ON MASTER.SUGGESTED FIX:GET_MASTER_VERSION_AND_CLOCK SHOULD RETURN ERROR IF THE QUERY FAILS AND RETRY IF THE ERROR WAS CAUSED BY A TRANSIENT NETWORK PROBLEM, AND FAIL OTHERWISE. ","SUMMARY":"BUGU00A0#45214  GET_MASTER_VERSION_AND_CLOCK DOES NOT REPORT  ERROR WHEN QUERIES FAIL ","CLASS":1}
{"ID_DEFECT":"46129","DESCRIPTION":"     [11 JUL 2009 12:44]   ALFRANIO CORREIA          DESCRIPTION:AFTER BUG#43929, A FAILING NON-TRANSACTIONAL STATEMENT ISSUED IN THE CONTEXT OF A TRANSACTION FLUSHES THE TRANSACTIONAL CACHE CAUSING A MISMATCH BETWEEN EXECUTION AND LOGGING HISTORIES.EXECUTION:CREATE TABLE NT_1 (A TEXT, B INT PRIMARY KEY, C TEXT) ENGINE = MYISAM;CREATE TABLE TT_1 (A TEXT, B INT PRIMARY KEY, C TEXT) ENGINE = INNODB;CREATE TRIGGER TR_I_TT_1_TO_NT_1 BEFORE INSERT ON TT_1 FOR EACH ROWBEGIN  INSERT INTO NT_1 VALUES (NEW.A, NEW.B, NEW.C);ENDBEGIN;INSERT INTO NT_1 VALUES (NEW TEXT 2, 2, );--ERROR ER_DUP_ENTRYINSERT INTO TT_1 VALUES (NEW TEXT 1, 1, ), (NEW TEXT 2, 2, );INSERT INTO TT_1 VALUES (NEW TEXT 3, 3, );ROLLBACK;WRONG BINARY LOG ENTRIES:LOG_NAME        POS     EVENT_TYPE      SERVER_ID       END_LOG_POS     INFOMASTER-BIN.000001       #       QUERY   #       #       USE `TEST`; INSERT INTO NT_1 VALUES (NEW TEXT 2, 2, )MASTER-BIN.000001       #       QUERY   #       #       BEGINMASTER-BIN.000001       #       QUERY   #       #       USE `TEST`; INSERT INTO TT_1 VALUES (NEW TEXT 1, 1, ), (NEW TEXT 2, 2, )MASTER-BIN.000001       #       QUERY   #       #       ROLLBACKMASTER-BIN.000001       #       QUERY   #       #       BEGINMASTER-BIN.000001       #       QUERY   #       #       USE `TEST`; INSERT INTO TT_1 VALUES (NEW TEXT 3, 3, )MASTER-BIN.000001       #       QUERY   #       #       ROLLBACKCORRECT BINARY LOG ENTRIES:LOG_NAME        POS     EVENT_TYPE      SERVER_ID       END_LOG_POS     INFOMASTER-BIN.000001       #       QUERY   #       #       USE `TEST`; INSERT INTO NT_1 VALUES (NEW TEXT 2, 2, )MASTER-BIN.000001       #       QUERY   #       #       BEGINMASTER-BIN.000001       #       QUERY   #       #       USE `TEST`; INSERT INTO TT_1 VALUES (NEW TEXT 1, 1, ), (NEW TEXT 2, 2, )MASTER-BIN.000001       #       QUERY   #       #       USE `TEST`; INSERT INTO TT_1 VALUES (NEW TEXT 3, 3, )MASTER-BIN.000001       #       QUERY   #       #       ROLLBACKHOW TO REPEAT:CONNECTION MASTER;SET SQL_LOG_BIN=0;CREATE TABLE NT_1 (A TEXT, B INT PRIMARY KEY, C TEXT) ENGINE = MYISAM;CREATE TABLE TT_1 (A TEXT, B INT PRIMARY KEY, C TEXT) ENGINE = INNODB;SET SQL_LOG_BIN=1;CONNECTION SLAVE;SET SQL_LOG_BIN=0;CREATE TABLE NT_1 (A TEXT, B INT PRIMARY KEY, C TEXT) ENGINE = MYISAM;CREATE TABLE TT_1 (A TEXT, B INT PRIMARY KEY, C TEXT) ENGINE = INNODB;SET SQL_LOG_BIN=1;CONNECTION MASTER;DELIMITER |;CREATE TRIGGER TR_I_TT_1_TO_NT_1 BEFORE INSERT ON TT_1 FOR EACH ROWBEGIN  INSERT INTO NT_1 VALUES (NEW.A, NEW.B, NEW.C);END|DELIMITER ;|LET $BINLOG_START= QUERY_GET_VALUE(SHOW MASTER STATUS, POSITION, 1);BEGIN;INSERT INTO NT_1 VALUES (NEW TEXT 2, 2, );--ERROR ER_DUP_ENTRYINSERT INTO TT_1 VALUES (NEW TEXT 1, 1, ), (NEW TEXT 2, 2, );INSERT INTO TT_1 VALUES (NEW TEXT 3, 3, );ROLLBACK;--SOURCE INCLUDESHOW_BINLOG_EVENTS.INCCONNECTION MASTER;DROP TABLE TT_1;DROP TABLE NT_1;SYNC_SLAVE_WITH_MASTER; ","SUMMARY":"BUGU00A0#46129  FAILING MIXED STM (WITH TRANS AND NON-TRANS TABLES) CAUSES WRONG SEQ IN BINLOG ","CLASS":1}
{"ID_DEFECT":"46130","DESCRIPTION":"     [11 JUL 2009 13:34]   ALFRANIO CORREIA          DESCRIPTION:SLAVE DOES NOT CORRECTLY HANDLE EXPECTED ERRORS LEADING TO INCONSISTENCIES BETWEEN THE MATER AND SLAVE.SPECIFICALLY, WHEN A STATEMENT CHANGES BOTH TRANSACTIONAL AND NON-TRANSACTIONAL TABLES, THE TRANSACTIONAL CHANGES ARE AUTOMATICALLY ROLLED BACK ON THE MASTER BUT THE SLAVE IGNORES THE ERROR AND DOES NOT ROLLBACK THEM THUS LEADING TO INCONSISTENCIES.CREATE TABLE NT_1 (A TEXT, B INT PRIMARY KEY, C TEXT) ENGINE = MYISAM;CREATE TABLE TT_1 (A TEXT, B INT PRIMARY KEY, C TEXT) ENGINE = INNODB;CREATE TRIGGER TR_I_TT_1_TO_NT_1 BEFORE INSERT ON TT_1 FOR EACH ROWBEGIN  INSERT INTO NT_1 VALUES (NEW.A, NEW.B, NEW.C);ENDBEGIN;INSERT INTO NT_1 VALUES (NEW TEXT 2, 2, );--ERROR ER_DUP_ENTRYINSERT INTO TT_1 VALUES (NEW TEXT 1, 1, ), (NEW TEXT 2, 2, );INSERT INTO TT_1 VALUES (NEW TEXT 3, 3, );COMMIT;ON MASTER:SELECT * FROM TT_1;A       B       CNEW TEXT 3      3SELECT * FROM NT_1;A       B       CNEW TEXT 2      2NEW TEXT 1      1NEW TEXT 3      3ON SLAVE:SELECT * FROM TT_1;A       B       CNEW TEXT 1      1NEW TEXT 3      3SELECT * FROM NT_1;A       B       CNEW TEXT 2      2NEW TEXT 1      1NEW TEXT 3      3HOW TO REPEAT:APPLY THE PATCH FOR BUG#33864 AND USE THE TEST CASE REPORTED THERE. ","SUMMARY":"BUGU00A0#46130  SLAVE DOES NOT CORRECTLY HANDLE EXPECTED ERRORS ","CLASS":1}
{"ID_DEFECT":"46166","DESCRIPTION":"     [14 JUL 2009 11:19]   LUIS SOARES          DESCRIPTION:BINARY LOG NAMES ARE CREATED USING THE FUNCTION:FIND_UNIQ_FILENAME. THIS FUNCTION CAN RETURN ERROR IN SOME CASES:  - THE GENERATED NAME EXCEEDS FN_REFLEN  - THE NUMBER OF EXTENSIONS IS EXHAUSTED  - OR SOME OTHER ERROR HAPPENED WHILE EXAMINING THE FILESYSTEMIF IT HAPPENS TO RETURN AN ERROR, THEN IT CAN BE THE CASE THATTHE ERROR IS IGNORED AT MYSQL_BIN_LOG::NEW_FILE_IMPL (IN LOG.CC):    (...)     IF (GENERATE_NEW_NAME(NEW_NAME, NAME))      GOTO END;     (...)  END:    IF (NEED_LOCK)      PTHREAD_MUTEX_UNLOCK(&LOCK_LOG);    PTHREAD_MUTEX_UNLOCK(&LOCK_INDEX);    DBUG_VOID_RETURN;IN THIS CASE, ERROR SHOULD BE PROPAGATED PROPERLY IN THE STACK SOTHAT COMMANDS LIKE FLUSH LOGS, WHICH CAUSE LOG ROTATION THENCEULTIMATELY CALL FIND_UNIQ_FILENAME, CAN RETURN TO THE USER ANERROR INSTEAD OF A WARNING.NOTE: LOG ROTATION CAN BE TRIGGERED FROM SEVERAL PLACES IN THE SOURCE CODE, WHICH NEED TO ADDRESS THIS ISSUE OF ERROR PROPAGATION ALSO. FOR INSTANCE, IN MYSQL_BIN_LOG::WRITE THE ROTATE_AND_PURGE ROUTINE IS CALLED, BUT SOME CALLERS OF MYSQL_BIN_LOG::WRITE ARE IGNORING THE ITS RETURN RESULT (SEE BUG#37148).HOW TO REPEAT:INSPECT SOURCE CODE. ","SUMMARY":"BUGU00A0#46166  MYSQL_BIN_LOG::NEW_FILE_IMPL IS NOT PROPAGATING ERROR WHEN GENERATING NEW NAME. ","CLASS":1}
{"ID_DEFECT":"47287","DESCRIPTION":"     [12 SEP 2009 21:06]   ELENA STEPANOVA          DESCRIPTION:THERE WAS A RECENT REGRESSION (BETWEEN 5.1.37 AND 5.1.38) DESCRIBED IN BUG#46864: IF A TRANSACTION CONTAINS A MULTI-ROW DML STATEMENT WHICH INVOLVES BOTH TRANSACTIONAL AND NON-TRANSACTIONAL ENGINES, THE STATEMENT FAILS, AND THE TRANSACTION IS FOLLOWED BY A COMMIT, MASTER AND SLAVE CAN END UP WITH DIFFERENT TABLE CONTENTS: THE STATEMENT IS CORRECTLY ROLLED BACK ON MASTER, BUT IS APPLIED ON SLAVE.SIMILARLY, IF THE BINLOG IS USED FOR RECOVERY RATHER THAN FOR REPLICATION, THE RESTORED DATA ALSO DIFFERS FROM THE ORIGINAL CONTENTS.THE BUG#46864 IS ABOUT TO BE CLOSED IN 5.1.39, BUT IT ONLY FIXES THE PROBLEM WITH SBR, WHILE IT STILL EXISTS FOR RBR (AND MBR IF THE STATEMENT IS SUCH THAT IT MAKES SERVER SWITCH TO RBR).THE TEST CASE PROVIDED IN HOW TO REPEAT SECTION IS THE SAME AS DESCRIBED IN BUG#46864, I ONLY MODIFIED IT SO THAT IT FAILS FOR BOTH RBR AND MBR, ELIMINATED DIRECT MODIFICATION OF AUTO-INCREMENT PK VALUES (WHICH IS OFTEN SAID TO BE A BAD THING TO DO), AND MADE THE KEY VALUES IN UPDATE MORE OBVIOUS. HOW TO REPEAT:# TRPL_FAILURE_RBR_MBR.TESTSOURCE INCLUDEHAVE_INNODB.INC;SOURCE INCLUDEMASTER-SLAVE.INC;--DISABLE_QUERY_LOG--DISABLE_RESULT_LOGCONNECTION MASTER;--DISABLE_WARNINGSDROP DATABASE IF EXISTS TST;--ENABLE_WARNINGSCREATE DATABASE TST;USE TST;CREATE TABLE TB1(  I1 INT NOT NULL AUTO_INCREMENT, PRIMARY KEY (I1),  I2 INT UNIQUE KEY,  F1 CHAR (15)) ENGINE=INNODB;INSERT INTO TB1 ( I2, F1 ) VALUES(2,INIT),(3,INIT),(4,INIT);CREATE TABLE LOG (  I1 INT NOT NULL AUTO_INCREMENT, PRIMARY KEY (I1),  ENTRY_DSC CHAR(100)) ENGINE=MYISAM;DELIMITER ;CREATE TRIGGER TB1_UPD AFTER UPDATE ON TB1 FOR EACH ROWBEGIN  INSERT INTO LOG (ENTRY_DSC)  VALUES (CONCAT(UPDATE ROW , OLD.I1, , OLD.F1, ->, NEW.F1));ENDDELIMITER ;SET AUTOCOMMIT = 0;--DISABLE_ABORT_ON_ERRORUPDATE TB1SET I2 = I2-1, F1 = UPDATE WHERE I2 IN (2,4);--ENABLE_ABORT_ON_ERRORCOMMIT;--ENABLE_QUERY_LOG--ENABLE_RESULT_LOG--ECHO # ON MASTER:SELECT * FROM TB1;SYNC_SLAVE_WITH_MASTER;CONNECTION SLAVE;USE TST;--ECHO # ON SLAVE:SELECT * FROM TB1;# END OF TRPL_FAILURE_RBR_MBR.TEST#----------------------------RUN THE TEST ABOVE WITH BINLOG_FORMAT=ROW OR MIXED, E.G :PERL .MYSQL-TEST-RUN.PL  --MYSQLD=--BINLOG_FORMAT=MIXED RPL_FAILURE_MBR_RBRTHE TEST WILL PRODUCE THE FOLLOWING OUTPUT:+# ON MASTER:+SELECT * FROM TB1;+I1     I2      F1+1      2       INIT+2      3       INIT+3      4       INIT+USE TST;+# ON SLAVE:+SELECT * FROM TB1;+I1     I2      F1+1      1       UPDATE+2      3       INIT+3      4       INITSUGGESTED FIX:THERE IS AN ONGOING DISCUSSION WHICH INFERS THAT THE PROBLEM MIGHT NEVER BE FIXED IN 5.1. IF SUCH DECISION IS TAKEN, I SUGGEST DECLARING IN THE DOCUMENTATION THAT A MIX OF TXN- AND NON-TXN ENGINES IN ONE STATEMENT IS CONSIDERED UNSAFE WITH ANY BINLOG FORMAT. AS FOR NOW, IN THE SCOPE OF BUG#28976 WE ARE GOING TO ISSUE THE FOLLOWING TEXT IN 5.1.39 CHANGELOG: (QUOTE)IN STATEMENT-BASED LOGGING MODE ...        3. A STATEMENT AFFECTING BOTH TRANSACTIONAL AND         NON-TRANSACTIONAL TABLES WITHIN A TRANSACTION IS ALWAYS        CONSIDERED UNSAFE. (END OF QUOTE)THUS, WE INDIRECTLY IMPLY THAT IN MIXED- OR ROW-BASED LOGGING MODE SUCH STATEMENTS ARE NOT CONSIDERED UNSAFE.NOW THE MANUAL HAS A WARNING THAT SUCH A MIX IS NOT ADVISED IN REPLICATION CONTEXT; HOWEVER, AS SAID IN THE DESCRIPTION, THE PROBLEM AFFECTS NOT ONLY REPLICATION, BUT ALSO RECOVERY FLOW. ","SUMMARY":"BUGU00A0#47287  RBR: REPLICATION DIFF ON BASIC CASE WITH TXN- AND NON-TXN TABLES IN A STATEMENT ","CLASS":1}
{"ID_DEFECT":"47995","DESCRIPTION":"     [12 OCT 2009 12:10]   SVEN SANDBERG          DESCRIPTION:STATEMENTS MAY BE MARKED UNSAFE, MEANING THAT THEY SHALL BE LOGGED IN ROW FORMAT IF BINLOG_FORMAT=MIXED. THE FOLLOWING USER FUNCTIONS ARE CURRENTLY MARKED UNSAFE:FOUND_ROWSLOAD_FILEROW_COUNTUUIDUUID_SHORTIN ADDITION, THE FOLLOWING SHOULD BE MARKED UNSAFE:CONNECTION_IDGET_LOCKIS_FREE_LOCKIS_USED_LOCKMASTER_POS_WAITRELEASE_LOCKSESSION_USERSYSTEM_USERUSERSLEEPHOW TO REPEAT:SEE THE MANUAL FOR EACH OF THESE FUNCTIONS: - CONNECTION_ID, SESSION_USER, SYSTEM_USER, USER ARE CONNECTION-DEPENDENT - GET_LOCK IS TIMING DEPENDENT - IS_FREE_LOCK, IS_USED_LOCK ARE NONDETERMINISTIC (AND MAY EVEN INTERACT WITH THE SLAVES GLOBAL ENVIRONMENT IN UNWANTED WAYS) - RELEASE_LOCK MAY RETURN A DIFFERENT VALUE ON SLAVE (BECAUSE GET_LOCK IS NOT CALLED ON SLAVE, SINCE GET_LOCK IS UNSAFE) - MASTER_POS_WAIT AND SLEEP ARE TIMING-DEPENDENTSUGGESTED FIX:MARK ALL THESE FUNCTIONS AS UNSAFE ","SUMMARY":"BUGU00A0#47995  MARK SYSTEM FUNCTIONS AS UNSAFE ","CLASS":1}
{"ID_DEFECT":"48297","DESCRIPTION":"     [26 OCT 2009 2:35]   ELENA STEPANOVA          DESCRIPTION:THE BEHAVIOR CHANGED BETWEEN 5.1.39 AND 5.1.40.WITH MBR OR SBR, IF LOAD DATA STATEMENT POPULATES A TABLE USING A FULLY QUALIFIED TABLE NAME, THE SCHEMA NAME IS NOT WRITTEN INTO THE BINLOG. WHEN THE CURRENT DATABASE IS DIFFERENT FROM THE TABLES SCHEMA, IT CAUSES REPLICATION FAILURES OR POPULATING A WRONG TABLE.INITIAL STATEMENT (AS WRITTEN IN GENERAL LOG):LOAD DATA LOCAL INFILE INFILE.TXT INTO TABLE DB1.T5.1.39 BINLOG:LOAD DATA LOCAL INFILE TMPSQL_LOAD_MB-1-4F INTO  TABLE DB1.T5.1.40 BINLOG:LOAD DATA LOCAL INFILE TMPSQL_LOAD_MB-1-50 INTO TABLE `T` FIELDS TERMINATED BY T ENCLOSED BY  ESCAPED BY  LINES TERMINATED BY  (I)HOW TO REPEAT:# RPL_LOAD_INFILE--SOURCE INCLUDEMASTER-SLAVE.INC--SOURCE INCLUDEHAVE_BINLOG_FORMAT_MIXED_OR_STATEMENT.INC--DISABLE_WARNINGSDROP DATABASE IF EXISTS DB1;DROP DATABASE IF EXISTS DB2;--ENABLE_WARNINGSCREATE DATABASE DB1;CREATE DATABASE DB2;USE DB1;--EXEC PERL -E PRINT 12 > INFILE.TXTCREATE TABLE T ( I INT );USE DB2;LOAD DATA LOCAL INFILE INFILE.TXT INTO TABLE DB1.T;--ECHO # MASTER:SELECT * FROM DB1.T;CONNECTION SLAVE;SLEEP 1;--ECHO # SLAVE:USE DB1;SELECT * FROM T;--VERTICAL_RESULTSSHOW SLAVE STATUS;# END OF RPL_LOAD_INFILE ","SUMMARY":"BUGU00A0#48297  SCHEMA NAME IS IGNORED WHEN LOAD DATA IS WRITTEN INTO BINLOG, REPLICATION ABORTS ","CLASS":1}
{"ID_DEFECT":"48321","DESCRIPTION":"     [26 OCT 2009 16:44]   SVEN SANDBERG          DESCRIPTION:THE FOLLOWING COMMANDS SUPPORT THE CURRENT_USER() FUNCTION WHERE A USER IS NEEDED:DROP USER CURRENT_USER()RENAME USER CURRENT_USER() ...GRANT ... TO CURRENT_USER()REVOKE ... FROM CURRENT_USER()CREATE DEFINER = CURRENT_USER [FUNCTION | PROCEDURE | TRIGGER | EVENT | VIEW]ALTER DEFINER = CURRENT_USER [EVENT | VIEW]FOR ALTER VIEW AND FOR ALL CREATE STATEMENTS, THE QUERY IS REWRITTEN BEFORE IT IS BINLOGGED, SO THAT CURRENT_USER IS EXPANDED TO THE NAME OF THE CURRENT USER. FOR DROP USER, RENAME USER, GRANT, REVOKE, AND ALTER EVENT, THE QUERY IS NOT REWRITTEN AND HENCE CURRENT_USER IS NOT EXPANDED. THIS BREAKS REPLICATION BECAUSE CURRENT_USER EXPANDS TO THE USER OF THE SLAVE SQL THREAD ON THE SLAVE.HOW TO REPEAT:FOR GRANT AND REVOKE, THIS CANNOT CURRENTLY BE REPRODUCED DUE TO BUG#41319.==== TEST FOR DROP USER ====--SOURCE INCLUDEMASTER-SLAVE.INCCREATE USER USER@LOCALHOST;GRANT ALL ON *.* TO USER@LOCALHOST;GRANT GRANT OPTION ON *.* TO USER@LOCALHOST;--CONNECT (USER,127.0.0.1,USER,,TEST,$MASTER_MYPORT,)--CONNECTION USERSELECT CURRENT_USER();DROP USER CURRENT_USER();SYNC_SLAVE_WITH_MASTER;==== TEST FOR RENAME USER ====--SOURCE INCLUDEMASTER-SLAVE.INCCREATE USER USER@LOCALHOST;GRANT ALL ON *.* TO USER@LOCALHOST;GRANT GRANT OPTION ON *.* TO USER@LOCALHOST;--CONNECT (USER,127.0.0.1,USER,,TEST,$MASTER_MYPORT,)--CONNECTION USERSELECT CURRENT_USER();RENAME USER CURRENT_USER() TO OTHER_USER@LOCALHOST;SYNC_SLAVE_WITH_MASTER;==== TEST FOR ALTER EVENT ====--SOURCE INCLUDEMASTER-SLAVE.INCCREATE DEFINER=CURRENT_USER() EVENT E1 ON SCHEDULE EVERY 10 YEAR DO INSERT INTO T1 VALUES (1);ALTER DEFINER=CURRENT_USER() EVENT E1 ON SCHEDULE EVERY 10 YEAR DO INSERT INTO T1 VALUES (1);SHOW EVENTS;--SYNC_SLAVE_WITH_MASTERSHOW EVENTS; ","SUMMARY":"BUGU00A0#48321  CURRENT_USER() INCORRECTLY REPLICATED FOR DROPRENAME USER;REVOKE;GRANT;ALTER EV ","CLASS":1}
{"ID_DEFECT":"48506","DESCRIPTION":"     [3 NOV 2009 14:10]   SVEN SANDBERG          DESCRIPTION:A SMALL TEST CASE FAILS WITH THE FOLLOWING STACK TRACE:#0  0XB80D7430 IN __KERNEL_VSYSCALL ()#1  0XB80B21C8 IN PTHREAD_KILL () FROM LIBTLSI686CMOVLIBPTHREAD.SO.0#2  0X08741D79 IN MY_WRITE_CORE (SIG=11) AT STACKTRACE.C:310#3  0X082C6DE4 IN HANDLE_SEGFAULT (SIG=11) AT MYSQLD.CC:2570#4  <SIGNAL HANDLER CALLED>#5  0X0844A1C2 IN TMP_USE_ALL_COLUMNS (TABLE=0X93E72C8, BITMAP=0X0) AT TABLE.H:1680#6  0X0845D4D8 IN STORE_CREATE_INFO (THD=0X93B7098, TABLE_LIST=0X9408D80, PACKET=0XB75A5198, CREATE_INFO_ARG=0XB75A6368, SHOW_DATABASE=FALSE) AT SQL_SHOW.CC:1272#7  0X0843C0C4 IN MYSQL_CREATE_LIKE_TABLE (THD=0X93B7098, TABLE=0X9408D80, SRC_TABLE=0X9408F88, CREATE_INFO=0XB75A6368) AT SQL_TABLE.CC:5424#8  0X082DB188 IN MYSQL_EXECUTE_COMMAND (THD=0X93B7098) AT SQL_PARSE.CC:2722#9  0X082E3791 IN MYSQL_PARSE (THD=0X93B7098, INBUF=0X9408CC0 CREATE TABLE IF NOT EXISTS T LIKE T3, LENGTH=36, FOUND_SEMICOLON=0XB75A7080) AT SQL_PARSE.CC:5963#10 0X082E45B5 IN DISPATCH_COMMAND (COMMAND=COM_QUERY, THD=0X93B7098, PACKET=0X93DBD29 CREATE TABLE IF NOT EXISTS T LIKE T3, PACKET_LENGTH=36) AT SQL_PARSE.CC:1224#11 0X082E5B30 IN DO_COMMAND (THD=0X93B7098) AT SQL_PARSE.CC:865#12 0X082D0B33 IN HANDLE_ONE_CONNECTION (ARG=0X93B7098) AT SQL_CONNECT.CC:1127#13 0XB80AD4FF IN START_THREAD () FROM LIBTLSI686CMOVLIBPTHREAD.SO.0#14 0XB7FB249E IN CLONE () FROM LIBTLSI686CMOVLIBC.SO.6HOW TO REPEAT:==== TEST FILE MYSQL-TESTSUITERPLRPL_BUG.TEST ====CREATE TABLE T1 SELECT 1 A;CREATE TEMPORARY TABLE T3 SELECT 3 A;CREATE VIEW T AS SELECT * FROM T1;CREATE TABLE IF NOT EXISTS T LIKE T3;--EXIT--SOURCE INCLUDEHAVE_LOG_BIN.INC==== END OF TEST FILE ====THE TEST DOES NOT CRASH IF I TAKE AWAY --SOURCE INCLUDEHAVE_LOG_BIN.INC. THIS IS FUNNY SINCE THE LINE APPEARS AFTER EXIT. THAT SUGGESTS THE FAILURE HAS SOMETHING TO DO WITH MYSQLTEST.ON THE OTHER HAND, THE TEST DOES NOT FAIL IF I MOVE IT AWAY FROM THE RPL SUITE AND INTO THE MAIN SUITE. THAT SUGGESTS IT EITHER HAS SOMETHING TO DO WITH MYSQLTEST OR WITH REPLICATION.THE TEST ALSO DOES NOT FAIL IF I CHANGE THE CREATE COMMANDS SLIGHTLY. THAT SUGGESTS IT HAS SOMETHING TO DO WITH CREATE TABLE. ","SUMMARY":"BUGU00A0#48506  CRASH IN CREATE TABLE <EXISTING_VIEW> IF NOT EXISTS LIKE <TMP_TBL> WITH RBL ","CLASS":1}
{"ID_DEFECT":"49479","DESCRIPTION":"     [6 DEC 2009 0:37]   LUIS SOARES          DESCRIPTION:IF A TABLE CONTAINS A FIELD NAME THAT MUST BE ESCAPED (EG, `KEY`INT), LOADING DATA INTO THAT TABLE, USING LOAD DATA INFILE, WILLBREAK REPLICATION.IF LOGGING IN MIXED OR STATEMENT MODE, THE MASTER WILL BINLOG ALOAD DATA EVENT WITHOUT ESCAPING THE FIELD NAMES. CONSEQUENTLY,THE SLAVE WILL STOP WITH A SYNTAX ERROR:LAST_SQL_ERRORTERROR YOU HAVE AN ERROR IN YOUR SQL SYNTAX; CHECK THE MANUAL THAT CORRESPONDS TO YOUR MYSQL SERVER VERSION FOR THE RIGHT SYNTAX TO USE NEAR KEY, C2) AT LINE 1 ON QUERY. DEFAULT DATABASE: TEST. QUERY: LOAD DATA INFILE ....TMPSQL_LOAD-2-1-1.DATA REPLACE INTO  TABLE `T` FIELDS TERMINATED BY T ENCLOSED BY  ESCAPED BY  LINES TERMINATED BY  (KEY, C2)EXAMINING THE MASTER BINLOG, WE FIND THE FOLLOWING EVENT:LOAD DATA LOCAL INFILE TMPSQL_LOAD_MB-1-7F REPLACE INTO TABLE `T` FIELDS TERMINATED BY T ENCLOSED BY  ESCAPED BY  LINES TERMINATED BY  (KEY, C2)NOTICE THAT THE FIELD NAMES ARE NOT ESCAPED AS THEY SHOULD BE,ESPECIALLY FOR THE KEY FIELD WHICH SHOULD HAVE BEEN WRITTEN AS`KEY`.I FOUND THIS IN:  - TREE: MYSQL-5.1-BUGTEAM  - REVID: DAVI.ARNAUT@SUN.COM-20091204153658-09W7L2EDGSZT8QE7RUNNING THE TEST CASE (SEE HOW TO REPEAT) ON MTR, REPORTS MYSQL VERSION:  - MYSQL VERSION 5.1.42HOW TO REPEAT:1. BZR CLONE -R REVID:DAVI.ARNAUT@SUN.COM-20091204153658-09W7L2EDGSZT8QE7 $YOUR_LOCAL_MYSQL_REPOMYSQL-5.1-BUGTEAM2. CD MYSQL-5.1-BUGTEAM3. .BUILDCOMPILE-PENTIUM64-DEBUG-MAX4. CD MYSQL-TEST5. CREATE A TEST CASE WITH THE FOLLOWING CONTENT:-- SOURCE INCLUDEMASTER-SLAVE.INC-- SOURCE INCLUDEHAVE_BINLOG_FORMAT_MIXED_OR_STATEMENT.INCCREATE TABLE T (`KEY` INT, C2 INT);LOAD DATA INFILE ....STD_DATALOADDATA5.DAT REPLACE INTO TABLE `T`;DROP TABLE T;-- SYNC_SLAVE_WITH_MASTER-- EXIT6. .MTR <YOUR_TEST_FILE_NAME>AFTER THIS, YOUR TEST CASE SHOULD FAIL WITH THE SLAVE SQL THREAD EXHIBITING A SYNTAX ERROR.SUGGESTED FIX:=== MODIFIED FILE SQLSQL_LOAD.CC--- SQLSQL_LOAD.CCT2009-11-28 04:43:16 +0000+++ SQLSQL_LOAD.CCT2009-12-05 02:04:32 +0000@@ -640,7 +640,11 @@       IF (N++)         PFIELDS.APPEND(, );       IF (ITEM->NAME)+      +        PFIELDS.APPEND(`);         PFIELDS.APPEND(ITEM->NAME);+        PFIELDS.APPEND(`);+             ELSE         ITEM->PRINT(&PFIELDS, QT_ORDINARY);     @@ -660,7 +664,9 @@       VAL= LV++;       IF (N++)         PFIELDS.APPEND(, );+      PFIELDS.APPEND(`);       PFIELDS.APPEND(ITEM->NAME);+      PFIELDS.APPEND(`);       PFIELDS.APPEND(=);       VAL->PRINT(&PFIELDS, QT_ORDINARY);      ","SUMMARY":"BUGU00A0#49479  SLAVE STOPS WITH SYNTAX ERROR: LOAD DATA EVENT WITHOUT ESCAPED FIELD NAMES ","CLASS":1}
{"ID_DEFECT":"49522","DESCRIPTION":"     [8 DEC 2009 1:33]   ARJEN LENTZ          DESCRIPTION:A TRANSACTION APPEARS TO BE INCORRECTLY TRANSPORTED IN REPLICATION WHEN THE MASTER IS MYISAM AND THE SLAVE IS INNODB.IT WORKS FINE IN 5.0.87, BUT FAILS IN 5.1.39HOW TO REPEAT:MYSQL 5.1.39MASTERSLAVE CONFIGURATION WITH FOLLOWING TABLE ON MASTER:CREATE TABLE `MAILERTYPE` (`ID` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,`ACTIVE` TINYINT(1) UNSIGNED DEFAULT NULL,`EN_US` VARCHAR(300) DEFAULT NULL,`EMAIL_ID` INT(10) UNSIGNED NOT NULL,`MIN_RESEND_HOURS` INT(10) UNSIGNED DEFAULT NULL,PRIMARY KEY (`ID`)) ENGINE=MYISAM DEFAULT CHARSET=LATIN1;ON SLAVE THE TABLE IS CONVERTED TO INNODB:ALTER TABLE MAILERTYPE ENGINE=INNODB;ON MASTER:SET AUTOCOMMIT=0;INSERT INTO MAILERTYPE (ACTIVE, EN_US, EMAIL_ID, MIN_RESEND_HOURS, ID)VALUES (1, OA BOMBS19, 13, NULL, 1501580);COMMIT;ROLLBACK;SET AUTOCOMMIT=1;RESULT ON MASTER:MYSQL> SELECT * FROM MAILERTYPE;+---------+--------+------------+----------+------------------+| ID | ACTIVE | EN_US | EMAIL_ID | MIN_RESEND_HOURS |+---------+--------+------------+----------+------------------+| 1501580 | 1 | OA BOMBS19 | 13 | NULL |+---------+--------+------------+----------+------------------+1 ROW IN SET (0.00 SEC)RESULT ON SLAVE:SELECT * FROM MAILERTYPE;EMPTY SET (0.00 SEC) ","SUMMARY":"BUGU00A0#49522  REPLICATION PROBLEM WITH MIXED MYISAMINNODB ","CLASS":1}
{"ID_DEFECT":"50095","DESCRIPTION":"     [5 JAN 2010 18:52]   MATTHIAS LEICH          DESCRIPTION:MY SCRIPT:==========--DISABLE_ABORT_ON_ERROR--SOURCE INCLUDEMASTER-SLAVE.INCDELIMITER |;CREATE EVENT E1 ON SCHEDULE EVERY 10 SECOND DO SELECT 1;GARBAGE|DELIMITER ;|CONNECTION MASTER;--SYNC_SLAVE_WITH_MASTEREXIT;RESULT ON MYSQL-NEXT-MR REVNO: 2954 2010-01-04VERSION: 5.5.99-M3==============================================....MYSQL-TEST-RUN --MYSQLD=--BINLOG-FORMAT=ROW RPL_ML11...TEST                                RESULT   TIME (MS)------------------------------------------------------...MAIN.RPL_ML11                            [ FAIL ]        TEST ENDED AT 2010-01-05 19:01:52CURRENT_TEST: MAIN.RPL_ML11=== SHOW MASTER STATUS ===....============================= SHOW SLAVE STATUS ===...LAST_ERROR      ERROR YOU HAVE AN ERROR IN YOUR SQL SYNTAX; CHECK THE MANUAL THAT CORRESPONDS TO YOUR MYSQL SERVER VERSION FOR THE RIGHT SYNTAX TO USE NEAR E1 AT LINE 1 ON QUERY. DEFAULT DATABASE: TEST. QUERY: CREATE DEFINER=`ROOT`@`LOCALHOST` EVENT E1 ON SCHEDULE EVERY 10 SECOND DO SELECT 1;UFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDE1...ANALYZE: SYNC_WITH_MASTERMYSQLTEST: AT LINE 9: SYNC_SLAVE_WITH_MASTER FAILED: SELECT MASTER_POS_WAIT(MASTER-BIN.000001, 278, 300) RETURNED NULL INDICATING SLAVE SQL THREAD FAILUREWHY IS THE OUTCOME OF THE TEST BAD:===================================0. IN CASE THE GARBAGE DOES NOT EXIST ALL,   THE BINLOG CONTENT IS:   -----------------------------------------   USE `TEST`; CREATE DEFINER=`ROOT`@`LOCALHOST` EVENT E1 ON SCHEDULE EVERY 10 SECOND DO SELECT 1   EFFECT IS:   ----------   - EVENT GETS CREATED   - REPLICATION DOES NOT STOP1. IN CASE THE LINE DIRECT BEFORE GARBAGE IS:   --------------------------------------------      CREATE EVENT E1 ON SCHEDULE EVERY 10 SECOND DO SELECT 1;   BINLOG CONTENT IS:   ------------------   USE `TEST`; CREATE DEFINER=`ROOT`@`LOCALHOST` EVENT E1 ON SCHEDULE EVERY 10 SECOND DO SELECT 1;UFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDUFFFDE1     <== THERE IS GARBAGE AT LINE END   EFFECT IS:   ----------   - EVENT GETS CREATED   - ERROR 1064 FOR GARBAGE   - REPLICATION STOPS2. LINE DIRECT BEFORE GARBAGE IS:   --------------------------------   CREATE PROCEDURE P1 () SELECT 1;   BINLOG CONTENT IS:   ------------------   USE `TEST`; CREATE DEFINER=`ROOT`@`LOCALHOST` PROCEDURE `P1`()   EFFECT IS:   ----------   - PROCEDURE GETS CREATED   - ERROR 1064 FOR GARBAGE   - REPLICATION DOES NOT STOPMY TREES WHERE I OBSERVED THIS BUG==================================- MYSQL-5.1-BUGTEAM  REVNO: 3302 2009-12-31  VERSION: 5.1.42- MYSQL-NEXT-MR   REVNO: 2954 2010-01-04  VERSION: 5.5.99-M3- MYSQL-6.0-CODEBASE-BUGFIXING  REVNO: 3806 2010-01-04  VERSION: 6.0.14-ALPHA- ALL VERSIONS WERE GENERATED WITH  .BUILDCOMPILE-PENTIUM64-DEBUG-MAXHOW TO REPEAT:SEE ABOVE ","SUMMARY":"BUGU00A0#50095  MULTI STATEMENT INCLUDING CREATE EVENT CAUSES ROTTEN BINLOG ENTRY ","CLASS":1}
{"ID_DEFECT":"50407","DESCRIPTION":"     [18 JAN 2010 11:11]   SVEN SANDBERG          DESCRIPTION:WHEN MYSQLBINLOG IS GIVEN THE --DATABASE=X FLAG, IT ONLY PRINTS STATEMENTS EXECUTED WHEN THE DEFAULT DATABASE SELECTED BY USE WAS X. OTHER STATEMENTS ARE SUPPRESSED.ONE EXCEPTION IS BEGIN, COMMIT, ROLLBACK, AND ROLLBACK TO SAVEPOINT: ALL THESE STATEMENTS ARE PRINTED EVEN IF THE DEFAULT DATABASE SELECTED BY USE WAS NOT X. SINCE ROLLBACK TO SAVEPOINT IS PRINTED BUT SAVEPOINT IS NOT PRINTED, THE OUTPUT FROM MYSQLBINLOG WILL BE BAD: WHEN THE ROLLBACK TO SAVEPOINT STATEMENT IS EXECUTED, MYSQLD WILL ISSUE ERROR ER_SP_DOES_NOT_EXIST (1305) SAVEPOINT S DOES NOT EXIST.HOW TO REPEAT:--SOURCE INCLUDEHAVE_BINLOG_FORMAT_STATEMENT.INC--SOURCE INCLUDEHAVE_INNODB.INCUSE TEST;CREATE TABLE T1 (A INT);CREATE TABLE T2 (A INT) ENGINE = INNODB;BEGIN;  INSERT INTO T1 VALUES (1);  INSERT INTO T2 VALUES (1);  SAVEPOINT S;    INSERT INTO T1 VALUES (2);    INSERT INTO T2 VALUES (2);  ROLLBACK TO S;COMMIT;--LET $MYSQLD_DATADIR= `SELECT @@DATADIR`--EXEC $MYSQL_BINLOG --DATABASE=OTHER --FORCE-IF-OPEN $MYSQLD_DATADIRMASTER-BIN.000001SUGGESTED FIX:=== MODIFIED FILE CLIENTMYSQLBINLOG.CC--- CLIENTMYSQLBINLOG.CCT2009-11-03 00:52:57 +0000+++ CLIENTMYSQLBINLOG.CCT2010-01-18 11:09:49 +0000@@ -731,6 +731,7 @@ EXIT_STATUS PROCESS_EVENT(PRINT_EVENT_IN     CASE QUERY_EVENT:       IF (STRNCMP(((QUERY_LOG_EVENT*)EV)->QUERY, BEGIN, 5) &&            STRNCMP(((QUERY_LOG_EVENT*)EV)->QUERY, COMMIT, 6) && +          STRNCMP(((QUERY_LOG_EVENT*)EV)->QUERY, SAVEPOINT, 9) &&           STRNCMP(((QUERY_LOG_EVENT*)EV)->QUERY, ROLLBACK, 8) &&             SHALL_SKIP_DATABASE(((QUERY_LOG_EVENT*)EV)->DB))         GOTO END; ","SUMMARY":"BUGU00A0#50407  MYSQLBINLOG --DATABASE=X PRODUCES BAD OUTPUT FOR SAVEPOINTS ","CLASS":1}
{"ID_DEFECT":"51226","DESCRIPTION":"     [16 FEB 2010 23:18]   VICTOR KIRKEBO          DESCRIPTION:WHEN USING TEMPORARY TABLES THE BINARY LOG NEEDS TO INSERT @@SESSION.PSEUDO_THREAD_ID FOR THREADS THAT ARE USING TEMPORARY TABLES EACH TIME A SWITCH HAPPENS BETWEEN TWO THREADS THAT ARE BOTH USING TEMPORARY TABLES.IN THE HOW-TO-REPEAT SECTION BELOW IS SHOWN THAT IF A THREAD ISSUES A FAILING STATEMENT BEFORE EXIT THEN THE BINARY LOG WILL BE MISSING THE @@SESSION.PSEUDO_THREAD_ID FOR THAT THREAD. THIS IN TURN CAN CAUSE THE BINARY LOG TO BE MISSING @@SESSION.PSEUDO_THREAD_ID FOR THE NEXT THREAD THAT TRIES TO DO SOMETHING WITH A TEMPORARY TABLE. A SUBSEQUENT REPLAY OF THE BINARY LOG WILL THEN FAIL WITH ERROR 1146 (42S02) AT LINE NN: TABLE TTTT DOESNT EXIST.HOW TO REPEAT:CLIENT #1---------MYSQL> CREATE DATABASE MYDB;QUERY OK, 1 ROW AFFECTED (0.00 SEC)MYSQL> USE MYDB;DATABASE CHANGEDMYSQL> CREATE TEMPORARY TABLE TMP(I INT);QUERY OK, 0 ROWS AFFECTED (0.01 SEC)CLIENT #2: ---------MYSQL> USE MYDB;DATABASE CHANGEDMYSQL> CREATE TEMPORARY TABLE TMP(I INT);QUERY OK, 0 ROWS AFFECTED (0.00 SEC)CLIENT #1---------HERE WE PROVOKE AN ERROR ON PURPOSE BEFORE EXITING. I DONT THINK IT MATTERS WHAT TYPE OF ERROR WE GET HERE. IVE TRIED LOCK WAIT TIMEOUT ERRORS AND EVEN SYNTAX ERRORS. THE RESULT IS THAT UPON EXIT @@SESSION.PSEUDO_THREAD_ID WILL BE MISSING IN THE BINARY LOG FOR THE DROP TEMPORARY TABLE STATEMENT FOR CLIENT #1---------MYSQL> CREATE TEMPORARY TABLE TMP(I INT);ERROR 1050 (42S01): TABLE TMP ALREADY EXISTSMYSQL> EXIT;BYECLIENT #2---------THE ERROR THAT CLIENT #1 CAUSED ABOVE HAS THE EFFECT THAT THE BINARY LOG FOR THE INSERT STATEMENT BELOW WILL BE MISSING @@SESSION.PSEUDO_THREAD_ID WHICH IN TURN WILL MAKE A MYSQLBINLOG REPLAY FAIL WITH ERROR 1146 (42S02) AT LINE NN: TABLE MYDB.TMP DOESNT EXIST---------MYSQL> INSERT INTO TMP VALUES(1);QUERY OK, 1 ROW AFFECTED (0.00 SEC)MYSQL> EXITBYEREPLAYING THE BINARY LOG:----------------------------MYSQLBINLOG MASTER-BIN.000001 | MYSQL ERROR 1146 (42S02) AT LINE 49: TABLE MYDB.TMP DOESNT EXISTHERES THE BINARY LOG.THREAD_ID=25 IS CLIENT #1 AND THREAD_ID=26 IS CLIENT #2:--------------------------------------------------------#100216 22:58:11 SERVER ID 1  END_LOG_POS 12474137      QUERY   THREAD_ID=25    EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1266357491*!*;SET @@SESSION.SQL_MODE=0*!*;CREATE DATABASE MYDB*!*;# AT 12474137#100216 23:01:02 SERVER ID 1  END_LOG_POS 12474233      QUERY   THREAD_ID=25    EXEC_TIME=0     ERROR_CODE=0USE MYDB*!*;SET TIMESTAMP=1266357662*!*;SET @@SESSION.PSEUDO_THREAD_ID=25*!*;CREATE TEMPORARY TABLE TMP(I INT)*!*;# AT 12474233#100216 23:01:31 SERVER ID 1  END_LOG_POS 12474329      QUERY   THREAD_ID=26    EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1266357691*!*;SET @@SESSION.PSEUDO_THREAD_ID=26*!*;CREATE TEMPORARY TABLE TMP(I INT)*!*;# AT 12474329#100216 23:02:43 SERVER ID 1  END_LOG_POS 12474440      QUERY   THREAD_ID=25    EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1266357763*!*;*!C UTF8 **!*;SET @@SESSION.CHARACTER_SET_CLIENT=33,@@SESSION.COLLATION_CONNECTION=8,@@SESSION.COLLATION_SERVER=8*!*;DROP *!40005 TEMPORARY * TABLE IF EXISTS `TMP`*!*;# AT 12474440#100216 23:02:52 SERVER ID 1  END_LOG_POS 12474528      QUERY   THREAD_ID=26    EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1266357772*!*;*!C LATIN1 **!*;SET @@SESSION.CHARACTER_SET_CLIENT=8,@@SESSION.COLLATION_CONNECTION=8,@@SESSION.COLLATION_SERVER=8*!*;INSERT INTO TMP VALUES(1)*!*;# AT 12474528#100216 23:02:54 SERVER ID 1  END_LOG_POS 12474639      QUERY   THREAD_ID=26    EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1266357774*!*;*!C UTF8 **!*;SET @@SESSION.CHARACTER_SET_CLIENT=33,@@SESSION.COLLATION_CONNECTION=8,@@SESSION.COLLATION_SERVER=8*!*;DROP *!40005 TEMPORARY * TABLE IF EXISTS `TMP`*!*;DELIMITER ;# END OF LOG FILEROLLBACK * ADDED BY MYSQLBINLOG *; ","SUMMARY":"BUGU00A0#51226  MYSQLBINLOG REPLAY: ERROR 1146 WHEN USING TEMP TABLES + FAILING STATEMENTS  ","CLASS":1}
{"ID_DEFECT":"51251","DESCRIPTION":"     [17 FEB 2010 18:46]   MATTHIAS LEICH          DESCRIPTION:MY SCRIPT:------------SOURCE INCLUDEMASTER-SLAVE.INC--SOURCE INCLUDEHAVE_INNODB.INCSET SESSION BINLOG_FORMAT = ROW;CREATE TABLE `T1` ( PK INT , PRIMARY KEY (PK)) ENGINE=INNODB;CREATE TEMPORARY TABLE IF NOT EXISTS  T2 LIKE T1;TRUNCATE TABLE TEST . T2;--CONNECTION MASTER--SYNC_SLAVE_WITH_MASTERRESULT ON 5.1.45MYSQL-5.1-BUGTEAM REVNO: 3345 2010-02-17----------------------------------------.MYSQL-TEST-RUN.PL --MYSQLD=--BINLOG-FORMAT=ROW --RECORD --NO-CHECK-TESTCASES --SKIP-NDBCLUSTER --MEM  TRPL_ML15.TEST...MAIN.RPL_ML15                            [ FAIL ]...=== SHOW SLAVE STATUS ===---- 1. ----...LAST_ERRNO      1146LAST_ERROR      ERROR TABLE TEST.T2 DOESNT EXIST ON QUERY. DEFAULT DATABASE: TEST. QUERY: TRUNCATE TABLE TEST . T2THIS IS NOT SURPRISING BECAUSE THE BINARY LOG IS INCOMPLETE.SHOW BINLOG EVENTS IN MASTER-BIN.000001;LOG_NAME        POS     EVENT_TYPE      SERVER_ID       END_LOG_POS     INFOMASTER-BIN.000001       4       FORMAT_DESC     1       106     SERVER VER: 5.1.45-DEBUG-LOG, BINLOG VER: 4MASTER-BIN.000001       106     QUERY   1       229     USE `TEST`; CREATE TABLE `T1` ( PK INT , PRIMARY KEY (PK)) ENGINE=INNODBMASTER-BIN.000001       229     QUERY   1       316     USE `TEST`; TRUNCATE TABLE TEST . T2   <== TRUNCATING A TEMPORARY TABLE WHERE THE       THE CREATE TEMPORARY TABLE .. IS ALREADY       MISSING CANNOT WORK.THE PROBLEM DISAPPEARS IF I- USE MYISAM INSTEAD OF INNODBOR- USE SESSION BINLOG_FORMAT = STATEMENT OR ROWOR- LET T2 BE A NON TEMPORARY TABLEWE HAVE THE SAME PROBLEM IN5.5.99-M3MYSQL-NEXT REVNO: 3101 2010-02-16THERE ARE SEVERAL BUGS FOR REPLICATION, TRUNCATE ANDINNODB BUT NONE OF THEM SEEMS TO MATCH MY SCENARIO.HOW TO REPEAT:SEE ABOVE.MYSQL-TEST-RUN.PL --MYSQLD=--BINLOG-FORMAT=ROW --RECORD --NO-CHECK-TESTCASES --SKIP-NDBCLUSTER TRPL_ML15.TEST ","SUMMARY":"BUGU00A0#51251  WRONG BINLOGGING IN CASE OF TRUNCATE <TEMPORARY INNODB TABLE> ","CLASS":1}
{"ID_DEFECT":"51987","DESCRIPTION":"     [12 MAR 2010 11:45]   AXEL SCHWENKE          DESCRIPTION:A FAILED REVOKE STATEMENT IS LOGGED WITH ERROR=0 AND THUS CAUSES THE SLAVE TO STOP WHEN IT FAILS THERE TOO.HOW TO REPEAT:ON MASTER:GRANT ALL ON *.* TO FOO@1.2.3.4;QUERY OK, 0 ROWS AFFECTED (0,00 SEC)REVOKE ALL PRIVILEGES, GRANT OPTION FROM FOO;ERROR 1269 (HY000): CANT REVOKE ALL PRIVILEGES FOR ONE OR MORE OF THE REQUESTED USERSCAUSES ON SLAVE:SHOW SLAVE STATUSSLAVE_SQL_RUNNING: NOLAST_SQL_ERRNO: 1269LAST_SQL_ERROR: ERROR CANT REVOKE ALL PRIVILEGES FOR ONE OR MORE OF THE REQUESTED USERS ON QUERY. DEFAULT DATABASE: . QUERY: REVOKE ALL PRIVILEGES, GRANT OPTION FROM FOOBINLOG:# AT 106#100312 12:38:05 SERVER ID 1  END_LOG_POS 198   QUERY   THREAD_ID=1     EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1268393885*!*;SET @@SESSION.PSEUDO_THREAD_ID=1*!*;SET @@SESSION.FOREIGN_KEY_CHECKS=1, @@SESSION.SQL_AUTO_IS_NULL=1, @@SESSION.UNIQUE_CHECKS=1, @@SESSION.AUTOCOMMIT=1*!*;SET @@SESSION.SQL_MODE=0*!*;SET @@SESSION.AUTO_INCREMENT_INCREMENT=1, @@SESSION.AUTO_INCREMENT_OFFSET=1*!*;*!C LATIN1 **!*;SET @@SESSION.CHARACTER_SET_CLIENT=8,@@SESSION.COLLATION_CONNECTION=8,@@SESSION.COLLATION_SERVER=8*!*;SET @@SESSION.LC_TIME_NAMES=0*!*;SET @@SESSION.COLLATION_DATABASE=DEFAULT*!*;GRANT ALL ON *.* TO FOO@1.2.3.4*!*;# AT 198#100312 12:38:21 SERVER ID 1  END_LOG_POS 303   QUERY   THREAD_ID=1     EXEC_TIME=0     ERROR_CODE=0SET TIMESTAMP=1268393901*!*;REVOKE ALL PRIVILEGES, GRANT OPTION FROM FOO*!*;DELIMITER ;# END OF LOG FILESUGGESTED FIX:THE STATEMENT YIELDS ERROR 1269 ON BOTH MASTER AND SLAVE. IT SHOULD ALSO BE LOGGED WITH THIS ERROR. ","SUMMARY":"BUGU00A0#51987  REVOKE PRIVILEGES LOGS WRONG ERROR CODE ","CLASS":1}
{"ID_DEFECT":"52868","DESCRIPTION":"     [15 APR 2010 21:03]   MATTHIAS LEICH          DESCRIPTION:MY SCRIPT:------------SOURCE INCLUDEHAVE_BINLOG_FORMAT_ROW.INC--SOURCE INCLUDEMASTER-SLAVE.INC--DISABLE_WARNINGSDROP TABLE IF EXISTS T1;--ENABLE_WARNINGSCREATE TABLE T1 (  F10 BIGINT(20) DEFAULT 0,  F11 BIGINT(20) DEFAULT 0,  F12 BIGINT(20) DEFAULT 0,  F13 VARCHAR(1) DEFAULT ,  F1 BIGINT(20) DEFAULT 0,  F4 BIGINT(20) DEFAULT 0,  F2 BIGINT(20) DEFAULT 0,  F3 BIGINT(20) DEFAULT 0) ENGINE=MYISAM DEFAULT CHARSET=LATIN1;INSERT INTO T1 ( F1, F2 ) VALUES ( 1   , 35 );INSERT INTO T1 ( F1, F2 ) VALUES ( NULL, 35 );UPDATE T1 SET F1 = A;SELECT ON MASTER,F1,F2 FROM T1;--SYNC_SLAVE_WITH_MASTER--CONNECTION SLAVESELECT ON SLAVE,F1,F2 FROM T1;--CONNECTION MASTERDROP TABLE IF EXISTS T1;RESULT ON 5.1.47 (MYSQL-5.1 REVNO: 3446 2010-04-12):----------------------------------------------------STOP SLAVE;DROP TABLE IF EXISTS T1,T2,T3,T4,T5,T6,T7,T8,T9;RESET MASTER;RESET SLAVE;DROP TABLE IF EXISTS T1,T2,T3,T4,T5,T6,T7,T8,T9;START SLAVE;DROP TABLE IF EXISTS T1;CREATE TABLE T1 (F10 BIGINT(20) DEFAULT 0,F11 BIGINT(20) DEFAULT 0,F12 BIGINT(20) DEFAULT 0,F13 VARCHAR(1) DEFAULT ,F1 BIGINT(20) DEFAULT 0,F4 BIGINT(20) DEFAULT 0,F2 BIGINT(20) DEFAULT 0,F3 BIGINT(20) DEFAULT 0) ENGINE=MYISAM DEFAULT CHARSET=LATIN1;INSERT INTO T1 ( F1, F2 ) VALUES ( 1   , 35 );INSERT INTO T1 ( F1, F2 ) VALUES ( NULL, 35 );UPDATE T1 SET F1 = A;WARNINGS:WARNINGT1366TINCORRECT INTEGER VALUE: A FOR COLUMN F1 AT ROW 1WARNINGT1366TINCORRECT INTEGER VALUE: A FOR COLUMN F1 AT ROW 2   <== THESE WARNINGS ARE OK.SELECT ON MASTER,F1,F2 FROM T1;ON MASTERTF1TF2ON MASTERT0T35ON MASTERT0T35   <== THIS RESULT IS OK.SELECT ON SLAVE,F1,F2 FROM T1;ON SLAVETF1TF2ON SLAVET0T35ON SLAVETNULLT35   <== WHY IS F1 NULL FOR THE SECOND ROW?       THE REPLICATION IS OUT OF SYNC.DROP TABLE IF EXISTS T1;I WILL ADD RESULTS FOR VERSION 5.1+ SOON.HOW TO REPEAT:.MTR --MYSQLD=--BINLOG-FORMAT=ROW RPL_ML1 ","SUMMARY":"BUGU00A0#52868  WRONG HANDLING OF NULL VALUE DURING UPDATE, REPLICATION OUT OF SYNC ","CLASS":1}
{"ID_DEFECT":"53560","DESCRIPTION":"     [11 MAY 2010 11:52]   ALFRANIO CORREIA          DESCRIPTION:IF THERE IS AN ON-GOING TRANSACTION AND A TEMPORARY TABLE IS CREATED OR DROPPED, ANY FAILED STATEMENT THAT FOLLOWS THE CREATE OR DROP COMMANDS TRIGGERS A ROLLBACK AND BY CONSEQUENCE THE SLAVE WILL GO OUT SYNC BECAUSE THE BINARY LOG WILL HAVE A WRONG SEQUENCE OF EVENTS.HOW TO REPEAT:--- TEST CASE ---CREATE TABLE T_MYISAM (ID INT, NAME VARCHAR(64), PRIMARY KEY (ID)) ENGINE= MYISAM;INSERT INTO T_MYISAM (ID) VALUES(1);CREATE TABLE T_INNODB (ID INT, NAME VARCHAR(64)) ENGINE= INNODB;INSERT INTO T_INNODB (ID) VALUES(1);BEGIN;INSERT INTO T_INNODB(ID) VALUES(2);INSERT INTO T_MYISAM(ID) VALUES(3);CREATE TEMPORARY TABLE X (ID INT);--ERROR 1062INSERT INTO T_MYISAM(ID) VALUES(4),(1);INSERT INTO T_INNODB(ID) VALUES(5);COMMIT;--- RESULT ---SELECT * FROM T_INNODB;ID     NAME1      NULL2      NULL5      NULLSELECT * FROM T_INNODB;ID     NAME1      NULL5      NULLMASTER-BIN.000001       1189    QUERY   1       1257    BEGINMASTER-BIN.000001       1257    QUERY   1       1354    USE `TEST`; INSERT INTO T_INNODB(ID) VALUES(2)MASTER-BIN.000001       1354    QUERY   1       1451    USE `TEST`; INSERT INTO T_MYISAM(ID) VALUES(3)MASTER-BIN.000001       1451    QUERY   1       1547    USE `TEST`; CREATE TEMPORARY TABLE X (ID INT)MASTER-BIN.000001       1547    QUERY   1       1648    USE `TEST`; INSERT INTO T_MYISAM(ID) VALUES(4),(1)MASTER-BIN.000001       1648    QUERY   1       1719    ROLLBACKMASTER-BIN.000001       1719    QUERY   1       1787    BEGINMASTER-BIN.000001       1787    QUERY   1       1884    USE `TEST`; INSERT INTO T_INNODB(ID) VALUES(5)MASTER-BIN.000001       1884    XID     1       1911    COMMIT * XID=30 * ","SUMMARY":"BUGU00A0#53560  CREATE TEMP.DROP TEMP. ARE NOT BINLOGGED CORRECTLY AFTER A FAILED STATEMENT ","CLASS":1}
{"ID_DEFECT":"55263","DESCRIPTION":"     [14 JUL 2010 14:54]   MATTHIAS LEICH          DESCRIPTION:THE ASSERT HAPPENS IN LOG.CC:1744 :INT CHECK_BINLOG_MAGIC(IO_CACHE* LOG, CONST CHAR** ERRMSG)  CHAR MAGIC[4];  DBUG_ASSERT(MY_B_TELL(LOG) == 0); <-------------  IF (MY_B_READ(LOG, (UCHAR*) MAGIC, SIZEOF(MAGIC)))....MYSQL-TEST-RUN.PL  --MEM --MYSQLD=--BINLOG-FORMAT=STATEMENT --REPEAT=2 RPL_CROSS_VERSION --SKIP-NDB --TESTCASE-TIMEOUT=20 --SUITE=RPL RPL_CROSS_VERSIONRESULT ON 5.1.49-DEBUGMYSQL-5.1 REVNO: 3411 2010-07-08 COMPILED WITH DEBUG----------------------------------------------------THREAD 1 (PROCESS 14291):#0  0X00007F234CDEACE6 IN PTHREAD_KILL () FROM LIB64LIBPTHREAD.SO.0#1  0X0000000000B21A1F IN MY_WRITE_CORE (SIG=6) AT STACKTRACE.C:329#2  0X00000000006BD0ED IN HANDLE_SEGFAULT (SIG=6) AT MYSQLD.CC:2571#3  <SIGNAL HANDLER CALLED>#4  0X00007F234BFF35C5 IN RAISE () FROM LIB64LIBC.SO.6#5  0X00007F234BFF4BB3 IN ABORT () FROM LIB64LIBC.SO.6#6  0X00007F234BFEC1E9 IN __ASSERT_FAIL () FROM LIB64LIBC.SO.6#7  0X0000000000791F15 IN CHECK_BINLOG_MAGIC (LOG=0X1212E50, ERRMSG=0X400F1A68) AT LOG.CC:1744#8  0X00000000008721FE IN NEXT_EVENT (RLI=0X1212670) AT SLAVE.CC:4361#9  0X0000000000875BE1 IN EXEC_RELAY_LOG_EVENT (THD=0X123DD78, RLI=0X1212670) AT SLAVE.CC:2260#10 0X0000000000876C48 IN HANDLE_SLAVE_SQL (ARG=0X1211280) AT SLAVE.CC:3080#11 0X00007F234CDE6040 IN START_THREAD () FROM LIB64LIBPTHREAD.SO.0#12 0X00007F234C09408D IN CLONE () FROM LIB64LIBC.SO.6#13 0X0000000000000000 IN ?? ()HOW TO REPEAT:SEE ABOVE ","SUMMARY":"BUGU00A0#55263  ASSERT IN CHECK_BINLOG_MAGIC ","CLASS":1}
{"ID_DEFECT":"55322","DESCRIPTION":"     [16 JUL 2010 15:12]   SVEN SANDBERG          DESCRIPTION:WHEN SHOW BINLOG EVENTS IS EXECUTED, IT INCREASES THE VALUE OF @@SESSION.MAX_ALLOWED_PACKET. THE VALUE IS NOT RESTORED AT THE END OF SHOW BINLOG EVENTS.HOW TO REPEAT:SELECT @@MAX_ALLOWED_PACKET;SHOW BINLOG EVENTS;SELECT @@MAX_ALLOWED_PACKET;SHOW BINLOG EVENTS;SELECT @@MAX_ALLOWED_PACKET;SUGGESTED FIX:1. IT LOOKS STRANGE TO INCREASE MAX_ALLOWED_PACKET IN THE FIRST PLACE. MAXIMUM IS MAXIMUM, AND AUTOMATICALLY INCREASING IT BECAUSE A QUERY MAY RETURN SOMETHING BIGGER DEFATS THE PURPOSE OF HAVING A MAXIMUM. WE SHOULD CONSIDER IF IT IS BETTER TO NOT CHANGE IT AT ALL.2. IF THERE IS A GOOD REASON TO INCREASE MAX_ALLOWED_PACKET, THEN WE SHOULD RESTORE IT AT THE END OF THE STATEMENT. ","SUMMARY":"BUGU00A0#55322  SHOW BINLOG EVENTS INCREASES @@SESSION.MAX_ALLOWED_PACKET ","CLASS":1}
{"ID_DEFECT":"55375","DESCRIPTION":"     [19 JUL 2010 18:35]   SVEN SANDBERG          DESCRIPTION:WHEN THE SLAVE EXECUTES A TRANSACTION THAT IS BIGGER THAN THE LIMIT DETERMINED BY MAX_BINLOG_TRANSACTION_SIZE, THEN IT COREDUMPS.(THE ACTUAL LIMIT IS MUCH BIGGER THAN MAX_BINLOG_TRANSACTION_SIZE. THIS IS PROBABLY ANOTHER BUG.)HOW TO REPEAT:--SOURCE INCLUDEHAVE_BINLOG_FORMAT_STATEMENT.INC--SOURCE INCLUDEHAVE_INNODB.INC--SOURCE INCLUDEMASTER-SLAVE.INCCREATE TABLE T1 (A VARCHAR(100)) ENGINE = INNODB;--SYNC_SLAVE_WITH_MASTERSET GLOBAL MAX_BINLOG_CACHE_SIZE = 4096;STOP SLAVE;START SLAVE;--CONNECTION MASTER--LET $N= 380BEGIN;WHILE ($N)   INSERT INTO T1 VALUES (32BYTE);  --DEC $NCOMMIT;--SYNC_SLAVE_WITH_MASTER ","SUMMARY":"BUGU00A0#55375  TRANSACTION BIGGER THAN MAX_BINLOG_CACHE_SIZE CRASHES SLAVE ","CLASS":1}
{"ID_DEFECT":"55625","DESCRIPTION":"     [29 JUL 2010 12:25]   NIDHI SHROTRIYA          DESCRIPTION:WHILE TESTING WL5370WITH MYSQL-5.1-WL5370RBR BREAKS ON FAILING CREATE TABLE IF NOT EXISTS STMT. DELIMITER |CREATE FUNCTION F1() RETURNS INTBEGIN  INSERT INTO T2 VALUES(1);  INSERT INTO T3 VALUES(1);  RETURN 1;END|DELIMITER ;CREATE TABLE T2(A INT) ENGINE=MYISAM;CREATE TABLE T3(A INT) ENGINE=INNODB;CREATE TABLE T1(UNIQUE(A)) ENGINE=MYISAM SELECT 1 AS A UNION ALL SELECT F1();THROWS DUPLICATE KEY ERROR.RBR BREAKS ON EXECUTING BELOW STMT SAYING TABLE T1 ALREADY EXISTS.CREATE TABLE T1(UNIQUE(A)) ENGINE=INNODB SELECT 1 AS A UNION ALL SELECT F1();HOW TO REPEAT:DELIMITER |CREATE FUNCTION F1() RETURNS INTBEGIN  INSERT INTO T2 VALUES(1);  INSERT INTO T3 VALUES(1);  RETURN 1;END|DELIMITER ;CREATE TABLE T2(A INT) ENGINE=MYISAM;CREATE TABLE T3(A INT) ENGINE=INNODB;CREATE TABLE T1(UNIQUE(A)) ENGINE=MYISAM SELECT 1 AS A UNION ALL SELECT F1();CREATE TABLE T1(UNIQUE(A)) ENGINE=INNODB SELECT 1 AS A UNION ALL SELECT F1(); ","SUMMARY":"BUGU00A0#55625  RBR BREAKS ON FAILING CREATE TABLE  ","CLASS":1}
{"ID_DEFECT":"56118","DESCRIPTION":"     [19 AUG 2010 13:12]   ELENA STEPANOVA          DESCRIPTION:IF A TRANSACTION (AS A GROUP OF BINLOG EVENTS) INCLUDES ONLY CHANGES ON TRANSACTIONAL CHANGES AND CREATE TEMPORARY TABLE, STOP SLAVE DOES NOT WAIT TILL THE END OF THE GROUP, APPARENTLY ASSUMING THAT IT CAN BE SAFELY ROLLED BACK AND RE-APPLIED. BUT ITS NOT TRUE FOR CREATE, SO WHEN AFTER START SLAVE THE GROUP IS RE-PROCESSED, REPLICATION BREAKS WITH ER_TABLE_EXISTS_ERROR.REPRODUCIBLE ON PREVIOUS VERSIONS ALSO.HOW TO REPEAT:--SOURCE INCLUDEMASTER-SLAVE.INC--SOURCE INCLUDEHAVE_INNODB.INC--SOURCE INCLUDEHAVE_BINLOG_FORMAT_MIXED_OR_STATEMENT.INCDROP DATABASE IF EXISTS SLAVE_STOP;CREATE DATABASE SLAVE_STOP;USE SLAVE_STOP;CREATE TABLE SLAVE_STOP.T_DATA ( NUM INT ) ENGINE = INNODB;BEGIN;REPLACE T_DATA VALUES (0);CREATE TEMPORARY TABLE OPERATIONS ( OP VARCHAR(16) ) ENGINE = INNODB;LET $NUM=5000;--ECHO # DOING $NUM INSERTS ON MASTER--ECHO # IT CAN BE REPLACED BY ANY TRANSACTIONAL SEQUENCE OR A STATEMENT--ECHO # LONG ENOUGH FOR WAIT CONDITION TO CATCH; EXCEPT FOR USING SLEEP(),--ECHO # AS IT MIGHT MAKE STOP SLAVE HANG (SEE BUG#56096)--DISABLE_QUERY_LOGWHILE($NUM)TEVAL INSERT INTO T_DATA VALUES ($NUM);T--DEC $NUM--ENABLE_QUERY_LOGDROP TEMPORARY TABLE OPERATIONS;COMMIT;--CONNECTION SLAVELET $SHOW_STATEMENT= SHOW PROCESSLIST;LET $FIELD= INFO;LET $CONDITION= LIKE INSERT%;--SOURCE INCLUDEWAIT_SHOW_CONDITION.INCSTOP SLAVE;--ECHO # ON SLAVE: COUNT IS 0 - CHANGES WERE ROLLED BACKSELECT COUNT(*) FROM SLAVE_STOP.T_DATA;--ECHO # (IT COULD ALSO BE SEEN BY COMPARING RELAY_LOG_POS VALUES)--ECHO # ... BUT THE TEMPORARY TABLE IS STILL OPEN:SHOW STATUS LIKE %TEMP%;START SLAVE;LET $SHOW_STATEMENT= SHOW SLAVE STATUS;LET $FIELD= SLAVE_SQL_RUNNING;LET $CONDITION= = NO;--SOURCE INCLUDEWAIT_SHOW_CONDITION.INCIF ($FOUND)T--VERTICAL_RESULTSTSHOW SLAVE STATUS;T--ECHO # ^^^^T--ECHO # IF WE TRIED SYNC_SLAVE_WITH_MASTER HERE, IT WOULD HAVE FAILED,T--ECHO # BUT IT WOULD PRODUCE A LOT OF NOISE. INSTEAD WE JUSTT--ECHO # WAITED FOR SLAVE SQL THREAD TO ABORT.T# CLEANUP --CONNECTION MASTERDROP DATABASE SLAVE_STOP;--EXIT ","SUMMARY":"BUGU00A0#56118  STOP SLAVE DOES NOT WAIT TILL TRX WITH CREATE TMP TABLE ENDS, REPLICATION ABORTS ","CLASS":1}
{"ID_DEFECT":"59338","DESCRIPTION":"     [6 JAN 2011 19:05]   LEANDRO MORGADO          DESCRIPTION:WHEN USING STATEMENT BASED REPLICATION, AN INSERT ON DUPLICATE KEY UPDATE STATEMENT THAT DOES NOT CHANGE DATA (ROWS .. CHANGED: 0) WILL NOT BE RECORDED IN THE BINARY LOG. HOWEVER, AN SIMILAR UPDATE STATEMENT WILL. THIS INCONSISTENT BEHAVIOUR IS NOT DESIRABLE. HOW TO REPEAT:MASTER [LOCALHOST] MSANDBOX (TEST) > SELECT VERSION();+------------------------------------+| VERSION()                          |+------------------------------------+| 5.1.50-ENTERPRISE-GPL-ADVANCED-LOG |+------------------------------------+1 ROW IN SET (0.00 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > SHOW VARIABLES LIKE BINLOG_FORMAT;+---------------+-----------+| VARIABLE_NAME | VALUE     |+---------------+-----------+| BINLOG_FORMAT | STATEMENT |+---------------+-----------+1 ROW IN SET (0.00 SEC)************************************************************************============ TEST CASE FOR INSERT ON DUPLICATE KEY UPDATE ==============CREATE TABLE T1 (  C1 VARCHAR(15) NOT NULL,  C2 VARCHAR(20) DEFAULT NULL,  C3 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,  PRIMARY KEY (C1)) ENGINE=INNODB DEFAULT CHARSET=LATIN1;INSERT INTO T1(C1, C2) VALUES (A, B);SELECT * FROM  T1;INSERT INTO T1(C1, C2) VALUES (A, B) ON DUPLICATE KEY UPDATE C1=A, C2=B;SELECT * FROM T1;============ RESULT FOR INSERT ON DUPLICATE KEY UPDATE =================MASTER [LOCALHOST] MSANDBOX (TEST) > CREATE TABLE T1 (    ->   C1 VARCHAR(15) NOT NULL,    ->   C2 VARCHAR(20) DEFAULT NULL,    ->   C3 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,    ->   PRIMARY KEY (C1)    -> ) ENGINE=INNODB DEFAULT CHARSET=LATIN1;QUERY OK, 0 ROWS AFFECTED (0.01 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > INSERT INTO T1(C1, C2) VALUES (A, B);QUERY OK, 1 ROW AFFECTED (0.01 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > SELECT * FROM T1;+----+------+---------------------+| C1 | C2   | C3                  |+----+------+---------------------+| A  | B    | 2011-01-06 20:01:26 |+----+------+---------------------+1 ROW IN SET (0.00 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > INSERT INTO T1(C1, C2) VALUES (A, B) ON DUPLICATE KEY UPDATE C1=A, C2=B;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > SELECT * FROM T1;+----+------+---------------------+| C1 | C2   | C3                  |+----+------+---------------------+| A  | B    | 2011-01-06 20:01:26 |+----+------+---------------------+1 ROW IN SET (0.00 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > SHOW BINLOG EVENTS*************************** 1. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 4 EVENT_TYPE: FORMAT_DESC  SERVER_ID: 1END_LOG_POS: 106       INFO: SERVER VER: 5.1.50-ENTERPRISE-GPL-ADVANCED-LOG, BINLOG VER: 4*************************** 2. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 106 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 381       INFO: USE `TEST`; CREATE TABLE T1 (  C1 VARCHAR(15) NOT NULL,  C2 VARCHAR(20) DEFAULT NULL,  C3 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,  PRIMARY KEY (C1)) ENGINE=INNODB DEFAULT CHARSET=LATIN1*************************** 3. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 381 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 449       INFO: BEGIN*************************** 4. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 449 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 552       INFO: USE `TEST`; INSERT INTO T1(C1, C2) VALUES (A, B)*************************** 5. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 552 EVENT_TYPE: XID  SERVER_ID: 1END_LOG_POS: 579       INFO: COMMIT * XID=140 *5 ROWS IN SET (0.00 SEC)CONCLUSION: WE NEVER SEE THE INSERT .. ON DUPLICATE KEY UPDATE STATEMENT IN THE BINLOG.************************************************************************====================== TEST CASE FOR UPDATE ============================CREATE TABLE T1 (  C1 VARCHAR(15) NOT NULL,  C2 VARCHAR(20) DEFAULT NULL,  C3 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,  PRIMARY KEY (C1)) ENGINE=INNODB DEFAULT CHARSET=LATIN1;INSERT INTO T1(C1, C2) VALUES (A, B);SELECT * FROM  T1;UPDATE T1 SET C1=A, C2=B WHERE C1=A AND C2=B;SELECT * FROM T1;====================== RESULT FOR UPDATE ==========================MASTER [LOCALHOST] MSANDBOX (TEST) > CREATE TABLE T1 (    ->   C1 VARCHAR(15) NOT NULL,    ->   C2 VARCHAR(20) DEFAULT NULL,    ->   C3 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,    ->   PRIMARY KEY (C1)    -> ) ENGINE=INNODB DEFAULT CHARSET=LATIN1;QUERY OK, 0 ROWS AFFECTED (0.01 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > INSERT INTO T1(C1, C2) VALUES (A, B);QUERY OK, 1 ROW AFFECTED (0.01 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > SELECT * FROM  T1;+----+------+---------------------+| C1 | C2   | C3                  |+----+------+---------------------+| A  | B    | 2011-01-06 19:58:42 |+----+------+---------------------+1 ROW IN SET (0.00 SEC)-- NOTICE CHANGED:0 BELOWMASTER [LOCALHOST] MSANDBOX (TEST) > UPDATE T1 SET C1=A, C2=B WHERE C1=A AND C2=B;QUERY OK, 0 ROWS AFFECTED (0.00 SEC)ROWS MATCHED: 1  CHANGED: 0  WARNINGS: 0 MASTER [LOCALHOST] MSANDBOX (TEST) > SELECT * FROM T1;+----+------+---------------------+| C1 | C2   | C3                  |+----+------+---------------------+| A  | B    | 2011-01-06 19:58:42 |+----+------+---------------------+1 ROW IN SET (0.00 SEC)MASTER [LOCALHOST] MSANDBOX (TEST) > SHOW BINLOG EVENTS*************************** 1. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 4 EVENT_TYPE: FORMAT_DESC  SERVER_ID: 1END_LOG_POS: 106       INFO: SERVER VER: 5.1.50-ENTERPRISE-GPL-ADVANCED-LOG, BINLOG VER: 4*************************** 2. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 106 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 381       INFO: USE `TEST`; CREATE TABLE T1 (  C1 VARCHAR(15) NOT NULL,  C2 VARCHAR(20) DEFAULT NULL,  C3 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,  PRIMARY KEY (C1)) ENGINE=INNODB DEFAULT CHARSET=LATIN1*************************** 3. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 381 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 449       INFO: BEGIN*************************** 4. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 449 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 552       INFO: USE `TEST`; INSERT INTO T1(C1, C2) VALUES (A, B)*************************** 5. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 552 EVENT_TYPE: XID  SERVER_ID: 1END_LOG_POS: 579       INFO: COMMIT * XID=132 **************************** 6. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 579 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 647       INFO: BEGIN*************************** 7. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 647 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 762       INFO: USE `TEST`; UPDATE T1 SET C1=A, C2=B WHERE C1=A AND C2=B*************************** 8. ROW ***************************   LOG_NAME: MYSQL-BIN.000001        POS: 762 EVENT_TYPE: QUERY  SERVER_ID: 1END_LOG_POS: 831       INFO: COMMIT8 ROWS IN SET (0.00 SEC)CONCLUSION: ROW 7 OF THE BINLOG EVENTS SHOW THAT THE UPDATE WAS LOGGED.SUGGESTED FIX:THIS IS INCONSISTENT AS NO STATEMENT CHANGES ROWS BUT ONE IS LOGGED AND THE OTHER ONE ISNT. I THINK EITHER BOTH ARE LOGGED OR NON ARE.BINARY LOGGING BOTH ENTRIES IS PROBABLY SAFER TO COVER EDGE USER CASES AND HACKS LIKE THIS:MYSQL> UPDATE TBL SET COL = 1 WHERE @@SERVER_ID = 2; ","SUMMARY":"BUGU00A0#59338  INCONSISTENCY IN BINLOG FOR STATEMENTS THAT DONT CHANGE ANY ROWS STATEMENT SBR ","CLASS":1}
